/*! For license information please see main.8c79e928.js.LICENSE.txt */
(()=>{var __webpack_modules__={11(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const a=e[r],s=t(a);n.has(s)||n.set(s,a)}return Array.from(n.values())}},90(e,t,n){"use strict";n.d(t,{cn:()=>ye});var r=n(2004),a=n(9379);const s=function(){return{nextPart:arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,validators:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,classGroupId:arguments.length>2?arguments[2]:void 0}},i="-",l=[],o=e=>{const t=u(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return d(e);const n=e.split(i),r=""===n[0]&&n.length>1?1:0;return c(n,r,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=r[e],a=n[e];return t?a?((e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n})(a,t):t:a||l}return n[e]||l}}},c=(e,t,n)=>{if(0===e.length-t)return n.classGroupId;const r=e[t],a=n.nextPart.get(r);if(a){const n=c(e,t+1,a);if(n)return n}const s=n.validators;if(null===s)return;const l=0===t?e.join(i):e.slice(t).join(i),o=s.length;for(let i=0;i<o;i++){const e=s[i];if(e.validator(l))return e.classGroupId}},d=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?"arbitrary.."+r:void 0})(),u=e=>{const{theme:t,classGroups:n}=e;return m(n,t)},m=(e,t)=>{const n=s();for(const r in e){const a=e[r];h(a,n,r,t)}return n},h=(e,t,n,r)=>{const a=e.length;for(let s=0;s<a;s++){const a=e[s];p(a,t,n,r)}},p=(e,t,n,r)=>{"string"!==typeof e?"function"!==typeof e?g(e,t,n,r):x(e,t,n,r):f(e,t,n)},f=(e,t,n)=>{(""===e?t:v(t,e)).classGroupId=n},x=(e,t,n,r)=>{b(e)?h(e(r),t,n,r):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(n,e)))},g=(e,t,n,r)=>{const a=Object.entries(e),s=a.length;for(let i=0;i<s;i++){const[e,s]=a[i];h(s,v(t,e),n,r)}},v=(e,t)=>{let n=e;const r=t.split(i),a=r.length;for(let i=0;i<a;i++){const e=r[i];let t=n.nextPart.get(e);t||(t=s(),n.nextPart.set(e,t)),n=t}return n},b=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,y=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const a=(a,s)=>{n[a]=s,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(e){let t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(a(e,t),t):void 0},set(e,t){e in n?n[e]=t:a(e,t)}}},j=[],w=(e,t,n,r,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),N=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,a=0,s=0;const i=e.length;for(let d=0;d<i;d++){const i=e[d];if(0===r&&0===a){if(":"===i){t.push(e.slice(s,d)),s=d+1;continue}if("/"===i){n=d;continue}}"["===i?r++:"]"===i?r--:"("===i?a++:")"===i&&a--}const l=0===t.length?e:e.slice(s);let o=l,c=!1;l.endsWith("!")?(o=l.slice(0,-1),c=!0):l.startsWith("!")&&(o=l.slice(1),c=!0);return w(t,c,o,n&&n>s?n-s:void 0)};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.slice(e.length)):w(j,!1,t,void 0,!0)}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},k=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,n)=>{t.set(e,1e6+n)}),e=>{const n=[];let r=[];for(let a=0;a<e.length;a++){const s=e[a],i="["===s[0],l=t.has(s);i||l?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(s)):r.push(s)}return r.length>0&&(r.sort(),n.push(...r)),n}},A=/\s+/,_=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=_(e[r]))&&(n&&(n+=" "),n+=t);return n},C=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let s,i,l,c;const d=e=>{const t=i(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:s}=t,i=[],l=e.trim().split(A);let o="";for(let c=l.length-1;c>=0;c-=1){const e=l[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:h}=n(e);if(t){o=e+(o.length>0?" "+o:o);continue}let p=!!h,f=r(p?m.substring(0,h):m);if(!f){if(!p){o=e+(o.length>0?" "+o:o);continue}if(f=r(m),!f){o=e+(o.length>0?" "+o:o);continue}p=!1}const x=0===d.length?"":1===d.length?d[0]:s(d).join(":"),g=u?x+"!":x,v=g+f;if(i.indexOf(v)>-1)continue;i.push(v);const b=a(f,p);for(let n=0;n<b.length;++n){const e=b[n];i.push(g+e)}o=e+(o.length>0?" "+o:o)}return o})(e,s);return l(e,n),n};return c=t=>{const r=n.reduce((e,t)=>t(e),e());return s=(e=>(0,a.A)({cache:y(e.cacheSize),parseClassName:N(e),sortModifiers:k(e)},o(e)))(r),i=s.cache.get,l=s.cache.set,c=d,d(t)},function(){return c(function(){let e,t,n=0,r="";for(;n<arguments.length;){var a;(e=(a=n++)<0||arguments.length<=a?void 0:arguments[a])&&(t=_(e))&&(r&&(r+=" "),r+=t)}return r}(...arguments))}},S=[],E=e=>{const t=t=>t[e]||S;return t.isThemeGetter=!0,t},O=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,M=/^\((?:(\w[\w-]*):)?(.+)\)$/i,P=/^\d+\/\d+$/,T=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,R=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,L=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,z=e=>P.test(e),F=e=>!!e&&!Number.isNaN(Number(e)),B=e=>!!e&&Number.isInteger(Number(e)),U=e=>e.endsWith("%")&&F(e.slice(0,-1)),W=e=>T.test(e),H=()=>!0,q=e=>D.test(e)&&!I.test(e),K=()=>!1,V=e=>R.test(e),G=e=>L.test(e),$=e=>!Z(e)&&!ne(e),Y=e=>ce(e,he,K),Z=e=>O.test(e),Q=e=>ce(e,pe,q),J=e=>ce(e,fe,F),X=e=>ce(e,ue,K),ee=e=>ce(e,me,G),te=e=>ce(e,ge,V),ne=e=>M.test(e),re=e=>de(e,pe),ae=e=>de(e,xe),se=e=>de(e,ue),ie=e=>de(e,he),le=e=>de(e,me),oe=e=>de(e,ge,!0),ce=(e,t,n)=>{const r=O.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},de=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=M.exec(e);return!!r&&(r[1]?t(r[1]):n)},ue=e=>"position"===e||"percentage"===e,me=e=>"image"===e||"url"===e,he=e=>"length"===e||"size"===e||"bg-size"===e,pe=e=>"length"===e,fe=e=>"number"===e,xe=e=>"family-name"===e,ge=e=>"shadow"===e,ve=(Symbol.toStringTag,()=>{const e=E("color"),t=E("font"),n=E("text"),r=E("font-weight"),a=E("tracking"),s=E("leading"),i=E("breakpoint"),l=E("container"),o=E("spacing"),c=E("radius"),d=E("shadow"),u=E("inset-shadow"),m=E("text-shadow"),h=E("drop-shadow"),p=E("blur"),f=E("perspective"),x=E("aspect"),g=E("ease"),v=E("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",ne,Z],y=()=>[ne,Z,o],j=()=>[z,"full","auto",...y()],w=()=>[B,"none","subgrid",ne,Z],N=()=>["auto",{span:["full",B,ne,Z]},B,ne,Z],k=()=>[B,"auto",ne,Z],A=()=>["auto","min","max","fr",ne,Z],_=()=>["auto",...y()],C=()=>[z,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],S=()=>[e,ne,Z],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",se,X,{position:[ne,Z]}],M=()=>["auto","cover","contain",ie,Y,{size:[ne,Z]}],P=()=>[U,re,Q],T=()=>["","none","full",c,ne,Z],D=()=>["",F,re,Q],I=()=>[F,U,se,X],R=()=>["","none",p,ne,Z],L=()=>["none",F,ne,Z],q=()=>["none",F,ne,Z],K=()=>[F,ne,Z],V=()=>[z,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[W],breakpoint:[W],color:[H],container:[W],"drop-shadow":[W],ease:["in","out","in-out"],font:[$],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[W],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[W],shadow:[W],spacing:["px",F],text:[W],"text-shadow":[W],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",z,Z,ne,x]}],container:["container"],columns:[{columns:[F,Z,ne,l]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[B,"auto",ne,Z]}],basis:[{basis:[z,"full","auto",l,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[F,z,"auto","initial","none",Z]}],grow:[{grow:["",F,ne,Z]}],shrink:[{shrink:["",F,ne,Z]}],order:[{order:[B,"first","last","none",ne,Z]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[l,"screen",...C()]}],"min-w":[{"min-w":[l,"screen","none",...C()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",n,re,Q]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ne,J]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",U,Z]}],"font-family":[{font:[ae,Z,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ne,Z]}],"line-clamp":[{"line-clamp":[F,"none",ne,J]}],leading:[{leading:[s,...y()]}],"list-image":[{"list-image":["none",ne,Z]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ne,Z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:S()}],"text-color":[{text:S()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[F,"from-font","auto",ne,Q]}],"text-decoration-color":[{decoration:S()}],"underline-offset":[{"underline-offset":[F,"auto",ne,Z]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne,Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne,Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:O()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},B,ne,Z],radial:["",ne,Z],conic:[B,ne,Z]},le,ee]}],"bg-color":[{bg:S()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:S()}],"gradient-via":[{via:S()}],"gradient-to":[{to:S()}],rounded:[{rounded:T()}],"rounded-s":[{"rounded-s":T()}],"rounded-e":[{"rounded-e":T()}],"rounded-t":[{"rounded-t":T()}],"rounded-r":[{"rounded-r":T()}],"rounded-b":[{"rounded-b":T()}],"rounded-l":[{"rounded-l":T()}],"rounded-ss":[{"rounded-ss":T()}],"rounded-se":[{"rounded-se":T()}],"rounded-ee":[{"rounded-ee":T()}],"rounded-es":[{"rounded-es":T()}],"rounded-tl":[{"rounded-tl":T()}],"rounded-tr":[{"rounded-tr":T()}],"rounded-br":[{"rounded-br":T()}],"rounded-bl":[{"rounded-bl":T()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:S()}],"border-color-x":[{"border-x":S()}],"border-color-y":[{"border-y":S()}],"border-color-s":[{"border-s":S()}],"border-color-e":[{"border-e":S()}],"border-color-t":[{"border-t":S()}],"border-color-r":[{"border-r":S()}],"border-color-b":[{"border-b":S()}],"border-color-l":[{"border-l":S()}],"divide-color":[{divide:S()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[F,ne,Z]}],"outline-w":[{outline:["",F,re,Q]}],"outline-color":[{outline:S()}],shadow:[{shadow:["","none",d,oe,te]}],"shadow-color":[{shadow:S()}],"inset-shadow":[{"inset-shadow":["none",u,oe,te]}],"inset-shadow-color":[{"inset-shadow":S()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:S()}],"ring-offset-w":[{"ring-offset":[F,Q]}],"ring-offset-color":[{"ring-offset":S()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":S()}],"text-shadow":[{"text-shadow":["none",m,oe,te]}],"text-shadow-color":[{"text-shadow":S()}],opacity:[{opacity:[F,ne,Z]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[F]}],"mask-image-linear-from-pos":[{"mask-linear-from":I()}],"mask-image-linear-to-pos":[{"mask-linear-to":I()}],"mask-image-linear-from-color":[{"mask-linear-from":S()}],"mask-image-linear-to-color":[{"mask-linear-to":S()}],"mask-image-t-from-pos":[{"mask-t-from":I()}],"mask-image-t-to-pos":[{"mask-t-to":I()}],"mask-image-t-from-color":[{"mask-t-from":S()}],"mask-image-t-to-color":[{"mask-t-to":S()}],"mask-image-r-from-pos":[{"mask-r-from":I()}],"mask-image-r-to-pos":[{"mask-r-to":I()}],"mask-image-r-from-color":[{"mask-r-from":S()}],"mask-image-r-to-color":[{"mask-r-to":S()}],"mask-image-b-from-pos":[{"mask-b-from":I()}],"mask-image-b-to-pos":[{"mask-b-to":I()}],"mask-image-b-from-color":[{"mask-b-from":S()}],"mask-image-b-to-color":[{"mask-b-to":S()}],"mask-image-l-from-pos":[{"mask-l-from":I()}],"mask-image-l-to-pos":[{"mask-l-to":I()}],"mask-image-l-from-color":[{"mask-l-from":S()}],"mask-image-l-to-color":[{"mask-l-to":S()}],"mask-image-x-from-pos":[{"mask-x-from":I()}],"mask-image-x-to-pos":[{"mask-x-to":I()}],"mask-image-x-from-color":[{"mask-x-from":S()}],"mask-image-x-to-color":[{"mask-x-to":S()}],"mask-image-y-from-pos":[{"mask-y-from":I()}],"mask-image-y-to-pos":[{"mask-y-to":I()}],"mask-image-y-from-color":[{"mask-y-from":S()}],"mask-image-y-to-color":[{"mask-y-to":S()}],"mask-image-radial":[{"mask-radial":[ne,Z]}],"mask-image-radial-from-pos":[{"mask-radial-from":I()}],"mask-image-radial-to-pos":[{"mask-radial-to":I()}],"mask-image-radial-from-color":[{"mask-radial-from":S()}],"mask-image-radial-to-color":[{"mask-radial-to":S()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[F]}],"mask-image-conic-from-pos":[{"mask-conic-from":I()}],"mask-image-conic-to-pos":[{"mask-conic-to":I()}],"mask-image-conic-from-color":[{"mask-conic-from":S()}],"mask-image-conic-to-color":[{"mask-conic-to":S()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:O()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ne,Z]}],filter:[{filter:["","none",ne,Z]}],blur:[{blur:R()}],brightness:[{brightness:[F,ne,Z]}],contrast:[{contrast:[F,ne,Z]}],"drop-shadow":[{"drop-shadow":["","none",h,oe,te]}],"drop-shadow-color":[{"drop-shadow":S()}],grayscale:[{grayscale:["",F,ne,Z]}],"hue-rotate":[{"hue-rotate":[F,ne,Z]}],invert:[{invert:["",F,ne,Z]}],saturate:[{saturate:[F,ne,Z]}],sepia:[{sepia:["",F,ne,Z]}],"backdrop-filter":[{"backdrop-filter":["","none",ne,Z]}],"backdrop-blur":[{"backdrop-blur":R()}],"backdrop-brightness":[{"backdrop-brightness":[F,ne,Z]}],"backdrop-contrast":[{"backdrop-contrast":[F,ne,Z]}],"backdrop-grayscale":[{"backdrop-grayscale":["",F,ne,Z]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[F,ne,Z]}],"backdrop-invert":[{"backdrop-invert":["",F,ne,Z]}],"backdrop-opacity":[{"backdrop-opacity":[F,ne,Z]}],"backdrop-saturate":[{"backdrop-saturate":[F,ne,Z]}],"backdrop-sepia":[{"backdrop-sepia":["",F,ne,Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ne,Z]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[F,"initial",ne,Z]}],ease:[{ease:["linear","initial",g,ne,Z]}],delay:[{delay:[F,ne,Z]}],animate:[{animate:["none",v,ne,Z]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,ne,Z]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:L()}],"rotate-x":[{"rotate-x":L()}],"rotate-y":[{"rotate-y":L()}],"rotate-z":[{"rotate-z":L()}],scale:[{scale:q()}],"scale-x":[{"scale-x":q()}],"scale-y":[{"scale-y":q()}],"scale-z":[{"scale-z":q()}],"scale-3d":["scale-3d"],skew:[{skew:K()}],"skew-x":[{"skew-x":K()}],"skew-y":[{"skew-y":K()}],transform:[{transform:[ne,Z,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:V()}],"translate-x":[{"translate-x":V()}],"translate-y":[{"translate-y":V()}],"translate-z":[{"translate-z":V()}],"translate-none":["translate-none"],accent:[{accent:S()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:S()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne,Z]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne,Z]}],fill:[{fill:["none",...S()]}],"stroke-w":[{stroke:[F,re,Q,J]}],stroke:[{stroke:["none",...S()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),be=C(ve);function ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return be((0,r.$)(t))}},225(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},621(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},759(e,t,n){"use strict";var r=n(9950);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useState,i=r.useEffect,l=r.useLayoutEffect,o=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),a=r[0].inst,d=r[1];return l(function(){a.value=n,a.getSnapshot=t,c(a)&&d({inst:a})},[e,n,t]),i(function(){return c(a)&&d({inst:a}),e(function(){c(a)&&d({inst:a})})},[e]),o(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},830(e,t,n){e.exports=n(5497).sortBy},903(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},1047(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},1083(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},1085(e,t,n){"use strict";var r=n(5340),a=n(9950),s=n(7119);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(i(188))}function m(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=m(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),j=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var E=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}var M=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===M?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case x:return"Portal";case j:return e.displayName||"Context";case y:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var T=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},L=[],z=-1;function F(e){return{current:e}}function B(e){0>z||(e.current=L[z],L[z]=null,z--)}function U(e,t){z++,L[z]=e.current,e.current=t}var W,H,q=F(null),K=F(null),V=F(null),G=F(null);function $(e,t){switch(U(V,t),U(K,e),U(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vu(t=gu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(q),U(q,e)}function Y(){B(q),B(K),B(V)}function Z(e){null!==e.memoizedState&&U(G,e);var t=q.current,n=vu(t,e.type);t!==n&&(U(K,e),U(q,n))}function Q(e){K.current===e&&(B(q),B(K)),G.current===e&&(B(G),dm._currentValue=R)}function J(e){if(void 0===W)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+W+e+H}var X=!1;function ee(e,t){if(!e||X)return"";X=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&r&&"string"===typeof l.stack)return[l.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],l=s[1];if(i&&l){var o=i.split("\n"),c=l.split("\n");for(a=r=0;r<o.length&&!o[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===o.length||a===c.length)for(r=o.length-1,a=c.length-1;1<=r&&0<=a&&o[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(o[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||o[r]!==c[a]){var d="\n"+o[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=a);break}}}finally{X=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ae=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ie=r.unstable_shouldYield,le=r.unstable_requestPaint,oe=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,de=r.unstable_ImmediatePriority,ue=r.unstable_UserBlockingPriority,me=r.unstable_NormalPriority,he=r.unstable_LowPriority,pe=r.unstable_IdlePriority,fe=r.log,xe=r.unstable_setDisableYieldValue,ge=null,ve=null;function be(e){if("function"===typeof fe&&xe(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ge,e)}catch(t){}}var ye=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/we|0)|0},je=Math.log,we=Math.LN2;var Ne=256,ke=262144,Ae=4194304;function _e(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var l=134217727&r;return 0!==l?0!==(r=l&~s)?a=_e(r):0!==(i&=l)?a=_e(i):n||0!==(n=l&~e)&&(a=_e(n)):0!==(l=r&~s)?a=_e(l):0!==i?a=_e(i):n||0!==(n=r&~e)&&(a=_e(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:a}function Se(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Oe(){var e=Ae;return 0===(62914560&(Ae<<=1))&&(Ae=4194304),e}function Me(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ye(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ye(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Ie(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Re(n))&(e.suspendedLanes|t))?0:n}function Re(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:_m(e.type)}function Fe(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var Be=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Be,We="__reactProps$"+Be,He="__reactContainer$"+Be,qe="__reactEvents$"+Be,Ke="__reactListeners$"+Be,Ve="__reactHandles$"+Be,Ge="__reactResources$"+Be,$e="__reactMarker$"+Be;function Ye(e){delete e[Ue],delete e[We],delete e[qe],delete e[Ke],delete e[Ve]}function Ze(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ru(e);null!==e;){if(n=e[Ue])return n;e=Ru(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[Ue]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Xe(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[$e]=!0}var tt=new Set,nt={};function rt(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},lt={};function ot(e,t,n){if(a=t,re.call(lt,a)||!re.call(it,a)&&(st.test(a)?lt[a]=!0:(it[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function dt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function mt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=mt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var xt=/[\n"\\]/g;function gt(e){return e.replace(xt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,a,s,i,l){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?yt(e,i,ut(t)):null!=n?yt(e,i,ut(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.name=""+ut(l):e.removeAttribute("name")}function bt(e,t,n,r,a,s,i,l){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ht(e);n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=l?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),ht(e)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function jt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Nt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(T(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ht(e)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var At=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||At.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&_t(e,a,r)}else for(var s in t)t.hasOwnProperty(s)&&_t(e,s,t[s])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mt(e){return Ot.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var Tt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Rt=null;function Lt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[We]||null;if(!a)throw Error(i(90));vt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&jt(e,!!n.multiple,t,!1)}}}var zt=!1;function Ft(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==It||null!==Rt)&&(Xc(),It&&(t=It,e=Rt,Rt=It=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[We]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wt=!1;if(Ut)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Qm){Wt=!1}var qt=null,Kt=null,Vt=null;function Gt(){if(Vt)return Vt;var e,t,n=Kt,r=n.length,a="value"in qt?qt.value:qt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Vt=a.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Zt(){return!1}function Qt(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Yt:Zt,this.isPropagationStopped=Zt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Jt,Xt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Qt(tn),rn=h({},tn,{view:0,detail:0}),an=Qt(rn),sn=h({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Xt=e.screenY-en.screenY):Xt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),ln=Qt(sn),on=Qt(h({},sn,{dataTransfer:0})),cn=Qt(h({},rn,{relatedTarget:0})),dn=Qt(h({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Qt(h({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),mn=Qt(h({},tn,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function gn(){return xn}var vn=Qt(h({},rn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Qt(h({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Qt(h({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),jn=Qt(h({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Qt(h({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nn=Qt(h({},tn,{newState:0,oldState:0})),kn=[9,13,27,32],An=Ut&&"CompositionEvent"in window,_n=null;Ut&&"documentMode"in document&&(_n=document.documentMode);var Cn=Ut&&"TextEvent"in window&&!_n,Sn=Ut&&(!An||_n&&8<_n&&11>=_n),En=String.fromCharCode(32),On=!1;function Mn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function Rn(e,t,n,r){It?Rt?Rt.push(r):Rt=[r]:It=r,0<(t=ru(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,zn=null;function Fn(e){Yd(e,0)}function Bn(e){if(pt(Je(e)))return e}function Un(e,t){if("change"===e)return t}var Wn=!1;if(Ut){var Hn;if(Ut){var qn="oninput"in document;if(!qn){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),qn="function"===typeof Kn.oninput}Hn=qn}else Hn=!1;Wn=Hn&&(!document.documentMode||9<document.documentMode)}function Vn(){Ln&&(Ln.detachEvent("onpropertychange",Gn),zn=Ln=null)}function Gn(e){if("value"===e.propertyName&&Bn(zn)){var t=[];Rn(t,zn,e,Dt(e)),Ft(Fn,t)}}function $n(e,t,n){"focusin"===e?(Vn(),zn=n,(Ln=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Vn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(zn)}function Zn(e,t){if("click"===e)return Bn(t)}function Qn(e,t){if("input"===e||"change"===e)return Bn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!re.call(t,a)||!Jn(e[a],t[a]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=Ut&&"documentMode"in document&&11>=document.documentMode,ir=null,lr=null,or=null,cr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ir||ir!==ft(r)||("selectionStart"in(r=ir)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Xn(or,r)||(or=r,0<(r=ru(lr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},pr={};function fr(e){if(hr[e])return hr[e];if(!mr[e])return e;var t,n=mr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return hr[e]=n[t];return e}Ut&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);var xr=fr("animationend"),gr=fr("animationiteration"),vr=fr("animationstart"),br=fr("transitionrun"),yr=fr("transitionstart"),jr=fr("transitioncancel"),wr=fr("transitionend"),Nr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Nr.set(e,t),rt(t,[e])}kr.push("scrollEnd");var _r="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cr=[],Sr=0,Er=0;function Or(){for(var e=Sr,t=Er=Sr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var a=Cr[t];Cr[t++]=null;var s=Cr[t];if(Cr[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==s&&Dr(n,a,s)}}function Mr(e,t,n,r){Cr[Sr++]=e,Cr[Sr++]=t,Cr[Sr++]=n,Cr[Sr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Mr(e,t,n,r),Ir(e)}function Tr(e,t){return Mr(e,null,null,t),Ir(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-ye(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function Ir(e){if(50<qc)throw qc=0,Kc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,r,a,s){var l=0;if(r=e,"function"===typeof e)Fr(e)&&(l=1);else if("string"===typeof e)l=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=zr(31,n,t,a)).elementType=C,e.lanes=s,e;case g:return Hr(n.children,a,s,t);case v:l=8,a|=24;break;case b:return(e=zr(12,n,t,2|a)).elementType=b,e.lanes=s,e;case N:return(e=zr(13,n,t,a)).elementType=N,e.lanes=s,e;case k:return(e=zr(19,n,t,a)).elementType=k,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:l=10;break e;case y:l=9;break e;case w:l=11;break e;case A:l=14;break e;case _:l=16,r=null;break e}l=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=zr(l,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Hr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Kr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Vr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function $r(e,t){if("object"===typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Zr=0,Qr=null,Jr=0,Xr=[],ea=0,ta=null,na=1,ra="";function aa(e,t){Yr[Zr++]=Jr,Yr[Zr++]=Qr,Qr=e,Jr=t}function sa(e,t,n){Xr[ea++]=na,Xr[ea++]=ra,Xr[ea++]=ta,ta=e;var r=na;e=ra;var a=32-ye(r)-1;r&=~(1<<a),n+=1;var s=32-ye(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,na=1<<32-ye(t)+a|n<<a|r,ra=s+e}else na=1<<s|n<<a|r,ra=e}function ia(e){null!==e.return&&(aa(e,1),sa(e,1,0))}function la(e){for(;e===Qr;)Qr=Yr[--Zr],Yr[Zr]=null,Jr=Yr[--Zr],Yr[Zr]=null;for(;e===ta;)ta=Xr[--ea],Xr[ea]=null,ra=Xr[--ea],Xr[ea]=null,na=Xr[--ea],Xr[ea]=null}function oa(e,t){Xr[ea++]=na,Xr[ea++]=ra,Xr[ea++]=ta,na=t.id,ra=t.overflow,ta=e}var ca=null,da=null,ua=!1,ma=null,ha=!1,pa=Error(i(519));function fa(e){throw ja($r(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pa}function xa(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[We]=r,n){case"dialog":Zd("cancel",t),Zd("close",t);break;case"iframe":case"object":case"embed":Zd("load",t);break;case"video":case"audio":for(n=0;n<Gd.length;n++)Zd(Gd[n],t);break;case"source":Zd("error",t);break;case"img":case"image":case"link":Zd("error",t),Zd("load",t);break;case"details":Zd("toggle",t);break;case"input":Zd("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Zd("invalid",t);break;case"textarea":Zd("invalid",t),Nt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cu(t.textContent,n)?(null!=r.popover&&(Zd("beforetoggle",t),Zd("toggle",t)),null!=r.onScroll&&Zd("scroll",t),null!=r.onScrollEnd&&Zd("scrollend",t),null!=r.onClick&&(t.onclick=Pt),t=!0):t=!1,t||fa(e,!0)}function ga(e){for(ca=e.return;ca;)switch(ca.tag){case 5:case 31:case 13:return void(ha=!1);case 27:case 3:return void(ha=!0);default:ca=ca.return}}function va(e){if(e!==ca)return!1;if(!ua)return ga(e),ua=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bu(e.type,e.memoizedProps)),t=!t),t&&da&&fa(e),ga(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));da=Iu(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));da=Iu(e)}else 27===n?(n=da,_u(e.type)?(e=Du,Du=null,da=e):da=n):da=ca?Tu(e.stateNode.nextSibling):null;return!0}function ba(){da=ca=null,ua=!1}function ya(){var e=ma;return null!==e&&(null===Oc?Oc=e:Oc.push.apply(Oc,e),ma=null),e}function ja(e){null===ma?ma=[e]:ma.push(e)}var wa=F(null),Na=null,ka=null;function Aa(e,t,n){U(wa,t._currentValue),t._currentValue=n}function _a(e){e._currentValue=wa.current,B(wa)}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var l=a.child;s=s.firstContext;e:for(;null!==s;){var o=s;s=a;for(var c=0;c<t.length;c++)if(o.context===t[c]){s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Ca(s.return,n,e),r||(l=null);break e}s=o.next}}else if(18===a.tag){if(null===(l=a.return))throw Error(i(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),Ca(l,n,e),l=null}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}}function Ea(e,t,n,r){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(0!==(524288&a.flags))s=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var l=a.alternate;if(null===l)throw Error(i(387));if(null!==(l=l.memoizedProps)){var o=a.type;Jn(a.pendingProps.value,l.value)||(null!==e?e.push(o):e=[o])}}else if(a===G.current){if(null===(l=a.alternate))throw Error(i(387));l.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(dm):e=[dm])}a=a.return}null!==e&&Sa(t,e,n,r),t.flags|=262144}function Oa(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ma(e){Na=e,ka=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pa(e){return Da(Na,e)}function Ta(e,t){return null===Na&&Ma(e),Da(e,t)}function Da(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ka){if(null===e)throw Error(i(308));ka=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ka=ka.next=t;return n}var Ia="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ra=r.unstable_scheduleCallback,La=r.unstable_NormalPriority,za={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fa(){return{controller:new Ia,data:new Map,refCount:0}}function Ba(e){e.refCount--,0===e.refCount&&Ra(La,function(){e.controller.abort()})}var Ua=null,Wa=0,Ha=0,qa=null;function Ka(){if(0===--Wa&&null!==Ua){null!==qa&&(qa.status="fulfilled");var e=Ua;Ua=null,Ha=0,qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Va=D.S;D.S=function(e,t){Tc=oe(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ua){var n=Ua=[];Wa=0,Ha=Wd(),qa={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wa++,t.then(Ka,Ka)}(0,t),null!==Va&&Va(e,t)};var Ga=F(null);function $a(){var e=Ga.current;return null!==e?e:pc.pooledCache}function Ya(e,t){U(Ga,null===t?Ga.current:t.pool)}function Za(){var e=$a();return null===e?null:{parent:za._currentValue,pool:e}}var Qa=Error(i(460)),Ja=Error(i(474)),Xa=Error(i(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw is(e=t.reason),e;default:if("string"===typeof t.status)t.then(Pt,Pt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw is(e=t.reason),e}throw as=t,Qa}}function rs(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw as=t,Qa;throw t}}var as=null;function ss(){if(null===as)throw Error(i(459));var e=as;return as=null,e}function is(e){if(e===Qa||e===Xa)throw Error(i(483))}var ls=null,os=0;function cs(e){var t=os;return os+=1,null===ls&&(ls=[]),ns(ls,e,t)}function ds(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function us(e,t){if(t.$$typeof===p)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ms(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===g?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===_&&rs(s)===t.type)?(ds(t=a(t,n.props),n),t.return=e,t):(ds(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return ds(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case x:return(t=Vr(t,e.mode,n)).return=e,t;case _:return m(e,t=rs(t),n)}if(T(t)||O(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,cs(t),n);if(t.$$typeof===j)return m(e,Ta(e,t),n);us(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:o(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===a?c(e,t,n,r):null;case x:return n.key===a?d(e,t,n,r):null;case _:return h(e,t,n=rs(n),r)}if(T(n)||O(n))return null!==a?null:u(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,cs(n),r);if(n.$$typeof===j)return h(e,t,Ta(e,n),r);us(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return o(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case x:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case _:return p(e,t,n,r=rs(r),a)}if(T(r)||O(r))return u(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return p(e,t,n,cs(r),a);if(r.$$typeof===j)return p(e,t,n,Ta(t,r),a);us(t,r)}return null}function v(o,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===g){if(7===c.tag){n(o,c.sibling),(u=a(c,d.props.children)).return=o,o=u;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&rs(b)===c.type){n(o,c.sibling),ds(u=a(c,d.props),d),u.return=o,o=u;break e}n(o,c);break}t(o,c),c=c.sibling}d.type===g?((u=Hr(d.props.children,o.mode,u,d.key)).return=o,o=u):(ds(u=Wr(d.type,d.key,d.props,null,o.mode,u),d),u.return=o,o=u)}return l(o);case x:e:{for(b=d.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(o,c.sibling),(u=a(c,d.children||[])).return=o,o=u;break e}n(o,c);break}t(o,c),c=c.sibling}(u=Vr(d,o.mode,u)).return=o,o=u}return l(o);case _:return v(o,c,d=rs(d),u)}if(T(d))return function(a,i,l,o){for(var c=null,d=null,u=i,f=i=0,x=null;null!==u&&f<l.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=h(a,u,l[f],o);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(a,u),i=s(g,i,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===l.length)return n(a,u),ua&&aa(a,f),c;if(null===u){for(;f<l.length;f++)null!==(u=m(a,l[f],o))&&(i=s(u,i,f),null===d?c=u:d.sibling=u,d=u);return ua&&aa(a,f),c}for(u=r(u);f<l.length;f++)null!==(x=p(u,a,f,l[f],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),i=s(x,i,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(a,e)}),ua&&aa(a,f),c}(o,c,d,u);if(O(d)){if("function"!==typeof(b=O(d)))throw Error(i(150));return function(a,l,o,c){if(null==o)throw Error(i(151));for(var d=null,u=null,f=l,x=l=0,g=null,v=o.next();null!==f&&!v.done;x++,v=o.next()){f.index>x?(g=f,f=null):g=f.sibling;var b=h(a,f,v.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(a,f),l=s(b,l,x),null===u?d=b:u.sibling=b,u=b,f=g}if(v.done)return n(a,f),ua&&aa(a,x),d;if(null===f){for(;!v.done;x++,v=o.next())null!==(v=m(a,v.value,c))&&(l=s(v,l,x),null===u?d=v:u.sibling=v,u=v);return ua&&aa(a,x),d}for(f=r(f);!v.done;x++,v=o.next())null!==(v=p(f,a,x,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?x:v.key),l=s(v,l,x),null===u?d=v:u.sibling=v,u=v);return e&&f.forEach(function(e){return t(a,e)}),ua&&aa(a,x),d}(o,c,d=b.call(d),u)}if("function"===typeof d.then)return v(o,c,cs(d),u);if(d.$$typeof===j)return v(o,c,Ta(o,d),u);us(o,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(o,c.sibling),(u=a(c,d)).return=o,o=u):(n(o,c),(u=qr(d,o.mode,u)).return=o,o=u),l(o)):n(o,c)}return function(e,t,n,r){try{os=0;var a=v(e,t,n,r);return ls=null,a}catch(i){if(i===Qa||i===Xa)throw i;var s=zr(29,i,null,e.mode);return s.lanes=r,s.return=e,s}}}var hs=ms(!0),ps=ms(!1),fs=!1;function xs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&hc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Ir(e),Dr(e,null,n),t}return Mr(e,r,t,n),Ir(e)}function ys(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function js(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ws=!1;function Ns(){if(ws){if(null!==qa)throw qa}}function ks(e,t,n,r){ws=!1;var a=e.updateQueue;fs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?s=c:i.next=c,i=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=a.baseState;for(i=0,d=c=o=null,l=s;;){var m=-536870913&l.lane,p=m!==l.lane;if(p?(xc&m)===m:(r&m)===m){0!==m&&m===Ha&&(ws=!0),null!==d&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var f=e,x=l;m=t;var g=n;switch(x.tag){case 1:if("function"===typeof(f=x.payload)){u=f.call(g,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=x.payload)?f.call(g,u,m):f)||void 0===m)break e;u=h({},u,m);break e;case 2:fs=!0}}null!==(m=l.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[m]:p.push(m))}else p={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,i|=m;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(p=l).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===d&&(o=u),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null===s&&(a.shared.lanes=0),kc|=i,e.lanes=i,e.memoizedState=u}}function As(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function _s(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)As(n[e],t)}var Cs=F(null),Ss=F(0);function Es(e,t){U(Ss,e=wc),U(Cs,t),wc=e|t.baseLanes}function Os(){U(Ss,wc),U(Cs,Cs.current)}function Ms(){wc=Ss.current,B(Cs),B(Ss)}var Ps=F(null),Ts=null;function Ds(e){var t=e.alternate;U(Fs,1&Fs.current),U(Ps,e),null===Ts&&(null===t||null!==Cs.current||null!==t.memoizedState)&&(Ts=e)}function Is(e){U(Fs,Fs.current),U(Ps,e),null===Ts&&(Ts=e)}function Rs(e){22===e.tag?(U(Fs,Fs.current),U(Ps,e),null===Ts&&(Ts=e)):Ls()}function Ls(){U(Fs,Fs.current),U(Ps,Ps.current)}function zs(e){B(Ps),Ts===e&&(Ts=null),B(Fs)}var Fs=F(0);function Bs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Mu(n)||Pu(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Us=0,Ws=null,Hs=null,qs=null,Ks=!1,Vs=!1,Gs=!1,$s=0,Ys=0,Zs=null,Qs=0;function Js(){throw Error(i(321))}function Xs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ei(e,t,n,r,a,s){return Us=s,Ws=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?fl:xl,Gs=!1,s=n(r,a),Gs=!1,Vs&&(s=ni(t,n,r,a)),ti(e),s}function ti(e){D.H=pl;var t=null!==Hs&&null!==Hs.next;if(Us=0,qs=Hs=Ws=null,Ks=!1,Ys=0,Zs=null,t)throw Error(i(300));null===e||Pl||null!==(e=e.dependencies)&&Oa(e)&&(Pl=!0)}function ni(e,t,n,r){Ws=e;var a=0;do{if(Vs&&(Zs=null),Ys=0,Vs=!1,25<=a)throw Error(i(301));if(a+=1,qs=Hs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}D.H=gl,s=t(n,r)}while(Vs);return s}function ri(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?ci(t):t,e=e.useState()[0],(null!==Hs?Hs.memoizedState:null)!==e&&(Ws.flags|=1024),t}function ai(){var e=0!==$s;return $s=0,e}function si(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ii(e){if(Ks){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ks=!1}Us=0,qs=Hs=Ws=null,Vs=!1,Ys=$s=0,Zs=null}function li(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qs?Ws.memoizedState=qs=e:qs=qs.next=e,qs}function oi(){if(null===Hs){var e=Ws.alternate;e=null!==e?e.memoizedState:null}else e=Hs.next;var t=null===qs?Ws.memoizedState:qs.next;if(null!==t)qs=t,Hs=e;else{if(null===e){if(null===Ws.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Hs=e).memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},null===qs?Ws.memoizedState=qs=e:qs=qs.next=e}return qs}function ci(e){var t=Ys;return Ys+=1,null===Zs&&(Zs=[]),e=ns(Zs,e,t),t=Ws,null===(null===qs?t.memoizedState:qs.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?fl:xl),e}function di(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ci(e);if(e.$$typeof===j)return Pa(e)}throw Error(i(438,String(e)))}function ui(e){var t=null,n=Ws.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ws.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function mi(e,t){return"function"===typeof t?t(e):t}function hi(e){return pi(oi(),Hs,e)}function pi(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,s=r.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}t.baseQueue=a=s,r.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var o=l=null,c=null,d=t=a.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(xc&m)===m:(Us&m)===m){var h=d.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Ha&&(u=!0);else{if((Us&h)===h){d=d.next,h===Ha&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=m,l=s):c=c.next=m,Ws.lanes|=h,kc|=h}m=d.action,Gs&&n(s,m),s=d.hasEagerState?d.eagerState:n(s,m)}else h={lane:m,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=h,l=s):c=c.next=h,Ws.lanes|=m,kc|=m;d=d.next}while(null!==d&&d!==t);if(null===c?l=s:c.next=o,!Jn(s,e.memoizedState)&&(Pl=!0,u&&null!==(n=qa)))throw n;e.memoizedState=s,e.baseState=l,e.baseQueue=c,r.lastRenderedState=s}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function fi(e){var t=oi(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{s=e(s,l.action),l=l.next}while(l!==a);Jn(s,t.memoizedState)||(Pl=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xi(e,t,n){var r=Ws,a=oi(),s=ua;if(s){if(void 0===n)throw Error(i(407));n=n()}else n=t();var l=!Jn((Hs||a).memoizedState,n);if(l&&(a.memoizedState=n,Pl=!0),a=a.queue,Ui(bi.bind(null,r,a,e),[e]),a.getSnapshot!==t||l||null!==qs&&1&qs.memoizedState.tag){if(r.flags|=2048,Ri(9,{destroy:void 0},vi.bind(null,r,a,n,t),null),null===pc)throw Error(i(349));s||0!==(127&Us)||gi(r,t,n)}return n}function gi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ws.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function vi(e,t,n,r){t.value=n,t.getSnapshot=r,yi(t)&&ji(e)}function bi(e,t,n){return n(function(){yi(t)&&ji(e)})}function yi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function ji(e){var t=Tr(e,2);null!==t&&$c(t,e,2)}function wi(e){var t=li();if("function"===typeof e){var n=e;if(e=n(),Gs){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:e},t}function Ni(e,t,n,r){return e.baseState=n,pi(e,Hs,"function"===typeof r?r:mi)}function ki(e,t,n,r,a){if(ul(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==D.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Ai(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Ai(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=D.T,i={};D.T=i;try{var l=n(a,r),o=D.S;null!==o&&o(i,l),_i(e,t,l)}catch(c){Si(e,t,c)}finally{null!==s&&null!==i.types&&(s.types=i.types),D.T=s}}else try{_i(e,t,s=n(a,r))}catch(d){Si(e,t,d)}}function _i(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ci(e,t,n)},function(n){return Si(e,t,n)}):Ci(e,t,n)}function Ci(e,t,n){t.status="fulfilled",t.value=n,Ei(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ai(e,n)))}function Si(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ei(t),t=t.next}while(t!==r)}e.action=null}function Ei(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Oi(e,t){return t}function Mi(e,t){if(ua){var n=pc.formState;if(null!==n){e:{var r=Ws;if(ua){if(da){t:{for(var a=da,s=ha;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=Tu(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){da=Tu(a.nextSibling),r="F!"===a.data;break e}}fa(r)}r=!1}r&&(t=n[0])}}return(n=li()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},n.queue=r,n=ol.bind(null,Ws,r),r.dispatch=n,r=wi(!1),s=dl.bind(null,Ws,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=li()).queue=a,n=ki.bind(null,Ws,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Pi(e){return Ti(oi(),Hs,e)}function Ti(e,t,n){if(t=pi(e,t,Oi)[0],e=hi(mi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ci(t)}catch(i){if(i===Qa)throw Xa;throw i}else r=t;var a=(t=oi()).queue,s=a.dispatch;return n!==t.memoizedState&&(Ws.flags|=2048,Ri(9,{destroy:void 0},Di.bind(null,a,n),null)),[r,s,e]}function Di(e,t){e.action=t}function Ii(e){var t=oi(),n=Hs;if(null!==n)return Ti(t,n,e);oi(),t=t.memoizedState;var r=(n=oi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ri(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ws.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Li(){return oi().memoizedState}function zi(e,t,n,r){var a=li();Ws.flags|=e,a.memoizedState=Ri(1|t,{destroy:void 0},n,void 0===r?null:r)}function Fi(e,t,n,r){var a=oi();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==Hs&&null!==r&&Xs(r,Hs.memoizedState.deps)?a.memoizedState=Ri(t,s,n,r):(Ws.flags|=e,a.memoizedState=Ri(1|t,s,n,r))}function Bi(e,t){zi(8390656,8,e,t)}function Ui(e,t){Fi(2048,8,e,t)}function Wi(e){var t=oi().memoizedState;return function(e){Ws.flags|=4;var t=Ws.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&hc))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Hi(e,t){return Fi(4,2,e,t)}function qi(e,t){return Fi(4,4,e,t)}function Ki(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Vi(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fi(4,4,Ki.bind(null,t,e),n)}function Gi(){}function $i(e,t){var n=oi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Xs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yi(e,t){var n=oi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Xs(t,r[1]))return r[0];if(r=e(),Gs){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Zi(e,t,n){return void 0===n||0!==(1073741824&Us)&&0===(261930&xc)?e.memoizedState=t:(e.memoizedState=n,e=Gc(),Ws.lanes|=e,kc|=e,n)}function Qi(e,t,n,r){return Jn(n,t)?n:null!==Cs.current?(e=Zi(e,n,r),Jn(e,t)||(Pl=!0),e):0===(42&Us)||0!==(1073741824&Us)&&0===(261930&xc)?(Pl=!0,e.memoizedState=n):(e=Gc(),Ws.lanes|=e,kc|=e,t)}function Ji(e,t,n,r,a){var s=I.p;I.p=0!==s&&8>s?s:8;var i=D.T,l={};D.T=l,dl(e,!1,t,n);try{var o=a(),c=D.S;if(null!==c&&c(l,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)cl(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(o,r),Vc());else cl(e,t,r,Vc())}catch(d){cl(e,t,{then:function(){},status:"rejected",reason:d},Vc())}finally{I.p=s,null!==i&&null!==l.types&&(i.types=l.types),D.T=i}}function Xi(){}function el(e,t,n,r){if(5!==e.tag)throw Error(i(476));var a=tl(e).queue;Ji(e,a,t,R,null===n?Xi:function(){return nl(e),n(r)})}function tl(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function nl(e){var t=tl(e);null===t.next&&(t=e.alternate.memoizedState),cl(e,t.next.queue,{},Vc())}function rl(){return Pa(dm)}function al(){return oi().memoizedState}function sl(){return oi().memoizedState}function il(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Vc(),r=bs(t,e=vs(n),n);return null!==r&&($c(r,t,n),ys(r,t,n)),t={cache:Fa()},void(e.payload=t)}t=t.return}}function ll(e,t,n){var r=Vc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ul(e)?ml(t,n):null!==(n=Pr(e,t,n,r))&&($c(n,e,r),hl(n,t,r))}function ol(e,t,n){cl(e,t,n,Vc())}function cl(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ul(e))ml(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,n);if(a.hasEagerState=!0,a.eagerState=l,Jn(l,i))return Mr(e,t,a,0),null===pc&&Or(),!1}catch(o){}if(null!==(n=Pr(e,t,a,r)))return $c(n,e,r),hl(n,t,r),!0}return!1}function dl(e,t,n,r){if(r={lane:2,revertLane:Wd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ul(e)){if(t)throw Error(i(479))}else null!==(t=Pr(e,n,r,2))&&$c(t,e,2)}function ul(e){var t=e.alternate;return e===Ws||null!==t&&t===Ws}function ml(e,t){Vs=Ks=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hl(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var pl={readContext:Pa,use:di,useCallback:Js,useContext:Js,useEffect:Js,useImperativeHandle:Js,useLayoutEffect:Js,useInsertionEffect:Js,useMemo:Js,useReducer:Js,useRef:Js,useState:Js,useDebugValue:Js,useDeferredValue:Js,useTransition:Js,useSyncExternalStore:Js,useId:Js,useHostTransitionStatus:Js,useFormState:Js,useActionState:Js,useOptimistic:Js,useMemoCache:Js,useCacheRefresh:Js};pl.useEffectEvent=Js;var fl={readContext:Pa,use:di,useCallback:function(e,t){return li().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:Bi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zi(4194308,4,Ki.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zi(4194308,4,e,t)},useInsertionEffect:function(e,t){zi(4,2,e,t)},useMemo:function(e,t){var n=li();t=void 0===t?null:t;var r=e();if(Gs){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=li();if(void 0!==n){var a=n(t);if(Gs){be(!0);try{n(t)}finally{be(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=ll.bind(null,Ws,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},li().memoizedState=e},useState:function(e){var t=(e=wi(e)).queue,n=ol.bind(null,Ws,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Gi,useDeferredValue:function(e,t){return Zi(li(),e,t)},useTransition:function(){var e=wi(!1);return e=Ji.bind(null,Ws,e.queue,!0,!1),li().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ws,a=li();if(ua){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===pc)throw Error(i(349));0!==(127&xc)||gi(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Bi(bi.bind(null,r,s,e),[e]),r.flags|=2048,Ri(9,{destroy:void 0},vi.bind(null,r,s,n,t),null),n},useId:function(){var e=li(),t=pc.identifierPrefix;if(ua){var n=ra;t="_"+t+"R_"+(n=(na&~(1<<32-ye(na)-1)).toString(32)+n),0<(n=$s++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Qs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rl,useFormState:Mi,useActionState:Mi,useOptimistic:function(e){var t=li();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=dl.bind(null,Ws,!0,n),n.dispatch=t,[e,t]},useMemoCache:ui,useCacheRefresh:function(){return li().memoizedState=il.bind(null,Ws)},useEffectEvent:function(e){var t=li(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&hc))throw Error(i(440));return n.impl.apply(void 0,arguments)}}},xl={readContext:Pa,use:di,useCallback:$i,useContext:Pa,useEffect:Ui,useImperativeHandle:Vi,useInsertionEffect:Hi,useLayoutEffect:qi,useMemo:Yi,useReducer:hi,useRef:Li,useState:function(){return hi(mi)},useDebugValue:Gi,useDeferredValue:function(e,t){return Qi(oi(),Hs.memoizedState,e,t)},useTransition:function(){var e=hi(mi)[0],t=oi().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:xi,useId:al,useHostTransitionStatus:rl,useFormState:Pi,useActionState:Pi,useOptimistic:function(e,t){return Ni(oi(),0,e,t)},useMemoCache:ui,useCacheRefresh:sl};xl.useEffectEvent=Wi;var gl={readContext:Pa,use:di,useCallback:$i,useContext:Pa,useEffect:Ui,useImperativeHandle:Vi,useInsertionEffect:Hi,useLayoutEffect:qi,useMemo:Yi,useReducer:fi,useRef:Li,useState:function(){return fi(mi)},useDebugValue:Gi,useDeferredValue:function(e,t){var n=oi();return null===Hs?Zi(n,e,t):Qi(n,Hs.memoizedState,e,t)},useTransition:function(){var e=fi(mi)[0],t=oi().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:xi,useId:al,useHostTransitionStatus:rl,useFormState:Ii,useActionState:Ii,useOptimistic:function(e,t){var n=oi();return null!==Hs?Ni(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ui,useCacheRefresh:sl};function vl(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}gl.useEffectEvent=Wi;var bl={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vc(),a=vs(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=bs(e,a,r))&&($c(t,e,r),ys(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vc(),a=vs(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=bs(e,a,r))&&($c(t,e,r),ys(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vc(),r=vs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=bs(e,r,n))&&($c(t,e,n),ys(t,e,n))}};function yl(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(a,s))}function jl(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bl.enqueueReplaceState(t,t.state,null)}function wl(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=h({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function Nl(e){_r(e)}function kl(e){console.error(e)}function Al(e){_r(e)}function _l(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Cl(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Sl(e,t,n){return(n=vs(n)).tag=3,n.payload={element:null},n.callback=function(){_l(e,t)},n}function El(e){return(e=vs(e)).tag=3,e}function Ol(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){Cl(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Cl(t,n,r),"function"!==typeof a&&(null===Rc?Rc=new Set([this]):Rc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ml=Error(i(461)),Pl=!1;function Tl(e,t,n,r){t.child=null===e?ps(t,null,n,r):hs(t,e.child,n,r)}function Dl(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var l in r)"ref"!==l&&(i[l]=r[l])}else i=r;return Ma(t),r=ei(e,t,n,i,s,a),l=ai(),null===e||Pl?(ua&&l&&ia(t),t.flags|=1,Tl(e,t,r,a),t.child):(si(e,t,a),ro(e,t,a))}function Il(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Fr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Rl(e,t,s,r,a))}if(s=e.child,!ao(e,a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(i,r)&&e.ref===t.ref)return ro(e,t,a)}return t.flags|=1,(e=Br(s,r)).ref=t.ref,e.return=t,t.child=e}function Rl(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(Xn(s,r)&&e.ref===t.ref){if(Pl=!1,t.pendingProps=r=s,!ao(e,a))return t.lanes=e.lanes,ro(e,t,a);0!==(131072&e.flags)&&(Pl=!0)}}return Hl(e,t,n,r,a)}function Ll(e,t,n,r){var a=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~s}else r=0,t.child=null;return Fl(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Fl(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ya(0,null!==s?s.cachePool:null),null!==s?Es(t,s):Os(),Rs(t)}else null!==s?(Ya(0,s.cachePool),Es(t,s),Ls(),t.memoizedState=null):(null!==e&&Ya(0,null),Os(),Ls());return Tl(e,t,a,n),t.child}function zl(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fl(e,t,n,r,a){var s=$a();return s=null===s?null:{parent:za._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Ya(0,null),Os(),Rs(t),null!==e&&Ea(e,t,r,!0),t.childLanes=a,null}function Bl(e,t){return(t=Jl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ul(e,t,n){return hs(t,e.child,null,n),(e=Bl(t,t.pendingProps)).flags|=2,zs(t),t.memoizedState=null,e}function Wl(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Hl(e,t,n,r,a){return Ma(t),n=ei(e,t,n,r,void 0,a),r=ai(),null===e||Pl?(ua&&r&&ia(t),t.flags|=1,Tl(e,t,n,a),t.child):(si(e,t,a),ro(e,t,a))}function ql(e,t,n,r,a,s){return Ma(t),t.updateQueue=null,n=ni(t,r,n,a),ti(e),r=ai(),null===e||Pl?(ua&&r&&ia(t),t.flags|=1,Tl(e,t,n,s),t.child):(si(e,t,s),ro(e,t,s))}function Kl(e,t,n,r,a){if(Ma(t),null===t.stateNode){var s=Rr,i=n.contextType;"object"===typeof i&&null!==i&&(s=Pa(i)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=bl,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},xs(t),i=n.contextType,s.context="object"===typeof i&&null!==i?Pa(i):Rr,s.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(vl(t,n,i,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(i=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&bl.enqueueReplaceState(s,s.state,null),ks(t,r,s,a),Ns(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var l=t.memoizedProps,o=wl(n,l);s.props=o;var c=s.context,d=n.contextType;i=Rr,"object"===typeof d&&null!==d&&(i=Pa(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate,l=t.pendingProps!==l,d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l||c!==i)&&jl(t,s,r,i),fs=!1;var m=t.memoizedState;s.state=m,ks(t,r,s,a),Ns(),c=t.memoizedState,l||m!==c||fs?("function"===typeof u&&(vl(t,n,u,r),c=t.memoizedState),(o=fs||yl(t,n,o,r,m,c,i))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=i,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,gs(e,t),d=wl(n,i=t.memoizedProps),s.props=d,u=t.pendingProps,m=s.context,c=n.contextType,o=Rr,"object"===typeof c&&null!==c&&(o=Pa(c)),(c="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==u||m!==o)&&jl(t,s,r,o),fs=!1,m=t.memoizedState,s.state=m,ks(t,r,s,a),Ns();var h=t.memoizedState;i!==u||m!==h||fs||null!==e&&null!==e.dependencies&&Oa(e.dependencies)?("function"===typeof l&&(vl(t,n,l,r),h=t.memoizedState),(d=fs||yl(t,n,d,r,m,h,o)||null!==e&&null!==e.dependencies&&Oa(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,o),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,o)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=o,r=d):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Wl(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=hs(t,e.child,null,a),t.child=hs(t,null,n,a)):Tl(e,t,n,a),t.memoizedState=s.state,e=t.child):e=ro(e,t,a),e}function Vl(e,t,n,r){return ba(),t.flags|=256,Tl(e,t,n,r),t.child}var Gl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $l(e){return{baseLanes:e,cachePool:Za()}}function Yl(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Cc),e}function Zl(e,t,n){var r,a=t.pendingProps,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Fs.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ua){if(s?Ds(t):Ls(),(e=da)?null!==(e=null!==(e=Ou(e,ha))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,ca=t,da=null):e=null,null===e)throw fa(t);return Pu(e)?t.lanes=32:t.lanes=536870912,null}var o=a.children;return a=a.fallback,s?(Ls(),o=Jl({mode:"hidden",children:o},s=t.mode),a=Hr(a,s,n,null),o.return=t,a.return=t,o.sibling=a,t.child=o,(a=t.child).memoizedState=$l(n),a.childLanes=Yl(e,r,n),t.memoizedState=Gl,zl(null,a)):(Ds(t),Ql(t,o))}var c=e.memoizedState;if(null!==c&&null!==(o=c.dehydrated)){if(l)256&t.flags?(Ds(t),t.flags&=-257,t=Xl(e,t,n)):null!==t.memoizedState?(Ls(),t.child=e.child,t.flags|=128,t=null):(Ls(),o=a.fallback,s=t.mode,a=Jl({mode:"visible",children:a.children},s),(o=Hr(o,s,n,null)).flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,hs(t,e.child,null,n),(a=t.child).memoizedState=$l(n),a.childLanes=Yl(e,r,n),t.memoizedState=Gl,t=zl(null,a));else if(Ds(t),Pu(o)){if(r=o.nextSibling&&o.nextSibling.dataset)var d=r.dgst;r=d,(a=Error(i(419))).stack="",a.digest=r,ja({value:a,source:null,stack:null}),t=Xl(e,t,n)}else if(Pl||Ea(e,t,n,!1),r=0!==(n&e.childLanes),Pl||r){if(null!==(r=pc)&&(0!==(a=Ie(r,n))&&a!==c.retryLane))throw c.retryLane=a,Tr(e,a),$c(r,e,a),Ml;Mu(o)||id(),t=Xl(e,t,n)}else Mu(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,da=Tu(o.nextSibling),ca=t,ua=!0,ma=null,ha=!1,null!==e&&oa(t,e),(t=Ql(t,a.children)).flags|=4096);return t}return s?(Ls(),o=a.fallback,s=t.mode,d=(c=e.child).sibling,(a=Br(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?o=Br(d,o):(o=Hr(o,s,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,zl(null,a),a=t.child,null===(o=e.child.memoizedState)?o=$l(n):(null!==(s=o.cachePool)?(c=za._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Za(),o={baseLanes:o.baseLanes|n,cachePool:s}),a.memoizedState=o,a.childLanes=Yl(e,r,n),t.memoizedState=Gl,zl(e.child,a)):(Ds(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ql(e,t){return(t=Jl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Jl(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function Xl(e,t,n){return hs(t,e.child,null,n),(e=Ql(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function eo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function to(e,t,n,r,a,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.treeForkCount=s)}function no(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;r=r.children;var i=Fs.current,l=0!==(2&i);if(l?(i=1&i|2,t.flags|=128):i&=1,U(Fs,i),Tl(e,t,r,n),r=ua?Jr:0,!l&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&eo(e,n,t);else if(19===e.tag)eo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Bs(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),to(t,!1,a,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Bs(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}to(t,!0,n,null,s,r);break;case"together":to(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ro(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),kc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ea(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ao(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Oa(e))}function so(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Pl=!0;else{if(!ao(e,n)&&0===(128&t.flags))return Pl=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),Aa(0,za,e.memoizedState.cache),ba();break;case 27:case 5:Z(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:Aa(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Is(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ds(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Zl(e,t,n):(Ds(t),null!==(e=ro(e,t,n))?e.sibling:null);Ds(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ea(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return no(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),U(Fs,Fs.current),r)break;return null;case 22:return t.lanes=0,Ll(e,t,n,t.pendingProps);case 24:Aa(0,za,e.memoizedState.cache)}return ro(e,t,n)}(e,t,n);Pl=0!==(131072&e.flags)}else Pl=!1,ua&&0!==(1048576&t.flags)&&sa(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=rs(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===w){t.tag=11,t=Dl(null,t,e,r,n);break e}if(a===A){t.tag=14,t=Il(null,t,e,r,n);break e}}throw t=P(e)||e,Error(i(306,t,""))}Fr(e)?(r=wl(e,r),t.tag=1,t=Kl(null,t,e,r,n)):(t.tag=0,t=Hl(null,t,e,r,n))}return t;case 0:return Hl(e,t,t.type,t.pendingProps,n);case 1:return Kl(e,t,r=t.type,a=wl(r,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var s=t.memoizedState;a=s.element,gs(e,t),ks(t,r,null,n);var l=t.memoizedState;if(r=l.cache,Aa(0,za,r),r!==s.cache&&Sa(t,[za],n,!0),Ns(),r=l.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Vl(e,t,r,n);break e}if(r!==a){ja(a=$r(Error(i(424)),t)),t=Vl(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(da=Tu(e.firstChild),ca=t,ua=!0,ma=null,ha=!0,n=ps(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ba(),r===a){t=ro(e,t,n);break e}Tl(e,t,r,n)}t=t.child}return t;case 26:return Wl(e,t),null===e?(n=Ku(t.type,null,t.pendingProps,null))?t.memoizedState=n:ua||(n=t.type,e=t.pendingProps,(r=xu(V.current).createElement(n))[Ue]=t,r[We]=e,mu(r,n,e),et(r),t.stateNode=r):t.memoizedState=Ku(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Z(t),null===e&&ua&&(r=t.stateNode=Lu(t.type,t.pendingProps,V.current),ca=t,ha=!0,a=da,_u(t.type)?(Du=a,da=Tu(r.firstChild)):da=a),Tl(e,t,t.pendingProps.children,n),Wl(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ua&&((a=r=da)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=Tu(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ha))?(t.stateNode=r,ca=t,da=Tu(r.firstChild),ha=!1,a=!0):a=!1),a||fa(t)),Z(t),a=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,r=s.children,bu(a,s)?r=null:null!==l&&bu(a,l)&&(t.flags|=32),null!==t.memoizedState&&(a=ei(e,t,ri,null,null,n),dm._currentValue=a),Wl(e,t),Tl(e,t,r,n),t.child;case 6:return null===e&&ua&&((e=n=da)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Tu(e.nextSibling)))return null}return e}(n,t.pendingProps,ha))?(t.stateNode=n,ca=t,da=null,e=!0):e=!1),e||fa(t)),null;case 13:return Zl(e,t,n);case 4:return $(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=hs(t,null,r,n):Tl(e,t,r,n),t.child;case 11:return Dl(e,t,t.type,t.pendingProps,n);case 7:return Tl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Tl(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Aa(0,t.type,r.value),Tl(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Ma(t),r=r(a=Pa(a)),t.flags|=1,Tl(e,t,r,n),t.child;case 14:return Il(e,t,t.type,t.pendingProps,n);case 15:return Rl(e,t,t.type,t.pendingProps,n);case 19:return no(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ua){if("hidden"===r.mode)return e=Bl(t,r),t.lanes=536870912,zl(null,e);if(Is(t),(e=da)?null!==(e=null!==(e=Ou(e,ha))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,ca=t,da=null):e=null,null===e)throw fa(t);return t.lanes=536870912,null}return Bl(t,r)}var s=e.memoizedState;if(null!==s){var l=s.dehydrated;if(Is(t),a)if(256&t.flags)t.flags&=-257,t=Ul(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Pl||Ea(e,t,n,!1),a=0!==(n&e.childLanes),Pl||a){if(null!==(r=pc)&&0!==(l=Ie(r,n))&&l!==s.retryLane)throw s.retryLane=l,Tr(e,l),$c(r,e,l),Ml;id(),t=Ul(e,t,n)}else e=s.treeContext,da=Tu(l.nextSibling),ca=t,ua=!0,ma=null,ha=!1,null!==e&&oa(t,e),(t=Bl(t,r)).flags|=4096;return t}return(e=Br(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ll(e,t,n,t.pendingProps);case 24:return Ma(t),r=Pa(za),null===e?(null===(a=$a())&&(a=pc,s=Fa(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},xs(t),Aa(0,za,a)):(0!==(e.lanes&n)&&(gs(e,t),ks(t,null,null,n),Ns()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Aa(0,za,r)):(r=s.cache,Aa(0,za,r),r!==a.cache&&Sa(t,[za],n,!0))),Tl(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function io(e){e.flags|=4}function lo(e,t,n,r,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!rd())throw as=es,Ja;e.flags|=8192}}else e.flags&=-16777217}function oo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!am(t)){if(!rd())throw as=es,Ja;e.flags|=8192}}function co(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Oe():536870912,e.lanes|=t,Sc|=t)}function uo(e,t){if(!ua)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ho(e,t,n){var r=t.pendingProps;switch(la(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return mo(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_a(za),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(va(t)?io(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ya())),mo(t),null;case 26:var a=t.type,s=t.memoizedState;return null===e?(io(t),null!==s?(mo(t),oo(t,s)):(mo(t),lo(t,a,0,0,n))):s?s!==e.memoizedState?(io(t),mo(t),oo(t,s)):(mo(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&io(t),mo(t),lo(t,a,0,0,n)),null;case 27:if(Q(t),n=V.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&io(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return mo(t),null}e=q.current,va(t)?xa(t):(e=Lu(a,r,n),t.stateNode=e,io(t))}return mo(t),null;case 5:if(Q(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&io(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return mo(t),null}if(s=q.current,va(t))xa(t);else{var l=xu(V.current);switch(s){case 1:s=l.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=l.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=l.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=l.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(s=l.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?l.createElement("select",{is:r.is}):l.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?l.createElement(a,{is:r.is}):l.createElement(a)}}s[Ue]=t,s[We]=r;e:for(l=t.child;null!==l;){if(5===l.tag||6===l.tag)s.appendChild(l.stateNode);else if(4!==l.tag&&27!==l.tag&&null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;null===l.sibling;){if(null===l.return||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=s;e:switch(mu(s,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&io(t)}}return mo(t),lo(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&io(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=V.current,va(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ca))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cu(e.nodeValue,n)))||fa(t,!0)}else(e=xu(e).createTextNode(r))[Ue]=t,t.stateNode=e}return mo(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=va(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[Ue]=t}else ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mo(t),e=!1}else n=ya(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zs(t),t):(zs(t),null);if(0!==(128&t.flags))throw Error(i(558))}return mo(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=va(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[Ue]=t}else ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mo(t),a=!1}else a=ya(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(zs(t),t):(zs(t),null)}return zs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),co(t,t.updateQueue),mo(t),null);case 4:return Y(),null===e&&Xd(t.stateNode.containerInfo),mo(t),null;case 10:return _a(t.type),mo(t),null;case 19:if(B(Fs),null===(r=t.memoizedState))return mo(t),null;if(a=0!==(128&t.flags),null===(s=r.rendering))if(a)uo(r,!1);else{if(0!==Nc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Bs(e))){for(t.flags|=128,uo(r,!1),e=s.updateQueue,t.updateQueue=e,co(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return U(Fs,1&Fs.current|2),ua&&aa(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&oe()>Dc&&(t.flags|=128,a=!0,uo(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Bs(s))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,co(t,e),uo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!ua)return mo(t),null}else 2*oe()-r.renderingStartTime>Dc&&536870912!==n&&(t.flags|=128,a=!0,uo(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=oe(),e.sibling=null,n=Fs.current,U(Fs,a?1&n|2:1&n),ua&&aa(t,r.treeForkCount),e):(mo(t),null);case 22:case 23:return zs(t),Ms(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(mo(t),6&t.subtreeFlags&&(t.flags|=8192)):mo(t),null!==(n=t.updateQueue)&&co(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Ga),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_a(za),mo(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function po(e,t){switch(la(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _a(za),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 31:if(null!==t.memoizedState){if(zs(t),null===t.alternate)throw Error(i(340));ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Fs),null;case 4:return Y(),null;case 10:return _a(t.type),null;case 22:case 23:return zs(t),Ms(),null!==e&&B(Ga),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _a(za),null;default:return null}}function fo(e,t){switch(la(t),t.tag){case 3:_a(za),Y();break;case 26:case 27:case 5:Q(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&zs(t);break;case 13:zs(t);break;case 19:B(Fs);break;case 10:_a(t.type);break;case 22:case 23:zs(t),Ms(),null!==e&&B(Ga);break;case 24:_a(za)}}function xo(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(l){Nd(t,t.return,l)}}function go(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,l=i.destroy;if(void 0!==l){i.destroy=void 0,a=t;var o=n,c=l;try{c()}catch(d){Nd(a,o,d)}}}r=r.next}while(r!==s)}}catch(d){Nd(t,t.return,d)}}function vo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{_s(t,n)}catch(r){Nd(e,e.return,r)}}}function bo(e,t,n){n.props=wl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Nd(e,t,r)}}function yo(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){Nd(e,t,a)}}function jo(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){Nd(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){Nd(e,t,s)}else n.current=null}function wo(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Nd(e,e.return,a)}}function No(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,l=null,o=null,c=null,d=null,u=null;for(p in n){var m=n[p];if(n.hasOwnProperty(p)&&null!=m)switch(p){case"checked":case"value":break;case"defaultValue":c=m;default:r.hasOwnProperty(p)||du(e,t,p,null,r,m)}}for(var h in r){var p=r[h];if(m=n[h],r.hasOwnProperty(h)&&(null!=p||null!=m))switch(h){case"type":s=p;break;case"name":a=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":l=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==m&&du(e,t,h,p,r,m)}}return void vt(e,l,o,c,d,u,s,a);case"select":for(s in p=l=o=h=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||du(e,t,s,null,r,c)}for(a in r)if(s=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":h=s;break;case"defaultValue":o=s;break;case"multiple":l=s;default:s!==c&&du(e,t,a,s,r,c)}return t=o,n=l,r=p,void(null!=h?jt(e,!!n,h,!1):!!r!==!!n&&(null!=t?jt(e,!!n,t,!0):jt(e,!!n,n?[]:"",!1)));case"textarea":for(o in p=h=null,n)if(a=n[o],n.hasOwnProperty(o)&&null!=a&&!r.hasOwnProperty(o))switch(o){case"value":case"children":break;default:du(e,t,o,null,r,a)}for(l in r)if(a=r[l],s=n[l],r.hasOwnProperty(l)&&(null!=a||null!=s))switch(l){case"value":h=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==s&&du(e,t,l,a,r,s)}return void wt(e,h,p);case"option":for(var f in n)if(h=n[f],n.hasOwnProperty(f)&&null!=h&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else du(e,t,f,null,r,h);for(c in r)if(h=r[c],p=n[c],r.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else du(e,t,c,h,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)h=n[x],n.hasOwnProperty(x)&&null!=h&&!r.hasOwnProperty(x)&&du(e,t,x,null,r,h);for(d in r)if(h=r[d],p=n[d],r.hasOwnProperty(d)&&h!==p&&(null!=h||null!=p))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:du(e,t,d,h,r,p)}return;default:if(St(t)){for(var g in n)h=n[g],n.hasOwnProperty(g)&&void 0!==h&&!r.hasOwnProperty(g)&&uu(e,t,g,void 0,r,h);for(u in r)h=r[u],p=n[u],!r.hasOwnProperty(u)||h===p||void 0===h&&void 0===p||uu(e,t,u,h,r,p);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&null!=h&&!r.hasOwnProperty(v)&&du(e,t,v,null,r,h);for(m in r)h=r[m],p=n[m],!r.hasOwnProperty(m)||h===p||null==h&&null==p||du(e,t,m,h,r,p)}(r,e.type,n,t),r[We]=t}catch(a){Nd(e,e.return,a)}}function ko(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&_u(e.type)||4===e.tag}function Ao(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ko(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&_u(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _o(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Pt));else if(4!==r&&(27===r&&_u(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(_o(e,t,n),e=e.sibling;null!==e;)_o(e,t,n),e=e.sibling}function Co(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&_u(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Co(e,t,n),e=e.sibling;null!==e;)Co(e,t,n),e=e.sibling}function So(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);mu(t,r,n),t[Ue]=e,t[We]=n}catch(s){Nd(e,e.return,s)}}var Eo=!1,Oo=!1,Mo=!1,Po="function"===typeof WeakSet?WeakSet:Set,To=null;function Do(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$o(e,n),4&r&&xo(5,n);break;case 1:if($o(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){Nd(n,n.return,i)}else{var a=wl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){Nd(n,n.return,l)}}64&r&&vo(n),512&r&&yo(n,n.return);break;case 3:if($o(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{_s(e,t)}catch(i){Nd(n,n.return,i)}}break;case 27:null===t&&4&r&&So(n);case 26:case 5:$o(e,n),null===t&&4&r&&wo(n),512&r&&yo(n,n.return);break;case 12:$o(e,n);break;case 31:$o(e,n),4&r&&Bo(e,n);break;case 13:$o(e,n),4&r&&Uo(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Cd.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Eo)){t=null!==t&&null!==t.memoizedState||Oo,a=Eo;var s=Oo;Eo=r,(Oo=t)&&!s?Zo(e,n,0!==(8772&n.subtreeFlags)):$o(e,n),Eo=a,Oo=s}break;case 30:break;default:$o(e,n)}}function Io(e){var t=e.alternate;null!==t&&(e.alternate=null,Io(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ro=null,Lo=!1;function zo(e,t,n){for(n=n.child;null!==n;)Fo(e,t,n),n=n.sibling}function Fo(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ge,n)}catch(s){}switch(n.tag){case 26:Oo||jo(n,t),zo(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Oo||jo(n,t);var r=Ro,a=Lo;_u(n.type)&&(Ro=n.stateNode,Lo=!1),zo(e,t,n),zu(n.stateNode),Ro=r,Lo=a;break;case 5:Oo||jo(n,t);case 6:if(r=Ro,a=Lo,Ro=null,zo(e,t,n),Lo=a,null!==(Ro=r))if(Lo)try{(9===Ro.nodeType?Ro.body:"HTML"===Ro.nodeName?Ro.ownerDocument.body:Ro).removeChild(n.stateNode)}catch(i){Nd(n,t,i)}else try{Ro.removeChild(n.stateNode)}catch(i){Nd(n,t,i)}break;case 18:null!==Ro&&(Lo?(Cu(9===(e=Ro).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),qm(e)):Cu(Ro,n.stateNode));break;case 4:r=Ro,a=Lo,Ro=n.stateNode.containerInfo,Lo=!0,zo(e,t,n),Ro=r,Lo=a;break;case 0:case 11:case 14:case 15:go(2,n,t),Oo||go(4,n,t),zo(e,t,n);break;case 1:Oo||(jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bo(n,t,r)),zo(e,t,n);break;case 21:zo(e,t,n);break;case 22:Oo=(r=Oo)||null!==n.memoizedState,zo(e,t,n),Oo=r;break;default:zo(e,t,n)}}function Bo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qm(e)}catch(n){Nd(t,t.return,n)}}}function Uo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qm(e)}catch(n){Nd(t,t.return,n)}}function Wo(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Po),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Po),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Sd.bind(null,e,t);t.then(r,r)}})}function Ho(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],s=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 27:if(_u(o.type)){Ro=o.stateNode,Lo=!1;break e}break;case 5:Ro=o.stateNode,Lo=!1;break e;case 3:case 4:Ro=o.stateNode.containerInfo,Lo=!0;break e}o=o.return}if(null===Ro)throw Error(i(160));Fo(s,l,a),Ro=null,Lo=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Ko(t,e),t=t.sibling}var qo=null;function Ko(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ho(t,e),Vo(e),4&r&&(go(3,e,e.return),xo(3,e),go(5,e,e.return));break;case 1:Ho(t,e),Vo(e),512&r&&(Oo||null===n||jo(n,n.return)),64&r&&Eo&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=qo;if(Ho(t,e),Vo(e),512&r&&(Oo||null===n||jo(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(s=a.getElementsByTagName("title")[0])||s[$e]||s[Ue]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(r),a.head.insertBefore(s,a.querySelector("head > title"))),mu(s,r,n),s[Ue]=e,et(s),r=s;break e;case"link":var l=nm("link","href",a).get(r+(n.href||""));if(l)for(var o=0;o<l.length;o++)if((s=l[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){l.splice(o,1);break t}mu(s=a.createElement(r),r,n),a.head.appendChild(s);break;case"meta":if(l=nm("meta","content",a).get(r+(n.content||"")))for(o=0;o<l.length;o++)if((s=l[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){l.splice(o,1);break t}mu(s=a.createElement(r),r,n),a.head.appendChild(s);break;default:throw Error(i(468,r))}s[Ue]=e,et(s),r=s}e.stateNode=r}else rm(a,e.type,e.stateNode);else e.stateNode=Qu(a,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?rm(a,e.type,e.stateNode):Qu(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&No(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ho(t,e),Vo(e),512&r&&(Oo||null===n||jo(n,n.return)),null!==n&&4&r&&No(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ho(t,e),Vo(e),512&r&&(Oo||null===n||jo(n,n.return)),32&e.flags){a=e.stateNode;try{kt(a,"")}catch(f){Nd(e,e.return,f)}}4&r&&null!=e.stateNode&&No(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(Mo=!0);break;case 6:if(Ho(t,e),Vo(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){Nd(e,e.return,f)}}break;case 3:if(tm=null,a=qo,qo=Uu(t.containerInfo),Ho(t,e),qo=a,Vo(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qm(t.containerInfo)}catch(f){Nd(e,e.return,f)}Mo&&(Mo=!1,Go(e));break;case 4:r=qo,qo=Uu(e.stateNode.containerInfo),Ho(t,e),Vo(e),qo=r;break;case 12:default:Ho(t,e),Vo(e);break;case 31:case 19:Ho(t,e),Vo(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Wo(e,r)));break;case 13:Ho(t,e),Vo(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Pc=oe()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Wo(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=Eo,u=Oo;if(Eo=d||a,Oo=u||c,Ho(t,e),Oo=u,Eo=d,Vo(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||Eo||Oo||Yo(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,a)"function"===typeof(l=s.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var m=c.memoizedProps.style,h=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;o.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(f){Nd(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){Nd(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;a?Su(p,!0):Su(c.stateNode,!1)}catch(f){Nd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Wo(e,n))));case 30:case 21:}}function Vo(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ko(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Co(e,Ao(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(kt(s,""),n.flags&=-33),Co(e,Ao(e),s);break;case 3:case 4:var l=n.stateNode.containerInfo;_o(e,Ao(e),l);break;default:throw Error(i(161))}}catch(o){Nd(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Go(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Go(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $o(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Do(e,t.alternate,t),t=t.sibling}function Yo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:go(4,t,t.return),Yo(t);break;case 1:jo(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bo(t,t.return,n),Yo(t);break;case 27:zu(t.stateNode);case 26:case 5:jo(t,t.return),Yo(t);break;case 22:null===t.memoizedState&&Yo(t);break;default:Yo(t)}e=e.sibling}}function Zo(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Zo(a,s,n),xo(4,s);break;case 1:if(Zo(a,s,n),"function"===typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){Nd(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var l=r.stateNode;try{var o=a.shared.hiddenCallbacks;if(null!==o)for(a.shared.hiddenCallbacks=null,a=0;a<o.length;a++)As(o[a],l)}catch(c){Nd(r,r.return,c)}}n&&64&i&&vo(s),yo(s,s.return);break;case 27:So(s);case 26:case 5:Zo(a,s,n),n&&null===r&&4&i&&wo(s),yo(s,s.return);break;case 12:Zo(a,s,n);break;case 31:Zo(a,s,n),n&&4&i&&Bo(a,s);break;case 13:Zo(a,s,n),n&&4&i&&Uo(a,s);break;case 22:null===s.memoizedState&&Zo(a,s,n),yo(s,s.return);break;case 30:break;default:Zo(a,s,n)}t=t.sibling}}function Qo(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ba(n))}function Jo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ba(e))}function Xo(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Xo(e,t,n,r),2048&a&&xo(9,t);break;case 1:case 31:case 13:default:Xo(e,t,n,r);break;case 3:Xo(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ba(e)));break;case 12:if(2048&a){Xo(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,l=s.onPostCommit;"function"===typeof l&&l(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Nd(t,t.return,o)}}else Xo(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Xo(e,t,n,r):nc(e,t):2&s._visibility?Xo(e,t,n,r):(s._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&a&&Qo(i,t);break;case 24:Xo(e,t,n,r),2048&a&&Jo(t.alternate,t)}}function tc(e,t,n,r,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,i=t,l=n,o=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:tc(s,i,l,o,a),xo(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?tc(s,i,l,o,a):nc(s,i):(d._visibility|=2,tc(s,i,l,o,a)),a&&2048&c&&Qo(i.alternate,i);break;case 24:tc(s,i,l,o,a),a&&2048&c&&Jo(i.alternate,i);break;default:tc(s,i,l,o,a)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:nc(n,r),2048&a&&Qo(r.alternate,r);break;case 24:nc(n,r),2048&a&&Jo(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ac(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var a=Vu(r.href),s=t.querySelector(Gu(a));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=im.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=$u(r),(a=Fu.get(a))&&Xu(r,a),et(s=s.createElement("link"));var i=s;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),mu(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=im.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,qo,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=qo;qo=Uu(e.stateNode.containerInfo),ac(e,t,n),qo=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ac(e,t,n),rc=r):ac(e,t,n))}}function ic(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];To=r,dc(r,e)}ic(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)oc(e),e=e.sibling}function oc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&go(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):lc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];To=r,dc(r,e)}ic(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:go(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==To;){var n=To;switch(n.tag){case 0:case 11:case 15:go(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ba(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,To=r;else e:for(n=e;null!==To;){var a=(r=To).sibling,s=r.return;if(Io(r),r===n){To=null;break e}if(null!==a){a.return=s,To=a;break e}To=s}}}var uc={getCacheForType:function(e){var t=Pa(za),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pa(za).controller.signal}},mc="function"===typeof WeakMap?WeakMap:Map,hc=0,pc=null,fc=null,xc=0,gc=0,vc=null,bc=!1,yc=!1,jc=!1,wc=0,Nc=0,kc=0,Ac=0,_c=0,Cc=0,Sc=0,Ec=null,Oc=null,Mc=!1,Pc=0,Tc=0,Dc=1/0,Ic=null,Rc=null,Lc=0,zc=null,Fc=null,Bc=0,Uc=0,Wc=null,Hc=null,qc=0,Kc=null;function Vc(){return 0!==(2&hc)&&0!==xc?xc&-xc:null!==D.T?Wd():ze()}function Gc(){if(0===Cc)if(0===(536870912&xc)||ua){var e=ke;0===(3932160&(ke<<=1))&&(ke=262144),Cc=e}else Cc=536870912;return null!==(e=Ps.current)&&(e.flags|=32),Cc}function $c(e,t,n){(e!==pc||2!==gc&&9!==gc)&&null===e.cancelPendingCommit||(td(e,0),Jc(e,xc,Cc,!1)),Pe(e,n),0!==(2&hc)&&e===pc||(e===pc&&(0===(2&hc)&&(Ac|=n),4===Nc&&Jc(e,xc,Cc,!1)),Id(e))}function Yc(e,t,n){if(0!==(6&hc))throw Error(i(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Se(e,t),a=r?function(e,t){var n=hc;hc|=2;var r=ad(),a=sd();pc!==e||xc!==t?(Ic=null,Dc=oe()+500,td(e,t)):yc=Se(e,t);e:for(;;)try{if(0!==gc&&null!==fc){t=fc;var s=vc;t:switch(gc){case 1:gc=0,vc=null,md(e,t,s,1);break;case 2:case 9:if(ts(s)){gc=0,vc=null,ud(t);break}t=function(){2!==gc&&9!==gc||pc!==e||(gc=7),Id(e)},s.then(t,t);break e;case 3:gc=7;break e;case 4:gc=5;break e;case 7:ts(s)?(gc=0,vc=null,ud(t)):(gc=0,vc=null,md(e,t,s,7));break;case 5:var l=null;switch(fc.tag){case 26:l=fc.memoizedState;case 5:case 27:var o=fc;if(l?am(l):o.stateNode.complete){gc=0,vc=null;var c=o.sibling;if(null!==c)fc=c;else{var d=o.return;null!==d?(fc=d,hd(d)):fc=null}break t}}gc=0,vc=null,md(e,t,s,5);break;case 6:gc=0,vc=null,md(e,t,s,6);break;case 8:ed(),Nc=6;break e;default:throw Error(i(462))}}cd();break}catch(u){nd(e,u)}return ka=Na=null,D.H=r,D.A=a,hc=n,null!==fc?0:(pc=null,xc=0,Or(),Nc)}(e,t):ld(e,t,!0),s=r;;){if(0===a){yc&&!r&&Jc(e,t,0,!1);break}if(n=e.current.alternate,!s||Qc(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var o=e;a=Ec;var c=o.current.memoizedState.isDehydrated;if(c&&(td(o,l).flags|=256),2!==(l=ld(o,l,!1))){if(jc&&!c){o.errorRecoveryDisabledLanes|=s,Ac|=s,a=4;break e}s=Oc,Oc=a,null!==s&&(null===Oc?Oc=s:Oc.push.apply(Oc,s))}a=l}if(s=!1,2!==a)continue}}if(1===a){td(e,0),Jc(e,t,0,!0);break}e:{switch(r=e,s=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Jc(r,t,Cc,!bc);break e;case 2:Oc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=Pc+300-oe())){if(Jc(r,t,Cc,!bc),0!==Ce(r,0,!0))break e;Bc=t,r.timeoutHandle=ju(Zc.bind(null,r,n,Oc,Ic,Mc,t,Cc,Ac,Sc,bc,s,"Throttled",-0,0),a)}else Zc(r,n,Oc,Ic,Mc,t,Cc,Ac,Sc,bc,s,null,-0,0)}break}a=ld(e,t,!1),s=!1}Id(e)}function Zc(e,t,n,r,a,s,i,l,o,c,d,u,m,h){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){sc(t,s,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt});var p=(62914560&s)===s?Pc-oe():(4194048&s)===s?Tc-oe():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&om(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&om(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sm&&(sm=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],s=a.transferSize,i=a.initiatorType,l=a.duration;if(s&&l&&hu(i)){for(i=0,l=a.responseEnd,r+=1;r<n.length;r++){var o=n[r],c=o.startTime;if(c>l)break;var d=o.transferSize,u=o.initiatorType;d&&hu(u)&&(i+=d*((o=o.responseEnd)<l?1:(l-c)/(o-c)))}if(--r,t+=8*(s+i)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&om(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sm?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}(u,p)))return Bc=s,e.cancelPendingCommit=p(fd.bind(null,e,t,s,n,r,a,i,l,o,d,u,null,m,h)),void Jc(e,s,i,!c)}fd(e,t,s,n,r,a,i,l,o)}function Qc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Jn(s(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jc(e,t,n,r){t&=~_c,t&=~Ac,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-ye(a),i=1<<s;r[s]=-1,a&=~i}0!==n&&Te(e,n,t)}function Xc(){return 0!==(6&hc)||(Rd(0,!1),!1)}function ed(){if(null!==fc){if(0===gc)var e=fc.return;else ka=Na=null,ii(e=fc),ls=null,os=0,e=fc;for(;null!==e;)fo(e.alternate,e),e=e.return;fc=null}}function td(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,wu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc=0,ed(),pc=e,fc=n=Br(e.current,null),xc=t,gc=0,vc=null,bc=!1,yc=Se(e,t),jc=!1,Sc=Cc=_c=Ac=kc=Nc=0,Oc=Ec=null,Mc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-ye(r),s=1<<a;t|=e[a],r&=~s}return wc=t,Or(),n}function nd(e,t){Ws=null,D.H=pl,t===Qa||t===Xa?(t=ss(),gc=3):t===Ja?(t=ss(),gc=4):gc=t===Ml?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,vc=t,null===fc&&(Nc=1,_l(e,$r(t,e.current)))}function rd(){var e=Ps.current;return null===e||((4194048&xc)===xc?null===Ts:((62914560&xc)===xc||0!==(536870912&xc))&&e===Ts)}function ad(){var e=D.H;return D.H=pl,null===e?pl:e}function sd(){var e=D.A;return D.A=uc,e}function id(){Nc=4,bc||(4194048&xc)!==xc&&null!==Ps.current||(yc=!0),0===(134217727&kc)&&0===(134217727&Ac)||null===pc||Jc(pc,xc,Cc,!1)}function ld(e,t,n){var r=hc;hc|=2;var a=ad(),s=sd();pc===e&&xc===t||(Ic=null,td(e,t)),t=!1;var i=Nc;e:for(;;)try{if(0!==gc&&null!==fc){var l=fc,o=vc;switch(gc){case 8:ed(),i=6;break e;case 3:case 2:case 9:case 6:null===Ps.current&&(t=!0);var c=gc;if(gc=0,vc=null,md(e,l,o,c),n&&yc){i=0;break e}break;default:c=gc,gc=0,vc=null,md(e,l,o,c)}}od(),i=Nc;break}catch(d){nd(e,d)}return t&&e.shellSuspendCounter++,ka=Na=null,hc=r,D.H=a,D.A=s,null===fc&&(pc=null,xc=0,Or()),i}function od(){for(;null!==fc;)dd(fc)}function cd(){for(;null!==fc&&!ie();)dd(fc)}function dd(e){var t=so(e.alternate,e,wc);e.memoizedProps=e.pendingProps,null===t?hd(e):fc=t}function ud(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ql(n,t,t.pendingProps,t.type,void 0,xc);break;case 11:t=ql(n,t,t.pendingProps,t.type.render,t.ref,xc);break;case 5:ii(t);default:fo(n,t),t=so(n,t=fc=Ur(t,wc),wc)}e.memoizedProps=e.pendingProps,null===t?hd(e):fc=t}function md(e,t,n,r){ka=Na=null,ii(t),ls=null,os=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ea(t,n,a,!0),null!==(n=Ps.current)){switch(n.tag){case 31:case 13:return null===Ts?id():null===n.alternate&&0===Nc&&(Nc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),kd(e,r,a)),!1;case 22:return n.flags|=65536,r===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),kd(e,r,a)),!1}throw Error(i(435,n.tag))}return kd(e,r,a),id(),!1}if(ua)return null!==(t=Ps.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==pa&&ja($r(e=Error(i(422),{cause:r}),n))):(r!==pa&&ja($r(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=$r(r,n),js(e,a=Sl(e.stateNode,r,a)),4!==Nc&&(Nc=2)),!1;var s=Error(i(520),{cause:r});if(s=$r(s,n),null===Ec?Ec=[s]:Ec.push(s),4!==Nc&&(Nc=2),null===t)return!0;r=$r(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,js(n,e=Sl(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Rc||!Rc.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Ol(a=El(a),e,n,r),js(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,xc))return Nc=1,_l(e,$r(n,e.current)),void(fc=null)}catch(s){if(null!==a)throw fc=a,s;return Nc=1,_l(e,$r(n,e.current)),void(fc=null)}32768&t.flags?(ua||1===r?e=!0:yc||0!==(536870912&xc)?e=!1:(bc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ps.current)&&13===r.tag&&(r.flags|=16384))),pd(t,e)):hd(t)}function hd(e){var t=e;do{if(0!==(32768&t.flags))return void pd(t,bc);e=t.return;var n=ho(t.alternate,t,wc);if(null!==n)return void(fc=n);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===Nc&&(Nc=5)}function pd(e,t){do{var n=po(e.alternate,e);if(null!==n)return n.flags&=32767,void(fc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=n}while(null!==e);Nc=6,fc=null}function fd(e,t,n,r,a,s,l,o,c){e.cancelPendingCommit=null;do{yd()}while(0!==Lc);if(0!==(6&hc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var d=31-ye(n),u=1<<d;l[d]=0,o[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var h=m[d];null!==h&&(h.lane&=-536870913)}n&=~u}0!==r&&Te(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,s|=Er,l,o,c),e===pc&&(fc=pc=null,xc=0),Fc=t,zc=e,Bc=n,Uc=s,Wc=a,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(me,function(){return jd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,a=I.p,I.p=2,l=hc,hc|=4;try{!function(e,t){if(e=e.containerInfo,pu=bm,ar(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==n||0!==a&&3!==m.nodeType||(o=l+a),m!==s||0!==r&&3!==m.nodeType||(c=l+r),3===m.nodeType&&(l+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===n&&++d===a&&(o=l),h===s&&++u===r&&(c=l),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fu={focusedElem:e,selectionRange:n},bm=!1,To=t;null!==To;)if(e=(t=To).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,To=e;else for(;null!==To;){switch(s=(t=To).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(a=e[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var f=wl(n.type,a);e=r.getSnapshotBeforeUpdate(f,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){Nd(n,n.return,g)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Eu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Eu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,To=e;break}To=t.return}}(e,t)}finally{hc=l,I.p=a,D.T=r}}Lc=1,xd(),gd(),vd()}}function xd(){if(1===Lc){Lc=0;var e=zc,t=Fc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=I.p;I.p=2;var a=hc;hc|=4;try{Ko(t,e);var s=fu,i=rr(e.containerInfo),l=s.focusedElem,o=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&nr(l.ownerDocument.documentElement,l)){if(null!==o&&ar(l)){var c=o.start,d=o.end;if(void 0===d&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var u=l.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var h=m.getSelection(),p=l.textContent.length,f=Math.min(o.start,p),x=void 0===o.end?f:Math.min(o.end,p);!h.extend&&f>x&&(i=x,x=f,f=i);var g=tr(l,f),v=tr(l,x);if(g&&v&&(1!==h.rangeCount||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var b=u.createRange();b.setStart(g.node,g.offset),h.removeAllRanges(),f>x?(h.addRange(b),h.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),h.addRange(b))}}}}for(u=[],h=l;h=h.parentNode;)1===h.nodeType&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof l.focus&&l.focus(),l=0;l<u.length;l++){var y=u[l];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}bm=!!pu,fu=pu=null}finally{hc=a,I.p=r,D.T=n}}e.current=t,Lc=2}}function gd(){if(2===Lc){Lc=0;var e=zc,t=Fc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=I.p;I.p=2;var a=hc;hc|=4;try{Do(e,t.alternate,t)}finally{hc=a,I.p=r,D.T=n}}Lc=3}}function vd(){if(4===Lc||3===Lc){Lc=0,le();var e=zc,t=Fc,n=Bc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Lc=5:(Lc=0,Fc=zc=null,bd(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Rc=null),Le(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ge,t,void 0,128===(128&t.current.flags))}catch(o){}if(null!==r){t=D.T,a=I.p,I.p=2,D.T=null;try{for(var s=e.onRecoverableError,i=0;i<r.length;i++){var l=r[i];s(l.value,{componentStack:l.stack})}}finally{D.T=t,I.p=a}}0!==(3&Bc)&&yd(),Id(e),a=e.pendingLanes,0!==(261930&n)&&0!==(42&a)?e===Kc?qc++:(qc=0,Kc=e):qc=0,Rd(0,!1)}}function bd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ba(t)))}function yd(){return xd(),gd(),vd(),jd()}function jd(){if(5!==Lc)return!1;var e=zc,t=Uc;Uc=0;var n=Le(Bc),r=D.T,a=I.p;try{I.p=32>n?32:n,D.T=null,n=Wc,Wc=null;var s=zc,l=Bc;if(Lc=0,Fc=zc=null,Bc=0,0!==(6&hc))throw Error(i(331));var o=hc;if(hc|=4,oc(s.current),ec(s,s.current,l,n),hc=o,Rd(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ge,s)}catch(c){}return!0}finally{I.p=a,D.T=r,bd(e,t)}}function wd(e,t,n){t=$r(n,t),null!==(e=bs(e,t=Sl(e.stateNode,t,2),2))&&(Pe(e,2),Id(e))}function Nd(e,t,n){if(3===e.tag)wd(e,e,n);else for(;null!==t;){if(3===t.tag){wd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Rc||!Rc.has(r))){e=$r(n,e),null!==(r=bs(t,n=El(2),2))&&(Ol(n,r,t,e),Pe(r,2),Id(r));break}}t=t.return}}function kd(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(jc=!0,a.add(n),e=Ad.bind(null,e,t,n),t.then(e,e))}function Ad(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pc===e&&(xc&n)===n&&(4===Nc||3===Nc&&(62914560&xc)===xc&&300>oe()-Pc?0===(2&hc)&&td(e,0):_c|=n,Sc===xc&&(Sc=0)),Id(e)}function _d(e,t){0===t&&(t=Oe()),null!==(e=Tr(e,t))&&(Pe(e,t),Id(e))}function Cd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_d(e,n)}function Sd(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),_d(e,n)}var Ed=null,Od=null,Md=!1,Pd=!1,Td=!1,Dd=0;function Id(e){e!==Od&&null===e.next&&(null===Od?Ed=Od=e:Od=Od.next=e),Pd=!0,Md||(Md=!0,ku(function(){0!==(6&hc)?ae(de,Ld):zd()}))}function Rd(e,t){if(!Td&&Pd){Td=!0;do{for(var n=!1,r=Ed;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var i=r.suspendedLanes,l=r.pingedLanes;s=(1<<31-ye(42|e)+1)-1,s=201326741&(s&=a&~(i&~l))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Ud(r,s))}else s=xc,0===(3&(s=Ce(r,r===pc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Se(r,s)||(n=!0,Ud(r,s));r=r.next}}while(n);Td=!1}}function Ld(){zd()}function zd(){Pd=Md=!1;var e=0;0!==Dd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==yu&&(yu=e,!0);return yu=null,!1}()&&(e=Dd);for(var t=oe(),n=null,r=Ed;null!==r;){var a=r.next,s=Fd(r,t);0===s?(r.next=null,null===n?Ed=a:n.next=a,null===a&&(Od=n)):(n=r,(0!==e||0!==(3&s))&&(Pd=!0)),r=a}0!==Lc&&5!==Lc||Rd(e,!1),0!==Dd&&(Dd=0)}function Fd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-ye(s),l=1<<i,o=a[i];-1===o?0!==(l&n)&&0===(l&r)||(a[i]=Ee(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(n=xc,n=Ce(e,e===(t=pc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===gc||9===gc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Se(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Le(n)){case 2:case 8:n=ue;break;case 32:default:n=me;break;case 268435456:n=pe}return r=Bd.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Bd(e,t){if(0!==Lc&&5!==Lc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(yd()&&e.callbackNode!==n)return null;var r=xc;return 0===(r=Ce(e,e===pc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Fd(e,oe()),null!=e.callbackNode&&e.callbackNode===n?Bd.bind(null,e):null)}function Ud(e,t){if(yd())return null;Yc(e,t,!0)}function Wd(){if(0===Dd){var e=Ha;0===e&&(e=Ne,0===(261888&(Ne<<=1))&&(Ne=256)),Dd=e}return Dd}function Hd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Mt(""+e)}function qd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Kd=0;Kd<kr.length;Kd++){var Vd=kr[Kd];Ar(Vd.toLowerCase(),"on"+(Vd[0].toUpperCase()+Vd.slice(1)))}Ar(xr,"onAnimationEnd"),Ar(gr,"onAnimationIteration"),Ar(vr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(br,"onTransitionRun"),Ar(yr,"onTransitionStart"),Ar(jr,"onTransitionCancel"),Ar(wr,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$d=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gd));function Yd(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=c;try{s(a)}catch(d){_r(d)}a.currentTarget=null,s=o}else for(i=0;i<r.length;i++){if(o=(l=r[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=c;try{s(a)}catch(d){_r(d)}a.currentTarget=null,s=o}}}}function Zd(e,t){var n=t[qe];void 0===n&&(n=t[qe]=new Set);var r=e+"__bubble";n.has(r)||(eu(t,e,2,!1),n.add(r))}function Qd(e,t,n){var r=0;t&&(r|=4),eu(n,e,r,t)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function Xd(e){if(!e[Jd]){e[Jd]=!0,tt.forEach(function(t){"selectionchange"!==t&&($d.has(t)||Qd(t,!1,e),Qd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Jd]||(t[Jd]=!0,Qd("selectionchange",!1,t))}}function eu(e,t,n,r){switch(_m(t)){case 2:var a=ym;break;case 8:a=jm;break;default:a=wm}n=a.bind(null,t,n,e),a=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function tu(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==l;){if(null===(i=Ze(l)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=s=i;continue e}l=l.parentNode}}r=r.return}Ft(function(){var r=s,a=Dt(n),i=[];e:{var l=Nr.get(e);if(void 0!==l){var c=nn,d=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":d="focus",c=cn;break;case"focusout":d="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case xr:case gr:case vr:c=dn;break;case wr:c=jn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=Nn}var u=0!==(4&t),m=!u&&("scroll"===e||"scrollend"===e),h=u?null!==l?l+"Capture":null:l;u=[];for(var p,f=r;null!==f;){var x=f;if(p=x.stateNode,5!==(x=x.tag)&&26!==x&&27!==x||null===p||null===h||null!=(x=Bt(f,h))&&u.push(nu(f,x,p)),m)break;f=f.return}0<u.length&&(l=new c(l,d,null,n,a),i.push({event:l,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Tt||!(d=n.relatedTarget||n.fromElement)||!Ze(d)&&!d[He])&&(c||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?Ze(d):null)&&(m=o(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=ln,x="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=bn,x="onPointerLeave",h="onPointerEnter",f="pointer"),m=null==c?l:Je(c),p=null==d?l:Je(d),(l=new u(x,f+"leave",c,n,a)).target=m,l.relatedTarget=p,x=null,Ze(a)===r&&((u=new u(h,f+"enter",d,n,a)).target=p,u.relatedTarget=m,x=u),m=x,c&&d)e:{for(u=au,f=d,p=0,x=h=c;x;x=u(x))p++;x=0;for(var g=f;g;g=u(g))x++;for(;0<p-x;)h=u(h),p--;for(;0<x-p;)f=u(f),x--;for(;p--;){if(h===f||null!==f&&h===f.alternate){u=h;break e}h=u(h),f=u(f)}u=null}else u=null;null!==c&&su(i,l,c,u,!1),null!==d&&null!==m&&su(i,m,d,u,!0)}if("select"===(c=(l=r?Je(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var v=Un;else if(In(l))if(Wn)v=Qn;else{v=Yn;var b=$n}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&St(r.elementType)&&(v=Un):v=Zn;switch(v&&(v=v(e,r))?Rn(i,v,n,a):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&yt(l,"number",l.value)),b=r?Je(r):window,e){case"focusin":(In(b)||"true"===b.contentEditable)&&(ir=b,lr=r,or=null);break;case"focusout":or=lr=ir=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,dr(i,n,a);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":dr(i,n,a)}var y;if(An)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Tn?Mn(e,n)&&(j="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(j="onCompositionStart");j&&(Sn&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==j?"onCompositionEnd"===j&&Tn&&(y=Gt()):(Kt="value"in(qt=a)?qt.value:qt.textContent,Tn=!0)),0<(b=ru(r,j)).length&&(j=new mn(j,e,null,n,a),i.push({event:j,listeners:b}),y?j.data=y:null!==(y=Pn(n))&&(j.data=y))),(y=Cn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(On=!0,En);case"textInput":return(e=t.data)===En&&On?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!An&&Mn(e,t)?(e=Gt(),Vt=Kt=qt=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(j=ru(r,"onBeforeInput")).length&&(b=new mn("onBeforeInput","beforeinput",null,n,a),i.push({event:b,listeners:j}),b.data=y)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Hd((a[We]||null).action),i=r.submitter;i&&null!==(t=(t=i[We]||null)?Hd(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var l=new nn("action","action",null,r,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Dd){var e=i?qd(a,i):new FormData(a);el(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"===typeof s&&(l.preventDefault(),e=i?qd(a,i):new FormData(a),el(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,r,n,a)}Yd(i,t)})}function nu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ru(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Bt(e,n))&&r.unshift(nu(e,a,s)),null!=(a=Bt(e,t))&&r.push(nu(e,a,s))),3===e.tag)return r;e=e.return}return[]}function au(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function su(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,null!==o&&o===r)break;5!==l&&26!==l&&27!==l||null===c||(o=c,a?null!=(c=Bt(n,s))&&i.unshift(nu(n,c,o)):a||null!=(c=Bt(n,s))&&i.push(nu(n,c,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var iu=/\r\n?/g,lu=/\u0000|\uFFFD/g;function ou(e){return("string"===typeof e?e:""+e).replace(iu,"\n").replace(lu,"")}function cu(e,t){return t=ou(t),ou(e)===t}function du(e,t,n,r,a,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Ct(e,r,s);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Mt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&du(e,t,"name",a.name,a,null),du(e,t,"formEncType",a.formEncType,a,null),du(e,t,"formMethod",a.formMethod,a,null),du(e,t,"formTarget",a.formTarget,a,null)):(du(e,t,"encType",a.encType,a,null),du(e,t,"method",a.method,a,null),du(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Mt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"onScroll":null!=r&&Zd("scroll",e);break;case"onScrollEnd":null!=r&&Zd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Mt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Zd("beforetoggle",e),Zd("toggle",e),ot(e,"popover",r);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ot(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ot(e,n=Et.get(n)||n,r)}}function uu(e,t,n,r,a,s){switch(n){case"style":Ct(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Zd("scroll",e);break;case"onScrollEnd":null!=r&&Zd("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(s=null!=(s=e[We]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ot(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function mu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zd("error",e),Zd("load",e);var r,a=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var l=n[r];if(null!=l)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:du(e,t,r,l,n,null)}}return s&&du(e,t,"srcSet",n.srcSet,n,null),void(a&&du(e,t,"src",n.src,n,null));case"input":Zd("invalid",e);var o=r=l=s=null,c=null,d=null;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];if(null!=u)switch(a){case"name":s=u;break;case"type":l=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:du(e,t,a,u,n,null)}}return void bt(e,r,o,c,d,l,s,!1);case"select":for(s in Zd("invalid",e),a=l=r=null,n)if(n.hasOwnProperty(s)&&null!=(o=n[s]))switch(s){case"value":r=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:du(e,t,s,o,n,null)}return t=r,n=l,e.multiple=!!a,void(null!=t?jt(e,!!a,t,!1):null!=n&&jt(e,!!a,n,!0));case"textarea":for(l in Zd("invalid",e),r=s=a=null,n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))switch(l){case"value":a=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(i(91));break;default:du(e,t,l,o,n,null)}return void Nt(e,a,s,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else du(e,t,c,a,n,null);return;case"dialog":Zd("beforetoggle",e),Zd("toggle",e),Zd("cancel",e),Zd("close",e);break;case"iframe":case"object":Zd("load",e);break;case"video":case"audio":for(a=0;a<Gd.length;a++)Zd(Gd[a],e);break;case"image":Zd("error",e),Zd("load",e);break;case"details":Zd("toggle",e);break;case"embed":case"source":case"link":Zd("error",e),Zd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(a=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:du(e,t,d,a,n,null)}return;default:if(St(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(a=n[u])&&uu(e,t,u,a,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(a=n[o])&&du(e,t,o,a,n,null))}function hu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pu=null,fu=null;function xu(e){return 9===e.nodeType?e:e.ownerDocument}function gu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yu=null;var ju="function"===typeof setTimeout?setTimeout:void 0,wu="function"===typeof clearTimeout?clearTimeout:void 0,Nu="function"===typeof Promise?Promise:void 0,ku="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Nu?function(e){return Nu.resolve(null).then(e).catch(Au)}:ju;function Au(e){setTimeout(function(){throw e})}function _u(e){return"head"===e}function Cu(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===r)return e.removeChild(a),void qm(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)zu(e.ownerDocument.documentElement);else if("head"===n){zu(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var i=s.nextSibling,l=s.nodeName;s[$e]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=i}}else"body"===n&&zu(e.ownerDocument.body);n=a}while(n);qm(t)}function Su(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Eu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Eu(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ou(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Tu(e.nextSibling)))return null}return e}function Mu(e){return"$?"===e.data||"$~"===e.data}function Pu(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Tu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Du=null;function Iu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Tu(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ru(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Lu(e,t,n){switch(t=xu(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function zu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Fu=new Map,Bu=new Set;function Uu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Wu=I.d;I.d={f:function(){var e=Wu.f(),t=Xc();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?nl(t):Wu.r(e)},D:function(e){Wu.D(e),qu("dns-prefetch",e,null)},C:function(e,t){Wu.C(e,t),qu("preconnect",e,t)},L:function(e,t,n){Wu.L(e,t,n);var r=Hu;if(r&&e&&t){var a='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+gt(n.imageSizes)+'"]')):a+='[href="'+gt(e)+'"]';var s=a;switch(t){case"style":s=Vu(e);break;case"script":s=Yu(e)}Fu.has(s)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fu.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Gu(s))||"script"===t&&r.querySelector(Zu(s))||(mu(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Wu.m(e,t);var n=Hu;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Yu(e)}if(!Fu.has(s)&&(e=h({rel:"modulepreload",href:e},t),Fu.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Zu(s)))return}mu(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Wu.X(e,t);var n=Hu;if(n&&e){var r=Xe(n).hoistableScripts,a=Yu(e),s=r.get(a);s||((s=n.querySelector(Zu(a)))||(e=h({src:e,async:!0},t),(t=Fu.get(a))&&em(e,t),et(s=n.createElement("script")),mu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){Wu.S(e,t,n);var r=Hu;if(r&&e){var a=Xe(r).hoistableStyles,s=Vu(e);t=t||"default";var i=a.get(s);if(!i){var l={loading:0,preload:null};if(i=r.querySelector(Gu(s)))l.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fu.get(s))&&Xu(e,n);var o=i=r.createElement("link");et(o),mu(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ju(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:l},a.set(s,i)}}},M:function(e,t){Wu.M(e,t);var n=Hu;if(n&&e){var r=Xe(n).hoistableScripts,a=Yu(e),s=r.get(a);s||((s=n.querySelector(Zu(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=Fu.get(a))&&em(e,t),et(s=n.createElement("script")),mu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var Hu="undefined"===typeof document?null:document;function qu(e,t,n){var r=Hu;if(r&&"string"===typeof t&&t){var a=gt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Bu.has(a)||(Bu.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(mu(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Ku(e,t,n,r){var a,s,l,o,c=(c=V.current)?Uu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Vu(n.href),(r=(n=Xe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Vu(n.href);var d=Xe(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Gu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Fu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fu.set(e,n),d||(a=c,s=e,l=n,o=u.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=a.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),mu(s,"link",l),et(s),a.head.appendChild(s))))),t&&null===r)throw Error(i(528,""));return u}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yu(n),(r=(n=Xe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Vu(e){return'href="'+gt(e)+'"'}function Gu(e){return'link[rel="stylesheet"]['+e+"]"}function $u(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Yu(e){return'[src="'+gt(e)+'"]'}function Zu(e){return"script[async]"+e}function Qu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),mu(r,"style",a),Ju(r,n.precedence,e),t.instance=r;case"stylesheet":a=Vu(n.href);var s=e.querySelector(Gu(a));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=$u(n),(a=Fu.get(a))&&Xu(r,a),et(s=(e.ownerDocument||e).createElement("link"));var l=s;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),mu(s,"link",r),t.state.loading|=4,Ju(s,n.precedence,e),t.instance=s;case"script":return s=Yu(n.src),(a=e.querySelector(Zu(s)))?(t.instance=a,et(a),a):(r=n,(a=Fu.get(s))&&em(r=h({},n),a),et(a=(e=e.ownerDocument||e).createElement("script")),mu(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ju(r,n.precedence,e));return t.instance}function Ju(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var l=r[i];if(l.dataset.precedence===t)s=l;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Xu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function em(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tm=null;function nm(e,t,n){if(null===tm){var r=new Map,a=tm=new Map;a.set(n,r)}else(r=(a=tm).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[$e]||s[Ue]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var l=r.get(i);l?l.push(s):r.set(i,[s])}}return r}function rm(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function am(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sm=0;function im(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lm=null;function om(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lm=new Map,t.forEach(cm,e),lm=null,im.call(e))}function cm(e,t){if(!(4&t.state.loading)){var n=lm.get(e);if(n)var r=n.get(null);else{n=new Map,lm.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(s=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=im.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var dm={$$typeof:j,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function um(e,t,n,r,a,s,i,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Me(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Me(0),this.hiddenUpdates=Me(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function mm(e,t,n,r,a,s,i,l,o,c,d,u){return e=new um(e,t,n,i,o,c,d,u,l),t=1,!0===s&&(t|=24),s=zr(3,null,null,t),e.current=s,s.stateNode=e,(t=Fa()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},xs(s),e}function hm(e){return e?e=Rr:Rr}function pm(e,t,n,r,a,s){a=hm(a),null===r.context?r.context=a:r.pendingContext=a,(r=vs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=bs(e,r,t))&&($c(n,0,t),ys(n,e,t))}function fm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function xm(e,t){fm(e,t),(e=e.alternate)&&fm(e,t)}function gm(e){if(13===e.tag||31===e.tag){var t=Tr(e,67108864);null!==t&&$c(t,0,67108864),xm(e,67108864)}}function vm(e){if(13===e.tag||31===e.tag){var t=Vc(),n=Tr(e,t=Re(t));null!==n&&$c(n,0,t),xm(e,t)}}var bm=!0;function ym(e,t,n,r){var a=D.T;D.T=null;var s=I.p;try{I.p=2,wm(e,t,n,r)}finally{I.p=s,D.T=a}}function jm(e,t,n,r){var a=D.T;D.T=null;var s=I.p;try{I.p=8,wm(e,t,n,r)}finally{I.p=s,D.T=a}}function wm(e,t,n,r){if(bm){var a=Nm(r);if(null===a)tu(e,t,r,km,n),Im(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Sm=Rm(Sm,e,t,n,r,a),!0;case"dragenter":return Em=Rm(Em,e,t,n,r,a),!0;case"mouseover":return Om=Rm(Om,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Mm.set(s,Rm(Mm.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Pm.set(s,Rm(Pm.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Im(e,r),4&t&&-1<Dm.indexOf(e)){for(;null!==a;){var s=Qe(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=_e(s.pendingLanes);if(0!==i){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var o=1<<31-ye(i);l.entanglements[1]|=o,i&=~o}Id(s),0===(6&hc)&&(Dc=oe()+500,Rd(0,!1))}}break;case 31:case 13:null!==(l=Tr(s,2))&&$c(l,0,2),Xc(),xm(s,2)}if(null===(s=Nm(r))&&tu(e,t,r,km,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else tu(e,t,r,null,n)}}function Nm(e){return Am(e=Dt(e))}var km=null;function Am(e){if(km=null,null!==(e=Ze(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=d(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return km=e,null}function _m(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case me:case he:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Cm=!1,Sm=null,Em=null,Om=null,Mm=new Map,Pm=new Map,Tm=[],Dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Im(e,t){switch(e){case"focusin":case"focusout":Sm=null;break;case"dragenter":case"dragleave":Em=null;break;case"mouseover":case"mouseout":Om=null;break;case"pointerover":case"pointerout":Mm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pm.delete(t.pointerId)}}function Rm(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Qe(t))&&gm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lm(e){var t=Ze(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Fe(e.priority,function(){vm(n)})}else if(31===t){if(null!==(t=d(n)))return e.blockedOn=t,void Fe(e.priority,function(){vm(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nm(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&gm(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Tt=r,n.target.dispatchEvent(r),Tt=null,t.shift()}return!0}function Fm(e,t,n){zm(e)&&n.delete(t)}function Bm(){Cm=!1,null!==Sm&&zm(Sm)&&(Sm=null),null!==Em&&zm(Em)&&(Em=null),null!==Om&&zm(Om)&&(Om=null),Mm.forEach(Fm),Pm.forEach(Fm)}function Um(e,t){e.blockedOn===t&&(e.blockedOn=null,Cm||(Cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bm)))}var Wm=null;function Hm(e){Wm!==e&&(Wm=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wm===e&&(Wm=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===Am(r||n))continue;break}var s=Qe(n);null!==s&&(e.splice(t,3),t-=3,el(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function qm(e){function t(t){return Um(t,e)}null!==Sm&&Um(Sm,e),null!==Em&&Um(Em,e),null!==Om&&Um(Om,e),Mm.forEach(t),Pm.forEach(t);for(var n=0;n<Tm.length;n++){var r=Tm[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Tm.length&&null===(n=Tm[0]).blockedOn;)Lm(n),null===n.blockedOn&&Tm.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[We]||null;if("function"===typeof s)i||Hm(n);else if(i){var l=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[We]||null)l=i.formAction;else if(null!==Am(a))continue}else l=i.action;"function"===typeof l?n[r+1]=l:(n.splice(r,3),r-=3),Hm(n)}}}function Km(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Vm(e){this._internalRoot=e}function Gm(e){this._internalRoot=e}Gm.prototype.render=Vm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));pm(t.current,Vc(),e,t,null,null)},Gm.prototype.unmount=Vm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pm(e.current,2,null,e,null,null),Xc(),t[He]=null}},Gm.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tm.length&&0!==t&&t<Tm[n].priority;n++);Tm.splice(n,0,e),0===n&&Lm(e)}};var $m=a.version;if("19.2.3"!==$m)throw Error(i(527,$m,"19.2.3"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return u(a),e;if(s===r)return u(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var l=!1,c=a.child;c;){if(c===n){l=!0,n=a,r=s;break}if(c===r){l=!0,r=a,n=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===n){l=!0,n=s,r=a;break}if(c===r){l=!0,r=s,n=a;break}c=c.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?m(e):null)?null:e.stateNode};var Ym={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zm.isDisabled&&Zm.supportsFiber)try{ge=Zm.inject(Ym),ve=Zm}catch(Jm){}}t.createRoot=function(e,t){if(!l(e))throw Error(i(299));var n=!1,r="",a=Nl,s=kl,o=Al;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=mm(e,1,!1,null,0,n,r,null,a,s,o,Km),e[He]=t.current,Xd(e),new Vm(t)},t.hydrateRoot=function(e,t,n){if(!l(e))throw Error(i(299));var r=!1,a="",s=Nl,o=kl,c=Al,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(d=n.formState)),(t=mm(e,1,!0,t,0,r,a,d,s,o,c,Km)).context=hm(null),n=t.current,(a=vs(r=Re(r=Vc()))).callback=null,bs(n,a,r),n=r,t.current.lanes=n,Pe(t,n),Id(t),e[He]=t.current,Xd(e),new Gm(t)},t.version="19.2.3"},1098(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},1111(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},1167(e,t,n){"use strict";n.d(t,{s:()=>i,t:()=>s});var r=n(9950);function a(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=a(t,e);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():a(t[e],null)}}}}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useCallback(s(...t),t)}},1168(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]])},1214(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},1224(e,t,n){"use strict";n.d(t,{$:()=>N});var r=n(9379),a=n(3986),s=n(9950),i=n.t(s,2),l=n(1167),o=n(4414);const c=["children"],d=["children"];var u=Symbol.for("react.lazy"),m=i[" use ".trim().toString()];function h(e){return null!=e&&"object"===typeof e&&"$$typeof"in e&&e.$$typeof===u&&"_payload"in e&&("object"===typeof(t=e._payload)&&null!==t&&"then"in t);var t}function p(e){const t=x(e),n=s.forwardRef((e,n)=>{let{children:i}=e,l=(0,a.A)(e,c);h(i)&&"function"===typeof m&&(i=m(i._payload));const d=s.Children.toArray(i),u=d.find(v);if(u){const e=u.props.children,a=d.map(t=>t===u?s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null:t);return(0,o.jsx)(t,(0,r.A)((0,r.A)({},l),{},{ref:n,children:s.isValidElement(e)?s.cloneElement(e,void 0,a):null}))}return(0,o.jsx)(t,(0,r.A)((0,r.A)({},l),{},{ref:n,children:i}))});return n.displayName="".concat(e,".Slot"),n}var f=p("Slot");function x(e){const t=s.forwardRef((e,t)=>{let{children:n}=e,i=(0,a.A)(e,d);if(h(n)&&"function"===typeof m&&(n=m(n._payload)),s.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),a=function(e,t){const n=(0,r.A)({},t);for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?n[a]=function(){const e=i(...arguments);return s(...arguments),e}:s&&(n[a]=s):"style"===a?n[a]=(0,r.A)((0,r.A)({},s),i):"className"===a&&(n[a]=[s,i].filter(Boolean).join(" "))}return(0,r.A)((0,r.A)({},e),n)}(i,n.props);return n.type!==s.Fragment&&(a.ref=t?(0,l.t)(t,e):e),s.cloneElement(n,a)}return s.Children.count(n)>1?s.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var g=Symbol("radix.slottable");function v(e){return s.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===g}var b=n(4364),y=n(90);const j=["className","variant","size","asChild"],w=(0,b.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),N=s.forwardRef((e,t)=>{let{className:n,variant:s,size:i,asChild:l=!1}=e,c=(0,a.A)(e,j);const d=l?f:"button";return(0,o.jsx)(d,(0,r.A)({className:(0,y.cn)(w({variant:s,size:i,className:n})),ref:t},c))});N.displayName="Button"},1311(e,t,n){"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=n(3539),s=n(1214),i=n(9115);function l(e,t,n,d){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return o(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,s]of t.entries()){if(!1===n(e.get(a),s,a,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return c(e,t,n,r);const a=Object.keys(t);if(null==e||s.isPrimitive(e))return 0===a.length;if(0===a.length)return!0;if(null!==r&&void 0!==r&&r.has(t))return r.get(t)===e;null===r||void 0===r||r.set(t,e);try{for(let i=0;i<a.length;i++){const l=a[i];if(!s.isPrimitive(e)&&!(l in e))return!1;if(void 0===t[l]&&void 0!==e[l])return!1;if(null===t[l]&&null!==e[l])return!1;if(!n(e[l],t[l],l,e,t,r))return!1}return!0}finally{null===r||void 0===r||r.delete(t)}}(e,t,n,d);case"function":return Object.keys(t).length>0?l(e,r({},t),n,d):i.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:i.eq(e,t)}}function o(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let s=0;s<t.length;s++){const i=t[s];let l=!1;for(let o=0;o<e.length;o++){if(a.has(o))continue;let c=!1;if(n(e[o],i,s,e,t,r)&&(c=!0),c){a.add(o),l=!0;break}}if(!l)return!1}return!0}function c(e,t,n,r){return 0===t.size||e instanceof Set&&o([...e],[...t],n,r)}t.isMatchWith=function e(t,n,r){return"function"!==typeof r?e(t,n,()=>{}):l(t,n,function e(t,n,a,s,i,o){const c=r(t,n,a,s,i,o);return void 0!==c?Boolean(c):l(t,n,e,o)},new Map)},t.isSetMatch=c},1352(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(1085)},1464(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},1558(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},1640(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1810),a=n(5825),s=n(3679),i=n(4090);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?i.matchesProperty(e[0],e[1]):s.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},1641(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},1810(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},1830(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},1850(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1855(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},1863(e,t,n){"use strict";var r=n(9950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=o.T,n=i.p;try{if(o.T=null,i.p=2,e)return e()}finally{o.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:s}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return o.H.useFormState(e,t,n)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.2.3"},1921(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7108);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},1946(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},1983(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var j=y.prototype=new b;j.constructor=y,x(j,v.prototype),j.isPureReactComponent=!0;var w=Array.isArray;function N(){}var k={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function _(e,t,r){var a=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:r}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,a,s,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o,c,d=!1;if(null===e)d=!0;else switch(l){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0;break;case m:return O((d=e._init)(e._payload),t,a,s,i)}}if(d)return i=i(e),d=""===s?"."+E(e,0):s,w(i)?(a="",null!=d&&(a=d.replace(S,"$&/")+"/"),O(i,t,a,"",function(e){return e})):null!=i&&(C(i)&&(o=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(S,"$&/")+"/")+d,i=_(o.type,c,o.props)),t.push(i)),1;d=0;var u,h=""===s?".":s+":";if(w(e))for(var f=0;f<e.length;f++)d+=O(s=e[f],t,a,l=h+E(s,f),i);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(s=e.next()).done;)d+=O(s=s.value,t,a,l=h+E(s,f++),i);else if("object"===l){if("function"===typeof e.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function M(e,t,n){if(null==e)return e;var r=[],a=0;return O(e,r,"","",function(e){return t.call(n,e,a++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=h,t.Children=D,t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=y,t.StrictMode=s,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=x({},e.props),a=e.key;if(null!=t)for(s in void 0!==t.key&&(a=""+t.key),t)!A.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var i=Array(s),l=0;l<s;l++)i[l]=arguments[l+2];r.children=i}return _(e.type,a,r)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},t.createElement=function(e,t,n){var r,a={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)A.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var l=Array(i),o=0;o<i;o++)l[o]=arguments[o+2];a.children=l}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return _(e,s,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),a=k.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(N,T)}catch(s){T(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useEffectEvent=function(e){return k.H.useEffectEvent(e)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.2.3"},2004(e,t,n){"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function a(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.d(t,{$:()=>a})},2033(e,t,n){"use strict";n.d(t,{l$:()=>C,oR:()=>b});var r=n(9379),a=n(3986),s=n(9950),i=n(7119);const l=["message"];const o=Array(12).fill(0),c=e=>{let{visible:t,className:n}=e;return s.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},s.createElement("div",{className:"sonner-spinner"},o.map((e,t)=>s.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(t)}))))},d=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),u=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),m=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),h=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),p=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},s.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let f=1;const x=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n}=e,s=(0,a.A)(e,l),i="number"===typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:f++,o=this.toasts.find(e=>e.id===i),c=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(t=>t.id===i?(this.publish((0,r.A)((0,r.A)((0,r.A)({},t),e),{},{id:i,title:n})),(0,r.A)((0,r.A)((0,r.A)({},t),e),{},{id:i,dismissible:c,title:n})):t):this.addToast((0,r.A)((0,r.A)({title:n},s),{},{dismissible:c,id:i})),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create((0,r.A)((0,r.A)({},t),{},{message:e})),this.error=(e,t)=>this.create((0,r.A)((0,r.A)({},t),{},{message:e,type:"error"})),this.success=(e,t)=>this.create((0,r.A)((0,r.A)({},t),{},{type:"success",message:e})),this.info=(e,t)=>this.create((0,r.A)((0,r.A)({},t),{},{type:"info",message:e})),this.warning=(e,t)=>this.create((0,r.A)((0,r.A)({},t),{},{type:"warning",message:e})),this.loading=(e,t)=>this.create((0,r.A)((0,r.A)({},t),{},{type:"loading",message:e})),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create((0,r.A)((0,r.A)({},t),{},{promise:e,type:"loading",message:t.loading,description:"function"!==typeof t.description?t.description:void 0})));const a=Promise.resolve(e instanceof Function?e():e);let i,l=void 0!==n;const o=a.then(async e=>{i=["resolve",e];if(s.isValidElement(e))l=!1,this.create({id:n,type:"default",message:e});else if(g(e)&&!e.ok){l=!1;const a="function"===typeof t.error?await t.error("HTTP error! status: ".concat(e.status)):t.error,i="function"===typeof t.description?await t.description("HTTP error! status: ".concat(e.status)):t.description,o="object"===typeof a&&!s.isValidElement(a)?a:{message:a};this.create((0,r.A)({id:n,type:"error",description:i},o))}else if(e instanceof Error){l=!1;const a="function"===typeof t.error?await t.error(e):t.error,i="function"===typeof t.description?await t.description(e):t.description,o="object"===typeof a&&!s.isValidElement(a)?a:{message:a};this.create((0,r.A)({id:n,type:"error",description:i},o))}else if(void 0!==t.success){l=!1;const a="function"===typeof t.success?await t.success(e):t.success,i="function"===typeof t.description?await t.description(e):t.description,o="object"===typeof a&&!s.isValidElement(a)?a:{message:a};this.create((0,r.A)({id:n,type:"success",description:i},o))}}).catch(async e=>{if(i=["reject",e],void 0!==t.error){l=!1;const a="function"===typeof t.error?await t.error(e):t.error,i="function"===typeof t.description?await t.description(e):t.description,o="object"===typeof a&&!s.isValidElement(a)?a:{message:a};this.create((0,r.A)({id:n,type:"error",description:i},o))}}).finally(()=>{l&&(this.dismiss(n),n=void 0),null==t.finally||t.finally.call(t)}),c=()=>new Promise((e,t)=>o.then(()=>"reject"===i[0]?t(i[1]):e(i[1])).catch(t));return"string"!==typeof n&&"number"!==typeof n?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,t)=>{const n=(null==t?void 0:t.id)||f++;return this.create((0,r.A)({jsx:e(n),id:n},t)),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},g=e=>e&&"object"===typeof e&&"ok"in e&&"boolean"===typeof e.ok&&"status"in e&&"number"===typeof e.status,v=(e,t)=>{const n=(null==t?void 0:t.id)||f++;return x.addToast((0,r.A)((0,r.A)({title:e},t),{},{id:n})),n},b=Object.assign(v,{success:x.success,info:x.info,warning:x.warning,error:x.error,custom:x.custom,message:x.message,promise:x.promise,dismiss:x.dismiss,loading:x.loading},{getHistory:()=>x.toasts,getToasts:()=>x.getActiveToasts()});function y(e){return void 0!==e.label}!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const j=3,w=14;function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}const k=e=>{var t,n,a,i,l,o,f,x,g;const{invert:v,toast:b,unstyled:j,interacting:w,setHeights:k,visibleToasts:A,heights:_,index:C,toasts:S,expanded:E,removeToast:O,defaultRichColors:M,closeButton:P,style:T,cancelButtonStyle:D,actionButtonStyle:I,className:R="",descriptionClassName:L="",duration:z,position:F,gap:B,expandByDefault:U,classNames:W,icons:H,closeButtonAriaLabel:q="Close toast"}=e,[K,V]=s.useState(null),[G,$]=s.useState(null),[Y,Z]=s.useState(!1),[Q,J]=s.useState(!1),[X,ee]=s.useState(!1),[te,ne]=s.useState(!1),[re,ae]=s.useState(!1),[se,ie]=s.useState(0),[le,oe]=s.useState(0),ce=s.useRef(b.duration||z||4e3),de=s.useRef(null),ue=s.useRef(null),me=0===C,he=C+1<=A,pe=b.type,fe=!1!==b.dismissible,xe=b.className||"",ge=b.descriptionClassName||"",ve=s.useMemo(()=>_.findIndex(e=>e.toastId===b.id)||0,[_,b.id]),be=s.useMemo(()=>{var e;return null!=(e=b.closeButton)?e:P},[b.closeButton,P]),ye=s.useMemo(()=>b.duration||z||4e3,[b.duration,z]),je=s.useRef(0),we=s.useRef(0),Ne=s.useRef(0),ke=s.useRef(null),[Ae,_e]=F.split("-"),Ce=s.useMemo(()=>_.reduce((e,t,n)=>n>=ve?e:e+t.height,0),[_,ve]),Se=(()=>{const[e,t]=s.useState(document.hidden);return s.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),Ee=b.invert||v,Oe="loading"===pe;we.current=s.useMemo(()=>ve*B+Ce,[ve,Ce]),s.useEffect(()=>{ce.current=ye},[ye]),s.useEffect(()=>{Z(!0)},[]),s.useEffect(()=>{const e=ue.current;if(e){const t=e.getBoundingClientRect().height;return oe(t),k(e=>[{toastId:b.id,height:t,position:b.position},...e]),()=>k(e=>e.filter(e=>e.toastId!==b.id))}},[k,b.id]),s.useLayoutEffect(()=>{if(!Y)return;const e=ue.current,t=e.style.height;e.style.height="auto";const n=e.getBoundingClientRect().height;e.style.height=t,oe(n),k(e=>e.find(e=>e.toastId===b.id)?e.map(e=>e.toastId===b.id?(0,r.A)((0,r.A)({},e),{},{height:n}):e):[{toastId:b.id,height:n,position:b.position},...e])},[Y,b.title,b.description,k,b.id,b.jsx,b.action,b.cancel]);const Me=s.useCallback(()=>{J(!0),ie(we.current),k(e=>e.filter(e=>e.toastId!==b.id)),setTimeout(()=>{O(b)},200)},[b,O,k,we]);s.useEffect(()=>{if(b.promise&&"loading"===pe||b.duration===1/0||"loading"===b.type)return;let e;return E||w||Se?(()=>{if(Ne.current<je.current){const e=(new Date).getTime()-je.current;ce.current=ce.current-e}Ne.current=(new Date).getTime()})():ce.current!==1/0&&(je.current=(new Date).getTime(),e=setTimeout(()=>{null==b.onAutoClose||b.onAutoClose.call(b,b),Me()},ce.current)),()=>clearTimeout(e)},[E,w,b,pe,Se,Me]),s.useEffect(()=>{b.delete&&(Me(),null==b.onDismiss||b.onDismiss.call(b,b))},[Me,b.delete]);const Pe=b.icon||(null==H?void 0:H[pe])||(e=>{switch(e){case"success":return d;case"info":return m;case"warning":return u;case"error":return h;default:return null}})(pe);var Te,De;return s.createElement("li",{tabIndex:0,ref:ue,className:N(R,xe,null==W?void 0:W.toast,null==b||null==(t=b.classNames)?void 0:t.toast,null==W?void 0:W.default,null==W?void 0:W[pe],null==b||null==(n=b.classNames)?void 0:n[pe]),"data-sonner-toast":"","data-rich-colors":null!=(Te=b.richColors)?Te:M,"data-styled":!Boolean(b.jsx||b.unstyled||j),"data-mounted":Y,"data-promise":Boolean(b.promise),"data-swiped":re,"data-removed":Q,"data-visible":he,"data-y-position":Ae,"data-x-position":_e,"data-index":C,"data-front":me,"data-swiping":X,"data-dismissible":fe,"data-type":pe,"data-invert":Ee,"data-swipe-out":te,"data-swipe-direction":G,"data-expanded":Boolean(E||U&&Y),"data-testid":b.testId,style:(0,r.A)((0,r.A)({"--index":C,"--toasts-before":C,"--z-index":S.length-C,"--offset":"".concat(Q?se:we.current,"px"),"--initial-height":U?"auto":"".concat(le,"px")},T),b.style),onDragEnd:()=>{ee(!1),V(null),ke.current=null},onPointerDown:e=>{2!==e.button&&!Oe&&fe&&(de.current=new Date,ie(we.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(ee(!0),ke.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n;if(te||!fe)return;ke.current=null;const r=Number((null==(e=ue.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),a=Number((null==(t=ue.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),s=(new Date).getTime()-(null==(n=de.current)?void 0:n.getTime()),i="x"===K?r:a,l=Math.abs(i)/s;if(Math.abs(i)>=45||l>.11)return ie(we.current),null==b.onDismiss||b.onDismiss.call(b,b),$("x"===K?r>0?"right":"left":a>0?"down":"up"),Me(),void ne(!0);var o,c;null==(o=ue.current)||o.style.setProperty("--swipe-amount-x","0px"),null==(c=ue.current)||c.style.setProperty("--swipe-amount-y","0px"),ae(!1),ee(!1),V(null)},onPointerMove:t=>{var n,r,a;if(!ke.current||!fe)return;if((null==(n=window.getSelection())?void 0:n.toString().length)>0)return;const s=t.clientY-ke.current.y,i=t.clientX-ke.current.x;var l;const o=null!=(l=e.swipeDirections)?l:function(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}(F);!K&&(Math.abs(i)>1||Math.abs(s)>1)&&V(Math.abs(i)>Math.abs(s)?"x":"y");let c={x:0,y:0};const d=e=>1/(1.5+Math.abs(e)/20);if("y"===K){if(o.includes("top")||o.includes("bottom"))if(o.includes("top")&&s<0||o.includes("bottom")&&s>0)c.y=s;else{const e=s*d(s);c.y=Math.abs(e)<Math.abs(s)?e:s}}else if("x"===K&&(o.includes("left")||o.includes("right")))if(o.includes("left")&&i<0||o.includes("right")&&i>0)c.x=i;else{const e=i*d(i);c.x=Math.abs(e)<Math.abs(i)?e:i}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&ae(!0),null==(r=ue.current)||r.style.setProperty("--swipe-amount-x","".concat(c.x,"px")),null==(a=ue.current)||a.style.setProperty("--swipe-amount-y","".concat(c.y,"px"))}},be&&!b.jsx&&"loading"!==pe?s.createElement("button",{"aria-label":q,"data-disabled":Oe,"data-close-button":!0,onClick:Oe||!fe?()=>{}:()=>{Me(),null==b.onDismiss||b.onDismiss.call(b,b)},className:N(null==W?void 0:W.closeButton,null==b||null==(a=b.classNames)?void 0:a.closeButton)},null!=(De=null==H?void 0:H.close)?De:p):null,(pe||b.icon||b.promise)&&null!==b.icon&&(null!==(null==H?void 0:H[pe])||b.icon)?s.createElement("div",{"data-icon":"",className:N(null==W?void 0:W.icon,null==b||null==(i=b.classNames)?void 0:i.icon)},b.promise||"loading"===b.type&&!b.icon?b.icon||function(){var e,t;return(null==H?void 0:H.loading)?s.createElement("div",{className:N(null==W?void 0:W.loader,null==b||null==(t=b.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===pe},H.loading):s.createElement(c,{className:N(null==W?void 0:W.loader,null==b||null==(e=b.classNames)?void 0:e.loader),visible:"loading"===pe})}():null,"loading"!==b.type?Pe:null):null,s.createElement("div",{"data-content":"",className:N(null==W?void 0:W.content,null==b||null==(l=b.classNames)?void 0:l.content)},s.createElement("div",{"data-title":"",className:N(null==W?void 0:W.title,null==b||null==(o=b.classNames)?void 0:o.title)},b.jsx?b.jsx:"function"===typeof b.title?b.title():b.title),b.description?s.createElement("div",{"data-description":"",className:N(L,ge,null==W?void 0:W.description,null==b||null==(f=b.classNames)?void 0:f.description)},"function"===typeof b.description?b.description():b.description):null),s.isValidElement(b.cancel)?b.cancel:b.cancel&&y(b.cancel)?s.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||D,onClick:e=>{y(b.cancel)&&fe&&(null==b.cancel.onClick||b.cancel.onClick.call(b.cancel,e),Me())},className:N(null==W?void 0:W.cancelButton,null==b||null==(x=b.classNames)?void 0:x.cancelButton)},b.cancel.label):null,s.isValidElement(b.action)?b.action:b.action&&y(b.action)?s.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||I,onClick:e=>{y(b.action)&&(null==b.action.onClick||b.action.onClick.call(b.action,e),e.defaultPrevented||Me())},className:N(null==W?void 0:W.actionButton,null==b||null==(g=b.classNames)?void 0:g.actionButton)},b.action.label):null)};function A(){if("undefined"===typeof window)return"ltr";if("undefined"===typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function _(e,t){const n={};return[e,t].forEach((e,t)=>{const r=1===t,a=r?"--mobile-offset":"--offset",s=r?"16px":"24px";function i(e){["top","right","bottom","left"].forEach(t=>{n["".concat(a,"-").concat(t)]="number"===typeof e?"".concat(e,"px"):e})}"number"===typeof e||"string"===typeof e?i(e):"object"===typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?n["".concat(a,"-").concat(t)]=s:n["".concat(a,"-").concat(t)]="number"===typeof e[t]?"".concat(e[t],"px"):e[t]}):i(s)}),n}const C=s.forwardRef(function(e,t){const{id:n,invert:a,position:l="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:d,className:u,offset:m,mobileOffset:h,theme:p="light",richColors:f,duration:g,style:v,visibleToasts:b=j,toastOptions:y,dir:N=A(),gap:C=w,icons:S,containerAriaLabel:E="Notifications"}=e,[O,M]=s.useState([]),P=s.useMemo(()=>n?O.filter(e=>e.toasterId===n):O.filter(e=>!e.toasterId),[O,n]),T=s.useMemo(()=>Array.from(new Set([l].concat(P.filter(e=>e.position).map(e=>e.position)))),[P,l]),[D,I]=s.useState([]),[R,L]=s.useState(!1),[z,F]=s.useState(!1),[B,U]=s.useState("system"!==p?p:"undefined"!==typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=s.useRef(null),H=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=s.useRef(null),K=s.useRef(!1),V=s.useCallback(e=>{M(t=>{var n;return(null==(n=t.find(t=>t.id===e.id))?void 0:n.delete)||x.dismiss(e.id),t.filter(t=>{let{id:n}=t;return n!==e.id})})},[]);return s.useEffect(()=>x.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{M(t=>t.map(t=>t.id===e.id?(0,r.A)((0,r.A)({},t),{},{delete:!0}):t))}):setTimeout(()=>{i.flushSync(()=>{M(t=>{const n=t.findIndex(t=>t.id===e.id);return-1!==n?[...t.slice(0,n),(0,r.A)((0,r.A)({},t[n]),e),...t.slice(n+1)]:[e,...t]})})})}),[O]),s.useEffect(()=>{if("system"!==p)return void U(p);if("system"===p&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),"undefined"===typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",e=>{let{matches:t}=e;U(t?"dark":"light")})}catch(t){e.addListener(e=>{let{matches:t}=e;try{U(t?"dark":"light")}catch(n){console.error(n)}})}},[p]),s.useEffect(()=>{O.length<=1&&L(!1)},[O]),s.useEffect(()=>{const e=e=>{var t;var n;o.every(t=>e[t]||e.code===t)&&(L(!0),null==(n=W.current)||n.focus());"Escape"!==e.code||document.activeElement!==W.current&&!(null==(t=W.current)?void 0:t.contains(document.activeElement))||L(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o]),s.useEffect(()=>{if(W.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,K.current=!1)}},[W.current]),s.createElement("section",{ref:t,"aria-label":"".concat(E," ").concat(H),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((t,n)=>{var i;const[l,o]=t.split("-");return P.length?s.createElement("ol",{key:t,dir:"auto"===N?A():N,tabIndex:-1,ref:W,className:u,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":l,"data-x-position":o,style:(0,r.A)((0,r.A)({"--front-toast-height":"".concat((null==(i=D[0])?void 0:i.height)||0,"px"),"--width":"".concat(356,"px"),"--gap":"".concat(C,"px")},v),_(m,h)),onBlur:e=>{K.current&&!e.currentTarget.contains(e.relatedTarget)&&(K.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||K.current||(K.current=!0,q.current=e.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{z||L(!1)},onDragEnd:()=>L(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||F(!0)},onPointerUp:()=>F(!1)},P.filter(e=>!e.position&&0===n||e.position===t).map((n,r)=>{var i,l;return s.createElement(k,{key:n.id,icons:S,index:r,toast:n,defaultRichColors:f,duration:null!=(i=null==y?void 0:y.duration)?i:g,className:null==y?void 0:y.className,descriptionClassName:null==y?void 0:y.descriptionClassName,invert:a,visibleToasts:b,closeButton:null!=(l=null==y?void 0:y.closeButton)?l:d,interacting:z,position:t,style:null==y?void 0:y.style,unstyled:null==y?void 0:y.unstyled,classNames:null==y?void 0:y.classNames,cancelButtonStyle:null==y?void 0:y.cancelButtonStyle,actionButtonStyle:null==y?void 0:y.actionButtonStyle,closeButtonAriaLabel:null==y?void 0:y.closeButtonAriaLabel,removeToast:V,toasts:P.filter(e=>e.position==n.position),heights:D.filter(e=>e.position==n.position),setHeights:I,expandByDefault:c,gap:C,expanded:R,swipeDirections:e.swipeDirections})})):null}))})},2239(e,t,n){e.exports=n(7384).uniqBy},2540(e,t,n){e.exports=n(3177).isPlainObject},2718(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7431),a=n(7740),s=n(3539),i=n(9115);t.isIterateeCall=function(e,t,n){return!!s.isObject(n)&&(!!("number"===typeof t&&a.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&i.eq(n[t],e))}},2742(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6907);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:a=!1,trailing:s=!0,maxWait:i}=n,l=Array(2);let o;a&&(l[0]="leading"),s&&(l[1]="trailing");let c=null;const d=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o=e.apply(this,n),c=null},t,{edges:l}),u=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=i&&(null===c&&(c=Date.now()),Date.now()-c>=i)?(o=e.apply(this,n),c=Date.now(),d.cancel(),d.schedule(),o):(d.apply(this,n),o)};return u.cancel=d.cancel,u.flush=()=>(d.flush(),o),u}},2897(e,t,n){var r=n(3693);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},2989(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3044(e,t,n){"use strict";e.exports=n(9940)},3177(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];if(null==n)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}},3270(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},3405(e,t,n){"use strict";n.r(t),n.d(t,{AuthProvider:()=>u,ROLES:()=>i,ROLE_LEVELS:()=>l,default:()=>m,useAuth:()=>d});var r=n(9379),a=n(9950),s=n(4414);const i={GUEST:"guest",MEMBER:"member",ADMIN:"admin"},l={guest:0,member:1,admin:2},o=9e5,c=(0,a.createContext)(null),d=()=>{const e=(0,a.useContext)(c);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},u=e=>{let{children:t}=e;const[n,d]=(0,a.useState)(()=>{const e=localStorage.getItem("omega-profile");if(e)try{return JSON.parse(e)}catch(t){return{displayName:"Guest",role:i.GUEST}}return{displayName:"Guest",role:i.GUEST}}),[u,m]=(0,a.useState)(()=>{const e=localStorage.getItem("omega-pin-unlock");if(e)try{const{timestamp:t}=JSON.parse(e);return Date.now()-t<o}catch(t){return!1}return!1}),[h,p]=(0,a.useState)(()=>localStorage.getItem("omega-admin-pin")||"1234");(0,a.useEffect)(()=>{localStorage.setItem("omega-profile",JSON.stringify(n))},[n]),(0,a.useEffect)(()=>{if(!u)return;const e=setInterval(()=>{const e=localStorage.getItem("omega-pin-unlock");if(e)try{const{timestamp:t}=JSON.parse(e);Date.now()-t>=o&&(m(!1),localStorage.removeItem("omega-pin-unlock"))}catch(t){m(!1)}},3e4);return()=>clearInterval(e)},[u]);const f=(0,a.useCallback)(e=>{d(t=>(0,r.A)((0,r.A)({},t),e))},[]),x=(0,a.useCallback)(e=>l[n.role]>=l[e],[n.role]),g=(0,a.useCallback)(()=>x(i.ADMIN)&&u,[x,u]),v=(0,a.useCallback)(e=>e===h&&(m(!0),localStorage.setItem("omega-pin-unlock",JSON.stringify({timestamp:Date.now()})),!0),[h]),b=(0,a.useCallback)(()=>{m(!1),localStorage.removeItem("omega-pin-unlock")},[]),y=(0,a.useCallback)(e=>{p(e),localStorage.setItem("omega-admin-pin",e)},[]),j=(0,a.useCallback)(()=>x(i.ADMIN)?u?{locked:!1,reason:null,message:"Admin access granted"}:{locked:!0,reason:"PIN_REQUIRED",message:"PIN verification required"}:{locked:!0,reason:"ROLE_REQUIRED",message:"Admin role required"},[x,u]),w=(0,a.useCallback)(()=>{if(!u)return 0;const e=localStorage.getItem("omega-pin-unlock");if(e)try{const{timestamp:t}=JSON.parse(e),n=o-(Date.now()-t);return Math.max(0,n)}catch(t){return 0}return 0},[u]),N={profile:n,updateProfile:f,ROLES:i,hasRole:x,pinUnlocked:u,isAdminUnlocked:g,verifyPin:v,lockAdmin:b,setNewAdminPin:y,getUnlockStatus:j,getUnlockTimeRemaining:w,PIN_UNLOCK_TIMEOUT:o,backendAuthStatus:"PLANNED",backendAuthMessage:"Backend authentication is not yet implemented. Profile is stored locally."};return(0,s.jsx)(c.Provider,{value:N,children:t})},m=c},3470(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},3539(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},3639(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},3679(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5399),a=n(9358);t.matches=function(e){return e=a.cloneDeep(e),t=>r.isMatch(t,e)}},3688(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]])},3693(e,t,n){var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3787(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7740),a=n(8316);t.isArrayLikeObject=function(e){return a.isObjectLike(e)&&r.isArrayLike(e)}},3916(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},3986(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,{A:()=>r})},4090(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5399),a=n(1083),s=n(5573),i=n(8146),l=n(5942);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=s.cloneDeep(t),function(n){const a=i.get(n,e);return void 0===a?l.has(n,e):void 0===t?void 0===a:r.isMatch(a,t)}}},4195(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},4215(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},4364(e,t,n){"use strict";n.d(t,{F:()=>c});var r=n(9379),a=n(3986),s=n(2004);const i=["class","className"],l=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,o=s.$,c=(e,t)=>n=>{var s;if(null==(null===t||void 0===t?void 0:t.variants))return o(e,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className);const{variants:c,defaultVariants:d}=t,u=Object.keys(c).map(e=>{const t=null===n||void 0===n?void 0:n[e],r=null===d||void 0===d?void 0:d[e];if(null===t)return null;const a=l(t)||l(r);return c[e][a]}),m=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),h=null===t||void 0===t||null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:n,className:s}=t,l=(0,a.A)(t,i);return Object.entries(l).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes((0,r.A)((0,r.A)({},d),m)[t]):(0,r.A)((0,r.A)({},d),m)[t]===n})?[...e,n,s]:e},[]);return o(e,u,h,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className)}},4414(e,t,n){"use strict";e.exports=n(3916)},4441(e,t,n){var r;!function(){"use strict";var a,s=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},l=!0,o="[DecimalError] ",c=o+"Invalid argument: ",d=o+"Exponent out of range: ",u=Math.floor,m=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,f=9007199254740991,x=u(1286742750677284.5),g={};function v(e,t){var n,r,a,s,i,o,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),l?S(t,m):t;if(c=e.d,d=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a){for(s<0?(r=c,s=-s,o=d.length):(r=d,a=i,o=c.length),s>(o=(i=Math.ceil(m/7))>o?i+1:o+1)&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for((o=c.length)-(s=d.length)<0&&(s=o,r=d,d=c,c=r),n=0;s;)n=(c[--s]=c[s]+d[s]+n)/p|0,c[s]%=p;for(n&&(c.unshift(n),++a),o=c.length;0==c[--o];)c.pop();return t.d=c,t.e=a,l?S(t,m):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function y(e){var t,n,r,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(s+=A(n)),s+=r;(n=7-(r=(i=e[t])+"").length)&&(s+=A(n))}else if(0===i)return"0";for(;i%10===0;)i/=10;return s+i}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,n=(r=s.d.length)<(a=e.d.length)?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},g.dividedBy=g.div=function(e){return j(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return S(j(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return N(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,n=this,r=n.constructor,s=r.precision,i=s+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(o+"NaN");if(n.s<1)throw Error(o+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(l=!1,t=j(_(n,i),_(e,i),i),l=!0,S(t,s))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E(t,e):v(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(o+"NaN");return n.s?(l=!1,t=j(n,e,0,1).times(e),l=!0,n.minus(t)):S(new r(n),a)},g.naturalExponential=g.exp=function(){return w(this)},g.naturalLogarithm=g.ln=function(){return _(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):E(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},g.squareRoot=g.sqrt=function(){var e,t,n,r,a,s,i,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(o+"NaN")}for(e=N(c),l=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=y(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),r=new d(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new d(a.toString()),a=i=(n=d.precision)+3;;)if(r=(s=r).plus(j(c,s,i+2)).times(.5),y(s.d).slice(0,i)===(t=y(r.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(S(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if("9999"!=t)break;i+=4}return l=!0,S(r,n)},g.times=g.mul=function(e){var t,n,r,a,s,i,o,c,d,u=this,m=u.constructor,h=u.d,f=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,n=u.e+e.e,(c=h.length)<(d=f.length)&&(s=h,h=f,f=s,i=c,c=d,d=i),s=[],r=i=c+d;r--;)s.push(0);for(r=d;--r>=0;){for(t=0,a=c+r;a>r;)o=s[a]+f[r]*h[a-r-1]+t,s[a--]=o%p|0,t=o/p|0;s[a]=(s[a]+t)%p|0}for(;!s[--i];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,l?S(e,m.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,s),void 0===t?t=r.rounding:b(t,0,8),S(n,e+N(n)+1,t))},g.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=O(r,!0):(b(e,0,s),void 0===t?t=a.rounding:b(t,0,8),n=O(r=S(new a(r),e+1,t),!0,e+1)),n},g.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?O(a):(b(e,0,s),void 0===t?t=i.rounding:b(t,0,8),n=O((r=S(new i(a),e+N(a)+1,t)).abs(),!1,e+N(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return S(new t(e),N(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,n,r,s,i,c,d=this,m=d.constructor,h=+(e=new m(e));if(!e.s)return new m(a);if(!(d=new m(d)).s){if(e.s<1)throw Error(o+"Infinity");return d}if(d.eq(a))return d;if(r=m.precision,e.eq(a))return S(d,r);if(c=(t=e.e)>=(n=e.d.length-1),i=d.s,c){if((n=h<0?-h:h)<=f){for(s=new m(a),t=Math.ceil(r/7+4),l=!1;n%2&&M((s=s.times(d)).d,t),0!==(n=u(n/2));)M((d=d.times(d)).d,t);return l=!0,e.s<0?new m(a).div(s):S(s,r)}}else if(i<0)throw Error(o+"NaN");return i=i<0&&1&e.d[Math.max(t,n)]?-1:1,d.s=1,l=!1,s=e.times(_(d,r+12)),l=!0,(s=w(s)).s=i,s},g.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?r=O(a,(n=N(a))<=i.toExpNeg||n>=i.toExpPos):(b(e,1,s),void 0===t?t=i.rounding:b(t,0,8),r=O(a=S(new i(a),e,t),e<=(n=N(a))||n<=i.toExpNeg,e)),r},g.toSignificantDigits=g.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,s),void 0===t?t=n.rounding:b(t,0,8)),S(new n(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=N(e),n=e.constructor;return O(e,t<=n.toExpNeg||t>=n.toExpPos)};var j=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,s;if(n!=r)s=n>r?1:-1;else for(a=s=0;a<n;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,s,i){var l,c,d,u,m,h,f,x,g,v,b,y,j,w,k,A,_,C,E=r.constructor,O=r.s==a.s?1:-1,M=r.d,P=a.d;if(!r.s)return new E(r);if(!a.s)throw Error(o+"Division by zero");for(c=r.e-a.e,_=P.length,k=M.length,x=(f=new E(O)).d=[],d=0;P[d]==(M[d]||0);)++d;if(P[d]>(M[d]||0)&&--c,(y=null==s?s=E.precision:i?s+(N(r)-N(a))+1:s)<0)return new E(0);if(y=y/7+2|0,d=0,1==_)for(u=0,P=P[0],y++;(d<k||u)&&y--;d++)j=u*p+(M[d]||0),x[d]=j/P|0,u=j%P|0;else{for((u=p/(P[0]+1)|0)>1&&(P=e(P,u),M=e(M,u),_=P.length,k=M.length),w=_,v=(g=M.slice(0,_)).length;v<_;)g[v++]=0;(C=P.slice()).unshift(0),A=P[0],P[1]>=p/2&&++A;do{u=0,(l=t(P,g,_,v))<0?(b=g[0],_!=v&&(b=b*p+(g[1]||0)),(u=b/A|0)>1?(u>=p&&(u=p-1),1==(l=t(m=e(P,u),g,h=m.length,v=g.length))&&(u--,n(m,_<h?C:P,h))):(0==u&&(l=u=1),m=P.slice()),(h=m.length)<v&&m.unshift(0),n(g,m,v),-1==l&&(l=t(P,g,_,v=g.length))<1&&(u++,n(g,_<v?C:P,v)),v=g.length):0===l&&(u++,g=[0]),x[d++]=u,l&&g[0]?g[v++]=M[w]||0:(g=[M[w]],v=1)}while((w++<k||void 0!==g[0])&&y--)}return x[0]||x.shift(),f.e=c,S(f,i?s+N(f)+1:s)}}();function w(e,t){var n,r,s,i,o,c=0,u=0,h=e.constructor,p=h.precision;if(N(e)>16)throw Error(d+N(e));if(!e.s)return new h(a);for(null==t?(l=!1,o=p):o=t,i=new h(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(o+=Math.log(m(2,u))/Math.LN10*2+5|0,n=r=s=new h(a),h.precision=o;;){if(r=S(r.times(e),o),n=n.times(++c),y((i=s.plus(j(r,n,o))).d).slice(0,o)===y(s.d).slice(0,o)){for(;u--;)s=S(s.times(s),o);return h.precision=p,null==t?(l=!0,S(s,p)):s}s=i}}function N(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function k(e,t,n){if(t>e.LN10.sd())throw l=!0,n&&(e.precision=n),Error(o+"LN10 precision limit exceeded");return S(new e(e.LN10),t)}function A(e){for(var t="";e--;)t+="0";return t}function _(e,t){var n,r,s,i,c,d,u,m,h,p=1,f=e,x=f.d,g=f.constructor,v=g.precision;if(f.s<1)throw Error(o+(f.s?"NaN":"-Infinity"));if(f.eq(a))return new g(0);if(null==t?(l=!1,m=v):m=t,f.eq(10))return null==t&&(l=!0),k(g,m);if(m+=10,g.precision=m,r=(n=y(x)).charAt(0),i=N(f),!(Math.abs(i)<15e14))return u=k(g,m+2,v).times(i+""),f=_(new g(r+"."+n.slice(1)),m-10).plus(u),g.precision=v,null==t?(l=!0,S(f,v)):f;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=y((f=f.times(e)).d)).charAt(0),p++;for(i=N(f),r>1?(f=new g("0."+n),i++):f=new g(r+"."+n.slice(1)),d=c=f=j(f.minus(a),f.plus(a),m),h=S(f.times(f),m),s=3;;){if(c=S(c.times(h),m),y((u=d.plus(j(c,new g(s),m))).d).slice(0,m)===y(d.d).slice(0,m))return d=d.times(2),0!==i&&(d=d.plus(k(g,m+2,v).times(i+""))),d=j(d,new g(p),m),g.precision=v,null==t?(l=!0,S(d,v)):d;d=u,s+=2}}function C(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=u(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),l&&(e.e>x||e.e<-x))throw Error(d+n)}else e.s=0,e.e=0,e.d=[0];return e}function S(e,t,n){var r,a,s,i,o,c,h,f,g=e.d;for(i=1,s=g[0];s>=10;s/=10)i++;if((r=t-i)<0)r+=7,a=t,h=g[f=0];else{if((f=Math.ceil((r+1)/7))>=(s=g.length))return e;for(h=s=g[f],i=1;s>=10;s/=10)i++;a=(r%=7)-7+i}if(void 0!==n&&(o=h/(s=m(10,i-a-1))%10|0,c=t<0||void 0!==g[f+1]||h%s,c=n<4?(o||c)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||c||6==n&&(r>0?a>0?h/m(10,i-a):0:g[f-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return c?(s=N(e),g.length=1,t=t-s-1,g[0]=m(10,(7-t%7)%7),e.e=u(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==r?(g.length=f,s=1,f--):(g.length=f+1,s=m(10,7-r),g[f]=a>0?(h/m(10,i-a)%m(10,a)|0)*s:0),c)for(;;){if(0==f){(g[0]+=s)==p&&(g[0]=1,++e.e);break}if(g[f]+=s,g[f]!=p)break;g[f--]=0,s=1}for(r=g.length;0===g[--r];)g.pop();if(l&&(e.e>x||e.e<-x))throw Error(d+N(e));return e}function E(e,t){var n,r,a,s,i,o,c,d,u,m,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),l?S(t,f):t;if(c=e.d,m=t.d,r=t.e,d=e.e,c=c.slice(),i=d-r){for((u=i<0)?(n=c,i=-i,o=m.length):(n=m,r=d,o=c.length),i>(a=Math.max(Math.ceil(f/7),o)+2)&&(i=a,n.length=1),n.reverse(),a=i;a--;)n.push(0);n.reverse()}else{for((u=(a=c.length)<(o=m.length))&&(o=a),a=0;a<o;a++)if(c[a]!=m[a]){u=c[a]<m[a];break}i=0}for(u&&(n=c,c=m,m=n,t.s=-t.s),o=c.length,a=m.length-o;a>0;--a)c[o++]=0;for(a=m.length;a>i;){if(c[--a]<m[a]){for(s=a;s&&0===c[--s];)c[s]=p-1;--c[s],c[a]+=p}c[a]-=m[a]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,l?S(t,f):t):new h(0)}function O(e,t,n){var r,a=N(e),s=y(e.d),i=s.length;return t?(n&&(r=n-i)>0?s=s.charAt(0)+"."+s.slice(1)+A(r):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+A(-a-1)+s,n&&(r=n-i)>0&&(s+=A(r))):a>=i?(s+=A(a+1-i),n&&(r=n-a-1)>0&&(s=s+"."+A(r))):((r=a+1)<i&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-i)>0&&(a+1===i&&(s+="."),s+=A(r))),e.s<0?"-"+s:s}function M(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(o+"Object expected");var t,n,r,a=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(u(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}i=function e(t){var n,r,a;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):C(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!h.test(e))throw Error(c+e);C(t,e)}if(s.prototype=g,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=P,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return s.config(t),s}(i),i.default=i.Decimal=i,a=new i(1),void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},4705(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>s})},4879(e,t,n){e.exports=n(8146).get},5031(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6301),a=n(1083);t.toPath=function(e){if(Array.isArray(e))return e.map(a.toKey);if("symbol"===typeof e)return[e];const t=[],n=(e=r.toString(e)).length;if(0===n)return t;let s=0,i="",l="",o=!1;for(46===e.charCodeAt(0)&&(t.push(""),s++);s<n;){const r=e[s];l?"\\"===r&&s+1<n?(s++,i+=e[s]):r===l?l="":i+=r:o?'"'===r||"'"===r?l=r:"]"===r?(o=!1,t.push(i),i=""):i+=r:"["===r?(o=!0,i&&(t.push(i),i="")):"."===r?i&&(t.push(i),i=""):i+=r,s++}return i&&t.push(i),t}},5230(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9223);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},5340(e,t,n){"use strict";e.exports=n(9487)},5399(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1311);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},5438(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var l=new a(r,s||e,i),o=n?n+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],l]:e._events[o].push(l):(e._events[o]=l,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function l(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),l.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},l.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,s=r.length,i=new Array(s);a<s;a++)i[a]=r[a].fn;return i},l.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,a,s,i){var l=n?n+e:e;if(!this._events[l])return!1;var o,c,d=this._events[l],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,a),!0;case 5:return d.fn.call(d.context,t,r,a,s),!0;case 6:return d.fn.call(d.context,t,r,a,s,i),!0}for(c=1,o=new Array(u-1);c<u;c++)o[c-1]=arguments[c];d.fn.apply(d.context,o)}else{var m,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,a);break;default:if(!o)for(m=1,o=new Array(u-1);m<u;m++)o[m-1]=arguments[m];d[c].fn.apply(d[c].context,o)}}return!0},l.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,r,a){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var l=this._events[s];if(l.fn)l.fn!==t||a&&!l.once||r&&l.context!==r||i(this,s);else{for(var o=0,c=[],d=l.length;o<d;o++)(l[o].fn!==t||a&&!l[o].once||r&&l[o].context!==r)&&c.push(l[o]);c.length?this._events[s]=1===c.length?c[0]:c:i(this,s)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l},5497(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9363),a=n(8897),s=n(2718);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const l=n.length;return l>1&&s.isIterateeCall(e,n[0],n[1])?n=[]:l>2&&s.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,a.flatten(n),["asc"])}},5573(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6537);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},5698(e,t){"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const a=n(e),s=n(t);if(a===s&&0===a){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?s-a:a-s}return 0}},5825(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8146);t.property=function(e){return function(t){return r.get(t,e)}}},5833(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5924(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5942(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1098),a=n(7431),s=n(5230),i=n(5031);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?i.toPath(t):[t],0===n.length)return!1;let l=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==l||!Object.hasOwn(l,e)){if(!((Array.isArray(l)||s.isArguments(l))&&a.isIndex(e)&&e<l.length))return!1}l=l[e]}return!0}},6135(e,t,n){e.exports=n(6633).throttle},6230(e,t,n){"use strict";n.d(t,{A:()=>m});var r=n(9379),a=n(3986),s=n(9950);const i=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],d=(0,s.forwardRef)((e,t)=>{let{color:n="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:u,className:m="",children:h,iconNode:p}=e,f=(0,a.A)(e,c);return(0,s.createElement)("svg",(0,r.A)((0,r.A)((0,r.A)({ref:t},o),{},{width:i,height:i,stroke:n,strokeWidth:u?24*Number(d)/Number(i):d,className:l("lucide",m)},!h&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(f)&&{"aria-hidden":"true"}),f),[...p.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(h)?h:[h]])}),u=["className"],m=(e,t)=>{const n=(0,s.forwardRef)((n,o)=>{let{className:c}=n,m=(0,a.A)(n,u);return(0,s.createElement)(d,(0,r.A)({ref:o,iconNode:t,className:l("lucide-".concat((h=i(e),h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),c)},m));var h});return n.displayName=i(e),n}},6243(e,t,n){"use strict";n.d(t,{Ay:()=>s,O_:()=>a});const r=(()=>{const e="undefined"!==typeof window&&window.OMEGA_CONFIG?window.OMEGA_CONFIG:{};return{API_BASE:e.API_BASE||{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"443",FAST_REFRESH:!0,REACT_APP_BUILD_TIMESTAMP:"2026-01-14T06:01:49Z",REACT_APP_USE_MOCK_DATA:"false",REACT_APP_BUILD_VERSION:"20260114060149",REACT_APP_BACKEND_URL:"https://global-search-hub-2.preview.emergentagent.com"}.REACT_APP_API_BASE||"",KIWIX_BASE:e.KIWIX_BASE||{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"443",FAST_REFRESH:!0,REACT_APP_BUILD_TIMESTAMP:"2026-01-14T06:01:49Z",REACT_APP_USE_MOCK_DATA:"false",REACT_APP_BUILD_VERSION:"20260114060149",REACT_APP_BACKEND_URL:"https://global-search-hub-2.preview.emergentagent.com"}.REACT_APP_KIWIX_BASE||"http://talon.local:8090",JELLYFIN_BASE:e.JELLYFIN_BASE||{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"443",FAST_REFRESH:!0,REACT_APP_BUILD_TIMESTAMP:"2026-01-14T06:01:49Z",REACT_APP_USE_MOCK_DATA:"false",REACT_APP_BUILD_VERSION:"20260114060149",REACT_APP_BACKEND_URL:"https://global-search-hub-2.preview.emergentagent.com"}.REACT_APP_JELLYFIN_BASE||"http://talon.local:8096",JELLYFIN_WEB_PATH:"/web/",USE_MOCK_DATA:void 0!==e.USE_MOCK_DATA&&e.USE_MOCK_DATA,endpoints:{health:"/api/cgi-bin/health.py",metrics:"/api/cgi-bin/metrics.py",sensors:"/api/cgi-bin/sensors.py",backup:"/api/cgi-bin/backup.py",keys:"/api/cgi-bin/keys.py",keysync:"/api/cgi-bin/keysync.py",dm:"/api/cgi-bin/dm.py",gps:null,hotspotStatus:"/api/hotspot/status",hotspotToggle:"/api/hotspot/toggle",hotspotClients:"/api/hotspot/clients",allyNodes:"/api/ally/nodes",allyChat:"/api/ally/chat"},polling:{healthCheck:12e3,metrics:3e3,sensors:5e3,community:3e4},request:{timeout:5e3,retryAttempts:2,retryDelay:1e3},features:{enableDiagnostics:!0,enableAnimations:!0,enableHealthPolling:!0,enableOfflineMode:!0,enableMockData:void 0!==e.USE_MOCK_DATA&&e.USE_MOCK_DATA},build:{version:"20260114060149",timestamp:"2026-01-14T06:01:49Z",environment:"production"},ui:{searchDebounce:300,toastDuration:3e3},hotspot:{ssid:"OMEGA-Hotspot",localUrl:"http://talon.local/",maxClients:10},gps:{breadcrumbLimit:100,accuracyThreshold:10,updateInterval:3e3},ally:{apiBase:e.API_BASE||{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"443",FAST_REFRESH:!0,REACT_APP_BUILD_TIMESTAMP:"2026-01-14T06:01:49Z",REACT_APP_USE_MOCK_DATA:"false",REACT_APP_BUILD_VERSION:"20260114060149",REACT_APP_BACKEND_URL:"https://global-search-hub-2.preview.emergentagent.com"}.REACT_APP_API_BASE||""},api:{apiKey:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"443",FAST_REFRESH:!0,REACT_APP_BUILD_TIMESTAMP:"2026-01-14T06:01:49Z",REACT_APP_USE_MOCK_DATA:"false",REACT_APP_BUILD_VERSION:"20260114060149",REACT_APP_BACKEND_URL:"https://global-search-hub-2.preview.emergentagent.com"}.REACT_APP_API_KEY||null,timeout:5e3},retry:{maxAttempts:3,baseDelay:1e3,backoffFactor:2,maxDelay:1e4}}})();r||console.error("OMEGA Config Error: Config not properly initialized");const a=()=>r.USE_MOCK_DATA,s=r},6301(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toString=function e(t){if(null==t)return"";if("string"===typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const n=String(t);return"0"===n&&Object.is(Number(t),-0)?"-0":n}},6391(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("circle-help",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},6429(e,t,n){"use strict";n(8577)},6479(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6537(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9690),a=n(3470);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,s,i,l)=>{const o=null===t||void 0===t?void 0:t(n,s,i,l);if(void 0!==o)return o;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case a.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},6538(e,t,n){"use strict";e.exports=n(759)},6542(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},6567(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1921);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},6627(e,t,n){"use strict";n.d(t,{JL:()=>o,Sg:()=>u,YZ:()=>l,w5:()=>m});var r=n(9379),a=n(9950),s=n(6243),i=n(4414);const l={CONNECTED:"connected",DEGRADED:"degraded",NOT_CONNECTED:"not_connected",FORBIDDEN:"forbidden",NOT_CONFIGURED:"not_configured"},o={OK:"ok",ERROR:"error",TIMEOUT:"timeout",FORBIDDEN:"forbidden",DEGRADED:"degraded",NOT_CONFIGURED:"not_configured",UNKNOWN:"unknown"},c={status:l.NOT_CONNECTED,lastPing:null,lastPingTime:null,isBackendConnected:!1,dataMode:"mock",endpoints:{health:{status:o.UNKNOWN,lastCheck:null,responseTime:null,data:null,httpStatus:null},metrics:{status:o.UNKNOWN,lastCheck:null,responseTime:null,data:null,httpStatus:null},sensors:{status:o.UNKNOWN,lastCheck:null,responseTime:null,data:null,httpStatus:null},backup:{status:o.UNKNOWN,lastCheck:null,responseTime:null,data:null,httpStatus:null},keys:{status:o.UNKNOWN,lastCheck:null,responseTime:null,data:null,httpStatus:null},keysync:{status:o.UNKNOWN,lastCheck:null,responseTime:null,data:null,httpStatus:null},dm:{status:o.UNKNOWN,lastCheck:null,responseTime:null,data:null,httpStatus:null},gps:{status:o.NOT_CONFIGURED,lastCheck:null,responseTime:null,data:null,httpStatus:null}},healthData:null,metricsData:null,keysData:null,keysyncData:null,error:null},d=(0,a.createContext)();function u(e){var t;let{children:n}=e;const[u,m]=(0,a.useState)(c),h=(0,a.useRef)(null),p=(0,a.useRef)(!0),f=(0,a.useCallback)(async e=>{const t=s.Ay.endpoints[e];if(!t)return{status:o.NOT_CONFIGURED,error:"Endpoint not configured",data:null,httpStatus:null};const n="".concat(s.Ay.API_BASE).concat(t),r=Date.now();try{const e=new AbortController,t=setTimeout(()=>e.abort(),s.Ay.request.timeout),l=await fetch(n,{method:"GET",signal:e.signal,headers:{Accept:"application/json"}});clearTimeout(t);const c=Date.now()-r;if(403===l.status){let e=null;try{e=await l.json()}catch(a){e={ok:!1,err:"forbidden"}}return{status:o.FORBIDDEN,responseTime:c,httpStatus:403,data:e,error:"Forbidden - authentication required"}}if(l.ok){let e=null;try{e=await l.json()}catch(i){}return e&&"error"===e.status?{status:o.DEGRADED,responseTime:c,data:e,httpStatus:l.status,error:e.error||e.err||"Endpoint returned error status"}:{status:o.OK,responseTime:c,data:e,httpStatus:l.status}}return{status:o.ERROR,responseTime:c,httpStatus:l.status,error:"HTTP ".concat(l.status)}}catch(l){return{status:"AbortError"===l.name?o.TIMEOUT:o.ERROR,error:l.message,httpStatus:null}}},[]),x=(0,a.useCallback)(async()=>{if(!p.current)return;const e=await f("health"),t=Date.now(),n=e.responseTime||Date.now()-t;p.current&&(e.status===o.OK?m(t=>(0,r.A)((0,r.A)({},t),{},{status:l.CONNECTED,lastPing:(new Date).toISOString(),lastPingTime:n,isBackendConnected:!0,dataMode:(0,s.O_)()?"mock":"live",endpoints:(0,r.A)((0,r.A)({},t.endpoints),{},{health:{status:o.OK,lastCheck:(new Date).toISOString(),responseTime:n,data:e.data,httpStatus:e.httpStatus}}),healthData:e.data,error:null})):e.status===o.FORBIDDEN?m(t=>(0,r.A)((0,r.A)({},t),{},{status:l.DEGRADED,lastPing:(new Date).toISOString(),lastPingTime:n,isBackendConnected:!0,dataMode:"mock",endpoints:(0,r.A)((0,r.A)({},t.endpoints),{},{health:{status:o.FORBIDDEN,lastCheck:(new Date).toISOString(),responseTime:n,data:e.data,httpStatus:403}}),error:"Health endpoint requires authentication"})):m(t=>(0,r.A)((0,r.A)({},t),{},{status:l.NOT_CONNECTED,isBackendConnected:!1,dataMode:"mock",endpoints:(0,r.A)((0,r.A)({},t.endpoints),{},{health:{status:e.status,lastCheck:(new Date).toISOString(),responseTime:null,data:null,httpStatus:e.httpStatus}}),error:e.error||"Connection failed"})))},[f]),g=(0,a.useCallback)(async()=>{const e=["health","metrics","sensors","backup","keys","keysync","dm","gps"],t={};for(const r of e)t[r]=await f(r);const n=Object.values(t).filter(e=>e.status===o.OK).length,a=Object.values(t).filter(e=>e.status===o.FORBIDDEN).length,i=(Object.values(t).filter(e=>e.status===o.NOT_CONFIGURED).length,Object.values(t).filter(e=>e.status===o.DEGRADED).length),c=Object.values(t).filter(e=>e.status===o.ERROR||e.status===o.TIMEOUT).length;let d=l.CONNECTED;return 0===n?d=l.NOT_CONNECTED:(c>0||i>0||a>0)&&(d=l.DEGRADED),m(a=>{var i,l,o,c;return(0,r.A)((0,r.A)({},a),{},{status:d,isBackendConnected:n>0,dataMode:n>0&&!(0,s.O_)()?"live":"mock",endpoints:Object.fromEntries(e.map(e=>[e,{status:t[e].status,lastCheck:(new Date).toISOString(),responseTime:t[e].responseTime,data:t[e].data,httpStatus:t[e].httpStatus}])),healthData:null===(i=t.health)||void 0===i?void 0:i.data,metricsData:null===(l=t.metrics)||void 0===l?void 0:l.data,keysData:null===(o=t.keys)||void 0===o?void 0:o.data,keysyncData:null===(c=t.keysync)||void 0===c?void 0:c.data})}),t},[f]),v=(0,a.useCallback)(async e=>{const t=await f(e);return m(n=>(0,r.A)((0,r.A)({},n),{},{endpoints:(0,r.A)((0,r.A)({},n.endpoints),{},{[e]:{status:t.status,lastCheck:(new Date).toISOString(),responseTime:t.responseTime,data:t.data,httpStatus:t.httpStatus}})})),t},[f]),b=(0,a.useCallback)(()=>{h.current||(x(),h.current=setInterval(()=>{x()},s.Ay.polling.healthCheck))},[x]),y=(0,a.useCallback)(()=>{h.current&&(clearInterval(h.current),h.current=null)},[]),j=(0,a.useCallback)(e=>{m(t=>(0,r.A)((0,r.A)({},t),{},{status:e,isBackendConnected:e===l.CONNECTED,lastPing:e===l.CONNECTED?(new Date).toISOString():t.lastPing}))},[]),w=(0,a.useCallback)(e=>u.isBackendConnected&&!(0,s.O_)()?"live":"mock",[u.isBackendConnected]),N=(0,a.useCallback)(e=>u.endpoints[e]||{status:o.UNKNOWN},[u.endpoints]),k=(0,a.useCallback)(()=>({buildVersion:s.Ay.build.version,buildTimestamp:s.Ay.build.timestamp,apiBase:s.Ay.API_BASE||"(same-origin)",kiwixBase:s.Ay.KIWIX_BASE,jellyfinBase:s.Ay.JELLYFIN_BASE,useMockData:s.Ay.USE_MOCK_DATA,connectionStatus:u.status,lastPing:u.lastPing,lastPingTime:u.lastPingTime,dataMode:u.dataMode,endpoints:u.endpoints,error:u.error,userAgent:"undefined"!==typeof navigator?navigator.userAgent:"N/A",timestamp:(new Date).toISOString()}),[u]);(0,a.useEffect)(()=>(p.current=!0,s.Ay.features.enableHealthPolling&&!(0,s.O_)()&&b(),()=>{p.current=!1,y()}),[b,y]);const A=(0,r.A)((0,r.A)({},u),{},{setMockConnection:j,getDataSourceStatus:w,getEndpointStatus:N,performHealthCheck:x,runSelfTest:g,checkEndpoint:f,fetchEndpointData:v,getDebugInfo:k,startPolling:b,stopPolling:y,config:{apiBase:(null===s.Ay||void 0===s.Ay?void 0:s.Ay.API_BASE)||"(same-origin)",kiwixBase:(null===s.Ay||void 0===s.Ay?void 0:s.Ay.KIWIX_BASE)||"http://talon.local:8090",jellyfinBase:(null===s.Ay||void 0===s.Ay?void 0:s.Ay.JELLYFIN_BASE)||"http://talon.local:8096",useMockData:null===(t=null===s.Ay||void 0===s.Ay?void 0:s.Ay.USE_MOCK_DATA)||void 0===t||t,build:(null===s.Ay||void 0===s.Ay?void 0:s.Ay.build)||{version:"dev",timestamp:(new Date).toISOString(),environment:"development"}}});return(0,i.jsx)(d.Provider,{value:A,children:n})}function m(){const e=(0,a.useContext)(d);if(!e)throw new Error("useConnection must be used within a ConnectionProvider");return e}},6633(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2742);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:a=!0,trailing:s=!0}=n;return r.debounce(e,t,{leading:a,maxWait:t,trailing:s})}},6667(e,t,n){e.exports=n(6928).last},6805(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]])},6859(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},6907(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=null;const i=null!=a&&a.includes("leading"),l=null==a||a.includes("trailing"),o=()=>{null!==s&&(e.apply(n,s),n=void 0,s=null)};let c=null;const d=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,l&&o(),u()},t)},u=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,s=null},m=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];s=t;const l=null==c;d(),i&&l&&o()};return m.schedule=d,m.cancel=u,m.flush=()=>{o()},null===r||void 0===r||r.addEventListener("abort",u,{once:!0}),m}},6928(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1047),a=n(225),s=n(7740);t.last=function(e){if(s.isArrayLike(e))return r.last(a.toArray(e))}},6987(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},7108(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},7119(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(1863)},7254(e,t,n){"use strict";var r=n(9950);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,i=r.useRef,l=r.useEffect,o=r.useMemo,c=r.useDebugValue},7256(e,t,n){"use strict";n(7254)},7384(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(11),a=n(1810),s=n(3787),i=n(1640);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return s.isArrayLikeObject(e)?r.uniqBy(Array.from(e),i.iteratee(t)):[]}},7431(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},7453(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7637(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7684(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},7736(e,t,n){var r=n(3738).default,a=n(9045);e.exports=function(e){var t=a(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7737(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7740(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1111);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},7774(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2718),a=n(6567);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),n=void 0===n?e<t?1:-1:a.toFinite(n);const s=Math.max(Math.ceil((t-e)/(n||1)),0),i=new Array(s);for(let r=0;r<s;r++)i[r]=e,e+=n;return i}},7984(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]])},8027(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>QuickToolsBar});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9950),lucide_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6391),lucide_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5924),lucide_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(903),lucide_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3639),lucide_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4215),lucide_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7637),lucide_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3688),lucide_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6479),sonner__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2033),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4414);const QUICK_TOOLS=[{id:"quickguide",name:"Quick Guide",icon:lucide_react__WEBPACK_IMPORTED_MODULE_1__.A,color:"text-amber-400",description:"Learn how to use OMEGA - tap for a quick overview",component:"quickguide"},{id:"calculator",name:"Calculator",icon:lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,description:"Perform quick math calculations",component:"calculator"},{id:"translator",name:"Translator",icon:lucide_react__WEBPACK_IMPORTED_MODULE_7__.A,description:"Translate text between languages",component:"translator"},{id:"sos",name:"SOS Beacon",icon:lucide_react__WEBPACK_IMPORTED_MODULE_2__.A,color:"text-destructive",description:"Send an emergency distress signal to all connected devices",component:"sos"},{id:"currency",name:"Currency",icon:lucide_react__WEBPACK_IMPORTED_MODULE_5__.A,description:"Convert between different currencies",component:"currency"},{id:"dictionary",name:"Dictionary",icon:lucide_react__WEBPACK_IMPORTED_MODULE_3__.A,description:"Look up word definitions offline",component:"dictionary"},{id:"notes",name:"Field Notes",icon:lucide_react__WEBPACK_IMPORTED_MODULE_6__.A,description:"Jot down quick notes and observations",component:"notes"}],CalculatorModal=_ref=>{let{onClose:onClose}=_ref;const[display,setDisplay]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("0"),[equation,setEquation]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),handleNumber=e=>{setDisplay(t=>"0"===t?e:t+e)},handleOperator=e=>{setEquation(display+" "+e+" "),setDisplay("0")},handleEquals=()=>{try{const result=eval(equation+display);setDisplay(String(result)),setEquation("")}catch(_unused){setDisplay("Error")}},handleClear=()=>{setDisplay("0"),setEquation("")};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:onClose,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"glass-strong rounded-3xl p-6 w-80 animate-fade-in",onClick:e=>e.stopPropagation(),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,{className:"w-5 h-5 text-primary"}),"Calculator"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:onClose,className:"p-2 hover:bg-secondary rounded-lg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__.A,{className:"w-4 h-4"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"glass rounded-xl p-4 mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"text-xs text-muted-foreground h-5",children:equation}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"text-3xl font-mono font-bold text-right",children:display})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["7","8","9","\xf7","4","5","6","\xd7","1","2","3","-","C","0","=","+"].map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:()=>{"C"===e?handleClear():"="===e?handleEquals():["\xf7","\xd7","-","+"].includes(e)?handleOperator("\xf7"===e?"/":"\xd7"===e?"*":e):handleNumber(e)},className:"p-4 rounded-xl font-semibold text-lg transition-all ".concat("="===e?"btn-apple-primary col-span-1":["\xf7","\xd7","-","+"].includes(e)?"bg-primary/20 text-primary hover:bg-primary/30":"C"===e?"bg-destructive/20 text-destructive hover:bg-destructive/30":"btn-apple"),children:e},e))})]})})},TranslatorModal=e=>{let{onClose:t}=e;const[n,r]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[a,s]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("en"),[i,l]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("es");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:t,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"glass-strong rounded-3xl p-6 w-96 animate-fade-in",onClick:e=>e.stopPropagation(),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__.A,{className:"w-5 h-5 text-primary"}),"Translator"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:t,className:"p-2 hover:bg-secondary rounded-lg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__.A,{className:"w-4 h-4"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("select",{value:a,onChange:e=>s(e.target.value),className:"flex-1 input-apple",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{value:"en",children:"English"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{value:"es",children:"Spanish"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{value:"fr",children:"French"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{value:"de",children:"German"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"text-muted-foreground",children:"\u2192"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("select",{value:i,onChange:e=>l(e.target.value),className:"flex-1 input-apple",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{value:"es",children:"Spanish"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{value:"en",children:"English"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{value:"fr",children:"French"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{value:"de",children:"German"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("textarea",{value:n,onChange:e=>r(e.target.value),placeholder:"Enter text to translate...",className:"input-apple h-24 resize-none mb-4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"glass rounded-xl p-4 min-h-[60px] text-muted-foreground text-sm",children:n?"Translation will appear here (offline mode)":"Translation will appear here"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"\ud83d\udca1 Full translation available when connected to Pi"})]})})},SOSModal=e=>{let{onClose:t}=e;const[n,r]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:t,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"glass-strong rounded-3xl p-6 w-80 animate-fade-in ".concat(n?"ring-4 ring-destructive animate-pulse":""),onClick:e=>e.stopPropagation(),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2 text-destructive",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__.A,{className:"w-5 h-5"}),"SOS Beacon"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:t,className:"p-2 hover:bg-secondary rounded-lg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__.A,{className:"w-4 h-4"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"text-center py-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:()=>{r(!0),sonner__WEBPACK_IMPORTED_MODULE_9__.oR.error("\ud83d\udea8 SOS BEACON ACTIVATED - Broadcasting emergency signal",{duration:5e3})},disabled:n,className:"w-32 h-32 rounded-full font-bold text-xl transition-all ".concat(n?"bg-destructive text-white animate-pulse":"bg-destructive/20 text-destructive hover:bg-destructive hover:text-white hover:scale-105"),children:n?"ACTIVE":"SOS"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:n?"\ud83d\udea8 Broadcasting on all available channels...":"Press to broadcast emergency signal on all channels"}),n&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:()=>{r(!1),sonner__WEBPACK_IMPORTED_MODULE_9__.oR.success("SOS beacon deactivated")},className:"w-full mt-4 btn-apple text-center",children:"Deactivate Beacon"})]})})},CurrencyModal=e=>{let{onClose:t}=e;const[n,r]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("100"),[a,s]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("USD"),[i,l]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("EUR"),o={USD:1,EUR:.92,GBP:.79,JPY:149.5,CAD:1.36,AUD:1.53},c=(parseFloat(n)*(o[i]/o[a])).toFixed(2);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:t,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"glass-strong rounded-3xl p-6 w-80 animate-fade-in",onClick:e=>e.stopPropagation(),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__.A,{className:"w-5 h-5 text-primary"}),"Currency"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:t,className:"p-2 hover:bg-secondary rounded-lg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__.A,{className:"w-4 h-4"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("label",{className:"text-xs text-muted-foreground mb-1 block",children:"Amount"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{type:"number",value:n,onChange:e=>r(e.target.value),className:"input-apple text-2xl font-bold"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("select",{value:a,onChange:e=>s(e.target.value),className:"flex-1 input-apple",children:Object.keys(o).map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{value:e,children:e},e))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"text-muted-foreground",children:"\u2192"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("select",{value:i,onChange:e=>l(e.target.value),className:"flex-1 input-apple",children:Object.keys(o).map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{value:e,children:e},e))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"glass rounded-xl p-4 text-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"text-3xl font-bold text-primary",children:c}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"text-sm text-muted-foreground",children:i})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"\ud83d\udca1 Using offline rates \u2022 Last updated: Dec 2025"})]})})},DictionaryModal=e=>{let{onClose:t}=e;const[n,r]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:t,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"glass-strong rounded-3xl p-6 w-96 animate-fade-in",onClick:e=>e.stopPropagation(),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__.A,{className:"w-5 h-5 text-primary"}),"Dictionary"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:t,className:"p-2 hover:bg-secondary rounded-lg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__.A,{className:"w-4 h-4"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"Enter a word...",className:"input-apple mb-4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"glass rounded-xl p-4 min-h-[100px]",children:n?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"text-sm text-muted-foreground",children:"Definition lookup available via Kiwix offline library when connected."}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"text-sm text-muted-foreground text-center",children:"Enter a word to look up"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"\ud83d\udca1 Full dictionary via Kiwix offline library"})]})})},NotesModal=e=>{let{onClose:t}=e;const[n,r]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>{try{return localStorage.getItem("omega-field-notes")||""}catch(e){return""}});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:t,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"glass-strong rounded-3xl p-6 w-96 animate-fade-in",onClick:e=>e.stopPropagation(),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__.A,{className:"w-5 h-5 text-primary"}),"Field Notes"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:t,className:"p-2 hover:bg-secondary rounded-lg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__.A,{className:"w-4 h-4"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("textarea",{value:n,onChange:e=>r(e.target.value),placeholder:"Quick notes, coordinates, observations...",className:"input-apple h-48 resize-none mb-4 font-mono text-sm"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:()=>{localStorage.setItem("omega-field-notes",n),sonner__WEBPACK_IMPORTED_MODULE_9__.oR.success("Notes saved")},className:"flex-1 btn-apple-primary",children:"Save Notes"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:()=>r(""),className:"btn-apple text-destructive",children:"Clear"})]})]})})},QuickGuideModal=e=>{let{onClose:t}=e;const[n,r]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),a=[{icon:"\ud83d\udc4b",title:"Welcome to OMEGA!",content:"OMEGA is your offline-first command center. It works without internet and helps you stay connected with your family and team.",highlight:"Everything works offline!"},{icon:"\ud83d\udce1",title:"Communication Hub",content:"The Ally Communications Hub shows all available ways to communicate. Green = available, Yellow = partial, Red = unavailable.",highlight:"Tap any method to see details"},{icon:"\ud83d\udc65",title:"Community Hub",content:"See who is online, their skills, equipment, and status. Great for coordinating teams and checking on family members.",highlight:'Click "Community" in the header'},{icon:"\ud83d\udcca",title:"LOGS & Analytics",content:"Monitor system health, view charts, and track performance over time. Perfect for diagnosing issues.",highlight:'Click "LOGS" in the header'},{icon:"\ud83d\udd0d",title:"Search Everything",content:"Use the search bar to quickly find files, Kiwix articles, commands, or people. Press Cmd+/ for quick access.",highlight:"Type anything to search"},{icon:"\ud83d\udee0\ufe0f",title:"Quick Tools",content:"Calculator, Translator, SOS Beacon, and more. These tools work offline and are always available.",highlight:"Tap any tool button below"},{icon:"\ud83c\udd98",title:"Need Help?",content:'Tap "Help Center" for detailed guides on every feature. Tap "Admin Console" if you are an operator.',highlight:"Help is always one tap away"}],s=a[n];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"w-full max-w-md bg-card border border-border rounded-2xl overflow-hidden shadow-2xl",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"p-4 border-b border-border flex items-center justify-between bg-gradient-to-r from-amber-500/20 to-orange-500/20",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_1__.A,{className:"w-5 h-5 text-amber-500"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("h2",{className:"text-lg font-bold",children:"Quick Guide"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:t,className:"p-2 hover:bg-secondary rounded-lg transition-colors",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__.A,{className:"w-5 h-5"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"flex justify-center gap-1.5 py-3 bg-secondary/50",children:a.map((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:()=>r(t),className:"h-2 rounded-full transition-all ".concat(t===n?"bg-primary w-6":"bg-muted-foreground/30 w-2 hover:bg-muted-foreground/50")},t))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"p-6 text-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"text-5xl mb-4",children:s.icon}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("h3",{className:"text-xl font-bold mb-3",children:s.title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:s.content}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"inline-block px-4 py-2 rounded-full bg-amber-500/20 text-amber-600 dark:text-amber-400 text-sm font-medium",children:["\ud83d\udca1 ",s.highlight]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"p-4 border-t border-border flex items-center justify-between bg-secondary/30",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:()=>r(Math.max(0,n-1)),disabled:0===n,className:"px-4 py-2 rounded-lg bg-secondary hover:bg-secondary/80 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Previous"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("span",{className:"text-sm text-muted-foreground",children:[n+1," of ",a.length]}),n<a.length-1?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:()=>r(n+1),className:"px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:"Next"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:"Get Started!"})]})]})})};function QuickToolsBar(){const[e,t]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),n=()=>t(null);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"w-full relative","data-testid":"quick-tools-bar",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex justify-start sm:justify-center gap-2 overflow-x-auto pb-2 scrollbar-thin px-4 -mx-4 sm:mx-0 sm:px-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"absolute left-0 top-0 bottom-2 w-4 bg-gradient-to-r from-background to-transparent pointer-events-none z-10 sm:hidden"}),QUICK_TOOLS.map(e=>{const n=e.icon;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("button",{onClick:()=>(e=>{t(e.id)})(e),className:"flex items-center gap-2 px-3 sm:px-4 py-2.5 rounded-xl btn-apple whitespace-nowrap group flex-shrink-0 pointer-events-auto",title:e.description,"data-testid":"tool-".concat(e.id),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(n,{className:"w-4 h-4 ".concat(e.color||"text-primary"," group-hover:scale-110 transition-transform")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"text-xs sm:text-sm font-medium",children:e.name})]},e.id)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"flex-shrink-0 w-4 sm:hidden","aria-hidden":"true"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"absolute right-0 top-0 bottom-2 w-4 bg-gradient-to-l from-background to-transparent pointer-events-none z-10 sm:hidden"})]}),"quickguide"===e&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(QuickGuideModal,{onClose:n}),"calculator"===e&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(CalculatorModal,{onClose:n}),"translator"===e&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(TranslatorModal,{onClose:n}),"sos"===e&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(SOSModal,{onClose:n}),"currency"===e&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(CurrencyModal,{onClose:n}),"dictionary"===e&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(DictionaryModal,{onClose:n}),"notes"===e&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(NotesModal,{onClose:n})]})}},8146(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4195),a=n(1098),s=n(1083),i=n(5031);t.get=function e(t,n,l){if(null==t)return l;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return l;const s=t[n];return void 0===s?a.isDeepKey(n)?e(t,i.toPath(n),l):l:s}case"number":case"symbol":{"number"===typeof n&&(n=s.toKey(n));const e=t[n];return void 0===e?l:e}default:{var o;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let a=e;for(let s=0;s<t.length;s++){if(null==a)return n;if(r.isUnsafeProperty(t[s]))return n;a=a[t[s]]}if(void 0===a)return n;return a}(t,n,l);if(n=Object.is(null===(o=n)||void 0===o?void 0:o.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return l;const e=t[n];return void 0===e?l:e}}}},8316(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},8354(e,t,n){e.exports=n(7774).range},8406(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},8577(e,t){"use strict";var n=60103,r=60106,a=60107,s=60108,i=60114,l=60109,o=60110,c=60112,d=60113,u=60120,m=60115,h=60116,p=60121,f=60122,x=60117,g=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),a=b("react.fragment"),s=b("react.strict_mode"),i=b("react.profiler"),l=b("react.provider"),o=b("react.context"),c=b("react.forward_ref"),d=b("react.suspense"),u=b("react.suspense_list"),m=b("react.memo"),h=b("react.lazy"),p=b("react.block"),f=b("react.server.block"),x=b("react.fundamental"),g=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case i:case s:case d:case u:return e;default:switch(e=e&&e.$$typeof){case o:case c:case h:case m:case l:return e;default:return t}}case r:return t}}}},8822(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},8897(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),a=(e,t)=>{for(let s=0;s<e.length;s++){const i=e[s];Array.isArray(i)&&t<r?a(i,t+1):n.push(i)}};return a(e,0),n}},9045(e,t,n){var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9115(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},9190(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},9223(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},9358(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9690);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},9363(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5698),a=n(9696),s=n(5031);t.orderBy=function(e,t,n,i){if(null==e)return[];n=i?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const l=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},o=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:s.toPath(e)}));return e.map(e=>({original:e,criteria:o.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:l(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?l(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let a=0;a<o.length;a++){const s=r.compareValues(e.criteria[a],t.criteria[a],n[a]);if(0!==s)return s}return 0}).map(e=>e.original)}},9379(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(4705);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},9487(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var l=2*(r+1)-1,o=e[l],c=l+1,d=e[c];if(0>s(o,n))c<a&&0>s(d,o)?(e[r]=d,e[c]=n,r=c):(e[r]=o,e[l]=n,r=l);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,h=3,p=!1,f=!1,x=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(x=!1,j(e),!f)if(null!==r(c))f=!0,k||(k=!0,N());else{var t=r(d);null!==t&&P(w,t.startTime-e)}}var N,k=!1,A=-1,_=5,C=-1;function S(){return!!g||!(t.unstable_now()-C<_)}function E(){if(g=!1,k){var e=t.unstable_now();C=e;var n=!0;try{e:{f=!1,x&&(x=!1,b(A),A=-1),p=!0;var s=h;try{t:{for(j(e),m=r(c);null!==m&&!(m.expirationTime>e&&S());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var l=i(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof l){m.callback=l,j(e),n=!0;break t}m===r(c)&&a(c),j(e)}else a(c);m=r(c)}if(null!==m)n=!0;else{var o=r(d);null!==o&&P(w,o.startTime-e),n=!1}}break e}finally{m=null,h=s,p=!1}n=void 0}}finally{n?N():k=!1}}}if("function"===typeof y)N=function(){y(E)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,M=O.port2;O.port1.onmessage=E,N=function(){M.postMessage(null)}}else N=function(){v(E,0)};function P(e,n){A=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(x?(b(A),A=-1):x=!0,P(w,s-i))):(e.sortIndex=l,n(c,e),f||p||(f=!0,k||(k=!0,N()))),e},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},9686(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]])},9690(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9190),a=n(9223),s=n(3470),i=n(1214),l=n(1558);function o(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u=null===d||void 0===d?void 0:d(e,t,n,r);if(void 0!==u)return u;if(i.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=o(e[a],a,n,r,d);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[a,s]of e)t.set(a,o(s,a,n,r,d));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const a of e)t.add(o(a,void 0,n,r,d));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(l.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=o(e[a],a,n,r,d);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,d),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,d),t}if("undefined"!==typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,d),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,d),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return r.set(e,t),c(t,e,n,r,d),t}if(e instanceof Number){const t=new Number(e.valueOf());return r.set(e,t),c(t,e,n,r,d),t}if(e instanceof String){const t=new String(e.valueOf());return r.set(e,t),c(t,e,n,r,d),t}if("object"===typeof e&&function(e){switch(a.getTag(e)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,d),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;const i=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<i.length;r++){const l=i[r],c=Object.getOwnPropertyDescriptor(e,l);(null==c||c.writable)&&(e[l]=o(t[l],l,n,a,s))}}t.cloneDeepWith=function(e,t){return o(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=o,t.copyProperties=c},9696(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7108),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(s.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e)))}},9940(e,t,n){"use strict";var r=n(9950),a=n(6538);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=a.useSyncExternalStore,l=r.useRef,o=r.useEffect,c=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var u=l(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;u=c(function(){function e(e){if(!o){if(o=!0,i=e,e=r(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return l=t}return l=e}if(t=l,s(i,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(i=e,t):(i=e,l=n)}var i,l,o=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,a]);var h=i(e,u[0],u[1]);return o(function(){m.hasValue=!0,m.value=h},[h]),d(h),h}},9950(e,t,n){"use strict";e.exports=n(1983)},9975(e,t,n){"use strict";n.d(t,{A:()=>r});const r=(0,n(6230).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var a=Object.create(null);__webpack_require__.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&n;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>s[e]=()=>n[e]);return s.default=()=>n,__webpack_require__.d(a,s),a}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce((t,n)=>(__webpack_require__.f[n](e,t),t),[])),__webpack_require__.u=e=>"static/js/"+e+"."+{11:"530f4173",376:"e516154e",561:"d55fed1c",717:"f9470870",728:"88183f1e"}[e]+".chunk.js",__webpack_require__.miniCssF=e=>"static/css/"+e+"."+{376:"d6bfd15f",561:"d6bfd15f"}[e]+".chunk.css",__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";__webpack_require__.l=(n,r,a,s)=>{if(e[n])e[n].push(r);else{var i,l;if(void 0!==a)for(var o=document.getElementsByTagName("script"),c=0;c<o.length;c++){var d=o[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){i=d;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.setAttribute("data-webpack",t+a),i.src=n),e[n]=[r];var u=(t,r)=>{i.onerror=i.onload=null,clearTimeout(m);var a=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach(e=>e(r)),t)return t(r)},m=setTimeout(u.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=u.bind(null,i.onerror),i.onload=u.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="./",(()=>{if("undefined"!==typeof document){var e=e=>new Promise((t,n)=>{var r=__webpack_require__.miniCssF(e),a=__webpack_require__.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var a=(i=n[r]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(a===e||a===t))return i}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){var i;if((a=(i=s[r]).getAttribute("data-href"))===e||a===t)return i}})(r,a))return t();((e,t,n,r,a)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",__webpack_require__.nc&&(s.nonce=__webpack_require__.nc),s.onerror=s.onload=n=>{if(s.onerror=s.onload=null,"load"===n.type)r();else{var i=n&&n.type,l=n&&n.target&&n.target.href||t,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+l+")");o.name="ChunkLoadError",o.code="CSS_CHUNK_LOAD_FAILED",o.type=i,o.request=l,s.parentNode&&s.parentNode.removeChild(s),a(o)}},s.href=t,n?n.parentNode.insertBefore(s,n.nextSibling):document.head.appendChild(s)})(e,a,null,t,n)}),t={792:0};__webpack_require__.f.miniCss=(n,r)=>{t[n]?r.push(t[n]):0!==t[n]&&{376:1,561:1}[n]&&r.push(t[n]=e(n).then(()=>{t[n]=0},e=>{throw delete t[n],e}))}}})(),(()=>{var e={792:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise((n,a)=>r=e[t]=[n,a]);n.push(r[2]=a);var s=__webpack_require__.p+__webpack_require__.u(t),i=new Error;__webpack_require__.l(s,n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,r[1](i)}},"chunk-"+t,t)}};var t=(t,n)=>{var r,a,[s,i,l]=n,o=0;if(s.some(t=>0!==e[t])){for(r in i)__webpack_require__.o(i,r)&&(__webpack_require__.m[r]=i[r]);if(l)l(__webpack_require__)}for(t&&t(n);o<s.length;o++)a=s[o],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkfrontend=self.webpackChunkfrontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{scaleBand:()=>Cd,scaleDiverging:()=>wf,scaleDivergingLog:()=>Nf,scaleDivergingPow:()=>Af,scaleDivergingSqrt:()=>_f,scaleDivergingSymlog:()=>kf,scaleIdentity:()=>fm,scaleImplicit:()=>Ad,scaleLinear:()=>pm,scaleLog:()=>km,scaleOrdinal:()=>_d,scalePoint:()=>Ed,scalePow:()=>Tm,scaleQuantile:()=>Km,scaleQuantize:()=>Vm,scaleRadial:()=>Rm,scaleSequential:()=>ff,scaleSequentialLog:()=>xf,scaleSequentialPow:()=>vf,scaleSequentialQuantile:()=>yf,scaleSequentialSqrt:()=>bf,scaleSequentialSymlog:()=>gf,scaleSqrt:()=>Dm,scaleSymlog:()=>Sm,scaleThreshold:()=>Gm,scaleTime:()=>uf,scaleUtc:()=>mf,tickFormat:()=>mm});var t=__webpack_require__(9950),n=__webpack_require__.t(t,2),r=__webpack_require__(1352),a=__webpack_require__(3986),s=__webpack_require__(9379);const i=["sri"],l=["page"],o=["page","matches"],c=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],d=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],u=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var m="popstate";function h(){return y(function(e,t){let{pathname:n="/",search:r="",hash:a=""}=b(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),g("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:v(t))},function(e,t){f("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,s.A)((0,s.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function v(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,o="POP",c=null,d=u();function u(){return(l.state||{idx:null}).idx}function h(){o="POP";let e=u(),t=null==e?null:e-d;d=e,c&&c({action:o,location:f.location,delta:t})}function p(e){return j(e)}null==d&&(d=0,l.replaceState((0,s.A)((0,s.A)({},l.state),{},{idx:d}),""));let f={get action(){return o},get location(){return e(a,l)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(m,h),c=e,()=>{a.removeEventListener(m,h),c=null}},createHref:e=>t(a,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=g(f.location,e,t);n&&n(r,e),d=u()+1;let s=x(r,d),m=f.createHref(r);try{l.pushState(s,"",m)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(m)}i&&c&&c({action:o,location:f.location,delta:1})},replace:function(e,t){o="REPLACE";let r=g(f.location,e,t);n&&n(r,e),d=u();let a=x(r,d),s=f.createHref(r);l.replaceState(a,"",s),i&&c&&c({action:o,location:f.location,delta:0})},go:e=>l.go(e)};return f}function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),p(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:v(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function w(e,t){return N(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function N(e,t,n,r){let a=z(("string"===typeof t?b(t):t).pathname||"/",n);if(null==a)return null;let s=k(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let l=0;null==i&&l<s.length;++l){let e=L(a);i=D(s[l],e,r)}return i}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,l=arguments.length>3?arguments[3]:void 0,o={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(o.relativePath.startsWith("/")){if(!o.relativePath.startsWith(r)&&i)return;p(o.relativePath.startsWith(r),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(r.length)}let c=V([r,o.relativePath]),d=n.concat(o);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),k(e.children,t,d,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:T(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))s(e,t,!0,r);else s(e,t)}),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=A(r.join("/")),l=[];return l.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}var _=/^:[\w-]+$/,C=3,S=2,E=1,O=10,M=-2,P=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(P)&&(r+=M),t&&(r+=S),n.filter(e=>!P(e)).reduce((e,t)=>e+(_.test(t)?C:""===t?E:O),r)}function D(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},s="/",i=[];for(let l=0;l<r.length;++l){let e=r[l],o=l===r.length-1,c="/"===s?t:t.slice(s.length)||"/",d=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!r[r.length-1].route.index&&(d=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:V([s,d.pathname]),pathnameBase:G(V([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=V([s,d.pathnameBase]))}return i}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=R(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1),o=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=l[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[n];return e[r]=a&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{});return{params:o,pathname:s,pathnameBase:i,pattern:e}}function R(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function L(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return f(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var F=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B=e=>F.test(e);function U(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function W(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function H(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function q(e){let t=H(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=b(e):(r=(0,s.A)({},e),p(!r.pathname||!r.pathname.includes("?"),W("?","pathname","search",r)),p(!r.pathname||!r.pathname.includes("#"),W("#","pathname","hash",r)),p(!r.search||!r.search.includes("#"),W("#","search","hash",r)));let i,l=""===e||""===r.pathname,o=l?"/":r.pathname;if(null==o)i=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:a="",hash:s=""}="string"===typeof e?b(e):e;if(r)if(B(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),f(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?U(r.substring(1),"/"):U(r,n)}else t=n;return{pathname:t,search:$(a),hash:Y(s)}}(r,i),d=o&&"/"!==o&&o.endsWith("/"),u=(l||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!u||(c.pathname+="/"),c}var V=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var Z=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function J(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var X="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function ee(e,t){let n=e;if("string"!==typeof n||!F.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(X)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=z(r.pathname,t);r.origin===e.origin&&null!=s?n=s+r.search+r.hash:a=!0}catch(s){f(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:r,isExternal:a,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var te=["POST","PUT","PATCH","DELETE"],ne=(new Set(te),["GET",...te]);new Set(ne),Symbol("ResetLoaderData");var re=t.createContext(null);re.displayName="DataRouter";var ae=t.createContext(null);ae.displayName="DataRouterState";var se=t.createContext(!1);function ie(){return t.useContext(se)}var le=t.createContext({isTransitioning:!1});le.displayName="ViewTransition";var oe=t.createContext(new Map);oe.displayName="Fetchers";var ce=t.createContext(null);ce.displayName="Await";var de=t.createContext(null);de.displayName="Navigation";var ue=t.createContext(null);ue.displayName="Location";var me=t.createContext({outlet:null,matches:[],isDataRoute:!1});me.displayName="Route";var he=t.createContext(null);he.displayName="RouteError";var pe="REACT_ROUTER_ERROR";function fe(){return null!=t.useContext(ue)}function xe(){return p(fe(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(ue).location}var ge="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ve(e){t.useContext(de).static||t.useLayoutEffect(e)}function be(){let{isDataRoute:e}=t.useContext(me);return e?function(){let{router:e}=Oe("useNavigate"),n=Pe("useNavigate"),r=t.useRef(!1);ve(()=>{r.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(r.current,ge),r.current&&("number"===typeof t?await e.navigate(t):await e.navigate(t,(0,s.A)({fromRouteId:n},a)))},[e,n]);return a}():function(){p(fe(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(re),{basename:n,navigator:r}=t.useContext(de),{matches:a}=t.useContext(me),{pathname:s}=xe(),i=JSON.stringify(q(a)),l=t.useRef(!1);ve(()=>{l.current=!0});let o=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(f(l.current,ge),!l.current)return;if("number"===typeof t)return void r.go(t);let o=K(t,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:V([n,o.pathname])),(a.replace?r.replace:r.push)(o,a.state,a)},[n,r,i,s,e]);return o}()}t.createContext(null);function ye(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(me),{pathname:a}=xe(),s=JSON.stringify(q(r));return t.useMemo(()=>K(e,JSON.parse(s),a,"path"===n),[e,s,a,n])}function je(e,n,r,a,i){p(fe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=t.useContext(de),{matches:o}=t.useContext(me),c=o[o.length-1],d=c?c.params:{},u=c?c.pathname:"/",m=c?c.pathnameBase:"/",h=c&&c.route;{let e=h&&h.path||"";Ie(u,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let x,g=xe();if(n){var v;let e="string"===typeof n?b(n):n;p("/"===m||(null===(v=e.pathname)||void 0===v?void 0:v.startsWith(m)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(m,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),x=e}else x=g;let y=x.pathname||"/",j=y;if("/"!==m){let e=m.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let N=w(e,{pathname:j});f(h||null!=N,'No routes matched location "'.concat(x.pathname).concat(x.search).concat(x.hash,'" ')),f(null==N||void 0!==N[N.length-1].route.element||void 0!==N[N.length-1].route.Component||void 0!==N[N.length-1].route.lazy,'Matched leaf route at location "'.concat(x.pathname).concat(x.search).concat(x.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=Se(N&&N.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:V([m,l.encodeLocation?l.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:V([m,l.encodeLocation?l.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,r,a,i);return n&&k?t.createElement(ue.Provider,{value:{location:(0,s.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:"POP"}},k):k}function we(){let e=Te(),n=Q(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:i},"ErrorBoundary")," or"," ",t.createElement("code",{style:i},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,l)}var Ne=t.createElement(we,null),ke=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(pe,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new Z(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let n=void 0!==e?t.createElement(me.Provider,{value:this.props.routeContext},t.createElement(he.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?t.createElement(_e,{error:e},n):n}};ke.contextType=se;var Ae=new WeakMap;function _e(e){let{children:n,error:r}=e,{basename:a}=t.useContext(de);if("object"===typeof r&&r&&"digest"in r&&"string"===typeof r.digest){let e=function(e){if(e.startsWith("".concat(pe,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(r.digest);if(e){let n=Ae.get(r);if(n)throw n;let s=ee(e.location,a);if(X&&!Ae.get(r)){if(!s.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:e.replace}));throw Ae.set(r,t),t}window.location.href=s.absoluteURL||s.to}return t.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(s.absoluteURL||s.to)})}}return n}function Ce(e){let{routeContext:n,match:r,children:a}=e,s=t.useContext(re);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(me.Provider,{value:n},a)}function Se(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let s=e,i=null===r||void 0===r?void 0:r.errors;if(null!=i){let e=s.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));p(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,o=-1;if(r)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=t),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){l=!0,s=o>=0?s.slice(0,o+1):[s[0]];break}}}let c=r&&a?(e,t)=>{var n,s;a(e,{location:r.location,params:null!==(n=null===(s=r.matches)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.params)&&void 0!==n?n:{},unstable_pattern:J(r.matches),errorInfo:t})}:void 0;return s.reduceRight((e,a,d)=>{let u,m=!1,h=null,p=null;r&&(u=i&&a.route.id?i[a.route.id]:void 0,h=a.route.errorElement||Ne,l&&(o<0&&0===d?(Ie("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,p=null):o===d&&(m=!0,p=a.route.hydrateFallbackElement||null)));let f=n.concat(s.slice(0,d+1)),x=()=>{let n;return n=u?h:m?p:a.route.Component?t.createElement(a.route.Component,null):a.route.element?a.route.element:e,t.createElement(Ce,{match:a,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===d)?t.createElement(ke,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0},onError:c}):x()},null)}function Ee(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Oe(e){let n=t.useContext(re);return p(n,Ee(e)),n}function Me(e){let n=t.useContext(ae);return p(n,Ee(e)),n}function Pe(e){let n=function(e){let n=t.useContext(me);return p(n,Ee(e)),n}(e),r=n.matches[n.matches.length-1];return p(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Te(){var e;let n=t.useContext(he),r=Me("useRouteError"),a=Pe("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[a]}var De={};function Ie(e,t,n){t||De[e]||(De[e]=!0,f(!1,n))}var Re={};function Le(e,t){e||Re[t]||(Re[t]=!0,console.warn(t))}n.useOptimistic;t.memo(function(e){let{routes:t,future:n,state:r,onError:a}=e;return je(t,void 0,r,a,n)});function ze(e){p(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fe(e){let{basename:n="/",children:r=null,location:a,navigationType:s="POP",navigator:i,static:l=!1,unstable_useTransitions:o}=e;p(!fe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=t.useMemo(()=>({basename:c,navigator:i,static:l,unstable_useTransitions:o,future:{}}),[c,i,l,o]);"string"===typeof a&&(a=b(a));let{pathname:u="/",search:m="",hash:h="",state:x=null,key:g="default"}=a,v=t.useMemo(()=>{let e=z(u,c);return null==e?null:{location:{pathname:e,search:m,hash:h,state:x,key:g},navigationType:s}},[c,u,m,h,x,g,s]);return f(null!=v,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(u).concat(m).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==v?null:t.createElement(de.Provider,{value:d},t.createElement(ue.Provider,{children:r,value:v}))}function Be(e){let{children:t,location:n}=e;return je(Ue(t),n)}t.Component;function Ue(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let s=[...n,a];if(e.type===t.Fragment)return void r.push.apply(r,Ue(e.props.children,s));p(e.type===ze,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),p(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ue(e.props.children,s)),r.push(i)}),r}var We="get",He="application/x-www-form-urlencoded";function qe(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var Ke=null;var Ve=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ge(e){return null==e||Ve.has(e)?e:(f(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(He,'"')),null)}function $e(e,t){let n,r,a,s,i;if(function(e){return qe(e)&&"form"===e.tagName.toLowerCase()}(e)){let i=e.getAttribute("action");r=i?z(i,t):null,n=e.getAttribute("method")||We,a=Ge(e.getAttribute("enctype"))||He,s=new FormData(e)}else if(function(e){return qe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return qe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||i.getAttribute("action");if(r=l?z(l,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||We,a=Ge(e.getAttribute("formenctype"))||Ge(i.getAttribute("enctype"))||He,s=new FormData(i,e),!function(){if(null===Ke)try{new FormData(document.createElement("form"),0),Ke=!1}catch(e){Ke=!0}return Ke}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(qe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=We,r=null,a=He,i=e}return s&&"text/plain"===a&&(i=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ye(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ze(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===z(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Qe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Je(e){return null!=e&&"string"===typeof e.page}function Xe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function et(e,t,n,r,a,s){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,l=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||l(e,t)):"data"===s?t.filter((t,s)=>{let o=r.routes[t.route.id];if(!o||!o.hasLoader)return!1;if(i(t,s)||l(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function tt(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function nt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!Je(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(s)||(n.add(s),e.push({key:s,link:a})),e},[])}function rt(e,t){return"lazy"===e.mode&&!0===t}function at(){let e=t.useContext(re);return Ye(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function st(){let e=t.useContext(ae);return Ye(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var it=t.createContext(void 0);function lt(){let e=t.useContext(it);return Ye(e,"You must render this element inside a <HydratedRouter> element"),e}function ot(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ct(e,t,n){if(n&&!ht)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}it.displayName="FrameworkContext";function dt(e){let{page:n}=e,r=(0,a.A)(e,l),{router:i}=at(),o=t.useMemo(()=>w(i.routes,n,i.basename),[i.routes,n,i.basename]);return o?t.createElement(mt,(0,s.A)({page:n,matches:o},r)):null}function ut(e){let{manifest:n,routeModules:r}=lt(),[a,i]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return nt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Qe(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Xe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,s.A)((0,s.A)({},e),{},{rel:"prefetch",as:"style"}):(0,s.A)((0,s.A)({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||i(e)}),()=>{t=!0}},[e,n,r]),a}function mt(e){let{page:n,matches:r}=e,i=(0,a.A)(e,o),l=xe(),{manifest:c,routeModules:d}=lt(),{basename:u}=at(),{loaderData:m,matches:h}=st(),p=t.useMemo(()=>et(n,r,h,c,l,"data"),[n,r,h,c,l]),f=t.useMemo(()=>et(n,r,h,c,l,"assets"),[n,r,h,c,l]),x=t.useMemo(()=>{if(n===l.pathname+l.search+l.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let a=c.routes[n.route.id];a&&a.hasLoader&&(!p.some(e=>e.route.id===n.route.id)&&n.route.id in m&&null!==(r=d[n.route.id])&&void 0!==r&&r.shouldRevalidate||a.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let a=Ze(n,u,"data");return t&&e.size>0&&a.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[u,m,l,c,p,r,n,d]),g=t.useMemo(()=>tt(f,c),[f,c]),v=ut(f);return t.createElement(t.Fragment,null,x.map(e=>t.createElement("link",(0,s.A)({key:e,rel:"prefetch",as:"fetch",href:e},i))),g.map(e=>t.createElement("link",(0,s.A)({key:e,rel:"modulepreload",href:e},i))),v.map(e=>{let{key:n,link:r}=e;return t.createElement("link",(0,s.A)({key:n,nonce:i.nonce},r))}))}var ht=!1;function pt(e){let{manifest:n,serverHandoffString:r,isSpaMode:l,renderMeta:o,routeDiscovery:c,ssr:d}=lt(),{router:u,static:m,staticContext:h}=at(),{matches:p}=st(),f=ie(),x=rt(c,d);o&&(o.didRenderScripts=!0);let g=ct(p,null,l);t.useEffect(()=>{ht=!0},[]);let v=t.useMemo(()=>{var l;if(f)return null;let o=h?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=m?"".concat(null!==(l=n.hmr)&&void 0!==l&&l.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(x?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(g.map((e,t)=>{let r="route".concat(t),a=n.routes[e.route.id];Ye(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:i,clientMiddlewareModule:l,hydrateFallbackModule:o,module:c}=a,d=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...l?[{module:l,varName:"".concat(r,"_clientMiddleware")}]:[],...o?[{module:o,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===d.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(x?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=(0,a.A)(e,i),l=new Set(t.state.matches.map(e=>e.route.id)),o=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(o.pop();o.length>0;)c.push("/".concat(o.join("/"))),o.pop();c.forEach(e=>{let n=w(t.routes,e,t.basename);n&&n.forEach(e=>l.add(e.route.id))});let d=[...l].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return(0,s.A)((0,s.A)({},r),{},{routes:d,sri:!!n||void 0})}(n,u),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",(0,s.A)((0,s.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:void 0})),t.createElement("script",(0,s.A)((0,s.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:"module",async:!0})))},[]),b=ht||f?[]:function(e){return[...new Set(e)]}(n.entry.imports.concat(tt(g,n,{includeHydrateFallback:!0}))),y="object"===typeof n.sri?n.sri:{};return Le(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ht||f?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,x?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:y[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:y[n.entry.module],suppressHydrationWarning:!0}),b.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:y[n],suppressHydrationWarning:!0})),v)}function ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function xt(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let a,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Q(n))return t.createElement(gt,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)a=n;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);a=new Error(e)}return t.createElement(gt,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function gt(e){var n;let{title:r,renderScripts:a,isOutsideRemixApp:s,children:i}=e,{routeModules:l}=lt();return null!==(n=l.root)&&void 0!==n&&n.Layout&&!s?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,a?t.createElement(pt,null):null)))}var vt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{vt&&(window.__reactRouterVersion="7.11.0")}catch(Nq){}function bt(e){let{basename:n,children:r,unstable_useTransitions:a,window:s}=e,i=t.useRef();null==i.current&&(i.current=h({window:s,v5Compat:!0}));let l=i.current,[o,c]=t.useState({action:l.action,location:l.location}),d=t.useCallback(e=>{!1===a?c(e):t.startTransition(()=>c(e))},[a]);return t.useLayoutEffect(()=>l.listen(d),[l,d]),t.createElement(Fe,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:l,unstable_useTransitions:a})}var yt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=t.forwardRef(function(e,n){let{onClick:r,discover:i="render",prefetch:l="none",relative:o,reloadDocument:d,replace:u,state:m,target:h,to:f,preventScrollReset:x,viewTransition:g,unstable_defaultShouldRevalidate:b}=e,y=(0,a.A)(e,c),{basename:j,unstable_useTransitions:w}=t.useContext(de),N="string"===typeof f&&yt.test(f),k=ee(f,j);f=k.to;let A=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(fe(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=t.useContext(de),{hash:s,pathname:i,search:l}=ye(e,{relative:n}),o=i;return"/"!==r&&(o="/"===i?r:V([r,i])),a.createHref({pathname:o,search:l,hash:s})}(f,{relative:o}),[_,C,S]=function(e,n){let r=t.useContext(it),[a,s]=t.useState(!1),[i,l]=t.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=n,h=t.useRef(null);t.useEffect(()=>{if("render"===e&&l(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{l(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(a){let e=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{s(!0)},f=()=>{s(!1),l(!1)};return r?"intent"!==e?[i,h,{}]:[i,h,{onFocus:ot(o,p),onBlur:ot(c,f),onMouseEnter:ot(d,p),onMouseLeave:ot(u,f),onTouchStart:ot(m,p)}]:[!1,h,{}]}(l,y),E=function(e){let{target:n,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=be(),u=xe(),m=ye(e,{relative:i});return t.useCallback(h=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(h,n)){h.preventDefault();let n=void 0!==r?r:v(u)===v(m),p=()=>d(e,{replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:o});c?t.startTransition(()=>p()):p()}},[u,d,m,r,a,n,e,s,i,l,o,c])}(f,{replace:u,state:m,target:h,preventScrollReset:x,relative:o,viewTransition:g,unstable_defaultShouldRevalidate:b,unstable_useTransitions:w});let O=t.createElement("a",(0,s.A)((0,s.A)((0,s.A)({},y),S),{},{href:k.absoluteURL||A,onClick:k.isExternal||d?r:function(e){r&&r(e),e.defaultPrevented||E(e)},ref:ft(n,C),target:h,"data-discover":N||"render"!==i?void 0:"true"}));return _&&!N?t.createElement(t.Fragment,null,O,t.createElement(dt,{page:A})):O});jt.displayName="Link";var wt=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:l="",end:o=!1,style:c,to:u,viewTransition:m,children:h}=e,f=(0,a.A)(e,d),x=ye(u,{relative:f.relative}),g=xe(),v=t.useContext(ae),{navigator:b,basename:y}=t.useContext(de),j=null!=v&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(le);p(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=At("useViewTransitionState"),s=ye(e,{relative:n});if(!r.isTransitioning)return!1;let i=z(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=z(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=I(s.pathname,l)||null!=I(s.pathname,i)}(x)&&!0===m,w=b.encodeLocation?b.encodeLocation(x).pathname:x.pathname,N=g.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(N=N.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&y&&(k=z(k,y)||k);const A="/"!==w&&w.endsWith("/")?w.length-1:w.length;let _,C=N===w||!o&&N.startsWith(w)&&"/"===N.charAt(A),S=null!=k&&(k===w||!o&&k.startsWith(w)&&"/"===k.charAt(w.length)),E={isActive:C,isPending:S,isTransitioning:j},O=C?r:void 0;_="function"===typeof l?l(E):[l,C?"active":null,S?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M="function"===typeof c?c(E):c;return t.createElement(jt,(0,s.A)((0,s.A)({},f),{},{"aria-current":O,className:_,ref:n,style:M,to:u,viewTransition:m}),"function"===typeof h?h(E):h)});wt.displayName="NavLink";var Nt=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:i,navigate:l,reloadDocument:o,replace:c,state:d,method:m=We,action:h,onSubmit:f,relative:x,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:y}=e,j=(0,a.A)(e,u),{unstable_useTransitions:w}=t.useContext(de),N=St(),k=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(de),a=t.useContext(me);p(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l=(0,s.A)({},ye(e||".",{relative:n})),o=xe();if(null==e){l.search=o.search;let e=new URLSearchParams(l.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();l.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(l.pathname="/"===l.pathname?r:V([r,l.pathname]));return v(l)}(h,{relative:x}),A="get"===m.toLowerCase()?"get":"post",_="string"===typeof h&&yt.test(h);return t.createElement("form",(0,s.A)((0,s.A)({ref:n,method:A,action:k,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let n=e.nativeEvent.submitter,r=(null===n||void 0===n?void 0:n.getAttribute("formmethod"))||m,a=()=>N(n||e.currentTarget,{fetcherKey:i,method:r,navigate:l,replace:c,state:d,relative:x,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:y});w&&!1!==l?t.startTransition(()=>a()):a()}},j),{},{"data-discover":_||"render"!==r?void 0:"true"}))});function kt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function At(e){let n=t.useContext(re);return p(n,kt(e)),n}Nt.displayName="Form";var _t=0,Ct=()=>"__".concat(String(++_t),"__");function St(){let{router:e}=At("useSubmit"),{basename:n}=t.useContext(de),r=Pe("useRouteId"),a=e.fetch,s=e.navigate;return t.useCallback(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:l,encType:o,formData:c,body:d}=$e(e,n);if(!1===t.navigate){let e=t.fetcherKey||Ct();await a(e,r,t.action||i,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:c,body:d,formMethod:t.method||l,formEncType:t.encType||o,flushSync:t.flushSync})}else await s(t.action||i,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:c,body:d,formMethod:t.method||l,formEncType:t.encType||o,replace:t.replace,state:t.state,fromRouteId:r,flushSync:t.flushSync,viewTransition:t.viewTransition})},[a,s,n,r])}var Et=(e,t,n,r,a,s,i,l)=>{let o=document.documentElement,c=["light","dark"];function d(t){(Array.isArray(e)?e:[e]).forEach(e=>{let n="class"===e,r=n&&s?a.map(e=>s[e]||e):a;n?(o.classList.remove(...r),o.classList.add(s&&s[t]?s[t]:t)):o.setAttribute(e,t)}),function(e){l&&c.includes(e)&&(o.style.colorScheme=e)}(t)}if(r)d(r);else try{let e=localStorage.getItem(t)||n;d(i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e)}catch(u){}},Ot=t.createContext(void 0),Mt={setTheme:e=>{},themes:[]},Pt=(t.memo(e=>{let{forcedTheme:n,storageKey:r,attribute:a,enableSystem:i,enableColorScheme:l,defaultTheme:o,value:c,themes:d,nonce:u,scriptProps:m}=e,h=JSON.stringify([a,r,o,n,d,c,i,l]).slice(1,-1);return t.createElement("script",(0,s.A)((0,s.A)({},m),{},{suppressHydrationWarning:!0,nonce:"undefined"==typeof window?u:"",dangerouslySetInnerHTML:{__html:"(".concat(Et.toString(),")(").concat(h,")")}}))}),__webpack_require__(2033)),Tt=__webpack_require__(4414);const Dt=e=>{let n=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));const{theme:r="system"}=(()=>{var e;return null!=(e=t.useContext(Ot))?e:Mt})();return(0,Tt.jsx)(Pt.l$,(0,s.A)({theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}}},n))};var It=__webpack_require__(6230);const Rt=(0,It.A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var Lt=__webpack_require__(9975),zt=__webpack_require__(903);const Ft=(0,It.A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var Bt=__webpack_require__(6479);const Ut=(0,It.A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var Wt=__webpack_require__(1946);const Ht=(0,It.A)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),qt=(0,It.A)("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);var Kt=__webpack_require__(6243),Vt=__webpack_require__(5833),Gt=__webpack_require__(5924),$t=__webpack_require__(2989),Yt=__webpack_require__(1850),Zt=__webpack_require__(6987);const Qt=(0,It.A)("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Jt=(0,It.A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Xt=(0,It.A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var en=__webpack_require__(7737);const tn=(0,It.A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var nn=__webpack_require__(7637);const rn=(0,It.A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var an=__webpack_require__(6391);const sn=(0,It.A)("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);var ln=__webpack_require__(8406);const on=(0,It.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var cn=__webpack_require__(9686);const dn=(0,It.A)("film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]),un=(0,It.A)("terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);var mn=__webpack_require__(1168),hn=__webpack_require__(6542),pn=__webpack_require__(3270);const fn=(0,It.A)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var xn=__webpack_require__(7984),gn=__webpack_require__(1224),vn=__webpack_require__(90);const bn=["className","type"],yn=t.forwardRef((e,t)=>{let{className:n,type:r}=e,i=(0,a.A)(e,bn);return(0,Tt.jsx)("input",(0,s.A)({type:r,className:(0,vn.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t},i))});yn.displayName="Input";const jn=(0,It.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),wn=(0,It.A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Nn=(0,It.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),kn=(0,It.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),An=(0,It.A)("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),_n=(0,It.A)("pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),Cn=(0,It.A)("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Sn=(0,It.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var En=__webpack_require__(7684),On=__webpack_require__(7453);const Mn=(0,It.A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),Pn=(0,It.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Tn=[{id:"1",name:"John (You)",permission:"admin",bio:"Group leader and primary communications operator. 20 years experience in electrical engineering and emergency response.",roleLine:"EMT \u2022 Radio Ops \u2022 Leader",medicalVisibility:"admin",bloodType:"O+",allergies:{food:[],medication:["Penicillin"],environment:[]},medicalConditions:"Mild hypertension (controlled)",medications:"Lisinopril 10mg daily",emergencyContact:{name:"Sarah (Wife)",relationship:"Spouse",phone:"Node omega-02"},responderNotes:"Reading glasses in left pocket. Medical kit in backpack.",isCurrentUser:!0},{id:"2",name:"Sarah",permission:"member",bio:"Registered nurse with 20+ years ER experience. Master gardener and primary medical provider for the group.",roleLine:"RN \u2022 Medical Lead \u2022 Gardener",medicalVisibility:"household",bloodType:"A+",allergies:{food:["Shellfish"],medication:[],environment:["Latex"]},medicalConditions:"",medications:"",emergencyContact:{name:"John (Husband)",relationship:"Spouse",phone:"Node omega-01"},responderNotes:""},{id:"3",name:"Kids",permission:"guest",bio:"Emma (14) and Jake (12). Both trained in basic first aid and radio operation.",roleLine:"Students \u2022 Junior Operators",medicalVisibility:"admin",bloodType:"O+/A+",allergies:{food:[],medication:[],environment:[]},medicalConditions:"Jake: Mild asthma",medications:"Jake: Albuterol inhaler as needed",emergencyContact:{name:"Parents",relationship:"Parents",phone:"Nodes omega-01/02"},responderNotes:"Jake's inhaler always in backpack front pocket."}],Dn=e=>{var n,r,a,s;let{user:i,onClose:l,isAdmin:o}=e;const[c,d]=(0,t.useState)(!1),u=i.allergies&&((null===(n=i.allergies.food)||void 0===n?void 0:n.length)>0||(null===(r=i.allergies.medication)||void 0===r?void 0:r.length)>0||(null===(a=i.allergies.environment)||void 0===a?void 0:a.length)>0),m=o&&("admin"===i.medicalVisibility||"household"===i.medicalVisibility);return(0,Tt.jsxs)("div",{className:"glass-strong rounded-2xl overflow-hidden",children:[(0,Tt.jsxs)("div",{className:"p-4 border-b border-border/50 flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center",children:(0,Tt.jsx)(jn,{className:"w-6 h-6 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"font-bold",children:i.name}),i.roleLine&&(0,Tt.jsx)("p",{className:"text-xs text-primary font-medium",children:i.roleLine})]})]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:l,children:(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"})})]}),(0,Tt.jsxs)("div",{className:"p-4 border-b border-border/50",children:[(0,Tt.jsxs)("h4",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(jn,{className:"w-3 h-3"}),"Bio"]}),(0,Tt.jsx)("p",{className:"text-sm text-foreground",children:i.bio||(0,Tt.jsx)("span",{className:"text-muted-foreground italic",children:"No bio provided"})})]}),(0,Tt.jsxs)("div",{className:"p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("h4",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[(0,Tt.jsx)(wn,{className:"w-3 h-3"}),"Medical & Allergies"]}),"private"===i.medicalVisibility?(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium bg-muted text-muted-foreground flex items-center gap-1",children:[(0,Tt.jsx)(Nn,{className:"w-3 h-3"}),"Private"]}):(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium flex items-center gap-1 ".concat("admin"===i.medicalVisibility?"bg-warning/20 text-warning":"bg-primary/20 text-primary"),children:[(0,Tt.jsx)(kn,{className:"w-3 h-3"}),"admin"===i.medicalVisibility?"Admin View":"Household View"]})]}),"private"===i.medicalVisibility?(0,Tt.jsxs)("div",{className:"glass rounded-lg p-4 text-center",children:[(0,Tt.jsx)(Nn,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"Medical info: Private"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"User has not shared medical information"})]}):m?(0,Tt.jsxs)("div",{className:"space-y-4",children:[i.bloodType&&"Unknown"!==i.bloodType&&(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(An,{className:"w-4 h-4 text-destructive"}),(0,Tt.jsx)("span",{className:"text-sm",children:"Blood Type:"}),(0,Tt.jsx)("span",{className:"font-bold text-destructive",children:i.bloodType})]}),u&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("p",{className:"text-xs font-medium text-muted-foreground mb-2 flex items-center gap-1",children:[(0,Tt.jsx)(Gt.A,{className:"w-3 h-3 text-warning"}),"Allergies"]}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1",children:[...i.allergies.food,...i.allergies.medication,...i.allergies.environment].map((e,t)=>(0,Tt.jsxs)("span",{className:"px-2 py-1 bg-destructive/20 text-destructive rounded text-xs font-medium",children:["\u26a0\ufe0f ",e]},t))})]}),i.medicalConditions&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Conditions"}),(0,Tt.jsx)("p",{className:"text-sm",children:i.medicalConditions})]}),i.medications&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("p",{className:"text-xs font-medium text-muted-foreground mb-1 flex items-center gap-1",children:[(0,Tt.jsx)(_n,{className:"w-3 h-3"}),"Medications"]}),(0,Tt.jsx)("p",{className:"text-sm",children:i.medications})]}),(null===(s=i.emergencyContact)||void 0===s?void 0:s.name)&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("p",{className:"text-xs font-medium text-muted-foreground mb-1 flex items-center gap-1",children:[(0,Tt.jsx)(Cn,{className:"w-3 h-3"}),"Emergency Contact"]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2",children:[(0,Tt.jsx)("p",{className:"text-sm font-medium",children:i.emergencyContact.name}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:[i.emergencyContact.relationship," \u2022 ",i.emergencyContact.phone]})]})]}),i.responderNotes&&(0,Tt.jsxs)("div",{className:"bg-warning/10 border border-warning/30 rounded-lg p-3",children:[(0,Tt.jsx)("p",{className:"text-xs font-medium text-warning mb-1",children:"Notes for Responders"}),(0,Tt.jsx)("p",{className:"text-sm",children:i.responderNotes})]})]}):(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"You don't have permission to view this information."})]})]})};function In(){const[e]=(0,t.useState)(Tn),[n,r]=(0,t.useState)(""),[a,i]=(0,t.useState)(null),[l,o]=(0,t.useState)({hasAllergy:null,hasEmergencyContact:null,allergyTag:null}),[c,d]=(0,t.useState)(!1),u=e.filter(e=>{if(n&&!e.name.toLowerCase().includes(n.toLowerCase()))return!1;const t="private"!==e.medicalVisibility;if(null!==l.hasAllergy&&t){var r,a,s;const t=e.allergies&&((null===(r=e.allergies.food)||void 0===r?void 0:r.length)>0||(null===(a=e.allergies.medication)||void 0===a?void 0:a.length)>0||(null===(s=e.allergies.environment)||void 0===s?void 0:s.length)>0);if(l.hasAllergy&&!t)return!1;if(!l.hasAllergy&&t)return!1}if(null!==l.hasEmergencyContact&&t){var i;const t=null===(i=e.emergencyContact)||void 0===i?void 0:i.name;if(l.hasEmergencyContact&&!t)return!1;if(!l.hasEmergencyContact&&t)return!1}if(l.allergyTag&&t){var o,c,d;if(![...(null===(o=e.allergies)||void 0===o?void 0:o.food)||[],...(null===(c=e.allergies)||void 0===c?void 0:c.medication)||[],...(null===(d=e.allergies)||void 0===d?void 0:d.environment)||[]].some(e=>e.toLowerCase().includes(l.allergyTag.toLowerCase())))return!1}return!0}),m=[...new Set(e.filter(e=>"private"!==e.medicalVisibility).flatMap(e=>{var t,n,r;return[...(null===(t=e.allergies)||void 0===t?void 0:t.food)||[],...(null===(n=e.allergies)||void 0===n?void 0:n.medication)||[],...(null===(r=e.allergies)||void 0===r?void 0:r.environment)||[]]}))];return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Tt.jsxs)("div",{className:"relative flex-1",children:[(0,Tt.jsx)(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,Tt.jsx)(yn,{value:n,onChange:e=>r(e.target.value),placeholder:"Search roster...",className:"pl-10 input-apple"})]}),(0,Tt.jsxs)(gn.$,{variant:"outline",onClick:()=>d(!c),className:"btn-apple ".concat(c?"bg-primary/10":""),children:[(0,Tt.jsx)(Sn,{className:"w-4 h-4 mr-2"}),"Filters",c?(0,Tt.jsx)(En.A,{className:"w-4 h-4 ml-2"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4 ml-2"})]})]}),c&&(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 space-y-4 animate-fade-in",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-2 block",children:"Allergy Present"}),(0,Tt.jsxs)("select",{value:null===l.hasAllergy?"":l.hasAllergy.toString(),onChange:e=>o((0,s.A)((0,s.A)({},l),{},{hasAllergy:""===e.target.value?null:"true"===e.target.value})),className:"input-apple w-full",children:[(0,Tt.jsx)("option",{value:"",children:"Any"}),(0,Tt.jsx)("option",{value:"true",children:"Yes - Has allergies"}),(0,Tt.jsx)("option",{value:"false",children:"No allergies"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-2 block",children:"Emergency Contact"}),(0,Tt.jsxs)("select",{value:null===l.hasEmergencyContact?"":l.hasEmergencyContact.toString(),onChange:e=>o((0,s.A)((0,s.A)({},l),{},{hasEmergencyContact:""===e.target.value?null:"true"===e.target.value})),className:"input-apple w-full",children:[(0,Tt.jsx)("option",{value:"",children:"Any"}),(0,Tt.jsx)("option",{value:"true",children:"Has contact"}),(0,Tt.jsx)("option",{value:"false",children:"No contact"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-2 block",children:"Allergy Type"}),(0,Tt.jsxs)("select",{value:l.allergyTag||"",onChange:e=>o((0,s.A)((0,s.A)({},l),{},{allergyTag:e.target.value||null})),className:"input-apple w-full",children:[(0,Tt.jsx)("option",{value:"",children:"Any"}),m.map(e=>(0,Tt.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Tt.jsx)("div",{className:"flex justify-end",children:(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>o({hasAllergy:null,hasEmergencyContact:null,allergyTag:null}),children:"Clear Filters"})}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Note: Filters only apply to users who have shared their medical information."})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-2xl overflow-hidden",children:[(0,Tt.jsx)("div",{className:"p-4 border-b border-border/50",children:(0,Tt.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(Lt.A,{className:"w-4 h-4 text-primary"}),"Roster",(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground ml-2",children:[u.length," people"]})]})}),(0,Tt.jsx)("div",{className:"divide-y divide-border/30",children:u.map(e=>{var t,n,r;const s="private"!==e.medicalVisibility&&e.allergies&&((null===(t=e.allergies.food)||void 0===t?void 0:t.length)>0||(null===(n=e.allergies.medication)||void 0===n?void 0:n.length)>0||(null===(r=e.allergies.environment)||void 0===r?void 0:r.length)>0);return(0,Tt.jsx)("button",{onClick:()=>i(e),className:"w-full p-4 text-left hover:bg-secondary/30 transition-colors ".concat((null===a||void 0===a?void 0:a.id)===e.id?"bg-primary/10":""),children:(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:(0,Tt.jsx)(jn,{className:"w-5 h-5 text-primary"})}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"font-medium text-sm",children:e.name}),e.isCurrentUser&&(0,Tt.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 bg-primary/20 text-primary rounded",children:"You"}),"admin"===e.permission&&(0,Tt.jsx)(Mn,{className:"w-3 h-3 text-warning"})]}),e.roleLine&&(0,Tt.jsx)("p",{className:"text-xs text-primary truncate",children:e.roleLine}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[s&&(0,Tt.jsxs)("span",{className:"text-[10px] px-1.5 py-0.5 bg-destructive/20 text-destructive rounded flex items-center gap-0.5",children:[(0,Tt.jsx)(Gt.A,{className:"w-3 h-3"}),"Allergies"]}),"private"===e.medicalVisibility&&(0,Tt.jsxs)("span",{className:"text-[10px] px-1.5 py-0.5 bg-muted text-muted-foreground rounded flex items-center gap-0.5",children:[(0,Tt.jsx)(Nn,{className:"w-3 h-3"}),"Medical Private"]})]})]}),(0,Tt.jsx)(Pn,{className:"w-4 h-4 text-muted-foreground"})]})},e.id)})})]}),(0,Tt.jsx)("div",{children:a?(0,Tt.jsx)(Dn,{user:a,onClose:()=>i(null),isAdmin:!0}):(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-8 text-center h-full flex flex-col items-center justify-center min-h-[300px]",children:[(0,Tt.jsx)(Lt.A,{className:"w-12 h-12 text-muted-foreground mb-4"}),(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"Select a person to view details"})]})})]})]})}var Rn=__webpack_require__(6859),Ln=__webpack_require__(8822);const zn={CPU:{term:"CPU",fullName:"Central Processing Unit",definition:"The main processor that executes instructions.",units:"%",typicalRange:"0-100%",healthyRange:"< 80%"},RAM:{term:"RAM",fullName:"Random Access Memory",definition:"Short-term memory used by running applications.",units:"%",typicalRange:"0-100%",healthyRange:"< 85%"},TEMP:{term:"Temp",fullName:"Temperature",definition:"CPU core temperature.",units:"\xb0C",typicalRange:"30-85\xb0C",healthyRange:"< 70\xb0C"},DISK:{term:"Disk",fullName:"Storage Usage",definition:"Percentage of disk space used.",units:"%",typicalRange:"0-100%",healthyRange:"< 90%"},RSSI:{term:"RSSI",fullName:"Received Signal Strength Indicator",definition:"WiFi signal strength measurement.",units:"dBm",typicalRange:"-30 to -90 dBm",healthyRange:"> -70 dBm"},LATENCY:{term:"Latency",fullName:"Network Latency",definition:"Time for data to travel to server and back.",units:"ms",typicalRange:"1-500ms",healthyRange:"< 100ms"},UPTIME:{term:"Uptime",fullName:"System Uptime",definition:"Time since last system restart.",units:"days/hours",typicalRange:"N/A",healthyRange:"N/A"},GPS:{term:"GPS",fullName:"Global Positioning System",definition:"Satellite-based location service.",units:"coordinates",typicalRange:"N/A",healthyRange:"Fix acquired"},LAN:{term:"LAN",fullName:"Local Area Network",definition:"Local network connecting nearby devices.",units:"N/A",typicalRange:"N/A",healthyRange:"Connected"},API:{term:"API",fullName:"Application Programming Interface",definition:"Interface for communicating with backend services.",units:"N/A",typicalRange:"N/A",healthyRange:"Responding"},PIN:{term:"PIN",fullName:"Personal Identification Number",definition:"A numeric code used to verify identity for admin actions.",units:"N/A",typicalRange:"4-6 digits",healthyRange:"N/A"},SSID:{term:"SSID",fullName:"Service Set Identifier",definition:"The name of a WiFi network.",units:"N/A",typicalRange:"N/A",healthyRange:"N/A"}},Fn={OK:{label:"OK",color:"text-green-500",bgColor:"bg-green-500/10",borderColor:"border-green-500/30",icon:Vt.A,description:"Service is operating normally.",action:"No action required."},DEGRADED:{label:"DEGRADED",color:"text-amber-500",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/30",icon:Gt.A,description:"Service is running but with reduced functionality or performance.",action:"Check system resources and logs for issues."},NOT_CONFIGURED:{label:"NOT CONFIGURED",color:"text-blue-500",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30",icon:Rn.A,description:"Service is not set up or endpoint is not reachable.",action:"Configure the service in Admin Console or check network settings."},FORBIDDEN:{label:"FORBIDDEN",color:"text-red-500",bgColor:"bg-red-500/10",borderColor:"border-red-500/30",icon:Yt.A,description:"Access denied. Authentication or permissions required.",action:"Check credentials and permissions in Admin Console."},UNKNOWN:{label:"UNKNOWN",color:"text-muted-foreground",bgColor:"bg-muted/50",borderColor:"border-muted",icon:an.A,description:"Status cannot be determined.",action:"Run self-test to check system status."}},Bn={VERIFIED:{label:"VERIFIED",color:"text-green-500",bgColor:"bg-green-500/10",description:"Direct measurement from source"},DERIVED:{label:"DERIVED",color:"text-blue-500",bgColor:"bg-blue-500/10",description:"Computed from multiple data points"},ESTIMATED:{label:"ESTIMATED",color:"text-amber-500",bgColor:"bg-amber-500/10",description:"Model-based estimate"},UNKNOWN:{label:"UNKNOWN",color:"text-muted-foreground",bgColor:"bg-muted/50",description:"Data source not verified"}},Un={LIVE:{label:"LIVE",color:"text-green-500",maxAge:3e4},CACHED:{label:"CACHED",color:"text-blue-500",maxAge:3e5},STALE:{label:"STALE",color:"text-amber-500",maxAge:36e5},UNKNOWN:{label:"UNKNOWN",color:"text-muted-foreground",maxAge:1/0}},Wn=e=>{if(!e)return Un.UNKNOWN;const t=Date.now()-e;return t<Un.LIVE.maxAge?Un.LIVE:t<Un.CACHED.maxAge?Un.CACHED:t<Un.STALE.maxAge?Un.STALE:Un.UNKNOWN},Hn=e=>{let{term:n,children:r,className:a=""}=e;const[s,i]=(0,t.useState)(!1),l=zn[null===n||void 0===n?void 0:n.toUpperCase()];return l?(0,Tt.jsxs)("span",{className:"relative inline-flex items-center gap-1 ".concat(a),children:[r||n,(0,Tt.jsx)("button",{onClick:()=>i(!s),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),className:"text-muted-foreground hover:text-primary transition-colors","data-testid":"help-tooltip-".concat(null===n||void 0===n?void 0:n.toLowerCase()),children:(0,Tt.jsx)(an.A,{className:"w-3.5 h-3.5"})}),s&&(0,Tt.jsxs)("div",{className:"absolute bottom-full left-0 mb-2 z-50 w-64 p-3 bg-popover border border-border rounded-lg shadow-lg text-sm animate-fade-in",children:[(0,Tt.jsx)("div",{className:"font-semibold text-foreground mb-1",children:l.fullName}),(0,Tt.jsx)("div",{className:"text-muted-foreground mb-2",children:l.definition}),"N/A"!==l.units&&(0,Tt.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,Tt.jsx)("span",{className:"font-medium",children:"Units:"})," ",l.units]}),"N/A"!==l.typicalRange&&(0,Tt.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,Tt.jsx)("span",{className:"font-medium",children:"Typical:"})," ",l.typicalRange]}),"N/A"!==l.healthyRange&&(0,Tt.jsxs)("div",{className:"text-xs text-green-500",children:[(0,Tt.jsx)("span",{className:"font-medium",children:"Healthy:"})," ",l.healthyRange]})]})]}):(0,Tt.jsx)("span",{className:a,children:r||n})},qn=e=>{let{type:t="UNKNOWN",showLabel:n=!0,className:r=""}=e;const a=Bn[t]||Bn.UNKNOWN;return(0,Tt.jsx)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-xs font-medium ".concat(a.bgColor," ").concat(a.color," ").concat(r),title:a.description,"data-testid":"trust-badge-".concat(null===t||void 0===t?void 0:t.toLowerCase()),children:n&&a.label})},Kn={INDEXED:{title:"Data Available",description:"This data source is configured and actively providing data.",color:"text-success",bgColor:"bg-success/10",borderColor:"border-success/30",icon:Vt.A,action:null},NOT_INDEXED:{title:"Not Configured",description:"This data source requires configuration before it can provide data.",color:"text-blue-500",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30",icon:Rn.A,howToFix:["Check Admin Console for configuration options","Verify required API keys or credentials are set","Ensure the service endpoint is accessible"],whatToExpect:"Once configured, data will appear within 30 seconds."},PLANNED:{title:"Feature Planned",description:"This feature is under development and will be available in a future update.",color:"text-amber-500",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/30",icon:en.A,howToFix:null,whatToExpect:"This feature will be enabled automatically when available."},UNAVAILABLE:{title:"Service Unavailable",description:"Unable to connect to the data source. The service may be offline or unreachable.",color:"text-red-500",bgColor:"bg-red-500/10",borderColor:"border-red-500/30",icon:Ln.A,howToFix:["Check network connectivity","Verify the service is running","Try refreshing the connection","Check system logs for errors"],whatToExpect:"Data will resume automatically when connection is restored."},DEGRADED:{title:"Degraded Performance",description:"The service is running but with reduced functionality or delayed updates.",color:"text-amber-500",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/30",icon:Gt.A,howToFix:["Check system resource usage","Restart the affected service","Review recent changes or updates"],whatToExpect:"Some features may be limited until the issue is resolved."},UNKNOWN:{title:"Status Unknown",description:"Unable to determine the current status of this data source.",color:"text-muted-foreground",bgColor:"bg-muted/50",borderColor:"border-muted",icon:an.A,howToFix:["Run a self-test from the Help Center","Check system health in Device Info","Review logs for any errors"],whatToExpect:"Status will update once the source responds."},SIMULATED:{title:"Simulated Data",description:"Currently showing simulated/mock data. Real data will appear when connected to hardware.",color:"text-amber-500",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/30",icon:Gt.A,howToFix:["Connect OMEGA to actual hardware/sensors","Ensure services are properly configured","Deploy to production environment"],whatToExpect:"Real sensor data will replace simulated values."}},Vn=e=>{let{status:t="UNKNOWN",customMessage:n=null}=e;const r=Kn[t]||Kn.UNKNOWN,a=r.icon;return(0,Tt.jsx)("div",{className:"rounded-xl p-4 ".concat(r.bgColor," border ").concat(r.borderColor),"data-testid":"status-guidance-".concat(null===t||void 0===t?void 0:t.toLowerCase()),children:(0,Tt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Tt.jsx)(a,{className:"w-5 h-5 ".concat(r.color," flex-shrink-0 mt-0.5")}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("h4",{className:"font-semibold text-sm ".concat(r.color),children:r.title}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:n||r.description}),r.howToFix&&(0,Tt.jsxs)("div",{className:"mt-3",children:[(0,Tt.jsx)("p",{className:"text-xs font-semibold text-foreground mb-1",children:"How to fix:"}),(0,Tt.jsx)("ul",{className:"space-y-1",children:r.howToFix.map((e,t)=>(0,Tt.jsxs)("li",{className:"text-xs text-muted-foreground flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"w-4 h-4 rounded-full ".concat(r.bgColor," ").concat(r.color," flex items-center justify-center flex-shrink-0 text-[10px] font-bold"),children:t+1}),e]},t))})]}),r.whatToExpect&&(0,Tt.jsx)("div",{className:"mt-3 pt-2 border-t border-border/50",children:(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,Tt.jsx)("span",{className:"font-semibold text-foreground",children:"What to expect: "}),r.whatToExpect]})})]})]})})},Gn=e=>{let{source:t="Unknown",endpoint:n=null,lastUpdated:r=null,trustType:a="UNKNOWN",status:s="INDEXED",refreshInterval:i=null,onRefresh:l=null,className:o=""}=e;const c=Wn(r),d=r?new Date(r).toLocaleTimeString():"Never";return(0,Tt.jsxs)("div",{className:"border-t border-border/50 pt-3 mt-3 ".concat(o),"data-testid":"data-provenance-footer",children:[(0,Tt.jsxs)("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-xs",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Source:"}),(0,Tt.jsx)("span",{className:"font-medium text-foreground",children:t})]}),n&&(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("span",{className:"text-border hidden sm:inline",children:"|"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Endpoint:"}),(0,Tt.jsx)("code",{className:"text-[10px] px-1.5 py-0.5 bg-secondary rounded font-mono",children:n})]})]}),(0,Tt.jsx)("span",{className:"text-border hidden sm:inline",children:"|"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)(en.A,{className:"w-3 h-3 text-muted-foreground"}),(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Updated:"}),(0,Tt.jsx)("span",{className:"font-medium ".concat(c.color),children:d}),(0,Tt.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded ".concat(c===Un.LIVE?"bg-success/20 text-success":c===Un.CACHED?"bg-blue-500/20 text-blue-500":c===Un.STALE?"bg-amber-500/20 text-amber-500":"bg-muted/50 text-muted-foreground"),children:c.label})]}),i&&(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("span",{className:"text-border hidden sm:inline",children:"|"}),(0,Tt.jsxs)("span",{className:"text-muted-foreground text-[10px]",children:["Refreshes every ",i]})]}),(0,Tt.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,Tt.jsx)(qn,{type:a,showLabel:!0}),l&&(0,Tt.jsx)("button",{onClick:l,className:"p-1 rounded hover:bg-secondary transition-colors",title:"Refresh data",children:(0,Tt.jsx)(Zt.A,{className:"w-3 h-3 text-muted-foreground"})})]})]}),s&&"INDEXED"!==s&&(0,Tt.jsx)("div",{className:"mt-2",children:(0,Tt.jsx)(Vn,{status:s})})]})},$n=e=>{let{title:n="Technical Details",children:r,defaultExpanded:a=!1,helpText:s=null}=e;const[i,l]=(0,t.useState)(a);return(0,Tt.jsxs)("div",{className:"border-t border-border/50 mt-3 pt-3","data-testid":"progressive-details",children:[(0,Tt.jsxs)("button",{onClick:()=>l(!i),className:"w-full flex items-center justify-between py-2 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors","data-testid":"progressive-details-toggle",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[i?(0,Tt.jsx)(En.A,{className:"w-4 h-4"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{children:i?"Hide Details":"Show Details"}),n&&(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",n,")"]})]}),s&&(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:s})]}),i&&(0,Tt.jsx)("div",{className:"animate-fade-in pt-2 space-y-3","data-testid":"progressive-details-content",children:r})]})},Yn=e=>{let{data:n,title:r="Raw Data"}=e;const[a,s]=(0,t.useState)(!1);return(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3","data-testid":"raw-data-display",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)("h5",{className:"text-xs font-semibold text-muted-foreground",children:r}),(0,Tt.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(n,null,2)),s(!0),setTimeout(()=>s(!1),2e3)},className:"text-xs text-primary hover:underline flex items-center gap-1",children:[a?(0,Tt.jsx)(Vt.A,{className:"w-3 h-3"}):null,a?"Copied!":"Copy JSON"]})]}),(0,Tt.jsx)("pre",{className:"text-[10px] bg-secondary/50 p-2 rounded overflow-x-auto max-h-40 scrollbar-thin",children:JSON.stringify(n,null,2)})]})},Zn=e=>{let{notes:t=[],title:n="How This Value is Calculated"}=e;return t.length?(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3","data-testid":"calculation-notes",children:[(0,Tt.jsxs)("h5",{className:"text-xs font-semibold text-muted-foreground mb-2 flex items-center gap-1",children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3"}),n]}),(0,Tt.jsx)("ul",{className:"space-y-1",children:t.map((e,t)=>(0,Tt.jsxs)("li",{className:"text-xs text-muted-foreground flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"text-primary",children:"\u2022"}),e]},t))})]}):null},Qn=e=>{let{label:t,value:n,unit:r="",trustType:a="VERIFIED",helpTerm:s=null,className:i=""}=e;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between py-1.5 ".concat(i),children:[(0,Tt.jsx)("div",{className:"flex items-center gap-1.5",children:s?(0,Tt.jsx)(Hn,{term:s,children:(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:t})}):(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:t})}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsxs)("span",{className:"text-xs font-medium text-foreground",children:[n,r&&(0,Tt.jsx)("span",{className:"text-muted-foreground ml-0.5",children:r})]}),(0,Tt.jsx)(qn,{type:a,showLabel:!1})]})]})},Jn=t.lazy(()=>__webpack_require__.e(11).then(__webpack_require__.bind(__webpack_require__,4011))),Xn=[{id:"omega-01",name:"Dad's OMEGA",version:"1.2.3",lastSeen:new Date(Date.now()-6e4),updateStatus:"up-to-date"},{id:"omega-02",name:"Mom's OMEGA",version:"1.2.2",lastSeen:new Date(Date.now()-3e5),updateStatus:"update-available"},{id:"omega-03",name:"Kids' OMEGA",version:"1.2.1",lastSeen:new Date(Date.now()-12e4),updateStatus:"update-available"},{id:"omega-04",name:"Backup OMEGA",version:"1.2.0",lastSeen:new Date(Date.now()-72e5),updateStatus:"offline"}],er="1.2.3",tr=()=>{const[e,n]=(0,t.useState)(Xn),[r,a]=(0,t.useState)([]),[i,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),x=e=>{const t=Math.floor((Date.now()-e)/1e3);return t<60?"Just now":t<3600?"".concat(Math.floor(t/60),"m ago"):t<86400?"".concat(Math.floor(t/3600),"h ago"):e.toLocaleDateString()},g=e=>{switch(e){case"up-to-date":return(0,Tt.jsxs)("span",{className:"px-2 py-1 rounded-full bg-success/20 text-success text-xs font-medium flex items-center gap-1",children:[(0,Tt.jsx)(Vt.A,{className:"w-3 h-3"}),"Up to date"]});case"update-available":return(0,Tt.jsxs)("span",{className:"px-2 py-1 rounded-full bg-warning/20 text-warning text-xs font-medium flex items-center gap-1",children:[(0,Tt.jsx)(Gt.A,{className:"w-3 h-3"}),"Update available"]});case"updating":return(0,Tt.jsxs)("span",{className:"px-2 py-1 rounded-full bg-primary/20 text-primary text-xs font-medium flex items-center gap-1",children:[(0,Tt.jsx)($t.A,{className:"w-3 h-3 animate-spin"}),"Updating..."]});case"offline":return(0,Tt.jsxs)("span",{className:"px-2 py-1 rounded-full bg-muted text-muted-foreground text-xs font-medium flex items-center gap-1",children:[(0,Tt.jsx)(Yt.A,{className:"w-3 h-3"}),"Offline"]});default:return null}},v=e=>{c(e),l(!0)};return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Tt.jsxs)(gn.$,{onClick:()=>{Pt.oR.success("Checking node versions..."),setTimeout(()=>Pt.oR.success("All node versions checked"),1500)},className:"btn-apple",children:[(0,Tt.jsx)(Zt.A,{className:"w-4 h-4 mr-2"}),"Check Node Versions"]}),(0,Tt.jsxs)(gn.$,{onClick:()=>v("all"),className:"btn-apple-primary",disabled:d,children:[(0,Tt.jsx)(Qt,{className:"w-4 h-4 mr-2"}),"Push Update to All"]}),(0,Tt.jsxs)(gn.$,{onClick:()=>v("selected"),className:"btn-apple",disabled:0===r.length||d,children:[(0,Tt.jsx)(Qt,{className:"w-4 h-4 mr-2"}),"Push to Selected (",r.length,")"]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-2xl overflow-hidden",children:[(0,Tt.jsx)("div",{className:"p-3 sm:p-4 border-b border-border/50",children:(0,Tt.jsxs)("h3",{className:"font-semibold flex items-center gap-2 text-sm sm:text-base",children:[(0,Tt.jsx)(Jt,{className:"w-4 h-4 text-primary"}),"Fleet Status",(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground ml-2",children:["Latest: v",er]})]})}),(0,Tt.jsx)("div",{className:"overflow-x-auto scrollbar-thin",children:(0,Tt.jsxs)("table",{className:"w-full min-w-[500px]",children:[(0,Tt.jsx)("thead",{className:"bg-secondary/30",children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-semibold text-muted-foreground",children:(0,Tt.jsx)("input",{type:"checkbox",className:"rounded",checked:r.length===e.filter(e=>"offline"!==e.updateStatus).length,onChange:t=>a(t.target.checked?e.filter(e=>"offline"!==e.updateStatus).map(e=>e.id):[])})}),(0,Tt.jsx)("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-semibold text-muted-foreground",children:"Node"}),(0,Tt.jsx)("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-semibold text-muted-foreground",children:"Version"}),(0,Tt.jsx)("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-semibold text-muted-foreground",children:"Last Seen"}),(0,Tt.jsx)("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-semibold text-muted-foreground",children:"Status"}),(0,Tt.jsx)("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-semibold text-muted-foreground",children:"Actions"})]})}),(0,Tt.jsx)("tbody",{children:e.map(e=>(0,Tt.jsxs)("tr",{className:"border-t border-border/30 hover:bg-white/5",children:[(0,Tt.jsx)("td",{className:"px-2 sm:px-4 py-2 sm:py-3",children:(0,Tt.jsx)("input",{type:"checkbox",className:"rounded",checked:r.includes(e.id),onChange:()=>{return t=e.id,void a(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},disabled:"offline"===e.updateStatus})}),(0,Tt.jsx)("td",{className:"px-2 sm:px-4 py-2 sm:py-3 font-medium text-sm",children:e.name}),(0,Tt.jsxs)("td",{className:"px-2 sm:px-4 py-2 sm:py-3 font-mono text-xs sm:text-sm",children:["v",e.version]}),(0,Tt.jsx)("td",{className:"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm text-muted-foreground",children:x(e.lastSeen)}),(0,Tt.jsx)("td",{className:"px-2 sm:px-4 py-2 sm:py-3",children:g(e.updateStatus)}),(0,Tt.jsx)("td",{className:"px-2 sm:px-4 py-2 sm:py-3",children:(0,Tt.jsxs)(gn.$,{size:"sm",variant:"ghost",className:"h-7 sm:h-8 px-2 text-xs",onClick:()=>{return t=e.id,void Pt.oR.success("Downloading debug logs from ".concat(t,"..."));var t},children:[(0,Tt.jsx)(Xt,{className:"w-3 h-3 mr-1"}),"Logs"]})})]},e.id))})]})})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-4 space-y-3",children:[(0,Tt.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(en.A,{className:"w-4 h-4 text-primary"}),"Schedule Update Window"]}),(0,Tt.jsx)(yn,{type:"datetime-local",value:p,onChange:e=>f(e.target.value),className:"input-apple"}),(0,Tt.jsx)(gn.$,{className:"w-full btn-apple",disabled:!p,children:"Schedule Update"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-4 space-y-3",children:[(0,Tt.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(tn,{className:"w-4 h-4 text-warning"}),"Rollback Last Update"]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Revert all nodes to the previous version (v1.2.2)"}),(0,Tt.jsxs)(gn.$,{onClick:()=>{Pt.oR.info("Rollback initiated - reverting to previous version..."),setTimeout(()=>Pt.oR.success("Rollback completed"),2e3)},className:"w-full btn-apple text-warning",children:[(0,Tt.jsx)(tn,{className:"w-4 h-4 mr-2"}),"Rollback to v1.2.2"]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-4 space-y-3",children:[(0,Tt.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(nn.A,{className:"w-4 h-4 text-primary"}),"Update Notes / Changelog"]}),(0,Tt.jsx)("textarea",{value:m,onChange:e=>h(e.target.value),placeholder:"Enter changelog or notes for this update...",className:"input-apple h-24 resize-none"})]}),i&&(0,Tt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:(0,Tt.jsxs)("div",{className:"glass-strong rounded-2xl p-6 max-w-md w-full mx-4 animate-fade-in",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-xl bg-warning/20 flex items-center justify-center",children:(0,Tt.jsx)(Gt.A,{className:"w-6 h-6 text-warning"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"font-bold text-lg",children:"Confirm Update"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"This action cannot be undone"})]})]}),(0,Tt.jsxs)("p",{className:"text-sm mb-6",children:["You are about to push update v",er," to"," ",(0,Tt.jsx)("span",{className:"font-bold text-primary",children:"all"===o?"all ".concat(e.filter(e=>"update-available"===e.updateStatus).length," nodes"):"".concat(r.length," selected node(s)")}),". Devices will restart after the update."]}),(0,Tt.jsxs)("div",{className:"flex gap-3",children:[(0,Tt.jsx)(gn.$,{onClick:()=>l(!1),className:"flex-1 btn-apple",children:"Cancel"}),(0,Tt.jsxs)(gn.$,{onClick:()=>{u(!0),l(!1);const t="all"===o?e.filter(e=>"update-available"===e.updateStatus):e.filter(e=>r.includes(e.id)&&"update-available"===e.updateStatus);t.forEach(e=>{n(t=>t.map(t=>t.id===e.id?(0,s.A)((0,s.A)({},t),{},{updateStatus:"updating"}):t))}),setTimeout(()=>{n(e=>e.map(e=>t.find(t=>t.id===e.id)?(0,s.A)((0,s.A)({},e),{},{version:er,updateStatus:"up-to-date"}):e)),u(!1),Pt.oR.success("Successfully updated ".concat(t.length," node(s) to v").concat(er))},3e3)},className:"flex-1 btn-apple-primary",children:[(0,Tt.jsx)(Qt,{className:"w-4 h-4 mr-2"}),"Confirm Update"]})]})]})}),d&&(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-4 border border-primary/30",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)($t.A,{className:"w-5 h-5 text-primary animate-spin"}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("p",{className:"font-medium",children:"Update in Progress"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Please wait while nodes are being updated..."})]})]}),(0,Tt.jsx)("div",{className:"mt-3 h-2 bg-secondary rounded-full overflow-hidden",children:(0,Tt.jsx)("div",{className:"h-full bg-primary animate-pulse",style:{width:"60%"}})})]})]})},nr=()=>{const[e,n]=(0,t.useState)("broadcast"),[r,a]=(0,t.useState)(""),[i,l]=(0,t.useState)("info"),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(["",""]),[m,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(null),[x,g]=(0,t.useState)(!1),[v,b]=(0,t.useState)(!1),[y,j]=(0,t.useState)([{option:"North Ridge",votes:3},{option:"Valley Camp",votes:1}]),w=[{id:"broadcast",label:"Mass Broadcast",icon:rn},{id:"poll",label:"Mass Poll",icon:Rt},{id:"question",label:"Quick Tally",icon:an.A},{id:"random",label:"Random Select",icon:sn}];return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("div",{className:"flex gap-1 p-1 rounded-2xl bg-secondary/30 overflow-x-auto",children:w.map(t=>{const r=t.icon;return(0,Tt.jsxs)("button",{onClick:()=>n(t.id),"data-testid":"admin-tab-".concat(t.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-sm font-medium transition-all whitespace-nowrap ".concat(e===t.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-white/5"),children:[(0,Tt.jsx)(r,{className:"w-4 h-4"}),t.label]},t.id)})}),"broadcast"===e&&(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-6 space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary/15 flex items-center justify-center",children:(0,Tt.jsx)(rn,{className:"w-5 h-5 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"font-bold",children:"Mass Broadcast Message"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Send a message to all OMEGA devices"})]})]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Severity"}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>l("info"),"data-testid":"broadcast-severity-info",className:"flex-1 py-2 px-4 rounded-xl text-sm font-medium transition-all ".concat("info"===i?"bg-primary text-primary-foreground":"btn-apple"),children:"INFO"}),(0,Tt.jsx)("button",{onClick:()=>l("urgent"),"data-testid":"broadcast-severity-urgent",className:"flex-1 py-2 px-4 rounded-xl text-sm font-medium transition-all ".concat("urgent"===i?"bg-destructive text-white":"btn-apple"),children:"URGENT"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Message"}),(0,Tt.jsx)("textarea",{value:r,onChange:e=>a(e.target.value),placeholder:"Enter your broadcast message...",className:"input-apple h-32 resize-none"})]}),(0,Tt.jsx)("div",{className:"glass rounded-xl p-3 bg-primary/5",children:(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,Tt.jsx)("strong",{children:"Device Behavior:"})," ","urgent"===i?"Full-screen alert with audio notification. Requires user acknowledgment.":"Standard notification card. Dismissible by user."]})}),(0,Tt.jsxs)(gn.$,{onClick:()=>{b(!0)},className:"w-full btn-apple-primary",disabled:!r.trim(),children:[(0,Tt.jsx)(rn,{className:"w-4 h-4 mr-2"}),"Send Broadcast to All Devices"]})]})]}),"poll"===e&&(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-6 space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary/15 flex items-center justify-center",children:(0,Tt.jsx)(Rt,{className:"w-5 h-5 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"font-bold",children:"Mass Prompted Poll"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Create a poll and send to all devices"})]})]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Question"}),(0,Tt.jsx)(yn,{value:o,onChange:e=>c(e.target.value),placeholder:"What should we do next?",className:"input-apple"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Options"}),(0,Tt.jsx)("div",{className:"space-y-2",children:d.map((e,t)=>(0,Tt.jsx)(yn,{value:e,onChange:e=>{const n=[...d];n[t]=e.target.value,u(n)},placeholder:"Option ".concat(t+1),className:"input-apple"},t))}),d.length<6&&(0,Tt.jsx)("button",{onClick:()=>{d.length<6&&u([...d,""])},className:"mt-2 text-sm text-primary hover:underline",children:"+ Add option"})]}),(0,Tt.jsxs)(gn.$,{onClick:()=>{!o||d.filter(e=>e.trim()).length<2?Pt.oR.error("Please enter a question and at least 2 options"):(Pt.oR.success("Poll sent to all devices"),c(""),u(["",""]))},className:"w-full btn-apple-primary",children:[(0,Tt.jsx)(Rt,{className:"w-4 h-4 mr-2"}),"Create & Send Poll"]})]}),(0,Tt.jsxs)("div",{className:"border-t border-border/50 pt-4",children:[(0,Tt.jsx)("h4",{className:"text-sm font-semibold mb-3",children:"Live Results (Demo)"}),(0,Tt.jsx)("div",{className:"space-y-2",children:y.map((e,t)=>(0,Tt.jsxs)("div",{className:"space-y-1",children:[(0,Tt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Tt.jsx)("span",{children:e.option}),(0,Tt.jsxs)("span",{className:"font-semibold",children:[e.votes," votes"]})]}),(0,Tt.jsx)("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:(0,Tt.jsx)("div",{className:"h-full bg-primary transition-all",style:{width:"".concat(e.votes/4*100,"%")}})})]},t))})]})]}),"question"===e&&(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-6 space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary/15 flex items-center justify-center",children:(0,Tt.jsx)(an.A,{className:"w-5 h-5 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"font-bold",children:"Quick Tally / Yes-No Question"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Get quick responses from all devices"})]})]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Question"}),(0,Tt.jsx)(yn,{value:m,onChange:e=>h(e.target.value),placeholder:"Are you ready to move out?",className:"input-apple"})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Devices will show simple YES / NO buttons for quick response."}),(0,Tt.jsxs)(gn.$,{onClick:()=>{m?(Pt.oR.success("Quick tally sent - awaiting responses"),h("")):Pt.oR.error("Please enter a question")},className:"w-full btn-apple-primary",children:[(0,Tt.jsx)(rn,{className:"w-4 h-4 mr-2"}),"Send Quick Tally"]})]}),(0,Tt.jsxs)("div",{className:"border-t border-border/50 pt-4",children:[(0,Tt.jsx)("h4",{className:"text-sm font-semibold mb-3",children:"Results Summary (Demo)"}),(0,Tt.jsxs)("div",{className:"flex gap-4",children:[(0,Tt.jsxs)("div",{className:"flex-1 glass rounded-xl p-4 text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-success",children:"3"}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:"YES"})]}),(0,Tt.jsxs)("div",{className:"flex-1 glass rounded-xl p-4 text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-destructive",children:"1"}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:"NO"})]}),(0,Tt.jsxs)("div",{className:"flex-1 glass rounded-xl p-4 text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-muted-foreground",children:"0"}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:"PENDING"})]})]})]})]}),"random"===e&&(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-6 space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary/15 flex items-center justify-center",children:(0,Tt.jsx)(sn,{className:"w-5 h-5 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"font-bold",children:"Random Node Selection"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Randomly select a device from the network"})]})]}),(0,Tt.jsx)("div",{className:"glass rounded-xl p-4 bg-primary/5",children:(0,Tt.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:[(0,Tt.jsx)("strong",{children:"Filter:"})," Online nodes only (",Xn.filter(e=>"offline"!==e.updateStatus).length," available)"]})}),(0,Tt.jsxs)(gn.$,{onClick:()=>{if(x)return;const e=Xn.filter(e=>"offline"!==e.updateStatus),t=e[Math.floor(Math.random()*e.length)];f((0,s.A)((0,s.A)({},t),{},{selectedAt:new Date})),g(!0),setTimeout(()=>g(!1),1e4)},className:"w-full btn-apple-primary",disabled:x,children:[(0,Tt.jsx)(sn,{className:"w-4 h-4 mr-2"}),x?"Cooldown Active (10s)":"Select Random Device"]}),p&&(0,Tt.jsx)("div",{className:"glass rounded-2xl p-6 border-2 border-primary/30 animate-fade-in",children:(0,Tt.jsxs)("div",{className:"text-center space-y-3",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center mx-auto",children:(0,Tt.jsx)(Lt.A,{className:"w-8 h-8 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"text-xl font-bold",children:p.name}),(0,Tt.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Selected at ",p.selectedAt.toLocaleTimeString()]})]}),x&&(0,Tt.jsx)("p",{className:"text-xs text-warning",children:"Re-roll available in 10 seconds"})]})})]}),v&&(0,Tt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:(0,Tt.jsxs)("div",{className:"glass-strong rounded-2xl p-6 max-w-md w-full mx-4 animate-fade-in",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat("urgent"===i?"bg-destructive/20":"bg-primary/20"),children:(0,Tt.jsx)(rn,{className:"w-6 h-6 ".concat("urgent"===i?"text-destructive":"text-primary")})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"font-bold text-lg",children:"Confirm Broadcast"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"urgent"===i?"URGENT - Full screen alert":"INFO - Standard notification"})]})]}),(0,Tt.jsx)("div",{className:"glass rounded-xl p-3 mb-4",children:(0,Tt.jsx)("p",{className:"text-sm",children:r})}),(0,Tt.jsxs)("div",{className:"flex gap-3",children:[(0,Tt.jsx)(gn.$,{onClick:()=>b(!1),className:"flex-1 btn-apple",children:"Cancel"}),(0,Tt.jsx)(gn.$,{onClick:()=>{b(!1),Pt.oR.success("Broadcast sent to all devices (".concat(i.toUpperCase(),")")),a("")},className:"flex-1 ".concat("urgent"===i?"bg-destructive hover:bg-destructive/90 text-white":"btn-apple-primary"),children:"Send Now"})]})]})})]})},rr=()=>{var e;const[n,r]=(0,t.useState)({available:null,lastCheck:null,lastQuery:null,latency:null,error:null}),[a,s]=(0,t.useState)({configured:!1,keyPresent:!1}),[i,l]=(0,t.useState)({totalSearches:127,averageLatency:45,errorRate:2.3,lastHour:12}),[o,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!1),m="http://talon.local:8090",h="http://127.0.0.1:8090",p=async()=>{u(!0);const e=Date.now();try{const t=new AbortController,n=setTimeout(()=>t.abort(),5e3),a=await fetch("".concat(m,"/catalog/v2/entries"),{signal:t.signal,mode:"cors"});clearTimeout(n);const s=Date.now()-e;if(!a.ok)throw new Error("Server returned ".concat(a.status));r({available:!0,endpoint:m,lastCheck:new Date,lastQuery:new Date,latency:s,error:null}),Pt.oR.success("Kiwix connected (".concat(s,"ms)"))}catch(t){try{const t=new AbortController,n=setTimeout(()=>t.abort(),5e3),a=await fetch("".concat(h,"/catalog/v2/entries"),{signal:t.signal,mode:"cors"});clearTimeout(n);const s=Date.now()-e;if(!a.ok)throw new Error("Fallback also failed");r({available:!0,endpoint:h,lastCheck:new Date,lastQuery:new Date,latency:s,error:null}),Pt.oR.success("Kiwix connected via fallback (".concat(s,"ms)"))}catch(n){r({available:!1,endpoint:null,lastCheck:new Date,lastQuery:null,latency:null,error:t.message}),c(e=>[{id:Date.now(),source:"Kiwix",message:t.message,timestamp:new Date},...e].slice(0,5)),Pt.oR.error("Kiwix server unavailable")}}u(!1)};(0,t.useEffect)(()=>{const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"443",FAST_REFRESH:!0,REACT_APP_BUILD_TIMESTAMP:"2026-01-14T06:01:49Z",REACT_APP_USE_MOCK_DATA:"false",REACT_APP_BUILD_VERSION:"20260114060149",REACT_APP_BACKEND_URL:"https://global-search-hub-2.preview.emergentagent.com"}.REACT_APP_JELLYFIN_API_KEY;s({configured:!!e,keyPresent:!!e})},[]),(0,t.useEffect)(()=>{p()},[]);return(0,Tt.jsxs)("div",{className:"space-y-6","data-testid":"search-health-section",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 text-center",children:[(0,Tt.jsx)(ln.A,{className:"w-6 h-6 mx-auto mb-2 text-primary"}),(0,Tt.jsx)("p",{className:"text-2xl font-bold",children:i.totalSearches}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Searches"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 text-center",children:[(0,Tt.jsx)(en.A,{className:"w-6 h-6 mx-auto mb-2 text-blue-500"}),(0,Tt.jsxs)("p",{className:"text-2xl font-bold",children:[i.averageLatency,(0,Tt.jsx)("span",{className:"text-sm font-normal",children:"ms"})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Avg Latency"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 text-center",children:[(0,Tt.jsx)(Gt.A,{className:"w-6 h-6 mx-auto mb-2 text-amber-500"}),(0,Tt.jsxs)("p",{className:"text-2xl font-bold",children:[i.errorRate,(0,Tt.jsx)("span",{className:"text-sm font-normal",children:"%"})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Error Rate"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 text-center",children:[(0,Tt.jsx)(on,{className:"w-6 h-6 mx-auto mb-2 text-emerald-500"}),(0,Tt.jsx)("p",{className:"text-2xl font-bold",children:i.lastHour}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last Hour"})]})]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Search Sources"}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 border ".concat(n.available?"border-success/30":!1===n.available?"border-destructive/30":"border-border"),children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2.5 rounded-xl ".concat((f=n.available,null===f?"bg-muted/50":f?"bg-success/20":"bg-destructive/20")),children:(0,Tt.jsx)(cn.A,{className:"w-5 h-5 ".concat((e=>null===e?"text-muted-foreground":e?"text-success":"text-destructive")(n.available))})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:["Kiwix Knowledge Base",null===n.available&&(0,Tt.jsx)($t.A,{className:"w-4 h-4 animate-spin text-muted-foreground"}),!0===n.available&&(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-success"}),!1===n.available&&(0,Tt.jsx)(Yt.A,{className:"w-4 h-4 text-destructive"})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:n.available?"Connected and serving articles":"Unavailable - library-level only"})]})]}),(0,Tt.jsxs)(gn.$,{variant:"ghost",size:"sm",onClick:p,disabled:d,className:"text-xs",children:[d?(0,Tt.jsx)($t.A,{className:"w-3 h-3 animate-spin mr-1"}):(0,Tt.jsx)(Zt.A,{className:"w-3 h-3 mr-1"}),"Retry"]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Primary Endpoint"}),(0,Tt.jsx)("code",{className:"text-xs bg-secondary px-2 py-1 rounded",children:m})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Fallback Endpoint"}),(0,Tt.jsx)("code",{className:"text-xs bg-secondary px-2 py-1 rounded",children:h})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Last Check"}),(0,Tt.jsx)("p",{className:"text-sm font-medium",children:(null===(e=n.lastCheck)||void 0===e?void 0:e.toLocaleTimeString())||"Never"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Latency"}),(0,Tt.jsx)("p",{className:"text-sm font-medium",children:n.latency?"".concat(n.latency,"ms"):"N/A"})]})]}),!1===n.available&&(0,Tt.jsx)("div",{className:"mt-4",children:(0,Tt.jsx)(Vn,{status:"UNAVAILABLE",customMessage:"Cannot connect to Kiwix server. Article-level search is disabled."})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 border ".concat(a.configured?"border-success/30":"border-blue-500/30"),children:[(0,Tt.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2.5 rounded-xl ".concat(a.configured?"bg-success/20":"bg-blue-500/20"),children:(0,Tt.jsx)(dn,{className:"w-5 h-5 ".concat(a.configured?"text-success":"text-blue-500")})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:["Jellyfin Media Library",a.configured?(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-success"}):(0,Tt.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 bg-blue-500/20 text-blue-500 rounded",children:"NOT_INDEXED"})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:a.configured?"Media search enabled":"Requires API key configuration"})]})]})}),!a.configured&&(0,Tt.jsxs)("div",{className:"mt-4",children:[(0,Tt.jsx)(Vn,{status:"NOT_INDEXED"}),(0,Tt.jsxs)("div",{className:"mt-3 p-3 glass rounded-lg",children:[(0,Tt.jsx)("h5",{className:"text-xs font-semibold mb-2",children:"How to Enable Jellyfin Search"}),(0,Tt.jsxs)("ol",{className:"space-y-2 text-xs text-muted-foreground",children:[(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"w-5 h-5 rounded-full bg-primary/20 text-primary flex items-center justify-center flex-shrink-0 text-[10px] font-bold",children:"1"}),(0,Tt.jsxs)("span",{children:["Log into your Jellyfin server and go to ",(0,Tt.jsx)("strong",{children:"Dashboard \u2192 API Keys"})]})]}),(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"w-5 h-5 rounded-full bg-primary/20 text-primary flex items-center justify-center flex-shrink-0 text-[10px] font-bold",children:"2"}),(0,Tt.jsx)("span",{children:'Create a new API key with a descriptive name (e.g., "OMEGA Dashboard")'})]}),(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"w-5 h-5 rounded-full bg-primary/20 text-primary flex items-center justify-center flex-shrink-0 text-[10px] font-bold",children:"3"}),(0,Tt.jsxs)("span",{children:["Add to your environment: ",(0,Tt.jsx)("code",{className:"bg-secondary px-1.5 py-0.5 rounded text-[10px]",children:"REACT_APP_JELLYFIN_API_KEY=your_key_here"})]})]}),(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"w-5 h-5 rounded-full bg-primary/20 text-primary flex items-center justify-center flex-shrink-0 text-[10px] font-bold",children:"4"}),(0,Tt.jsx)("span",{children:"Restart the OMEGA Dashboard to apply changes"})]})]})]})]})]}),(0,Tt.jsx)("div",{className:"glass rounded-xl p-4 border border-amber-500/30",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2.5 rounded-xl bg-amber-500/20",children:(0,Tt.jsx)(un,{className:"w-5 h-5 text-amber-500"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:["Commands & Actions",(0,Tt.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 bg-amber-500/20 text-amber-500 rounded",children:"PLANNED"})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Command execution will be available in a future update"})]})]})})]}),o.length>0&&(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Recent Errors"}),(0,Tt.jsx)("div",{className:"glass rounded-xl divide-y divide-border",children:o.map(e=>(0,Tt.jsxs)("div",{className:"p-3 flex items-start gap-3",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 text-destructive flex-shrink-0 mt-0.5"}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("p",{className:"text-sm font-medium",children:e.source}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:e.message})]}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:e.timestamp.toLocaleTimeString()})]},e.id))})]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Index Statistics"}),(0,Tt.jsx)("div",{className:"glass rounded-xl p-4",children:(0,Tt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"flex items-center justify-center gap-1 text-emerald-500 mb-1",children:(0,Tt.jsx)(cn.A,{className:"w-4 h-4"})}),(0,Tt.jsx)("p",{className:"text-lg font-bold",children:"12"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kiwix Libraries"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"flex items-center justify-center gap-1 text-blue-500 mb-1",children:(0,Tt.jsx)(Lt.A,{className:"w-4 h-4"})}),(0,Tt.jsx)("p",{className:"text-lg font-bold",children:"4"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Community Members"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"flex items-center justify-center gap-1 text-cyan-500 mb-1",children:(0,Tt.jsx)(nn.A,{className:"w-4 h-4"})}),(0,Tt.jsx)("p",{className:"text-lg font-bold",children:"23"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Shared Files"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"flex items-center justify-center gap-1 text-amber-500 mb-1",children:(0,Tt.jsx)(un,{className:"w-4 h-4"})}),(0,Tt.jsx)("p",{className:"text-lg font-bold",children:"8"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Commands (Stub)"})]})]})})]})]});var f},ar=[{id:"omega-api",name:"OMEGA Core API",endpoint:"/api/cgi-bin/health",port:8093,icon:ln.A,description:"Main system health and metrics endpoint",category:"core"},{id:"kiwix",name:"Kiwix Knowledge",endpoint:"http://talon.local:8090",fallback:"http://127.0.0.1:8090",icon:cn.A,description:"Offline knowledge base and article search",category:"search"},{id:"jellyfin",name:"Jellyfin Media",endpoint:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"443",FAST_REFRESH:!0,REACT_APP_BUILD_TIMESTAMP:"2026-01-14T06:01:49Z",REACT_APP_USE_MOCK_DATA:"false",REACT_APP_BUILD_VERSION:"20260114060149",REACT_APP_BACKEND_URL:"https://global-search-hub-2.preview.emergentagent.com"}.REACT_APP_JELLYFIN_URL||"http://localhost:8096",icon:dn,description:"Media library for movies, TV, and music",category:"search",requiresKey:!0,keyName:"REACT_APP_JELLYFIN_API_KEY"},{id:"sensors",name:"BME688 Sensors",endpoint:"/api/cgi-bin/sensors",icon:ln.A,description:"Temperature, humidity, pressure, and air quality",category:"hardware"},{id:"gps",name:"GPS Location",endpoint:"/api/cgi-bin/gps",icon:ln.A,description:"GPS coordinates and altitude data",category:"hardware"},{id:"mesh",name:"Mesh Network",endpoint:"/api/cgi-bin/mesh",icon:mn.A,description:"Inter-OMEGA mesh communication and heartbeat",category:"network"},{id:"hotspot",name:"WiFi Hotspot",endpoint:"/api/cgi-bin/hotspot",icon:hn.A,description:"Local WiFi hotspot status and connected clients",category:"network"},{id:"backup",name:"Backup Service",endpoint:"/api/cgi-bin/backup",icon:pn.A,description:"System backup status and last successful backup",category:"system"}],sr=e=>{const t=[],n=Date.now();for(let r=95;r>=0;r--){const a=n-9e5*r;let s="up";const i=Math.random();s="kiwix"===e||"jellyfin"===e?i>.7?"up":i>.3?"unknown":"down":"gps"===e?i>.5?"up":i>.2?"degraded":"unknown":i>.95?"degraded":i>.02?"up":"down",t.push({timestamp:a,status:s})}return t},ir=e=>{let{history:t}=e;return(0,Tt.jsx)("div",{className:"flex gap-0.5 h-6 rounded overflow-hidden",title:"24-hour uptime (15-min buckets)",children:t.map((e,t)=>(0,Tt.jsx)("div",{className:"flex-1 min-w-[2px] ".concat("up"===e.status?"bg-success":"degraded"===e.status?"bg-amber-500":"down"===e.status?"bg-destructive":"bg-muted"),title:"".concat(new Date(e.timestamp).toLocaleTimeString()," - ").concat(e.status.toUpperCase())},t))})},lr=()=>{const[e,n]=(0,t.useState)(()=>ar.map(e=>(0,s.A)((0,s.A)({},e),{},{status:"unknown",trustType:"UNKNOWN",lastCheck:null,lastSuccess:null,latency:null,error:null,uptimeHistory:sr(e.id)}))),[r,a]=(0,t.useState)(!1),[i,l]=(0,t.useState)(null),o=async t=>{n(e=>e.map(e=>e.id===t?(0,s.A)((0,s.A)({},e),{},{status:"checking"}):e));const r=e.find(e=>e.id===t),a=Date.now();try{const e=new AbortController,i=setTimeout(()=>e.abort(),5e3);let l=r.endpoint;"kiwix"===r.id&&(l="".concat(r.endpoint,"/catalog/v2/entries"));const o=await fetch(l,{signal:e.signal,mode:"cors"});clearTimeout(i);const c=Date.now()-a;if(o.ok)return n(e=>e.map(e=>e.id===t?(0,s.A)((0,s.A)({},e),{},{status:"live",trustType:"VERIFIED",lastCheck:new Date,lastSuccess:new Date,latency:c,error:null}):e)),!0;throw new Error("HTTP ".concat(o.status))}catch(i){if(r.fallback&&"kiwix"===r.id)try{const e=new AbortController,i=setTimeout(()=>e.abort(),5e3),l=await fetch("".concat(r.fallback,"/catalog/v2/entries"),{signal:e.signal,mode:"cors"});clearTimeout(i);const o=Date.now()-a;if(l.ok)return n(e=>e.map(e=>e.id===t?(0,s.A)((0,s.A)({},e),{},{status:"live",trustType:"VERIFIED",lastCheck:new Date,lastSuccess:new Date,latency:o,error:null,activeEndpoint:r.fallback}):e)),!0}catch(l){}return r.requiresKey&&!{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"443",FAST_REFRESH:!0,REACT_APP_BUILD_TIMESTAMP:"2026-01-14T06:01:49Z",REACT_APP_USE_MOCK_DATA:"false",REACT_APP_BUILD_VERSION:"20260114060149",REACT_APP_BACKEND_URL:"https://global-search-hub-2.preview.emergentagent.com"}[r.keyName]?n(e=>e.map(e=>e.id===t?(0,s.A)((0,s.A)({},e),{},{status:"not_configured",trustType:"UNKNOWN",lastCheck:new Date,error:"Missing ".concat(r.keyName)}):e)):n(e=>e.map(e=>e.id===t?(0,s.A)((0,s.A)({},e),{},{status:"unavailable",trustType:"UNKNOWN",lastCheck:new Date,error:i.message}):e)),!1}},c=async()=>{a(!0);for(const t of e)await o(t.id),await new Promise(e=>setTimeout(e,200));l(new Date),a(!1),Pt.oR.success("Health check complete")};(0,t.useEffect)(()=>{c()},[]);const d=e=>{switch(e){case"live":return(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded-full bg-success/20 text-success text-xs font-medium flex items-center gap-1",children:[(0,Tt.jsx)(Vt.A,{className:"w-3 h-3"}),"LIVE"]});case"cached":return(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded-full bg-blue-500/20 text-blue-500 text-xs font-medium flex items-center gap-1",children:[(0,Tt.jsx)(en.A,{className:"w-3 h-3"}),"CACHED"]});case"stale":return(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded-full bg-amber-500/20 text-amber-500 text-xs font-medium flex items-center gap-1",children:[(0,Tt.jsx)(Gt.A,{className:"w-3 h-3"}),"STALE"]});case"unavailable":return(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded-full bg-destructive/20 text-destructive text-xs font-medium flex items-center gap-1",children:[(0,Tt.jsx)(Yt.A,{className:"w-3 h-3"}),"UNAVAILABLE"]});case"not_configured":return(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded-full bg-blue-500/20 text-blue-500 text-xs font-medium flex items-center gap-1",children:[(0,Tt.jsx)(an.A,{className:"w-3 h-3"}),"NOT_CONFIGURED"]});case"checking":return(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded-full bg-primary/20 text-primary text-xs font-medium flex items-center gap-1",children:[(0,Tt.jsx)($t.A,{className:"w-3 h-3 animate-spin"}),"CHECKING"]});case"planned":return(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded-full bg-amber-500/20 text-amber-500 text-xs font-medium flex items-center gap-1",children:[(0,Tt.jsx)(en.A,{className:"w-3 h-3"}),"PLANNED"]});default:return(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded-full bg-muted text-muted-foreground text-xs font-medium flex items-center gap-1",children:[(0,Tt.jsx)(an.A,{className:"w-3 h-3"}),"UNKNOWN"]})}},u=e=>{switch(e){case"VERIFIED":return(0,Tt.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-success/20 text-success text-[10px] font-medium",children:"VERIFIED"});case"DERIVED":return(0,Tt.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-blue-500/20 text-blue-500 text-[10px] font-medium",children:"DERIVED"});case"ESTIMATED":return(0,Tt.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-amber-500/20 text-amber-500 text-[10px] font-medium",children:"ESTIMATED"});default:return(0,Tt.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground text-[10px] font-medium",children:"UNKNOWN"})}},m=e.filter(e=>"live"===e.status).length,h=e.filter(e=>"unavailable"===e.status||"not_configured"===e.status).length,p=e.filter(e=>e.latency).reduce((e,t)=>e+t.latency,0)/(e.filter(e=>e.latency).length||1),f={core:e.filter(e=>"core"===e.category),search:e.filter(e=>"search"===e.category),hardware:e.filter(e=>"hardware"===e.category),network:e.filter(e=>"network"===e.category),system:e.filter(e=>"system"===e.category)};return(0,Tt.jsxs)("div",{className:"space-y-6","data-testid":"data-health-section",children:[(0,Tt.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"text-lg font-semibold",children:"Data Health Dashboard"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"Real-time status of all OMEGA data sources and endpoints"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:c,disabled:r,"data-testid":"check-all-btn",children:[r?(0,Tt.jsx)($t.A,{className:"w-4 h-4 mr-2 animate-spin"}):(0,Tt.jsx)(Zt.A,{className:"w-4 h-4 mr-2"}),"Check All"]}),(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:()=>{const t={timestamp:(new Date).toISOString(),summary:{total:e.length,live:m,unavailable:h,avgLatency:Math.round(p)},sources:e.map(e=>{var t,n;return{id:e.id,name:e.name,endpoint:e.endpoint,status:e.status,trustType:e.trustType,lastCheck:null===(t=e.lastCheck)||void 0===t?void 0:t.toISOString(),lastSuccess:null===(n=e.lastSuccess)||void 0===n?void 0:n.toISOString(),latency:e.latency,error:e.error}})};navigator.clipboard.writeText(JSON.stringify(t,null,2)),Pt.oR.success("Health data copied to clipboard")},"data-testid":"copy-health-btn",children:[(0,Tt.jsx)(Xt,{className:"w-4 h-4 mr-2"}),"Export JSON"]})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 text-center",children:[(0,Tt.jsx)(Vt.A,{className:"w-6 h-6 mx-auto mb-2 text-success"}),(0,Tt.jsxs)("p",{className:"text-2xl font-bold",children:[m,"/",e.length]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Sources Live"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 text-center",children:[(0,Tt.jsx)(Yt.A,{className:"w-6 h-6 mx-auto mb-2 text-destructive"}),(0,Tt.jsx)("p",{className:"text-2xl font-bold",children:h}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Unavailable"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 text-center",children:[(0,Tt.jsx)(en.A,{className:"w-6 h-6 mx-auto mb-2 text-blue-500"}),(0,Tt.jsxs)("p",{className:"text-2xl font-bold",children:[Math.round(p),(0,Tt.jsx)("span",{className:"text-sm font-normal",children:"ms"})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Avg Latency"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 text-center",children:[(0,Tt.jsx)(ln.A,{className:"w-6 h-6 mx-auto mb-2 text-emerald-500"}),(0,Tt.jsx)("p",{className:"text-2xl font-bold",children:(null===i||void 0===i?void 0:i.toLocaleTimeString())||"--"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last Check"})]})]}),Object.entries(f).map(e=>{let[t,n]=e;return n.length>0&&(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsx)("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"core"===t?"Core Services":"search"===t?"Search Sources":"hardware"===t?"Hardware Sensors":"network"===t?"Network Services":"System Services"}),(0,Tt.jsx)("div",{className:"space-y-3",children:n.map(e=>{var t;const n=e.icon,r=(e=>"not_configured"===e.status?["Set the ".concat(e.keyName," environment variable"),"Restart the OMEGA Dashboard to apply changes","The service will be checked automatically on next refresh"]:"unavailable"===e.status?"kiwix"===e.id?["Verify kiwix-serve is running on the Pi","Check if http://talon.local:8090 is accessible","Ensure network connectivity to the Kiwix server","Restart kiwix-serve if needed: sudo systemctl restart kiwix-serve"]:["Check if the service is running","Verify network connectivity","Check system logs for errors","Restart the service if needed"]:null)(e);return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 border ".concat("live"===e.status?"border-success/30":"unavailable"===e.status||"not_configured"===e.status?"border-destructive/30":"border-border"),"data-testid":"source-".concat(e.id),children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2.5 rounded-xl ".concat("live"===e.status?"bg-success/20":"unavailable"===e.status?"bg-destructive/20":"not_configured"===e.status?"bg-blue-500/20":"bg-muted"),children:(0,Tt.jsx)(n,{className:"w-5 h-5 ".concat("live"===e.status?"text-success":"unavailable"===e.status?"text-destructive":"not_configured"===e.status?"text-blue-500":"text-muted-foreground")})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h5",{className:"font-semibold flex items-center gap-2",children:[e.name,d(e.status)]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>o(e.id),disabled:"checking"===e.status,className:"text-xs",children:"checking"===e.status?(0,Tt.jsx)($t.A,{className:"w-3 h-3 animate-spin"}):(0,Tt.jsx)(Zt.A,{className:"w-3 h-3"})})]}),(0,Tt.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs mb-3 pb-3 border-b border-border/50",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Endpoint:"}),(0,Tt.jsx)("code",{className:"px-1.5 py-0.5 bg-secondary rounded text-[10px]",children:e.activeEndpoint||e.endpoint})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Last Check:"}),(0,Tt.jsx)("span",{className:"font-medium",children:(null===(t=e.lastCheck)||void 0===t?void 0:t.toLocaleTimeString())||"Never"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Latency:"}),(0,Tt.jsx)("span",{className:"font-medium",children:e.latency?"".concat(e.latency,"ms"):"N/A"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Trust:"}),u(e.trustType)]})]}),(0,Tt.jsxs)("div",{className:"mb-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"24-Hour Uptime"}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[Math.round(e.uptimeHistory.filter(e=>"up"===e.status).length/e.uptimeHistory.length*100),"%"]})]}),(0,Tt.jsx)(ir,{history:e.uptimeHistory}),(0,Tt.jsxs)("div",{className:"flex justify-between text-[9px] text-muted-foreground mt-1",children:[(0,Tt.jsx)("span",{children:"24h ago"}),(0,Tt.jsx)("span",{children:"Now"})]})]}),e.error&&(0,Tt.jsx)("div",{className:"p-2 bg-destructive/10 border border-destructive/30 rounded-lg mb-3",children:(0,Tt.jsxs)("p",{className:"text-xs text-destructive flex items-center gap-1",children:[(0,Tt.jsx)(Gt.A,{className:"w-3 h-3"}),e.error]})}),r&&(0,Tt.jsxs)("div",{className:"p-3 glass rounded-lg",children:[(0,Tt.jsxs)("h6",{className:"text-xs font-semibold mb-2 flex items-center gap-1",children:[(0,Tt.jsx)(an.A,{className:"w-3 h-3"}),"How to fix"]}),(0,Tt.jsx)("ol",{className:"space-y-1",children:r.map((e,t)=>(0,Tt.jsxs)("li",{className:"text-xs text-muted-foreground flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"w-4 h-4 rounded-full bg-primary/20 text-primary flex items-center justify-center flex-shrink-0 text-[9px] font-bold",children:t+1}),e]},t))})]})]},e.id)})})]},t)}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground mb-3",children:"Status Legend"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded bg-success"}),(0,Tt.jsx)("span",{className:"text-xs",children:"LIVE - Active"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded bg-blue-500"}),(0,Tt.jsx)("span",{className:"text-xs",children:"CACHED - Recent"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded bg-amber-500"}),(0,Tt.jsx)("span",{className:"text-xs",children:"STALE/DEGRADED"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded bg-destructive"}),(0,Tt.jsx)("span",{className:"text-xs",children:"UNAVAILABLE"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded bg-muted"}),(0,Tt.jsx)("span",{className:"text-xs",children:"UNKNOWN"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded bg-primary"}),(0,Tt.jsx)("span",{className:"text-xs",children:"CHECKING"})]})]})]})]})};function or(e){let{isOpen:n,onClose:r}=e;const[a,s]=(0,t.useState)("fleet"),[i,l]=(0,t.useState)(!1);return n?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-8 pb-8 bg-black/70 backdrop-blur-sm overflow-y-auto",onClick:e=>e.target===e.currentTarget&&r(),children:(0,Tt.jsxs)("div",{className:"glass-strong rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-hidden mx-4 animate-fade-in flex flex-col",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border/50",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:(0,Tt.jsx)(Jt,{className:"w-6 h-6 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-xl font-bold",children:"Admin Console"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"Fleet management & broadcasting"})]})]}),(0,Tt.jsx)("button",{onClick:r,className:"p-2 hover:bg-secondary rounded-xl transition-colors",children:(0,Tt.jsx)(Bt.A,{className:"w-5 h-5"})})]}),(0,Tt.jsxs)("div",{className:"flex gap-2 p-4 border-b border-border/50 overflow-x-auto","data-testid":"admin-section-tabs",children:[(0,Tt.jsxs)("button",{onClick:()=>s("fleet"),"data-testid":"admin-section-fleet",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all whitespace-nowrap ".concat("fleet"===a?"bg-primary text-primary-foreground":"btn-apple"),children:[(0,Tt.jsx)(Jt,{className:"w-4 h-4"}),"Fleet Updates"]}),(0,Tt.jsxs)("button",{onClick:()=>s("roster"),"data-testid":"admin-section-roster",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all whitespace-nowrap ".concat("roster"===a?"bg-primary text-primary-foreground":"btn-apple"),children:[(0,Tt.jsx)(fn,{className:"w-4 h-4"}),"Roster & Readiness"]}),(0,Tt.jsxs)("button",{onClick:()=>s("broadcast"),"data-testid":"admin-section-broadcast",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all whitespace-nowrap ".concat("broadcast"===a?"bg-primary text-primary-foreground":"btn-apple"),children:[(0,Tt.jsx)(mn.A,{className:"w-4 h-4"}),"Broadcast & Assembly"]}),(0,Tt.jsxs)("button",{onClick:()=>s("search"),"data-testid":"admin-section-search",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all whitespace-nowrap ".concat("search"===a?"bg-primary text-primary-foreground":"btn-apple"),children:[(0,Tt.jsx)(on,{className:"w-4 h-4"}),"Search Health"]}),(0,Tt.jsxs)("button",{onClick:()=>s("datahealth"),"data-testid":"admin-section-datahealth",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all whitespace-nowrap ".concat("datahealth"===a?"bg-primary text-primary-foreground":"btn-apple"),children:[(0,Tt.jsx)(ln.A,{className:"w-4 h-4"}),"Data Health"]}),(0,Tt.jsxs)("button",{onClick:()=>l(!0),"data-testid":"admin-section-audit",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all whitespace-nowrap btn-apple bg-amber-500/10 border border-amber-500/30 hover:bg-amber-500/20",children:[(0,Tt.jsx)(xn.A,{className:"w-4 h-4 text-amber-500"}),(0,Tt.jsx)("span",{className:"text-amber-500",children:"Audit"})]})]}),(0,Tt.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)] scrollbar-thin",children:["fleet"===a&&(0,Tt.jsx)(tr,{}),"roster"===a&&(0,Tt.jsx)(In,{}),"broadcast"===a&&(0,Tt.jsx)(nr,{}),"search"===a&&(0,Tt.jsx)(rr,{}),"datahealth"===a&&(0,Tt.jsx)(lr,{})]})]})}),i&&(0,Tt.jsx)(t.Suspense,{fallback:(0,Tt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,Tt.jsx)("div",{className:"text-white",children:"Loading..."})}),children:(0,Tt.jsx)(Jn,{isOpen:i,onClose:()=>l(!1)})})]}):null}const cr=(0,It.A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),dr=(0,It.A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var ur=__webpack_require__(1464),mr=__webpack_require__(1855);const hr=(0,It.A)("thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),pr=(0,It.A)("battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);var fr=__webpack_require__(1830);const xr=(0,It.A)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);var gr=__webpack_require__(621);const vr=(0,It.A)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),br=(0,It.A)("compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),yr=(0,It.A)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);var jr=__webpack_require__(7119);const wr=(0,It.A)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var Nr=__webpack_require__(1641);function kr(e){let{pageTitle:n="This Page",quickHelp:r="Quick tips and information to help you navigate.",legendItems:a=[],troubleshootingItems:i=[],whatItDoes:l="",additionalSections:o=[],variant:c="compact",onOpenHelpCenter:d,className:u=""}=e;const[m,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)("legend"),x=(0,t.useRef)(null),g=(0,t.useRef)(null),[v,b]=(0,t.useState)({top:0,right:0});(0,t.useEffect)(()=>{if(m&&g.current&&"compact"===c){const e=g.current.getBoundingClientRect(),t=window.innerWidth<640;b({top:e.bottom+8,right:t?16:Math.max(16,window.innerWidth-e.right),isMobile:t})}},[m,c]),(0,t.useEffect)(()=>{const e=e=>{"compact"===c&&x.current&&!x.current.contains(e.target)&&g.current&&!g.current.contains(e.target)&&h(!1)};if(m&&"compact"===c)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[m,c]);const y=[{id:"legend",label:"Legend",icon:dr,show:a.length>0},{id:"troubleshooting",label:"Troubleshooting",icon:Gt.A,show:i.length>0},{id:"about",label:"What this page does",icon:Rn.A,show:!!l},...o.map(e=>({id:e.id||e.title,label:e.title,icon:e.icon||wr,show:!0}))].filter(e=>e.show);return"compact"===c?(0,Tt.jsxs)("div",{className:"relative ".concat(u),children:[(0,Tt.jsxs)("button",{ref:g,onClick:()=>h(!m),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-secondary/50 hover:bg-secondary border border-border/50 transition-colors text-sm","data-testid":"help-guide-toggle",children:[(0,Tt.jsx)(an.A,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Quick Help"}),m?(0,Tt.jsx)(En.A,{className:"w-3 h-3 text-muted-foreground"}):(0,Tt.jsx)(On.A,{className:"w-3 h-3 text-muted-foreground"})]}),m&&(0,jr.createPortal)((0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black/10",style:{zIndex:9998},onClick:()=>h(!1)}),(0,Tt.jsx)("div",{ref:x,className:"fixed glass rounded-xl border border-border shadow-2xl overflow-hidden",style:(0,s.A)({zIndex:9999,top:v.top},v.isMobile?{left:16,right:16,width:"auto"}:{right:v.right,width:"24rem"}),"data-testid":"help-guide-panel",children:(0,Tt.jsx)(Ar,{pageTitle:n,quickHelp:r,legendItems:a,troubleshootingItems:i,whatItDoes:l,additionalSections:o,tabs:y,activeTab:p,setActiveTab:f,onOpenHelpCenter:d,onClose:()=>h(!1)})})]}),document.body)]}):(0,Tt.jsx)("div",{className:"glass rounded-xl border border-border overflow-hidden ".concat(u),"data-testid":"help-guide-panel-full",children:(0,Tt.jsx)(Ar,{pageTitle:n,quickHelp:r,legendItems:a,troubleshootingItems:i,whatItDoes:l,additionalSections:o,tabs:y,activeTab:p,setActiveTab:f,onOpenHelpCenter:d})})}function Ar(e){let{pageTitle:t,quickHelp:n,legendItems:r,troubleshootingItems:a,whatItDoes:s,additionalSections:i,tabs:l,activeTab:o,setActiveTab:c,onOpenHelpCenter:d,onClose:u}=e;return(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"p-3 border-b border-border bg-secondary/30",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"p-1.5 rounded-lg bg-primary/20",children:(0,Tt.jsx)(an.A,{className:"w-4 h-4 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm",children:[t," Help"]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-1",children:n})]})]}),u&&(0,Tt.jsx)("button",{onClick:u,className:"p-1 rounded hover:bg-secondary",children:(0,Tt.jsx)(Yt.A,{className:"w-4 h-4 text-muted-foreground"})})]})}),l.length>1&&(0,Tt.jsx)("div",{className:"flex border-b border-border overflow-x-auto",children:l.map(e=>{const t=e.icon;return(0,Tt.jsxs)("button",{onClick:()=>c(e.id),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium whitespace-nowrap transition-colors ".concat(o===e.id?"text-primary border-b-2 border-primary bg-primary/5":"text-muted-foreground hover:text-foreground hover:bg-secondary/50"),children:[(0,Tt.jsx)(t,{className:"w-3.5 h-3.5"}),e.label]},e.id)})}),(0,Tt.jsxs)("div",{className:"p-3 max-h-64 overflow-y-auto",children:["legend"===o&&r.length>0&&(0,Tt.jsx)("div",{className:"space-y-2",children:r.map((e,t)=>{const n=e.icon,r=e.iconElement||(n?(0,Tt.jsx)(n,{className:"w-3.5 h-3.5 ".concat(e.color||"text-primary")}):null);return(0,Tt.jsxs)("div",{className:"flex items-start gap-2 p-2 rounded-lg bg-secondary/30",children:[r&&(0,Tt.jsx)("div",{className:"p-1 rounded ".concat(e.bgColor||"bg-primary/20"," flex items-center justify-center"),children:r}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("p",{className:"text-xs font-medium",children:e.label}),e.description&&(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:e.description})]})]},t)})}),"troubleshooting"===o&&a.length>0&&(0,Tt.jsx)("div",{className:"space-y-3",children:a.map((e,t)=>(0,Tt.jsx)("div",{className:"p-2 rounded-lg bg-secondary/30",children:(0,Tt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-3.5 h-3.5 text-amber-400 mt-0.5 flex-shrink-0"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-xs font-medium text-amber-400",children:e.problem}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.solution})]})]})},t))}),"about"===o&&s&&(0,Tt.jsx)("div",{className:"p-2 rounded-lg bg-secondary/30",children:(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed",children:s})}),i.map(e=>o===(e.id||e.title)&&(0,Tt.jsx)("div",{className:"p-2 rounded-lg bg-secondary/30",children:"string"===typeof e.content?(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed",children:e.content}):e.content},e.id||e.title))]}),d&&(0,Tt.jsx)("div",{className:"p-3 border-t border-border bg-secondary/20",children:(0,Tt.jsxs)("button",{onClick:d,className:"flex items-center justify-center gap-2 w-full py-2 rounded-lg bg-primary/10 hover:bg-primary/20 text-primary text-xs font-medium transition-colors",children:[(0,Tt.jsx)(zt.A,{className:"w-3.5 h-3.5"}),"Visit Help Center for more",(0,Tt.jsx)(Nr.A,{className:"w-3 h-3"})]})})]})}const _r={statusDots:[{iconElement:(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full bg-success"}),label:"Online / OK",description:"System or member is active and healthy",color:"text-success",bgColor:"bg-success/20"},{iconElement:(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full bg-warning"}),label:"Warning / Degraded",description:"Needs attention or partially available",color:"text-warning",bgColor:"bg-warning/20"},{iconElement:(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full bg-destructive"}),label:"Critical / Offline",description:"Requires immediate attention or unavailable",color:"text-destructive",bgColor:"bg-destructive/20"},{iconElement:(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full bg-muted-foreground"}),label:"Unknown",description:"Status cannot be determined",color:"text-muted-foreground",bgColor:"bg-muted/20"}],severityBadges:[{icon:Gt.A,label:"CRITICAL",description:"Urgent - requires immediate action",color:"text-destructive",bgColor:"bg-destructive/20"},{icon:Gt.A,label:"WARNING",description:"Important - should be addressed soon",color:"text-amber-400",bgColor:"bg-amber-500/20"},{icon:Rn.A,label:"INFO",description:"Informational - for awareness",color:"text-primary",bgColor:"bg-primary/20"},{icon:Vt.A,label:"RESOLVED",description:"Issue has been addressed",color:"text-success",bgColor:"bg-success/20"}],dataSourceBadges:[{iconElement:(0,Tt.jsx)("span",{className:"text-[8px] font-bold text-amber-400",children:"MOCK"}),label:"MOCK DATA",description:"Using simulated data - backend not connected",color:"text-amber-400",bgColor:"bg-amber-500/20"},{iconElement:(0,Tt.jsx)("span",{className:"text-[8px] font-bold text-success",children:"LIVE"}),label:"LIVE",description:"Real-time data from OMEGA backend",color:"text-success",bgColor:"bg-success/20"}]},Cr={noData:{problem:"No data showing",solution:"Check if backend is connected. If using mock data, try refreshing the page."},slowLoading:{problem:"Page loads slowly",solution:"Large datasets may take a moment. Try filtering to reduce data volume."},filterNoResults:{problem:"Filters return no results",solution:"Try clearing filters or broadening your search criteria."},offlineMode:{problem:"Working offline",solution:"OMEGA works offline with cached data. Full features require backend connection."}};var Sr=__webpack_require__(6627);function Er(e){let{className:t=""}=e;const{status:n,lastPing:r,isBackendConnected:a}=(0,Sr.w5)(),s={[Sr.YZ.CONNECTED]:{icon:hn.A,label:"Connected",color:"text-success",bgColor:"bg-success/20",borderColor:"border-success/30",tooltip:"Live data from OMEGA backend."},[Sr.YZ.DEGRADED]:{icon:Gt.A,label:"Degraded",color:"text-warning",bgColor:"bg-warning/20",borderColor:"border-warning/30",tooltip:"Backend reachable but some endpoints failing."},[Sr.YZ.NOT_CONNECTED]:{icon:Ln.A,label:"Not Connected",color:"text-muted-foreground",bgColor:"bg-muted/20",borderColor:"border-muted-foreground/30",tooltip:"Using mock data. Backend not connected yet."},[Sr.YZ.FORBIDDEN]:{icon:Nn,label:"Auth Required",color:"text-destructive",bgColor:"bg-destructive/20",borderColor:"border-destructive/30",tooltip:"Authentication required for backend access."},[Sr.YZ.NOT_CONFIGURED]:{icon:Jt,label:"Not Configured",color:"text-muted-foreground",bgColor:"bg-muted/20",borderColor:"border-muted-foreground/30",tooltip:"Endpoint not configured on this device."}},i=s[n]||s[Sr.YZ.NOT_CONNECTED],l=i.icon;return(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg ".concat(i.bgColor," border ").concat(i.borderColor," cursor-help ").concat(t),title:i.tooltip,"data-testid":"connection-status-chip",children:[(0,Tt.jsx)(l,{className:"w-3.5 h-3.5 ".concat(i.color)}),(0,Tt.jsx)("span",{className:"text-xs font-medium ".concat(i.color),children:i.label}),r&&n===Sr.YZ.CONNECTED&&(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground ml-1",children:new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}function Or(e){let{panelId:t,forceMock:n=!1,forceLive:r=!1,className:a=""}=e;const{getDataSourceStatus:s}=(0,Sr.w5)();return"live"===(r?"live":n?"mock":s(t))?(0,Tt.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-success/20 text-success border border-success/30 ".concat(a),title:"Real-time data from OMEGA backend","data-testid":"data-source-badge-".concat(t||"default"),children:[(0,Tt.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-success animate-pulse"}),"LIVE"]}):(0,Tt.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-amber-500/20 text-amber-400 border border-amber-500/30 ".concat(a),title:"Using mock data. Backend not connected yet.","data-testid":"data-source-badge-".concat(t||"default"),children:[(0,Tt.jsx)(pn.A,{className:"w-2.5 h-2.5"}),"MOCK DATA"]})}(0,It.A)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);const Mr=(0,t.createContext)(null),Pr=()=>{const e=(0,t.useContext)(Mr);if(!e)throw new Error("useEvidence must be used within EvidenceProvider");return e},Tr=e=>{let{children:n}=e;const[r,a]=(0,t.useState)([]),i=(0,t.useRef)(0),[l,o]=(0,t.useState)([]),c=(0,t.useRef)(0),[d,u]=(0,t.useState)(()=>{const e=localStorage.getItem("omega-self-test-results");if(e)try{return JSON.parse(e)}catch(t){return null}return null}),[m,h]=(0,t.useState)({overall:"UNKNOWN",lastCheck:null,subsystems:{}});(0,t.useEffect)(()=>{d&&localStorage.setItem("omega-self-test-results",JSON.stringify(d))},[d]);const p=(0,t.useCallback)(e=>{a(t=>[(0,s.A)({id:++i.current,timestamp:Date.now()},e),...t].slice(0,100))},[]),f=(0,t.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown";o(n=>[{id:++c.current,timestamp:Date.now(),message:e.message||String(e),stack:e.stack||null,component:t},...n].slice(0,100))},[]),x=(0,t.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(r=>(0,s.A)((0,s.A)({},r),{},{lastCheck:Date.now(),subsystems:(0,s.A)((0,s.A)({},r.subsystems),{},{[e]:(0,s.A)((0,s.A)({status:t},n),{},{lastCheck:Date.now()})})}))},[]),g=(0,t.useCallback)(async()=>{const e={timestamp:Date.now(),tests:[]},t=[{name:"Frontend",endpoint:null,type:"local"},{name:"LocalStorage",endpoint:null,type:"storage"},{name:"API_Health",endpoint:"/api/cgi-bin/health.py",type:"api"},{name:"API_Metrics",endpoint:"/api/cgi-bin/metrics.py",type:"api"},{name:"API_DM",endpoint:"/api/cgi-bin/dm.py",type:"api"},{name:"API_Sensors",endpoint:"/api/cgi-bin/sensors.py",type:"api"},{name:"GPS",endpoint:null,type:"sensor"}];for(const s of t){const t={subsystem:s.name,type:s.type,timestamp:Date.now(),status:"UNKNOWN",latency:null,details:{}};try{if("local"===s.type)t.status="OK",t.details={message:"Frontend application running"};else if("storage"===s.type){const e="omega-test-"+Date.now();localStorage.setItem(e,"test"),localStorage.removeItem(e),t.status="OK",t.details={message:"LocalStorage accessible"}}else if("api"===s.type&&s.endpoint){const e=performance.now();try{const n=await fetch(s.endpoint,{method:"GET",signal:AbortSignal.timeout(5e3)});t.latency=Math.round(performance.now()-e),n.ok?(t.status="OK",t.details={httpStatus:n.status}):403===n.status?(t.status="FORBIDDEN",t.details={httpStatus:n.status,message:"Access denied"}):503===n.status?(t.status="DEGRADED",t.details={httpStatus:n.status,message:"Service degraded"}):(t.status="DEGRADED",t.details={httpStatus:n.status})}catch(r){t.latency=Math.round(performance.now()-e),t.status="NOT_CONFIGURED",t.details={message:"Endpoint not reachable",error:r.message}}}else"sensor"===s.type&&(t.status="NOT_CONFIGURED",t.details={message:"GPS sensor not configured"})}catch(a){t.status="UNKNOWN",t.details={error:a.message}}e.tests.push(t),x(s.name,t.status,{latency:t.latency,details:t.details})}const n=e.tests.map(e=>e.status);return n.every(e=>"OK"===e)?e.overall="OK":n.some(e=>"FORBIDDEN"===e)?e.overall="FORBIDDEN":n.some(e=>"DEGRADED"===e)?e.overall="DEGRADED":n.every(e=>"NOT_CONFIGURED"===e||"UNKNOWN"===e)?e.overall="NOT_CONFIGURED":e.overall="DEGRADED",u(e),h(t=>(0,s.A)((0,s.A)({},t),{},{overall:e.overall,lastCheck:e.timestamp})),e},[x]),v=(0,t.useCallback)(e=>{const t=r.filter(t=>{var n;return t.panelId===e||(null===(n=t.url)||void 0===n?void 0:n.includes(e))});return{clientEvidence:{available:!0,requests:t,count:t.length},systemEvidence:{available:!1,status:"PLANNED",schema:{events:"[]",source:"backend_event_log",note:"System evidence will be available when backend API is implemented"}}}},[r]),b=(0,t.useCallback)(()=>{const e={backendUrl:"https://global-search-hub-2.preview.emergentagent.com",theme:localStorage.getItem("omega-theme")||"dark",language:localStorage.getItem("omega-language")||"en"};return{generatedAt:(new Date).toISOString(),buildInfo:{version:"2.1.0",buildDate:"2025-01-14",environment:"production"},configSnapshot:e,selfTestResults:d||{status:"NOT_RUN"},networkLog:r.slice(0,100),errorLog:l.slice(0,100),connectionState:m,profile:JSON.parse(localStorage.getItem("omega-profile")||"{}"),localStorage:{keys:Object.keys(localStorage).filter(e=>e.startsWith("omega-")),note:"Values redacted for security"}}},[d,r,l,m]),y=(0,t.useCallback)(async()=>{const e=b(),t=JSON.stringify(e,null,2);try{return await navigator.clipboard.writeText(t),{success:!0,size:t.length}}catch(n){return{success:!1,error:n.message}}},[b]),j={networkLog:r,logNetworkRequest:p,errorLog:l,logUIError:f,selfTestResults:d,runSelfTest:g,connectionState:m,updateConnectionState:x,getEvidence:v,generateDebugBundle:b,copyDebugBundle:y,systemEvidenceStatus:"PLANNED"};return(0,Tt.jsx)(Mr.Provider,{value:j,children:n})},Dr=e=>{var n,r,a,s;let{compact:i=!1,onClose:l}=e;const{selfTestResults:o,runSelfTest:c,connectionState:d}=Pr(),[u,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)(null),f=async()=>{m(!0),p(null);try{await c()}catch(e){p(e.message)}finally{m(!1)}},x=e=>{const t=Fn[e]||Fn.UNKNOWN,n=t.icon;return(0,Tt.jsx)(n,{className:"w-4 h-4 ".concat(t.color)})};return i?(0,Tt.jsxs)("button",{onClick:f,disabled:u,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50","data-testid":"self-test-btn-compact",children:[u?(0,Tt.jsx)($t.A,{className:"w-4 h-4 animate-spin"}):(0,Tt.jsx)(gr.A,{className:"w-4 h-4"}),"Run Self-Test"]}):(0,Tt.jsxs)("div",{className:"bg-card border border-border rounded-xl p-4","data-testid":"self-test-runner",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Wt.A,{className:"w-5 h-5 text-primary"}),(0,Tt.jsx)("h3",{className:"font-semibold text-foreground",children:"System Self-Test"})]}),l&&(0,Tt.jsx)("button",{onClick:l,className:"text-muted-foreground hover:text-foreground",children:(0,Tt.jsx)(Yt.A,{className:"w-5 h-5"})})]}),(0,Tt.jsx)("button",{onClick:f,disabled:u,className:"w-full flex items-center justify-center gap-2 px-4 py-3 mb-4 text-sm font-medium bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50","data-testid":"self-test-run-btn",children:u?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)($t.A,{className:"w-4 h-4 animate-spin"}),"Running Tests..."]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(gr.A,{className:"w-4 h-4"}),"Run Self-Test"]})}),h&&(0,Tt.jsxs)("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-500 text-sm",children:["Error: ",h]}),o&&(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsx)("div",{className:"p-3 rounded-lg border ".concat((null===(n=Fn[o.overall])||void 0===n?void 0:n.borderColor)||"border-border"," ").concat((null===(r=Fn[o.overall])||void 0===r?void 0:r.bgColor)||"bg-secondary/20"),children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[x(o.overall),(0,Tt.jsx)("span",{className:"font-medium",children:"Overall Status"})]}),(0,Tt.jsx)("span",{className:"text-sm font-medium ".concat((null===(a=Fn[o.overall])||void 0===a?void 0:a.color)||"text-muted-foreground"),children:o.overall})]})}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,Tt.jsx)(en.A,{className:"w-3 h-3"}),"Last run: ",(g=o.timestamp,g?new Date(g).toLocaleString():"Never")]}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Subsystem Tests:"}),null===(s=o.tests)||void 0===s?void 0:s.map((e,t)=>{var n,r;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-secondary/30 rounded-lg text-sm","data-testid":"self-test-result-".concat(null===(n=e.subsystem)||void 0===n?void 0:n.toLowerCase().replace(/[^a-z0-9]/g,"-")),children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[x(e.status),(0,Tt.jsx)("span",{children:e.subsystem})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[null!==e.latency&&(0,Tt.jsxs)("span",{className:"text-xs",children:[e.latency,"ms"]}),(0,Tt.jsx)("span",{className:"text-xs font-medium ".concat(null===(r=Fn[e.status])||void 0===r?void 0:r.color),children:e.status})]})]},t)})]})]}),!o&&!u&&(0,Tt.jsx)("div",{className:"text-center text-sm text-muted-foreground p-4",children:'No test results yet. Click "Run Self-Test" to check system status.'})]});var g},Ir=e=>{let{onClose:n}=e;const{generateDebugBundle:r,copyDebugBundle:a,selfTestResults:i}=Pr(),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[u,m]=(0,t.useState)(!0),[h,p]=(0,t.useState)(!1);return(0,Tt.jsxs)("div",{className:"bg-card border border-border rounded-xl p-4","data-testid":"debug-bundle-panel",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Xt,{className:"w-5 h-5 text-primary"}),(0,Tt.jsx)("h3",{className:"font-semibold text-foreground",children:"Debug Bundle"})]}),n&&(0,Tt.jsx)("button",{onClick:n,className:"text-muted-foreground hover:text-foreground",children:(0,Tt.jsx)(Yt.A,{className:"w-5 h-5"})})]}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Generate a debug bundle containing system info, test results, and logs for troubleshooting."}),(0,Tt.jsxs)("div",{className:"mb-4 p-3 bg-secondary/30 rounded-lg text-sm",children:[(0,Tt.jsx)("div",{className:"font-medium text-foreground mb-2",children:"Bundle Contents:"}),(0,Tt.jsxs)("ul",{className:"space-y-1 text-muted-foreground text-xs",children:[(0,Tt.jsxs)("li",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-3 h-3 text-green-500"}),"BUILD_INFO (version, date, environment)"]}),(0,Tt.jsxs)("li",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-3 h-3 text-green-500"}),"CONFIG_SNAPSHOT (backend URL, theme, language)"]}),(0,Tt.jsxs)("li",{className:"flex items-center gap-2",children:[i?(0,Tt.jsx)(Vt.A,{className:"w-3 h-3 text-green-500"}):(0,Tt.jsx)(Gt.A,{className:"w-3 h-3 text-amber-500"}),"Self-test results ",!i&&"(not run yet)"]}),(0,Tt.jsxs)("li",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-3 h-3 text-green-500"}),"Last 100 network requests"]}),(0,Tt.jsxs)("li",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-3 h-3 text-green-500"}),"Last 100 UI errors"]}),(0,Tt.jsxs)("li",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-3 h-3 text-green-500"}),"Connection state summary"]})]})]}),(0,Tt.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,Tt.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:u,onChange:e=>m(e.target.checked),className:"rounded border-border","data-testid":"redact-toggle"}),(0,Tt.jsx)("span",{className:"text-sm text-foreground",children:"Redact sensitive values"})]}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"(PINs, URLs, names)"})]}),(0,Tt.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,Tt.jsx)("button",{onClick:async()=>{(await a()).success&&(o(!0),setTimeout(()=>o(!1),2e3))},className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors","data-testid":"debug-bundle-copy-btn",children:l?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4"}),"Copied!"]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(fr.A,{className:"w-4 h-4"}),"Copy JSON"]})}),(0,Tt.jsx)("button",{onClick:async()=>{p(!0);try{var e;const a=r();let s=a;var t;if(u)s=JSON.parse(JSON.stringify(a)),s.configSnapshot&&(s.configSnapshot.backendUrl="[REDACTED]"),null!==(t=s.profile)&&void 0!==t&&t.displayName&&(s.profile.displayName="[REDACTED]");const i={"debug_bundle.json":JSON.stringify(s,null,2),"BUILD_INFO.json":JSON.stringify(s.buildInfo,null,2),"CONFIG_SNAPSHOT.json":JSON.stringify(s.configSnapshot,null,2),"SELF_TEST_RESULTS.json":JSON.stringify(s.selfTestResults,null,2),"NETWORK_LOG.json":JSON.stringify(s.networkLog,null,2),"ERROR_LOG.json":JSON.stringify(s.errorLog,null,2),"CONNECTION_STATE.json":JSON.stringify(s.connectionState,null,2),"README.txt":"OMEGA Dashboard Debug Bundle\nGenerated: ".concat(s.generatedAt,"\nVersion: ").concat((null===(e=s.buildInfo)||void 0===e?void 0:e.version)||"unknown","\n\nContents:\n- debug_bundle.json: Complete bundle\n- BUILD_INFO.json: Build information\n- CONFIG_SNAPSHOT.json: Configuration snapshot\n- SELF_TEST_RESULTS.json: Last self-test results\n- NETWORK_LOG.json: Last 100 network requests\n- ERROR_LOG.json: Last 100 UI errors\n- CONNECTION_STATE.json: Current connection state\n\n").concat(u?"NOTE: Sensitive values have been redacted.":"WARNING: Contains unredacted sensitive values.","\n")};try{const e=new(0,(await __webpack_require__.e(728).then(__webpack_require__.t.bind(__webpack_require__,8728,23))).default);Object.entries(i).forEach(t=>{let[n,r]=t;e.file(n,r)});const t=await e.generateAsync({type:"blob"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="omega_debug_bundle_".concat((new Date).toISOString().split("T")[0],".zip"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}catch(n){const e=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="omega_debug_bundle_".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}}catch(a){console.error("Failed to generate debug bundle:",a)}finally{p(!1)}},disabled:h,className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50","data-testid":"debug-bundle-zip-btn",children:h?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)($t.A,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(Xt,{className:"w-4 h-4"}),"Download ZIP"]})}),(0,Tt.jsx)("button",{onClick:()=>{const e=r();if(u){var t;const n=JSON.parse(JSON.stringify(e));n.configSnapshot&&(n.configSnapshot=(0,s.A)((0,s.A)({},n.configSnapshot),{},{backendUrl:n.configSnapshot.backendUrl?"[REDACTED]":"not_set"})),null!==(t=n.profile)&&void 0!==t&&t.displayName&&(n.profile.displayName="[REDACTED]"),d(JSON.stringify(n,null,2))}else d(JSON.stringify(e,null,2))},className:"px-4 py-2 text-sm font-medium border border-border rounded-lg hover:bg-secondary transition-colors","data-testid":"debug-bundle-preview-btn",children:"Preview"})]}),c&&(0,Tt.jsxs)("div",{className:"mt-4 p-3 bg-secondary/50 rounded-lg max-h-64 overflow-auto",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)("span",{className:"text-xs font-medium text-foreground",children:"Bundle Preview"}),(0,Tt.jsx)("button",{onClick:()=>d(null),className:"text-muted-foreground hover:text-foreground",children:(0,Tt.jsx)(Yt.A,{className:"w-4 h-4"})})]}),(0,Tt.jsx)("pre",{className:"text-xs text-muted-foreground whitespace-pre-wrap",children:c})]})]})},Rr=[{id:"getting-started",title:"Getting Started",icon:cr,description:"Quick start guide (60 seconds)",color:"text-emerald-400",bgColor:"bg-emerald-500/20"},{id:"cheat-sheet",title:"Cheat Sheet",icon:nn.A,description:"URLs, ports, services, data paths",color:"text-cyan-400",bgColor:"bg-cyan-500/20"},{id:"installed-optional",title:"Installed vs Optional",icon:dr,description:"What's present vs what needs hardware",color:"text-amber-400",bgColor:"bg-amber-500/20"},{id:"how-omega-works",title:"How OMEGA Works",icon:ur.A,description:"Simple architecture overview",color:"text-violet-400",bgColor:"bg-violet-500/20"},{id:"status-errors",title:"Status & Error Messages",icon:Gt.A,description:"Understanding system states",color:"text-orange-400",bgColor:"bg-orange-500/20"},{id:"kiwix",title:"Offline Library (Kiwix)",icon:zt.A,description:"What's installed in offline knowledge",color:"text-blue-400",bgColor:"bg-blue-500/20"},{id:"communications",title:"Communications Hub",icon:mn.A,description:"LAN, Mesh, Radio, SMS explained",color:"text-green-400",bgColor:"bg-green-500/20"},{id:"maps-gps",title:"Maps & GPS",icon:mr.A,description:"Fix states and troubleshooting",color:"text-red-400",bgColor:"bg-red-500/20"},{id:"sensors",title:"Sensors & Environment",icon:hr,description:"BME680 and analog expansion",color:"text-pink-400",bgColor:"bg-pink-500/20"},{id:"media",title:"Media (OMEGA Netflix)",icon:dn,description:"Jellyfin and streaming",color:"text-purple-400",bgColor:"bg-purple-500/20"},{id:"admin",title:"Admin Console (Operator)",icon:Wt.A,description:"Administrative capabilities",color:"text-yellow-400",bgColor:"bg-yellow-500/20"},{id:"power",title:"Power & Runtime",icon:pr,description:"Honest math and scenarios",color:"text-lime-400",bgColor:"bg-lime-500/20"},{id:"troubleshooting",title:"Troubleshooting Textbook",icon:Zt.A,description:"Quick fix index",color:"text-rose-400",bgColor:"bg-rose-500/20"},{id:"glossary",title:"Glossary",icon:an.A,description:"Plain English definitions",color:"text-teal-400",bgColor:"bg-teal-500/20"},{id:"appendix",title:"Appendix",icon:pn.A,description:"What's estimated vs exact",color:"text-slate-400",bgColor:"bg-slate-500/20"},{id:"faq",title:"Frequently Asked Questions",icon:an.A,description:"Quick answers to common questions",color:"text-indigo-400",bgColor:"bg-indigo-500/20"}],Lr=[{id:"cant-connect",label:"I can't connect",target:"troubleshooting",symptom:"wifi"},{id:"wont-load",label:"Dashboard won't load",target:"troubleshooting",symptom:"dashboard"},{id:"degraded",label:"Something says Degraded/Unavailable",target:"installed-optional",symptom:"degraded"}],zr=[{id:"wifi",title:"A) Can't connect to OMEGA Wi-Fi",symptom:"You can't see the network or it won't join.",causes:["Hotspot off","Wrong password","Too far away","Device stuck on another network"],basicFix:["Move closer to the case","Forget the network on your phone/laptop, re-join","Check if you see the OMEGA SSID in available networks"],operatorFix:"Toggle hotspot ON and verify SSID is broadcasting",verify:"Dashboard opens in browser"},{id:"dashboard",title:"B) Dashboard won't load",symptom:'"Site can\'t be reached" or blank page.',causes:["Not connected to OMEGA network","Wrong address","Web root issue"],basicFix:["Confirm you're on OMEGA Wi-Fi/LAN","Use gateway IP fallback (from Wi-Fi details)","Try: http://talon.local/"],operatorFix:"curl http://127.0.0.1:8093/cgi-bin/health.py",verify:"HTML loads and health JSON returns"},{id:"health-red",title:"C) Health is RED / Backend down",symptom:"Tiles error, health endpoint fails.",causes:["omega-community stopped","Storage full","CGI error"],basicFix:["Wait 30 seconds and refresh","Check if other devices can access dashboard"],operatorFix:"systemctl status omega-community --no-pager -l\nIf inactive: sudo systemctl restart omega-community\nCheck disk: df -h",verify:"curl http://127.0.0.1:8093/cgi-bin/health.py returns OK"},{id:"kiwix-down",title:"D) Kiwix library won't open",symptom:"Library page won't load or returns errors.",causes:["Kiwix down","Missing ZIM files","Library registry mismatch"],basicFix:["Try http://talon.local:8090/ directly","Wait 1 minute and retry"],operatorFix:"curl -I http://127.0.0.1:8090/ | head\nConfirm ZIMs exist: ls /srv/kiwix/data/\nConfirm registry: cat /srv/kiwix/library/library.xml",verify:"Kiwix homepage loads and a known title opens"},{id:"gps",title:"E) GPS No Fix / Stale",symptom:"No fix, old coordinates, accuracy never improves.",causes:["Indoors","GPS unplugged","Endpoint failure"],basicFix:["Move outdoors for 2\u20133 min","Move near a window with clear sky view","Re-seat GPS dongle"],operatorFix:"Check gps.py endpoint output:\ncurl http://127.0.0.1:8093/cgi-bin/gps.py",verify:"GPS timestamp updates and accuracy becomes reasonable"},{id:"sensors",title:"F) Sensors missing",symptom:"Sensor tile empty or error.",causes:["I2C wiring","Bus config","Permission issues","Endpoint failure"],basicFix:["Check if sensor hardware is connected","Verify wiring (3.3V/GND/SDA/SCL)"],operatorFix:"Check sensors.py output:\ncurl http://127.0.0.1:8093/cgi-bin/sensors.py\ni2cdetect -y 1",verify:"Sensor values update"},{id:"mesh",title:"G) Mesh/LoRa degraded",symptom:"Mesh shows degraded/unavailable.",causes:["Radio unplugged","USB serial instability","Device wedged"],basicFix:["Replug the Meshtastic node","Wait 30 seconds for reconnection"],operatorFix:"Confirm device node exists:\nls /dev/ttyACM*\nCheck USB autosuspend, cables, power stability",verify:"Mesh returns Available and endpoint responds"},{id:"slow",title:"H) System slow",symptom:"Lag, timeouts, UI unresponsive.",causes:["Disk nearly full","Heavy streaming","Runaway logs","High CPU"],basicFix:["Close streaming (Jellyfin) temporarily","Reduce number of connected devices"],operatorFix:"df -h\ntop\nIdentify large directories under /srv and clean safely",verify:"Health stabilizes and UI is responsive"},{id:"backup",title:"I) Backups failing",symptom:"Health says backup not OK.",causes:["No space","Destination not writable","Permissions"],basicFix:["Check if backup destination is connected","Free up space if possible"],operatorFix:"Read backup logs:\njournalctl -u omega-backup --no-pager -l\nEnsure backup destination mounted + has free space",verify:"Health shows backup OK and timestamp recent"}],Fr=[{term:"Dashboard",definition:"The local website you use to operate OMEGA."},{term:"Backend / API",definition:"Local server on port 8093 that provides JSON endpoints (chat, gps, sensors, etc.)."},{term:"Kiwix",definition:"Offline library server that serves ZIM files."},{term:"ZIM",definition:"Offline archive format used by Kiwix."},{term:"Hotspot",definition:"Wi-Fi network hosted by OMEGA."},{term:"Available/Degraded/Unavailable",definition:"Green/Yellow/Red states indicating capability."},{term:"GPS Fix",definition:"A valid satellite location solution (No Fix / 2D / 3D)."},{term:"IAQ",definition:"Indoor Air Quality estimate (trend indicator, not medical-grade)."},{term:"Mesh/LoRa",definition:"Long-range, low-bandwidth radio network with relays."},{term:"SDR",definition:"Software-defined radio monitoring."}],Br=[{id:"lan",name:"LAN / Wi-Fi",whatItIs:"Normal local connection to OMEGA (like home Wi-Fi).",howItWorks:"Your phone/laptop connects to OMEGA hotspot/LAN.",analogy:'"Same building internet."',useWhen:"You are near OMEGA and want speed (library, files, streaming).",statusColors:{available:"Green",degraded:"Yellow",unavailable:"Red"}},{id:"mesh",name:"Mesh / LoRa",whatItIs:"Long-range, low-bandwidth radio messaging that can hop between nodes.",howItWorks:"Each node relays messages so the network covers more area.",analogy:'"Walkie-talkies that can repeat each other."',useWhen:"The group is spread out; you need check-ins, short messages, and GPS pings.",statusColors:{available:"Green",degraded:"Yellow",unavailable:"Red"}},{id:"radio",name:"Radio / SDR",whatItIs:"Radio monitoring/receive tools (situational awareness).",howItWorks:"A radio front-end digitizes signals; software decodes/monitors.",analogy:'"A universal scanner + decoder."',useWhen:"Monitoring signals, not normal group chat.",statusColors:{available:"Green",degraded:"Yellow",unavailable:"Red"}},{id:"sms",name:"SMS Gateway (optional)",whatItIs:"Bridge from OMEGA messages to cellular SMS (needs modem + service).",howItWorks:"OMEGA sends messages through a cellular modem when available.",analogy:'"OMEGA texting the outside world."',useWhen:"Cell service exists and you must reach non-OMEGA people.",statusColors:{available:"Green",degraded:"Yellow",unavailable:"Red"},optional:!0},{id:"hf",name:"HF Radio Bridge (optional/advanced)",whatItIs:"Very long-range radio messaging using HF equipment.",howItWorks:"Uses ionospheric propagation for global reach.",analogy:'"Global-range radio mail\u2014slow but far."',useWhen:"Everything else is down and you need long-distance comms.",statusColors:{available:"Green",degraded:"Yellow",unavailable:"Red"},optional:!0,advanced:!0}],Ur={coreReference:[{name:"Wikipedia (EN, full)",desc:"General encyclopedia"},{name:"Wikipedia Simple (EN)",desc:"Simpler reading level"},{name:"Wiktionary (EN, nopic)",desc:"Dictionary/definitions"},{name:"Wikiquote (EN, full)",desc:"Quotations/cultural refs"},{name:"Wikinews (EN, full)",desc:"Archived news reference"}],medical:[{name:"Wikipedia Medicine (EN)",desc:"Medical subset optimized for health topics"},{name:"WikEM (EN, nopic)",desc:"Emergency medicine reference"}],education:[{name:"Khan Academy (EN)",desc:"Structured lessons"},{name:"PhET (EN)",desc:"Interactive science simulations"},{name:"Wikibooks (EN, full)",desc:"Textbook-style manuals"},{name:"Wikiversity (EN, full)",desc:"Courses/learning projects"},{name:"Appropedia (EN)",desc:"Practical DIY + sustainability"}],repair:[{name:"iFixit",desc:"Repair guides/teardowns"},{name:"ArchWiki (EN)",desc:"Linux/systems reference"},{name:"DevDocs (offline)",desc:"Developer docs"}],travel:[{name:"Wikivoyage (EN)",desc:"Travel/geography reference"},{name:"OpenStreetMap Wiki (EN)",desc:"Mapping documentation"}],books:[{name:"Wikisource (EN, full)",desc:"Primary/public-domain texts"},{name:"Project Gutenberg (EN)",desc:"Public domain books"},{name:"TED (multi-language)",desc:"Talks/learning/morale"}]},Wr=e=>{let{children:t}=e;return(0,Tt.jsxs)("div",{className:"mt-3 p-3 rounded-lg bg-amber-500/10 border border-amber-500/30",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)(un,{className:"w-4 h-4 text-amber-400"}),(0,Tt.jsx)("span",{className:"text-xs font-bold text-amber-400 uppercase tracking-wide",children:"Operator Only"})]}),(0,Tt.jsx)("pre",{className:"text-xs text-amber-200/90 whitespace-pre-wrap font-mono bg-black/30 p-2 rounded overflow-x-auto",children:t})]})},Hr=e=>{let{title:n,children:r,defaultOpen:a=!1,id:s}=e;const[i,l]=(0,t.useState)(a);return(0,Tt.jsxs)("div",{className:"glass rounded-xl overflow-hidden",id:s,children:[(0,Tt.jsxs)("button",{onClick:()=>l(!i),className:"w-full flex items-center justify-between p-4 text-left hover:bg-white/5 transition-colors",children:[(0,Tt.jsx)("span",{className:"font-semibold text-sm",children:n}),i?(0,Tt.jsx)(En.A,{className:"w-4 h-4"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4"})]}),i&&(0,Tt.jsx)("div",{className:"px-4 pb-4 animate-fade-in",children:r})]})},qr=e=>{let{category:t,onClick:n}=e;const r=t.icon;return(0,Tt.jsxs)("button",{onClick:n,className:"glass rounded-xl p-4 text-left hover:bg-white/10 transition-all group","data-testid":"category-".concat(t.id),children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-xl ".concat(t.bgColor," flex items-center justify-center mb-3 group-hover:scale-110 transition-transform"),children:(0,Tt.jsx)(r,{className:"w-5 h-5 ".concat(t.color)})}),(0,Tt.jsx)("h3",{className:"font-bold text-sm mb-1",children:t.title}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2",children:t.description})]})},Kr=e=>{let{entry:t}=e;return(0,Tt.jsx)(Hr,{title:t.title,id:"trouble-".concat(t.id),children:(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-xs font-bold text-red-400 uppercase",children:"Symptom"}),(0,Tt.jsx)("p",{className:"text-sm mt-1",children:t.symptom})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-xs font-bold text-amber-400 uppercase",children:"Likely Causes"}),(0,Tt.jsx)("ul",{className:"text-sm mt-1 space-y-1",children:t.causes.map((e,t)=>(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"\u2022"}),e]},t))})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-xs font-bold text-emerald-400 uppercase",children:"Try This First"}),(0,Tt.jsx)("ol",{className:"text-sm mt-1 space-y-1",children:t.basicFix.map((e,t)=>(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsxs)("span",{className:"text-emerald-400 font-bold",children:[t+1,"."]}),e]},t))})]}),t.operatorFix&&(0,Tt.jsx)(Wr,{children:t.operatorFix}),(0,Tt.jsxs)("div",{className:"flex items-start gap-2 p-2 rounded-lg bg-primary/10",children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-xs font-bold text-primary uppercase",children:"Verify"}),(0,Tt.jsx)("p",{className:"text-sm",children:t.verify})]})]})]})})},Vr=e=>{let{method:t}=e;return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h4",{className:"font-bold text-sm",children:t.name}),(0,Tt.jsxs)("div",{className:"flex gap-1",children:[t.optional&&(0,Tt.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-amber-500/20 text-amber-400",children:"Optional"}),t.advanced&&(0,Tt.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-purple-500/20 text-purple-400",children:"Advanced"})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"What it is:"}),(0,Tt.jsx)("p",{className:"text-foreground",children:t.whatItIs})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"How it works:"}),(0,Tt.jsx)("p",{className:"text-foreground",children:t.howItWorks})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Analogy:"}),(0,Tt.jsx)("p",{className:"text-foreground italic",children:t.analogy})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Use when:"}),(0,Tt.jsx)("p",{className:"text-foreground",children:t.useWhen})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3 pt-2 border-t border-border/50",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full bg-success"}),(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Available"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full bg-warning"}),(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Degraded"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full bg-destructive"}),(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Unavailable"})]})]})]})},Gr=e=>{let{text:t}=e;return(0,Tt.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(t),Pt.oR.success("Copied to clipboard")},className:"p-1 hover:bg-white/10 rounded transition-colors",title:"Copy",children:(0,Tt.jsx)(fr.A,{className:"w-3 h-3 text-muted-foreground"})})},$r=e=>{let{id:n,title:r,icon:a,color:i,bgColor:l,description:o,faqs:c}=e;const[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)({});return(0,Tt.jsxs)("div",{className:"glass rounded-xl overflow-hidden","data-testid":"faq-category-".concat(n),children:[(0,Tt.jsxs)("button",{onClick:()=>u(!d),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-lg ".concat(l),children:(0,Tt.jsx)(a,{className:"w-4 h-4 ".concat(i)})}),(0,Tt.jsxs)("div",{className:"text-left",children:[(0,Tt.jsx)("h3",{className:"font-semibold text-sm",children:r}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:o})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[c.length," questions"]}),d?(0,Tt.jsx)(En.A,{className:"w-4 h-4 text-muted-foreground"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4 text-muted-foreground"})]})]}),d&&(0,Tt.jsx)("div",{className:"border-t border-border/50",children:c.map((e,t)=>(0,Tt.jsxs)("div",{className:"border-b border-border/50 last:border-b-0",children:[(0,Tt.jsxs)("button",{onClick:()=>(e=>{h(t=>(0,s.A)((0,s.A)({},t),{},{[e]:!t[e]}))})(t),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-white/5 transition-colors",children:[(0,Tt.jsx)("span",{className:"font-medium text-sm pr-3",children:e.q}),m[t]?(0,Tt.jsx)(En.A,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"})]}),m[t]&&(0,Tt.jsx)("div",{className:"px-4 pb-3 animate-fade-in",children:(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.a})})]},t))})]})};function Yr(e){let{isOpen:n,onClose:r}=e;const[a,i]=(0,t.useState)(""),[l,o]=(0,t.useState)(!1),c=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=()=>{c.current&&o(c.current.scrollTop>400)},t=c.current;if(t)return t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)},[n]);const d=e=>{const t=document.getElementById("help-".concat(e));t&&c.current&&t.scrollIntoView({behavior:"smooth",block:"start"})},u=(0,t.useMemo)(()=>{if(!a.trim())return null;const e=a.toLowerCase(),t={categories:Rr.filter(t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)),troubleshooting:zr.filter(t=>t.id.toLowerCase().includes(e)||t.title.toLowerCase().includes(e)||t.symptom.toLowerCase().includes(e)||t.causes.some(t=>t.toLowerCase().includes(e))||t.basicFix.some(t=>t.toLowerCase().includes(e))||t.operatorFix&&t.operatorFix.toLowerCase().includes(e)),glossary:Fr.filter(t=>t.term.toLowerCase().includes(e)||t.definition.toLowerCase().includes(e)),comms:Br.filter(t=>t.name.toLowerCase().includes(e)||t.whatItIs.toLowerCase().includes(e)||t.howItWorks.toLowerCase().includes(e)||t.analogy.toLowerCase().includes(e)||t.useWhen.toLowerCase().includes(e))},n=t.categories.length+t.troubleshooting.length+t.glossary.length+t.comms.length;return(0,s.A)((0,s.A)({},t),{},{totalCount:n})},[a]);return n?(0,Tt.jsxs)("div",{className:"fixed inset-0 z-50 bg-background","data-testid":"help-center",children:[(0,Tt.jsx)("div",{className:"sticky top-0 z-10 glass border-b border-border",children:(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-xl bg-primary/20",children:(0,Tt.jsx)(zt.A,{className:"w-5 h-5 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h1",{className:"text-lg font-bold",children:"Help Center"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"OMEGA Field Manual"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(kr,{pageTitle:"Help Center",quickHelp:"The complete OMEGA Field Manual - everything you need to know.",variant:"compact",legendItems:[{icon:cr,label:"Getting Started",description:"Quick 60-second start guide",color:"text-emerald-400",bgColor:"bg-emerald-500/20"},{icon:nn.A,label:"Cheat Sheet",description:"URLs, ports, services, and data paths",color:"text-cyan-400",bgColor:"bg-cyan-500/20"},{icon:ur.A,label:"How OMEGA Works",description:"Simple architecture overview",color:"text-violet-400",bgColor:"bg-violet-500/20"},{icon:Gt.A,label:"Troubleshooting",description:"Fix common problems",color:"text-warning",bgColor:"bg-warning/20"}],troubleshootingItems:[{problem:"Can't find what I need",solution:"Use the search bar to search across all categories and topics."},{problem:"Instructions don't work",solution:"Check you're connected to the OMEGA device. Some features need specific hardware."},Cr.offlineMode],whatItDoes:"The Help Center is your complete reference manual for OMEGA. Browse categories like Getting Started, Cheat Sheet, Troubleshooting, and more. Use search to find specific topics. Print any section for offline reference."}),(0,Tt.jsxs)(gn.$,{variant:"ghost",size:"sm",onClick:()=>{window.print()},className:"hidden sm:flex gap-2",children:[(0,Tt.jsx)(xr,{className:"w-4 h-4"}),"Print"]}),(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:r,className:"gap-2","data-testid":"help-center-close",children:[(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:"Back to Dashboard"})]})]})]}),(0,Tt.jsxs)("div",{className:"mt-3 relative",children:[(0,Tt.jsx)(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,Tt.jsx)(yn,{value:a,onChange:e=>i(e.target.value),placeholder:"Search the manual... (wifi, gps, mesh, backup, kiwix, sensors)",className:"pl-10 h-11 bg-secondary/50","data-testid":"help-search"}),u&&(0,Tt.jsxs)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-muted-foreground",children:[u.totalCount," results"]})]})]})}),(0,Tt.jsx)("div",{ref:c,className:"h-[calc(100vh-140px)] overflow-y-auto scrollbar-thin",children:(0,Tt.jsx)("div",{className:"container mx-auto px-4 py-6 space-y-8",children:u?(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("h2",{className:"text-lg font-bold",children:["Search Results for \u201c",a,"\u201d"]}),0===u.totalCount?(0,Tt.jsxs)("div",{className:"glass rounded-xl p-8 text-center",children:[(0,Tt.jsx)(on,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),(0,Tt.jsx)("p",{className:"text-muted-foreground mb-2",children:"No results found"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"Try searching for: wifi, gps, backup, kiwix, or sensors"})]}):(0,Tt.jsxs)(Tt.Fragment,{children:[u.categories.length>0&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"Categories"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:u.categories.map(e=>(0,Tt.jsx)(qr,{category:e,onClick:()=>{i(""),setTimeout(()=>d(e.id),100)}},e.id))})]}),u.troubleshooting.length>0&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"Troubleshooting"}),(0,Tt.jsx)("div",{className:"space-y-2",children:u.troubleshooting.map(e=>(0,Tt.jsx)(Kr,{entry:e},e.id))})]}),u.glossary.length>0&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"Glossary"}),(0,Tt.jsx)("div",{className:"glass rounded-xl divide-y divide-border/50",children:u.glossary.map(e=>(0,Tt.jsxs)("div",{className:"p-3",children:[(0,Tt.jsx)("span",{className:"font-semibold text-sm",children:e.term}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.definition})]},e.term))})]}),u.comms.length>0&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"Communications"}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.comms.map(e=>(0,Tt.jsx)(Vr,{method:e},e.id))})]})]}),(0,Tt.jsx)(gn.$,{variant:"outline",onClick:()=>i(""),className:"w-full",children:"Clear Search"})]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)("div",{className:"glass-strong rounded-2xl p-4 border-2 border-primary/30",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Tt.jsx)(cr,{className:"w-5 h-5 text-primary"}),(0,Tt.jsx)("h2",{className:"font-bold",children:"Need help fast?"})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:Lr.map(e=>(0,Tt.jsxs)("button",{onClick:()=>d(e.target),className:"glass rounded-xl p-3 text-left hover:bg-primary/20 transition-colors group",children:[(0,Tt.jsx)("span",{className:"text-sm font-medium group-hover:text-primary transition-colors",children:e.label}),(0,Tt.jsx)(Pn,{className:"w-4 h-4 text-muted-foreground inline ml-1 group-hover:translate-x-1 transition-transform"})]},e.id))})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 border border-emerald-500/30",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Tt.jsx)(gr.A,{className:"w-5 h-5 text-emerald-400"}),(0,Tt.jsx)("h3",{className:"font-bold",children:"Run Self-Test"})]}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Check all subsystems and get a health report."}),(0,Tt.jsx)(Dr,{compact:!0})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 border border-cyan-500/30",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Tt.jsx)(Xt,{className:"w-5 h-5 text-cyan-400"}),(0,Tt.jsx)("h3",{className:"font-bold",children:"Debug Bundle"})]}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Copy diagnostic info for troubleshooting."}),(0,Tt.jsx)(Ir,{})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Browse by Category"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3",children:Rr.map(e=>(0,Tt.jsx)(qr,{category:e,onClick:()=>d(e.id)},e.id))})]}),(0,Tt.jsxs)("section",{id:"help-getting-started",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(cr,{className:"w-5 h-5 text-emerald-400"}),"Getting Started (60 seconds)"]}),(0,Tt.jsx)("div",{className:"glass rounded-xl p-4 space-y-4",children:(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Tt.jsx)("span",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center font-bold text-primary flex-shrink-0",children:"1"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold",children:"Power On"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"Power the OMEGA unit. Wait 30\u201360 seconds for services to come up."})]})]}),(0,Tt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Tt.jsx)("span",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center font-bold text-primary flex-shrink-0",children:"2"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold",children:"Connect Your Device"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"Join the OMEGA Wi-Fi hotspot (or LAN/Ethernet). Open a browser."})]})]})]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Tt.jsx)("span",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center font-bold text-primary flex-shrink-0",children:"3"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold",children:"Open the Dashboard"}),(0,Tt.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Go to: ",(0,Tt.jsx)("code",{className:"text-primary",children:"http://talon.local/"})]})]})]}),(0,Tt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Tt.jsx)("span",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center font-bold text-primary flex-shrink-0",children:"4"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold",children:"Confirm Health"}),(0,Tt.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Check: ",(0,Tt.jsx)("code",{className:"text-primary",children:"http://talon.local:8093/cgi-bin/health.py"})]})]})]})]})]})})]}),(0,Tt.jsxs)("section",{id:"help-cheat-sheet",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(nn.A,{className:"w-5 h-5 text-cyan-400"}),"Cheat Sheet"]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3 text-cyan-400",children:"Primary URLs"}),(0,Tt.jsxs)("div",{className:"space-y-2 font-mono text-sm",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/30 rounded",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Dashboard UI:"}),(0,Tt.jsx)("span",{className:"ml-2 text-primary",children:"http://talon.local/"})]}),(0,Tt.jsx)(Gr,{text:"http://talon.local/"})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/30 rounded",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Offline Library:"}),(0,Tt.jsx)("span",{className:"ml-2 text-primary",children:"http://talon.local:8090/"})]}),(0,Tt.jsx)(Gr,{text:"http://talon.local:8090/"})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/30 rounded",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Community API:"}),(0,Tt.jsx)("span",{className:"ml-2 text-primary",children:"http://talon.local:8093/"})]}),(0,Tt.jsx)(Gr,{text:"http://talon.local:8093/"})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/30 rounded",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Health Check:"}),(0,Tt.jsx)("span",{className:"ml-2 text-primary",children:"http://talon.local:8093/cgi-bin/health.py"})]}),(0,Tt.jsx)(Gr,{text:"http://talon.local:8093/cgi-bin/health.py"})]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3 text-cyan-400",children:"On-Device Data Locations"}),(0,Tt.jsxs)("div",{className:"space-y-2 font-mono text-xs",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/30 rounded",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Community data:"}),(0,Tt.jsx)("span",{className:"ml-2",children:"/srv/omega/community/data"})]}),(0,Tt.jsx)(Gr,{text:"/srv/omega/community/data"})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/30 rounded",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"CGI endpoints:"}),(0,Tt.jsx)("span",{className:"ml-2",children:"/srv/omega/community/cgi-bin"})]}),(0,Tt.jsx)(Gr,{text:"/srv/omega/community/cgi-bin"})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/30 rounded",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Mesh outbox:"}),(0,Tt.jsx)("span",{className:"ml-2",children:"/srv/omega/mesh/outbox"})]}),(0,Tt.jsx)(Gr,{text:"/srv/omega/mesh/outbox"})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/30 rounded",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Kiwix ZIM data:"}),(0,Tt.jsx)("span",{className:"ml-2",children:"/srv/kiwix/data/"})]}),(0,Tt.jsx)(Gr,{text:"/srv/kiwix/data/"})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/30 rounded",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Kiwix registry:"}),(0,Tt.jsx)("span",{className:"ml-2",children:"/srv/kiwix/library/library.xml"})]}),(0,Tt.jsx)(Gr,{text:"/srv/kiwix/library/library.xml"})]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3 text-cyan-400",children:"Core Services (systemd)"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-2",children:["omega-community","omega-backup","omega-mesh-import","omega-backup-sync","omega-keys-rotate","omega-health-watch"].map(e=>(0,Tt.jsx)("span",{className:"px-2 py-1 rounded bg-black/30 font-mono text-xs",children:e},e))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Tt.jsx)(un,{className:"w-4 h-4 text-amber-400"}),(0,Tt.jsx)("h3",{className:"font-semibold text-amber-400",children:"Fast Operator Checks"}),(0,Tt.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-amber-500/20 text-amber-400",children:"Operator Only"})]}),(0,Tt.jsxs)("div",{className:"space-y-2 font-mono text-xs",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/30 rounded",children:[(0,Tt.jsx)("code",{children:"systemctl status omega-community --no-pager -l"}),(0,Tt.jsx)(Gr,{text:"systemctl status omega-community --no-pager -l"})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/30 rounded",children:[(0,Tt.jsx)("code",{children:"curl -fsS http://127.0.0.1:8093/cgi-bin/health.py | head"}),(0,Tt.jsx)(Gr,{text:"curl -fsS http://127.0.0.1:8093/cgi-bin/health.py | head"})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/30 rounded",children:[(0,Tt.jsx)("code",{children:"curl -I http://127.0.0.1:8090/ | head"}),(0,Tt.jsx)(Gr,{text:"curl -I http://127.0.0.1:8090/ | head"})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/30 rounded",children:[(0,Tt.jsx)("code",{children:"df -h"}),(0,Tt.jsx)(Gr,{text:"df -h"})]})]})]})]})]}),(0,Tt.jsxs)("section",{id:"help-installed-optional",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(dr,{className:"w-5 h-5 text-amber-400"}),"Installed vs Optional"]}),(0,Tt.jsx)("div",{className:"glass rounded-xl p-4 mb-4 bg-amber-500/10 border border-amber-500/30",children:(0,Tt.jsxs)("p",{className:"text-sm",children:[(0,Tt.jsx)("strong",{children:"Important:"})," A tile can be visible even if its required hardware isn't installed yet. That's not \u201cbroken\u201d\u2014it's \u201cnot present.\u201d If something shows \u201cUnavailable,\u201d first check whether the required hardware exists before troubleshooting software."]})}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-success"}),"Installed and Verified"]}),(0,Tt.jsx)("ul",{className:"space-y-1.5 text-sm",children:["Dashboard UI (local web UI)","OMEGA Community backend on port 8093","Health + Metrics endpoints","GPS endpoint","Sensors endpoint (BME680 pipeline)","Backups system + retention","Mesh tooling (outbox/import pipeline)",'Samba "media" share (LAN file sharing)',"Kiwix server on port 8090 with ZIM library"].map((e,t)=>(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"text-success",children:"\u2713"}),e]},t))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 text-warning"}),"Optional / Depends on Build"]}),(0,Tt.jsx)("ul",{className:"space-y-1.5 text-sm",children:['Jellyfin "OMEGA Netflix" (media server)',"SDR tooling / radio monitoring workflows","SMS gateway bridging (needs modem + service)","HF radio bridge (advanced gear + protocols)","Fleet update system (admin-managed updates)"].map((e,t)=>(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"text-warning",children:"\u25cb"}),e]},t))})]})]})]}),(0,Tt.jsxs)("section",{id:"help-how-omega-works",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(ur.A,{className:"w-5 h-5 text-violet-400"}),"How OMEGA Works"]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"OMEGA is a local server you carry."}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"p-3 bg-violet-500/10 rounded-lg",children:[(0,Tt.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(vr,{className:"w-4 h-4"}),"The UI (Dashboard)"]}),(0,Tt.jsxs)("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[(0,Tt.jsx)("li",{children:"\u2022 A local website served from the Pi"}),(0,Tt.jsx)("li",{children:"\u2022 Polls local endpoints (JSON) for live status"}),(0,Tt.jsx)("li",{children:"\u2022 Shows sensors, GPS, comms, etc."})]})]}),(0,Tt.jsxs)("div",{className:"p-3 bg-violet-500/10 rounded-lg",children:[(0,Tt.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(ur.A,{className:"w-4 h-4"}),"The Backend (Community API)"]}),(0,Tt.jsxs)("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[(0,Tt.jsx)("li",{children:"\u2022 Runs on port 8093 via omega-community"}),(0,Tt.jsx)("li",{children:"\u2022 Provides JSON endpoints: health.py, metrics.py, gps.py, sensors.py"}),(0,Tt.jsx)("li",{children:"\u2022 Includes: chat, polls, files, keys, mesh, backup"})]})]}),(0,Tt.jsxs)("div",{className:"p-3 bg-violet-500/10 rounded-lg",children:[(0,Tt.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(zt.A,{className:"w-4 h-4"}),"Offline Library (Kiwix)"]}),(0,Tt.jsxs)("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[(0,Tt.jsx)("li",{children:"\u2022 Runs on port 8090"}),(0,Tt.jsx)("li",{children:"\u2022 Serves ZIM files from /srv/kiwix/data/"}),(0,Tt.jsx)("li",{children:"\u2022 Registered in library.xml"})]})]}),(0,Tt.jsxs)("div",{className:"p-3 bg-violet-500/10 rounded-lg",children:[(0,Tt.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(dn,{className:"w-4 h-4"}),"Media (OMEGA Netflix)"]}),(0,Tt.jsxs)("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[(0,Tt.jsx)("li",{children:"\u2022 If enabled: Jellyfin (local streaming)"}),(0,Tt.jsx)("li",{children:"\u2022 In emergencies: deprioritize streaming"}),(0,Tt.jsx)("li",{children:"\u2022 Preserves bandwidth + power"})]})]})]})]})]}),(0,Tt.jsxs)("section",{id:"help-status-errors",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-5 h-5 text-orange-400"}),"Status & Error Messages"]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3",children:"Status Colors"}),(0,Tt.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-4 h-4 rounded-full bg-success"}),(0,Tt.jsxs)("span",{className:"text-sm",children:[(0,Tt.jsx)("strong",{children:"Available"})," = Working normally"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-4 h-4 rounded-full bg-warning"}),(0,Tt.jsxs)("span",{className:"text-sm",children:[(0,Tt.jsx)("strong",{children:"Degraded"})," = Partially working"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-4 h-4 rounded-full bg-destructive"}),(0,Tt.jsxs)("span",{className:"text-sm",children:[(0,Tt.jsx)("strong",{children:"Unavailable"})," = Not working or not installed"]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3",children:"What Good Error Messages Include"}),(0,Tt.jsxs)("ul",{className:"text-sm space-y-1.5",children:[(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),"What failed (plain English)"]}),(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),"Most likely cause(s) (ranked)"]}),(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),"Exactly what to do next (action steps)"]}),(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),"Last-known-good value + timestamp"]})]})]})]})]}),(0,Tt.jsxs)("section",{id:"help-kiwix",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(zt.A,{className:"w-5 h-5 text-blue-400"}),"Offline Library (Kiwix)"]}),(0,Tt.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:["Access at: ",(0,Tt.jsx)("code",{className:"text-primary",children:"http://talon.local:8090/"})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-2 text-blue-400",children:"Core Reference"}),(0,Tt.jsx)("ul",{className:"space-y-1 text-sm",children:Ur.coreReference.map((e,t)=>(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:e.name})," \u2014 ",e.desc]},t))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-2 text-red-400",children:"Medical & Emergency"}),(0,Tt.jsx)("ul",{className:"space-y-1 text-sm",children:Ur.medical.map((e,t)=>(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:e.name})," \u2014 ",e.desc]},t))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-2 text-emerald-400",children:"Education & Learning"}),(0,Tt.jsx)("ul",{className:"space-y-1 text-sm",children:Ur.education.map((e,t)=>(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:e.name})," \u2014 ",e.desc]},t))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-2 text-amber-400",children:"Repair & Technical"}),(0,Tt.jsx)("ul",{className:"space-y-1 text-sm",children:Ur.repair.map((e,t)=>(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:e.name})," \u2014 ",e.desc]},t))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-2 text-cyan-400",children:"Travel & Mapping"}),(0,Tt.jsx)("ul",{className:"space-y-1 text-sm",children:Ur.travel.map((e,t)=>(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:e.name})," \u2014 ",e.desc]},t))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-2 text-purple-400",children:"Books & Talks"}),(0,Tt.jsx)("ul",{className:"space-y-1 text-sm",children:Ur.books.map((e,t)=>(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:e.name})," \u2014 ",e.desc]},t))})]})]})]}),(0,Tt.jsxs)("section",{id:"help-communications",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(mn.A,{className:"w-5 h-5 text-green-400"}),"Communications Hub"]}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose the simplest method that works."}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Br.map(e=>(0,Tt.jsx)(Vr,{method:e},e.id))})]}),(0,Tt.jsxs)("section",{id:"help-maps-gps",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(mr.A,{className:"w-5 h-5 text-red-400"}),"Maps & GPS"]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3",children:"Fix States"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,Tt.jsxs)("div",{className:"p-3 bg-red-500/10 rounded-lg",children:[(0,Tt.jsx)("span",{className:"font-semibold",children:"No Fix"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"No satellite lock yet (common indoors)"})]}),(0,Tt.jsxs)("div",{className:"p-3 bg-amber-500/10 rounded-lg",children:[(0,Tt.jsx)("span",{className:"font-semibold",children:"2D Fix"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Lat/lon good, altitude weak"})]}),(0,Tt.jsxs)("div",{className:"p-3 bg-emerald-500/10 rounded-lg",children:[(0,Tt.jsx)("span",{className:"font-semibold",children:"3D Fix"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Best fix quality"})]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3",children:"If GPS is stale or missing"}),(0,Tt.jsxs)("ol",{className:"text-sm space-y-2",children:[(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"font-bold text-primary",children:"1."}),"Move outdoors / near a window for 2\u20133 minutes"]}),(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"font-bold text-primary",children:"2."}),"Verify GPS endpoint exists"]}),(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"font-bold text-primary",children:"3."}),"Re-seat the GPS dongle and try again"]}),(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"font-bold text-primary",children:"4."}),"If still dead: operator checks USB device detection and logs"]})]})]})]})]}),(0,Tt.jsxs)("section",{id:"help-sensors",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(hr,{className:"w-5 h-5 text-pink-400"}),"Sensors & Environment"]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3",children:"BME680 (Environment)"}),(0,Tt.jsxs)("ul",{className:"text-sm space-y-2",children:[(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:"Temperature"})," \u2014 device/case thermal awareness"]}),(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:"Humidity"})," \u2014 condensation risk / ventilation need"]}),(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:"Pressure"})," \u2014 approximate weather change signal"]}),(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:"IAQ"})," \u2014 trend indicator (not medical-grade)"]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3",children:"ADS1115 (Analog Expansion)"}),(0,Tt.jsxs)("ul",{className:"text-sm space-y-2",children:[(0,Tt.jsx)("li",{children:"Used for future sensors (gas, light, etc.)"}),(0,Tt.jsx)("li",{className:"text-muted-foreground",children:"Key concerns:"}),(0,Tt.jsx)("li",{children:"\u2022 Correct I2C bus configuration"}),(0,Tt.jsx)("li",{children:"\u2022 Clean grounding"}),(0,Tt.jsx)("li",{children:"\u2022 Minimize noise / long wire runs"})]})]})]})]}),(0,Tt.jsxs)("section",{id:"help-media",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(dn,{className:"w-5 h-5 text-purple-400"}),"Media (OMEGA Netflix)"]}),(0,Tt.jsx)("div",{className:"glass rounded-xl p-4",children:(0,Tt.jsxs)("ul",{className:"text-sm space-y-2",children:[(0,Tt.jsx)("li",{children:"\u2022 If Jellyfin is enabled: offline entertainment/education on local network"}),(0,Tt.jsx)("li",{children:"\u2022 Streaming increases power and can congest Wi-Fi"}),(0,Tt.jsxs)("li",{className:"p-2 bg-amber-500/10 rounded-lg border border-amber-500/30",children:[(0,Tt.jsx)("strong",{children:"Field rule:"})," During emergencies, prioritize comms + knowledge access over streaming."]})]})})]}),(0,Tt.jsxs)("section",{id:"help-admin",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt.A,{className:"w-5 h-5 text-yellow-400"}),"Admin Console (Operator)"]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3",children:"Core Admin Features"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 text-sm",children:["Ops overview","Roster","Broadcasts","Mass polls","Random selection","Backups","Fleet management","Audit logs"].map((e,t)=>(0,Tt.jsx)("div",{className:"p-2 bg-yellow-500/10 rounded",children:e},t))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 bg-violet-500/10 border border-violet-500/30",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-2",children:"Privacy Note"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"DMs are private by default. Any \u201cbreak-glass access\u201d must be explicit, logged, limited to emergencies, and visible to users afterward."})]})]})]}),(0,Tt.jsxs)("section",{id:"help-power",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(pr,{className:"w-5 h-5 text-lime-400"}),"Power & Runtime"]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3",children:"Why Power Varies"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"CPU load, NVMe activity, Wi-Fi client count, radios transmitting, screen brightness, camera use, and DC-DC efficiency."})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3",children:"Simple Runtime Model"}),(0,Tt.jsxs)("div",{className:"font-mono text-sm space-y-1 bg-black/30 p-3 rounded",children:[(0,Tt.jsxs)("div",{children:["Nominal energy: 12.8V \xd7 100Ah \u2248 ",(0,Tt.jsx)("strong",{children:"1280Wh"})]}),(0,Tt.jsx)("div",{children:"DC-DC efficiency: 0.90"}),(0,Tt.jsx)("div",{children:"Usable energy fraction: 0.85"}),(0,Tt.jsxs)("div",{children:["Effective Wh \u2248 1280 \xd7 0.90 \xd7 0.85 \u2248 ",(0,Tt.jsx)("strong",{children:"~980Wh"})]}),(0,Tt.jsx)("div",{className:"text-primary mt-2",children:"Runtime (hours) \u2248 Effective Wh \xf7 Average Watts"})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 overflow-x-auto",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3",children:"Scenario Estimates"}),(0,Tt.jsxs)("table",{className:"w-full text-sm",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"text-left border-b border-border",children:[(0,Tt.jsx)("th",{className:"pb-2",children:"Scenario"}),(0,Tt.jsx)("th",{className:"pb-2",children:"What's Running"}),(0,Tt.jsx)("th",{className:"pb-2",children:"Avg Load"}),(0,Tt.jsx)("th",{className:"pb-2",children:"Est. Runtime"})]})}),(0,Tt.jsxs)("tbody",{className:"text-muted-foreground",children:[(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{className:"py-1.5",children:"Idle / Standby"}),(0,Tt.jsx)("td",{children:"UI + backend + minimal activity"}),(0,Tt.jsx)("td",{children:"8\u201312W"}),(0,Tt.jsx)("td",{children:"~80\u2013120h"})]}),(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{className:"py-1.5",children:"Knowledge browsing"}),(0,Tt.jsx)("td",{children:"Kiwix + light usage"}),(0,Tt.jsx)("td",{children:"12\u201318W"}),(0,Tt.jsx)("td",{children:"~55\u201380h"})]}),(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{className:"py-1.5",children:"Comms + GPS active"}),(0,Tt.jsx)("td",{children:"Normal ops + frequent updates"}),(0,Tt.jsx)("td",{children:"15\u201325W"}),(0,Tt.jsx)("td",{children:"~40\u201365h"})]}),(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{className:"py-1.5",children:"Streaming (1\u20133 devices)"}),(0,Tt.jsx)("td",{children:"Jellyfin + network load"}),(0,Tt.jsx)("td",{children:"20\u201335W"}),(0,Tt.jsx)("td",{children:"~28\u201350h"})]}),(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{className:"py-1.5",children:"Heavy compute"}),(0,Tt.jsx)("td",{children:"CPU + NVMe + camera"}),(0,Tt.jsx)("td",{children:"25\u201345W"}),(0,Tt.jsx)("td",{children:"~20\u201340h"})]})]})]})]})]})]}),(0,Tt.jsxs)("section",{id:"help-troubleshooting",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Zt.A,{className:"w-5 h-5 text-rose-400"}),"Troubleshooting Textbook"]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 mb-4 bg-rose-500/10 border border-rose-500/30",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-2",children:"Troubleshooting Pattern (use every time)"}),(0,Tt.jsx)("p",{className:"text-sm font-mono",children:"Symptom \u2192 Likely cause \u2192 Exact fix \u2192 Verify"})]}),(0,Tt.jsx)("div",{className:"space-y-3",children:zr.map(e=>(0,Tt.jsx)(Kr,{entry:e},e.id))})]}),(0,Tt.jsxs)("section",{id:"help-glossary",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(an.A,{className:"w-5 h-5 text-teal-400"}),"Glossary"]}),(0,Tt.jsx)("div",{className:"glass rounded-xl divide-y divide-border/50",children:Fr.map((e,t)=>(0,Tt.jsxs)("div",{className:"p-3",children:[(0,Tt.jsx)("span",{className:"font-semibold text-teal-400",children:e.term}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.definition})]},t))})]}),(0,Tt.jsxs)("section",{id:"help-appendix",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(pn.A,{className:"w-5 h-5 text-slate-400"}),"Appendix (What's Estimated vs Exact)"]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-success"}),"Exact (Current Build Truth)"]}),(0,Tt.jsxs)("ul",{className:"text-sm space-y-1.5",children:[(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:"Ports:"})," 8093 (Community API), 8090 (Kiwix)"]}),(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:"Directories:"})," /srv/omega/community/*, /srv/kiwix/*"]}),(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:"Core services:"})," omega-community + timers and backup system"]}),(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:"Installed library:"})," See Kiwix section above"]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(en.A,{className:"w-4 h-4 text-amber-400"}),"Estimated Until Measured"]}),(0,Tt.jsxs)("ul",{className:"text-sm space-y-1.5 text-muted-foreground",children:[(0,Tt.jsx)("li",{children:"Per-component watts and runtime values"}),(0,Tt.jsxs)("li",{className:"mt-3 text-foreground",children:[(0,Tt.jsx)("strong",{children:"Action:"})," Measure at 12V rail + Pi USB-C input and update scenario table with real averages."]})]})]})]})]}),(0,Tt.jsxs)("section",{id:"help-faq",className:"scroll-mt-40",children:[(0,Tt.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(an.A,{className:"w-5 h-5 text-indigo-400"}),"Frequently Asked Questions"]}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-6",children:"Quick answers organized by topic. Click any question to expand."}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)($r,{id:"connect",title:"Connect",icon:hn.A,color:"text-green-400",bgColor:"bg-green-500/20",description:"Join Wi-Fi, open the dashboard, first-time setup",faqs:[{q:"Do I need internet?",a:"No. OMEGA is designed to work without internet. Internet is optional and only used for features you intentionally add that depend on it."},{q:"What address do I open?",a:"Open the local dashboard address the operator provides. Many setups use a local name (e.g., talon.local) or a local IP."},{q:"What if the dashboard says 'site can't be reached'?",a:"Reconnect to OMEGA Wi-Fi and try again. If it still fails, tell the operator: your device type, the address you tried, and whether others can load it."},{q:"Will I automatically stay signed in?",a:"Yes. The dashboard stores a device token so when you reconnect on the same device, you are signed in automatically."}]}),(0,Tt.jsx)($r,{id:"navigate",title:"Navigate",icon:br,color:"text-blue-400",bgColor:"bg-blue-500/20",description:"Tiles, status colors, where to find things",faqs:[{q:"What is a tile?",a:"A tile is a panel focused on one system (Comms, Map, Sensors, Power, Library, Media). Each tile is meant to be scannable and actionable."},{q:"Where do I find help?",a:"Use the Help Center button in the header. It opens this comprehensive manual with categories and search."},{q:"What should I check first in the field?",a:"Power (battery/runtime), Comms Hub (what is available), then Map/GPS (if moving)."},{q:"What do the colors mean?",a:"Green = available/healthy. Yellow = degraded/partial. Red = unavailable/down. The dashboard shows last-known-good values with timestamps."},{q:"What is an 'alert'?",a:"An alert is a high-visibility message: urgent broadcast, degraded subsystem warning, or operator notice. Treat urgent alerts as action items."}]}),(0,Tt.jsx)($r,{id:"comms-faq",title:"Comms Hub",icon:mn.A,color:"text-purple-400",bgColor:"bg-purple-500/20",description:"Pick the right comm method; understand Degraded",faqs:[{q:"What is the Ally Communications Hub?",a:"It is the dashboard area that helps you pick the best way to communicate or coordinate based on range and availability."},{q:"How do I pick the right method fast?",a:"Use distance + infrastructure: same camp = LAN/Wi-Fi; spread out = Mesh/LoRa; cell available = SMS; very far = HF bridge; specialist monitoring = SDR."},{q:"What does Degraded mean?",a:"Degraded means the method exists but is not fully healthy (unstable, missing upstream signal, or hardware not responding). Use a fallback method if possible."},{q:"What should I do if a method is Degraded?",a:"Pick the next-best method and continue. Then report the degraded method to the operator with: what you tried, when, and what you saw."},{q:"What is LAN / Wi-Fi?",a:"Messaging and coordination over the local Wi-Fi/Ethernet network. Your device talks directly to OMEGA and other devices on the same network. Best for inside the same camp/building."},{q:"What is Mesh / LoRa?",a:"Long-range, low-bandwidth messaging that can relay through other radios. Small packets hop node-to-node. Works up to 1-5 miles line of sight."},{q:"What is Radio / SDR?",a:"Software-defined radio tools for monitoring and specialized radio tasks (hardware dependent). A flexible receiver/analyzer controlled by software."},{q:"What is SMS Gateway?",a:"Sends messages via the cellular network as SMS (only if cell service exists). OMEGA forwards messages to a cellular modem/phone bridge."},{q:"What is HF Bridge?",a:"Very long-range radio messaging via HF digital modes (hardware and training required). Slow, robust digital messaging beyond line-of-sight. Range: 100-3000+ miles."}]}),(0,Tt.jsx)($r,{id:"gps-faq",title:"Map & GPS",icon:mr.A,color:"text-red-400",bgColor:"bg-red-500/20",description:"Fix status, accuracy, stale data, coordinate tools",faqs:[{q:"What is a GPS fix?",a:'A fix means the GPS has locked enough satellites to compute position. "No Fix" means not ready. 2D is position only; 3D is best quality (adds altitude).'},{q:"What does accuracy mean?",a:"Accuracy is an estimated error radius in meters. Smaller is better. Example: 5m means your position is likely within about 5 meters of the reported location."},{q:"Why is GPS not working indoors?",a:"GPS needs a clear view of the sky. Move near a window or go outside and wait 1-3 minutes for satellites to lock."},{q:"What does 'stale' location mean?",a:"Stale means the last fix is old. The UI shows a timestamp next to coordinates; if it is old, do not assume the location is current. Move to get a fresh fix."}]}),(0,Tt.jsx)($r,{id:"power-faq",title:"Power",icon:pr,color:"text-amber-400",bgColor:"bg-amber-500/20",description:"Battery state, runtime estimate, what drains power",faqs:[{q:"What does the Power tile show?",a:"Battery percent, voltage/current, estimated runtime, net flow (charge vs discharge), and major sources/loads (if configured)."},{q:"What drains power the fastest?",a:"High CPU load, high screen brightness (if using a built-in display), Wi-Fi congestion, radios at transmit power, and heavy media streaming."},{q:"What should I do to extend runtime?",a:"Reduce streaming, reduce unnecessary services, keep radios to the minimum needed, and use power-saving settings. Ask the operator before changing system settings."}]}),(0,Tt.jsx)($r,{id:"library-faq",title:"Library",icon:zt.A,color:"text-cyan-400",bgColor:"bg-cyan-500/20",description:"Offline knowledge (Kiwix), search, slow pages",faqs:[{q:"What is Kiwix?",a:"An offline reader for large libraries (Wikipedia, medical references, how-to content) stored on the OMEGA drive. Everything works without internet."},{q:"How do I use it?",a:"Open the Library tile/link and search by keyword. Everything is local - no internet needed."},{q:"What if a library tile is missing?",a:"Tell the operator which library is missing. This is a maintenance/registration issue they need to resolve."}]}),(0,Tt.jsx)($r,{id:"media-faq",title:"Media",icon:dn,color:"text-pink-400",bgColor:"bg-pink-500/20",description:"Jellyfin streaming, buffering, bandwidth etiquette",faqs:[{q:"What is Jellyfin?",a:"A local media server. It streams offline movies/shows to devices connected to OMEGA without needing internet."},{q:"Why does video buffer?",a:"Wi-Fi congestion or weak signal. Move closer to the OMEGA device, lower video quality, or pause other heavy usage."},{q:"When should I avoid streaming?",a:"During critical comms or emergencies, pause streaming to preserve bandwidth for coordination and maps."}]}),(0,Tt.jsx)($r,{id:"files-faq",title:"Files",icon:nn.A,color:"text-orange-400",bgColor:"bg-orange-500/20",description:"File sharing, uploads/downloads, safe handling",faqs:[{q:"How do file drops work?",a:"OMEGA provides local file sharing. Use it to exchange documents, images, maps, and logs without internet."},{q:"What is a safe way to share files?",a:"Prefer the dashboard's file tile or the operator-provided share location. Avoid unknown USB drives. Keep sensitive files restricted to the operator."},{q:"What should I do if an upload fails?",a:"Retry once on a stable connection. If it keeps failing, tell the operator what file type/size and what action you took."}]}),(0,Tt.jsx)($r,{id:"profiles-faq",title:"Profiles",icon:Lt.A,color:"text-indigo-400",bgColor:"bg-indigo-500/20",description:"Profiles, households/groups, dependents, auto sign-in",faqs:[{q:"What information belongs in a profile?",a:"Name, photo (optional), languages, skills/certifications, and any planning-relevant fields you are comfortable sharing."},{q:"Can I add medical info and allergies?",a:"Yes, but it should be optional and private by default. Only share it if you consent and understand who can see it."},{q:"Can I link family members?",a:"Yes. Households/groups help the operator coordinate supplies and accountability across your group."}]}),(0,Tt.jsx)($r,{id:"admin-faq",title:"Admin",icon:Jt,color:"text-slate-400",bgColor:"bg-slate-500/20",description:"Broadcasts, polls, fleet updates, backups, monitoring",faqs:[{q:"What does the operator manage?",a:"System health, backups, fleet software updates, group broadcasts, emergency polls, and moderation for public areas."},{q:"How do broadcasts work?",a:"A broadcast is a message pushed to all connected devices (INFO or URGENT). URGENT creates an obvious prompt on the user's screen."},{q:"How do emergency polls work?",a:"The operator can send a one-tap poll (e.g., 'Assemble now? Yes/No') to quickly gather status and decisions from all users."},{q:"Can the operator force-update other devices?",a:"OMEGA can distribute updates to other OMEGA nodes (fleet management), but it must be implemented with signed packages and rollback to prevent issues."}]}),(0,Tt.jsx)($r,{id:"fix-it-faq",title:"Fix It",icon:Zt.A,color:"text-rose-400",bgColor:"bg-rose-500/20",description:"Troubleshooting shortcuts and operator escalation",faqs:[{q:"Dashboard won't load",a:"Not connected or wrong address. Reconnect to OMEGA Wi-Fi and retry. If others also cannot load it, tell the operator."},{q:"Connected but nothing works",a:"Backend is degraded or network unstable. Refresh once, move closer to the device, and report the issue to the operator."},{q:"Comms Degraded",a:"Method partially working. Use a fallback method and report which one is degraded to the operator."},{q:"GPS No Fix",a:"No sky view or GPS not ready. Go outside or near a window and wait 1-3 minutes for satellites to lock."},{q:"Sensor missing",a:"Hardware or permissions issue. Report it to the operator; do not attempt to rewire anything in the field."},{q:"Library/Media slow",a:"Wi-Fi congestion. Move closer to the OMEGA device, pause other streaming, and retry."},{q:"What should I tell the operator when reporting an issue?",a:"Include: what tile you were in, what action you attempted, what you expected vs what happened, time of issue, device type (iPhone/Android/laptop), and a screenshot if possible."}]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-6 text-center",children:[(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"OMEGA Field Manual \u2022 v2026-01-08 (Manual Rev3)"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"This manual is designed to be the only reference a family member needs during a SHTF scenario."})]})]})})}),l&&!u&&(0,Tt.jsx)("button",{onClick:()=>{c.current&&c.current.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-6 right-6 p-3 rounded-full bg-primary text-white shadow-lg hover:bg-primary/90 transition-all animate-fade-in","aria-label":"Back to top",children:(0,Tt.jsx)(yr,{className:"w-5 h-5"})})]}):null}const Zr=(0,It.A)("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),Qr=(0,It.A)("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),Jr=(0,It.A)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),Xr=(0,It.A)("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ea=(0,It.A)("trending-down",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),ta=(0,It.A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),na=(0,It.A)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),ra=(0,It.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),aa=(0,It.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),sa=(0,It.A)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),ia=(0,It.A)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),la=(0,It.A)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),oa=(0,It.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),ca=(0,It.A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),da=(0,It.A)("sliders-vertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]),ua=(0,It.A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ma=(0,It.A)("git-compare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);var ha=__webpack_require__(2004),pa=__webpack_require__(6135),fa=__webpack_require__.n(pa),xa=__webpack_require__(4879),ga=__webpack_require__.n(xa);function va(e){var t=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:4),n=Math.round(e*t)/t;return Object.is(n,-0)?0:n}function ba(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((e,t,r)=>{var a=n[r-1];return"string"===typeof a?e+a+t:void 0!==a?e+va(a)+t:e+t},"")}var ya=e=>0===e?0:e>0?1:-1,ja=e=>"number"==typeof e&&e!=+e,wa=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,Na=e=>("number"===typeof e||e instanceof Number)&&!ja(e),ka=e=>Na(e)||"string"===typeof e,Aa=0,_a=e=>{var t=++Aa;return"".concat(e||"").concat(t)},Ca=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Na(e)&&"string"!==typeof e)return r;if(wa(e)){if(null==t)return r;var s=e.indexOf("%");n=t*parseFloat(e.slice(0,s))/100}else n=+e;return ja(n)&&(n=r),a&&null!=t&&n>t&&(n=t),n},Sa=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[String(e[r])])return!0;n[String(e[r])]=!0}return!1};function Ea(e,t,n){return Na(e)&&Na(t)?va(e+n*(t-e)):t}function Oa(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):ga()(e,t))===n)}var Ma=e=>null===e||"undefined"===typeof e,Pa=e=>Ma(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ta(e){return null!=e}function Da(){}var Ia=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if("undefined"!==typeof console&&console.warn&&(void 0===t&&console.warn("LogUtils requires an error message argument"),!e))if(void 0===t)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(t.replace(/%s/g,()=>r[s++]))}},Ra=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:i}=n,l=wa(r)?e:Number(r),o=wa(a)?t:Number(a);return s&&s>0&&(l?o=l/s:o&&(l=o*s),i&&null!=o&&o>i&&(o=i)),{calculatedWidth:l,calculatedHeight:o}},La={width:0,height:0,overflow:"visible"},za={width:0,overflowX:"visible"},Fa={height:0,overflowY:"visible"},Ba={},Ua=e=>{var{width:t,height:n}=e,r=wa(t),a=wa(n);return r&&a?La:r?za:a?Fa:Ba};function Wa(e){return Number.isFinite(e)}function Ha(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qa.apply(null,arguments)}function Ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(n),!0).forEach(function(t){Ga(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ka(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ga(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $a=(0,t.createContext)({width:-1,height:-1});function Ya(e){var{children:n,width:r,height:a}=e,s=(0,t.useMemo)(()=>({width:r,height:a}),[r,a]);return function(e){return Ha(e.width)&&Ha(e.height)}(s)?t.createElement($a.Provider,{value:s},n):null}var Za=()=>(0,t.useContext)($a),Qa=(0,t.forwardRef)((e,n)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:s,height:i,minWidth:l=0,minHeight:o,maxHeight:c,children:d,debounce:u=0,id:m,className:h,onResize:p,style:f={}}=e,x=(0,t.useRef)(null),g=(0,t.useRef)();g.current=p,(0,t.useImperativeHandle)(n,()=>x.current);var[v,b]=(0,t.useState)({containerWidth:a.width,containerHeight:a.height}),y=(0,t.useCallback)((e,t)=>{b(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,t.useEffect)(()=>{if(null==x.current||"undefined"===typeof ResizeObserver)return Da;var e=e=>{var t,{width:n,height:r}=e[0].contentRect;y(n,r),null===(t=g.current)||void 0===t||t.call(g,n,r)};u>0&&(e=fa()(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=x.current.getBoundingClientRect();return y(n,r),t.observe(x.current),()=>{t.disconnect()}},[y,u]);var{containerWidth:j,containerHeight:w}=v;Ia(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:N,calculatedHeight:k}=Ra(j,w,{width:s,height:i,aspect:r,maxHeight:c});return Ia(null!=N&&N>0||null!=k&&k>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",N,k,s,i,l,o,r),t.createElement("div",{id:m?"".concat(m):void 0,className:(0,ha.$)("recharts-responsive-container",h),style:Va(Va({},f),{},{width:s,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:x},t.createElement("div",{style:Ua({width:s,height:i})},t.createElement(Ya,{width:N,height:k},d)))}),Ja=(0,t.forwardRef)((e,n)=>{var r=Za();if(Ha(r.width)&&Ha(r.height))return e.children;var{width:a,height:s}=function(e){var{width:t,height:n,aspect:r}=e,a=t,s=n;return void 0===a&&void 0===s?(a="100%",s="100%"):void 0===a?a=r&&r>0?void 0:"100%":void 0===s&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=Ra(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Na(i)&&Na(l)?t.createElement(Ya,{width:i,height:l},e.children):t.createElement(Qa,qa({},e,{width:a,height:s,ref:n}))}),Xa=__webpack_require__(4705),es=Symbol.for("immer-nothing"),ts=Symbol.for("immer-draftable"),ns=Symbol.for("immer-state");function rs(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var as=Object,ss=as.getPrototypeOf,is="constructor",ls="prototype",os="configurable",cs="enumerable",ds="writable",us="value",ms=e=>!!e&&!!e[ns];function hs(e){var t;return!!e&&(xs(e)||ws(e)||!!e[ts]||!(null===(t=e[is])||void 0===t||!t[ts])||Ns(e)||ks(e))}var ps=as[ls][is].toString(),fs=new WeakMap;function xs(e){if(!e||!As(e))return!1;const t=ss(e);if(null===t||t===as[ls])return!0;const n=as.hasOwnProperty.call(t,is)&&t[is];if(n===Object)return!0;if(!_s(n))return!1;let r=fs.get(n);return void 0===r&&(r=Function.toString.call(n),fs.set(n,r)),r===ps}function gs(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===vs(e)){(n?Reflect.ownKeys(e):as.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function vs(e){const t=e[ns];return t?t.type_:ws(e)?1:Ns(e)?2:ks(e)?3:0}var bs=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:vs(e))?e.has(t):as[ls].hasOwnProperty.call(e,t)},ys=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:vs(e))?e.get(t):e[t]},js=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vs(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n};var ws=Array.isArray,Ns=e=>e instanceof Map,ks=e=>e instanceof Set,As=e=>"object"===typeof e,_s=e=>"function"===typeof e,Cs=e=>"boolean"===typeof e;var Ss=e=>e.copy_||e.base_,Es=e=>e.modified_?e.copy_:e.base_;function Os(e,t){if(Ns(e))return new Map(e);if(ks(e))return new Set(e);if(ws(e))return Array[ls].slice.call(e);const n=xs(e);if(!0===t||"class_only"===t&&!n){const t=as.getOwnPropertyDescriptors(e);delete t[ns];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],s=t[a];!1===s[ds]&&(s[ds]=!0,s[os]=!0),(s.get||s.set)&&(t[a]={[os]:!0,[ds]:!0,[cs]:s[cs],[us]:e[a]})}return as.create(ss(e),t)}{const t=ss(e);if(null!==t&&n)return(0,s.A)({},e);const r=as.create(t);return as.assign(r,e)}}function Ms(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ts(e)||ms(e)||!hs(e)||(vs(e)>1&&as.defineProperties(e,{set:Ps,add:Ps,clear:Ps,delete:Ps}),as.freeze(e),t&&gs(e,(e,t)=>{Ms(t,!0)},!1)),e}var Ps={[us]:function(){rs(2)}};function Ts(e){return null===e||!As(e)||as.isFrozen(e)}var Ds="MapSet",Is="Patches",Rs="ArrayMethods",Ls={};function zs(e){const t=Ls[e];return t||rs(0),t}var Fs,Bs=e=>!!Ls[e];var Us=()=>Fs;function Ws(e,t){t&&(e.patchPlugin_=zs(Is),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Hs(e){qs(e),e.drafts_.forEach(Vs),e.drafts_=null}function qs(e){e===Fs&&(Fs=e.parent_)}var Ks=e=>Fs={drafts_:[],parent_:Fs,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Bs(Ds)?zs(Ds):void 0,arrayMethodsPlugin_:Bs(Rs)?zs(Rs):void 0};function Vs(e){const t=e[ns];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Gs(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(void 0!==e&&e!==n){n[ns].modified_&&(Hs(t),rs(4)),hs(e)&&(e=$s(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[ns].base_,e,t)}else e=$s(t,n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ms(t,n)}(t,e,!0),Hs(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==es?e:void 0}function $s(e,t){if(Ts(t))return t;const n=t[ns];if(!n){return ei(t,e.handledSet_,e)}if(!Zs(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:t}=n;if(t)for(;t.length>0;){t.pop()(e)}Xs(n,e)}return n.copy_}function Ys(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Zs=(e,t)=>e.scope_===t,Qs=[];function Js(e,t,n,r){var a;const s=Ss(e),i=e.type_;if(void 0!==r){if(ys(s,r,i)===t)return void js(s,r,n,i)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;gs(s,(e,n)=>{if(ms(n)){const r=t.get(n)||[];r.push(e),t.set(n,r)}})}const l=null!==(a=e.draftLocations_.get(t))&&void 0!==a?a:Qs;for(const o of l)js(s,o,n,i)}function Xs(e,t){var n,r;if(e.modified_&&!e.finalized_&&(3===e.type_||1===e.type_&&e.allIndicesReassigned_||(null!==(n=null===(r=e.assigned_)||void 0===r?void 0:r.size)&&void 0!==n?n:0)>0)){const{patchPlugin_:n}=t;if(n){const r=n.getPath(e);r&&n.generatePatches_(e,r,t)}Ys(e)}}function ei(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ms(e)||t.has(e)||!hs(e)||Ts(e)||(t.add(e),gs(e,(r,a)=>{if(ms(a)){const t=a[ns];if(Zs(t,n)){const n=Es(t);js(e,r,n,e.type_),Ys(t)}}else hs(a)&&ei(a,t,n)})),e}var ti={get(e,t){if(t===ns)return e;let n=e.scope_.arrayMethodsPlugin_;const r=1===e.type_&&"string"===typeof t;if(r&&null!==n&&void 0!==n&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=Ss(e);if(!bs(a,t,e.type_))return function(e,t,n){var r;const a=ai(t,n);return a?us in a?a[us]:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,a,t);const s=a[t];if(e.finalized_||!hs(s))return s;if(r&&e.operationMethod&&null!==n&&void 0!==n&&n.isMutatingArrayMethod(e.operationMethod)&&function(e){const t=+e;return Number.isInteger(t)&&String(t)===e}(t))return s;if(s===ri(e.base_,t)){ii(e);const n=1===e.type_?+t:t,r=li(e.scope_,s,e,n);return e.copy_[n]=r}return s},has:(e,t)=>t in Ss(e),ownKeys:e=>Reflect.ownKeys(Ss(e)),set(e,t,n){const r=ai(Ss(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=ri(Ss(e),t),a=null===r||void 0===r?void 0:r[ns];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||bs(e.base_,t,e.type_)))return!0;ii(e),si(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),function(e,t,n){const{scope_:r}=e;if(ms(n)){const a=n[ns];Zs(a,r)&&a.callbacks_.push(function(){ii(e);const r=Es(a);Js(e,n,r,t)})}else hs(n)&&e.callbacks_.push(function(){const a=Ss(e);var s;ys(a,t,e.type_)===n&&r.drafts_.length>1&&!0===(null!==(s=e.assigned_.get(t))&&void 0!==s&&s)&&e.copy_&&ei(ys(e.copy_,t,e.type_),r.handledSet_,r)})}(e,t,n)),!0},deleteProperty:(e,t)=>(ii(e),void 0!==ri(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),si(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Ss(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{[ds]:!0,[os]:1!==e.type_||"length"!==t,[cs]:r[cs],[us]:n[t]}:r},defineProperty(){rs(11)},getPrototypeOf:e=>ss(e.base_),setPrototypeOf(){rs(12)}},ni={};function ri(e,t){const n=e[ns];return(n?Ss(n):e)[t]}function ai(e,t){if(!(t in e))return;let n=ss(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=ss(n)}}function si(e){e.modified_||(e.modified_=!0,e.parent_&&si(e.parent_))}function ii(e){e.copy_||(e.assigned_=new Map,e.copy_=Os(e.base_,e.scope_.immer_.useStrictShallowCopy_))}gs(ti,(e,t)=>{ni[e]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}),ni.deleteProperty=function(e,t){return ni.set.call(this,e,t,void 0)},ni.set=function(e,t,n){return ti.set.call(this,e[0],t,n,e[0])};function li(e,t,n,r){var a,s;const[i,l]=Ns(t)?zs(Ds).proxyMap_(t,n):ks(t)?zs(Ds).proxySet_(t,n):function(e,t){const n=ws(e),r={type_:n?1:0,scope_:t?t.scope_:Us(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=ti;n&&(a=[r],s=ni);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return r.draft_=l,r.revoke_=i,[l,r]}(t,n);return(null!==(a=null===n||void 0===n?void 0:n.scope_)&&void 0!==a?a:Us()).drafts_.push(i),l.callbacks_=null!==(s=null===n||void 0===n?void 0:n.callbacks_)&&void 0!==s?s:[],l.key_=r,n&&void 0!==r?function(e,t,n){e.callbacks_.push(function(r){var a,s;const i=t;if(!i||!Zs(i,r))return;null===(a=r.mapSetPlugin_)||void 0===a||a.fixSetContents(i);const l=Es(i);Js(e,null!==(s=i.draft_)&&void 0!==s?s:i,l,n),Xs(i,r)})}(n,l,r):l.callbacks_.push(function(e){var t;null===(t=e.mapSetPlugin_)||void 0===t||t.fixSetContents(l);const{patchPlugin_:n}=e;l.modified_&&n&&n.generatePatches_(l,[],e)}),i}function oi(e){return ms(e)||rs(10),ci(e)}function ci(e){if(!hs(e)||Ts(e))return e;const t=e[ns];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Os(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Os(e,!0);return gs(n,(e,t)=>{js(n,e,ci(t))},r),t&&(t.finalized_=!1),n}var di=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(_s(e)&&!_s(t)){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return r.produce(e,e=>t.call(this,e,...s))}}let r;if(_s(t)||rs(6),void 0===n||_s(n)||rs(7),hs(e)){const a=Ks(this),s=li(a,e,void 0);let i=!0;try{r=t(s),i=!1}finally{i?Hs(a):qs(a)}return Ws(a,n),Gs(r,a)}if(!e||!As(e)){if(r=t(e),void 0===r&&(r=e),r===es&&(r=void 0),this.autoFreeze_&&Ms(r,!0),n){const t=[],a=[];zs(Is).generateReplacementPatches_(e,r,{patches_:t,inversePatches_:a}),n(t,a)}return r}rs(1)},this.produceWithPatches=(e,n)=>{if(_s(e))return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;return[this.produce(e,n,(e,t)=>{r=e,a=t}),r,a]},Cs(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Cs(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Cs(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){hs(e)||rs(8),ms(e)&&(e=oi(e));const t=Ks(this),n=li(t,e,void 0);return n[ns].isManual_=!0,qs(t),n}finishDraft(e,t){const n=e&&e[ns];n&&n.isManual_||rs(9);const{scope_:r}=n;return Ws(r,t),Gs(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=zs(Is).applyPatches_;return ms(e)?r(e,t):this.produce(e,e=>r(e,t))}},ui=di.produce;function mi(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var hi=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),pi=()=>Math.random().toString(36).substring(7).split("").join("."),fi={INIT:"@@redux/INIT".concat(pi()),REPLACE:"@@redux/REPLACE".concat(pi()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(pi())};function xi(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function gi(e,t,n){if("function"!==typeof e)throw new Error(mi(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(mi(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(mi(1));return n(gi)(e,t)}let r=e,a=t,s=new Map,i=s,l=0,o=!1;function c(){i===s&&(i=new Map,s.forEach((e,t)=>{i.set(t,e)}))}function d(){if(o)throw new Error(mi(3));return a}function u(e){if("function"!==typeof e)throw new Error(mi(4));if(o)throw new Error(mi(5));let t=!0;c();const n=l++;return i.set(n,e),function(){if(t){if(o)throw new Error(mi(6));t=!1,c(),i.delete(n),s=null}}}function m(e){if(!xi(e))throw new Error(mi(7));if("undefined"===typeof e.type)throw new Error(mi(8));if("string"!==typeof e.type)throw new Error(mi(17));if(o)throw new Error(mi(9));try{o=!0,a=r(a,e)}finally{o=!1}return(s=i).forEach(e=>{e()}),e}m({type:fi.INIT});return{dispatch:m,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(mi(10));r=e,m({type:fi.REPLACE})},[hi]:function(){const e=u;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(mi(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[hi](){return this}}}}}function vi(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const r=t[s];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let a;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:fi.INIT}))throw new Error(mi(12));if("undefined"===typeof n(void 0,{type:fi.PROBE_UNKNOWN_ACTION()}))throw new Error(mi(13))})}(n)}catch(Nq){a=Nq}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let s=!1;const i={};for(let a=0;a<r.length;a++){const l=r[a],o=n[l],c=e[l],d=o(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(mi(14))}i[l]=d,s=s||d!==c}return s=s||r.length!==Object.keys(e).length,s?i:e}}function bi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function yi(e){return xi(e)&&"type"in e&&"string"===typeof e.type}function ji(e){return t=>{let{dispatch:n,getState:r}=t;return t=>a=>"function"===typeof a?a(n,r,e):t(a)}}var wi=ji(),Ni=ji;const ki=["reducerPath"];var Ai="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?bi:bi.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function _i(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(yl(0));return(0,s.A)((0,s.A)({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>yi(t)&&t.type===e,n}var Ci=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Si(e){return hs(e)?ui(e,()=>{}):e}function Ei(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Oi="RTK_autoBatch",Mi=()=>e=>({payload:e,meta:{[Oi]:!0}}),Pi=e=>t=>{setTimeout(t,e)},Ti=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,a=!1,s=!1;const i=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Pi(10):"callback"===e.type?e.queueNotification:Pi(e.timeout),o=()=>{s=!1,a&&(a=!1,i.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return i.add(e),()=>{t(),i.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Oi]),a=!r,a&&(s||(s=!0,l(o))),n.dispatch(e)}finally{r=!0}}})}};function Di(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=null!==e&&void 0!==e?e:{};let s=new Ci;return t&&(function(e){return"boolean"===typeof e}(t)?s.push(wi):s.push(Ni(t.extraArgument))),s},{reducer:n,middleware:r,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:l,enhancers:o}=e||{};let c,d;if("function"===typeof n)c=n;else{if(!xi(n))throw new Error(yl(1));c=vi(n)}d="function"===typeof r?r(t):t();let u=bi;a&&(u=Ai((0,s.A)({trace:!1},"object"===typeof a&&a)));const m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const a=e(n,r);let i=()=>{throw new Error(mi(15))};const l={getState:a.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,...n)}},o=t.map(e=>e(l));return i=bi(...o)(a.dispatch),(0,s.A)((0,s.A)({},a),{},{dispatch:i})}}(...d),h=(e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new Ci(e);return n&&r.push(Ti("object"===typeof n?n:void 0)),r})(m);return gi(c,l,u(..."function"===typeof o?o(h):h()))}function Ii(e){const t={},n=[];let r;const a={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(yl(28));if(r in t)throw new Error(yl(29));return t[r]=n,a},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),a),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(r=e,a)};return e(a),[t,n,r]}var Ri=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var Li=Symbol.for("rtk-slice-createasyncthunk");function zi(e,t){return"".concat(e,"/").concat(t)}function Fi(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Li];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(yl(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return(0,s.A)({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},l=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(yl(12));if(n in o.sliceCaseReducersByType)throw new Error(yl(13));return o.sliceCaseReducersByType[n]=t,c},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),c),exposeAction:(e,t)=>(o.actionCreators[e]=t,c),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,c)};function d(){const[t={},n=[],r]="function"===typeof e.extraReducers?Ii(e.extraReducers):[e.extraReducers],a=(0,s.A)((0,s.A)({},t),o.sliceCaseReducersByType);return function(e,t){let n,[r,a,s]=Ii(t);if(function(e){return"function"===typeof e}(e))n=()=>Si(e());else{const t=Si(e);n=()=>t}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,i=[r[t.type],...a.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===i.filter(e=>!!e).length&&(i=[s]),i.reduce((e,n)=>{if(n){if(ms(e)){const r=n(e,t);return void 0===r?e:r}if(hs(e))return ui(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return i.getInitialState=n,i}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}l.forEach(r=>{const a=i[r],s={reducerName:r,type:zi(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,n){let r,a,{type:s,reducerName:i,createNotation:l}=e;if("reducer"in t){if(l&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(yl(17));r=t.reducer,a=t.prepare}else r=t;n.addCase(s,r).exposeCaseReducer(i,r).exposeAction(i,a?_i(s,a):_i(s))}(s,a,c):function(e,t,n,r){let{type:a,reducerName:s}=e;if(!r)throw new Error(yl(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:d,options:u}=t,m=r(a,i,u);n.exposeAction(s,m),l&&n.addCase(m.fulfilled,l);o&&n.addCase(m.pending,o);c&&n.addCase(m.rejected,c);d&&n.addMatcher(m.settled,d);n.exposeCaseReducer(s,{fulfilled:l||Wi,pending:o||Wi,rejected:c||Wi,settled:d||Wi})}(s,a,c,n)});const u=e=>e,m=new Map,h=new WeakMap;let p;function f(e,t){return p||(p=d()),p(e,t)}function x(){return p||(p=d()),p.getInitialState()}function g(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let a=e[t];return"undefined"===typeof a&&n&&(a=Ei(h,r,x)),a}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const r=Ei(m,n,()=>new WeakMap);return Ei(r,t,()=>{const r={};for(const[s,i]of Object.entries(null!==(a=e.selectors)&&void 0!==a?a:{})){var a;r[s]=Bi(i,t,()=>Ei(h,t,x),n)}return r})}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}const v=(0,s.A)((0,s.A)({name:t,reducer:f,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:x},g(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,i=(0,a.A)(t,ki);const l=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:l,reducer:f},i),(0,s.A)((0,s.A)({},v),g(l,!0))}});return v}}function Bi(e,t,n,r){function a(a){let s=t(a);"undefined"===typeof s&&r&&(s=n());for(var i=arguments.length,l=new Array(i>1?i-1:0),o=1;o<i;o++)l[o-1]=arguments[o];return e(s,...l)}return a.unwrapped=e,a}var Ui=Fi();function Wi(){}var Hi="listener",qi="completed",Ki="cancelled",Vi="task-".concat(Ki),Gi="task-".concat(qi),$i="".concat(Hi,"-").concat(Ki),Yi="".concat(Hi,"-").concat(qi),Zi=class{constructor(e){(0,Xa.A)(this,"name","TaskAbortError"),(0,Xa.A)(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(Ki," (reason: ").concat(e,")")}},Qi=(e,t)=>{if("function"!==typeof e)throw new TypeError(yl(32))},Ji=()=>{},Xi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ji;return e.catch(t),e},el=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),tl=e=>{if(e.aborted)throw new Zi(e.reason)};function nl(e,t){let n=Ji;return new Promise((r,a)=>{const s=()=>a(new Zi(e.reason));e.aborted?s():(n=el(e,s),t.finally(()=>n()).then(r,a))}).finally(()=>{n=Ji})}var rl=e=>t=>Xi(nl(e,t).then(t=>(tl(e),t))),al=e=>{const t=rl(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:sl}=Object,il={},ll="listenerMiddleware",ol=(e,t)=>(n,r)=>{Qi(n);const a=new AbortController;var s;s=a,el(e,()=>s.abort(e.reason));const i=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Zi?"cancelled":"rejected",error:n}}finally{null===t||void 0===t||t()}})(async()=>{tl(e),tl(a.signal);const t=await n({pause:rl(a.signal),delay:al(a.signal),signal:a.signal});return tl(a.signal),t},()=>a.abort(Gi));return null!==r&&void 0!==r&&r.autoJoin&&t.push(i.catch(Ji)),{result:rl(e)(i),cancel(){a.abort(Vi)}}},cl=(e,t)=>(n,r)=>Xi((async(n,r)=>{tl(t);let a=()=>{};const s=[new Promise((t,r)=>{let s=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});a=()=>{s(),r()}})];null!=r&&s.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await nl(t,Promise.race(s));return tl(t),e}finally{a()}})(n,r)),dl=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:s}=e;if(t)a=_i(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(yl(21));return Qi(s),{predicate:a,type:t,effect:s}},ul=sl(e=>{const{type:t,predicate:n,effect:r}=dl(e);return{id:Ri(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(yl(22))}}},{withTypes:()=>ul}),ml=(e,t)=>{const{type:n,effect:r,predicate:a}=dl(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===a)&&e.effect===r)},hl=e=>{e.pending.forEach(e=>{e.abort($i)})},pl=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},fl=sl(_i("".concat(ll,"/add")),{withTypes:()=>fl}),xl=_i("".concat(ll,"/removeAll")),gl=sl(_i("".concat(ll,"/remove")),{withTypes:()=>gl}),vl=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("".concat(ll,"/error"),...t)},bl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,n=new Map,{extra:r,onError:a=vl}=e;Qi(a);const s=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&hl(e)}))(null!==(n=ml(t,e))&&void 0!==n?n:ul(e))};sl(s,{withTypes:()=>s});const i=e=>{const n=ml(t,e);return n&&(n.unsubscribe(),e.cancelActive&&hl(n)),!!n};sl(i,{withTypes:()=>i});const l=async(e,i,l,o)=>{const c=new AbortController,d=cl(s,c.signal),u=[];try{e.pending.add(c),(e=>{var t;const r=null!==(t=n.get(e))&&void 0!==t?t:0;n.set(e,r+1)})(e),await Promise.resolve(e.effect(i,sl({},l,{getOriginalState:o,condition:(e,t)=>d(e,t).then(Boolean),take:d,delay:al(c.signal),pause:rl(c.signal),extra:r,signal:c.signal,fork:ol(c.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==c&&(e.abort($i),n.delete(e))})},cancel:()=>{c.abort($i),e.pending.delete(c)},throwIfCancelled:()=>{tl(c.signal)}})))}catch(m){m instanceof Zi||pl(a,m,{raisedBy:"effect"})}finally{await Promise.all(u),c.abort(Yi),(e=>{var t;const r=null!==(t=n.get(e))&&void 0!==t?t:1;1===r?n.delete(e):n.set(e,r-1)})(e),e.pending.delete(c)}},o=((e,t)=>()=>{for(const e of t.keys())hl(e);e.clear()})(t,n);return{middleware:e=>n=>r=>{if(!yi(r))return n(r);if(fl.match(r))return s(r.payload);if(xl.match(r))return void o();if(gl.match(r))return i(r.payload);let c=e.getState();const d=()=>{if(c===il)throw new Error(yl(23));return c};let u;try{if(u=n(r),t.size>0){const n=e.getState(),s=Array.from(t.values());for(const t of s){let s=!1;try{s=t.predicate(r,n,c)}catch(m){s=!1,pl(a,m,{raisedBy:"predicate"})}s&&l(t,r,e,d)}}}finally{c=il}return u},startListening:s,stopListening:i,clearListeners:o}};Symbol.for("rtk-state-proxy-original");function yl(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function jl(e,t){if(t){var n=Number.parseInt(t,10);if(!ja(n))return null===e||void 0===e?void 0:e[n]}}var wl=Ui({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Nl=wl.reducer,{createEventEmitter:kl}=wl.actions;__webpack_require__(7256);function Al(e){e()}var _l={notify(){},get:()=>[]};function Cl(e,t){let n,r=_l,a=0,s=!1;function i(){c.onStateChange&&c.onStateChange()}function l(){a++,n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Al(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function o(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=_l)}const c={addNestedSub:function(e){l();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),o())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,l())},tryUnsubscribe:function(){s&&(s=!1,o())},getListeners:()=>r};return c}var Sl=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),El=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),Ol=(()=>Sl||El?t.useLayoutEffect:t.useEffect)();function Ml(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Pl(e,t){if(Ml(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!Ml(e[n[a]],t[n[a]]))return!1;return!0}Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Tl=Symbol.for("react-redux-context"),Dl="undefined"!==typeof globalThis?globalThis:{};function Il(){var e;if(!t.createContext)return{};const n=null!==(e=Dl[Tl])&&void 0!==e?e:Dl[Tl]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}var Rl=Il();var Ll=function(e){const{children:n,context:r,serverState:a,store:s}=e,i=t.useMemo(()=>{const e=Cl(s);return{store:s,subscription:e,getServerState:a?()=>a:void 0}},[s,a]),l=t.useMemo(()=>s.getState(),[s]);Ol(()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==s.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[i,l]);const o=r||Rl;return t.createElement(o.Provider,{value:i},n)};var zl=Symbol.for("immer-nothing"),Fl=Symbol.for("immer-draftable"),Bl=Symbol.for("immer-state");function Ul(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Wl=Object.getPrototypeOf;function Hl(e){return!!e&&!!e[Bl]}function ql(e){var t;return!!e&&(Gl(e)||Array.isArray(e)||!!e[Fl]||!(null===(t=e.constructor)||void 0===t||!t[Fl])||Jl(e)||Xl(e))}var Kl=Object.prototype.constructor.toString(),Vl=new WeakMap;function Gl(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!==typeof n)return!1;let r=Vl.get(n);return void 0===r&&(r=Function.toString.call(n),Vl.set(n,r)),r===Kl}function $l(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===Yl(e)){(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function Yl(e){const t=e[Bl];return t?t.type_:Array.isArray(e)?1:Jl(e)?2:Xl(e)?3:0}function Zl(e,t){return 2===Yl(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ql(e,t,n){const r=Yl(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Jl(e){return e instanceof Map}function Xl(e){return e instanceof Set}function eo(e){return e.copy_||e.base_}function to(e,t){if(Jl(e))return new Map(e);if(Xl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Gl(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Bl];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],s=t[a];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(Wl(e),t)}{const t=Wl(e);if(null!==t&&n)return(0,s.A)({},e);const r=Object.create(t);return Object.assign(r,e)}}function no(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ao(e)||Hl(e)||!ql(e)||(Yl(e)>1&&Object.defineProperties(e,{set:ro,add:ro,clear:ro,delete:ro}),Object.freeze(e),t&&Object.values(e).forEach(e=>no(e,!0))),e}var ro={value:function(){Ul(2)}};function ao(e){return null===e||"object"!==typeof e||Object.isFrozen(e)}var so,io={};function lo(e){const t=io[e];return t||Ul(0),t}function oo(){return so}function co(e,t){t&&(lo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function uo(e){mo(e),e.drafts_.forEach(po),e.drafts_=null}function mo(e){e===so&&(so=e.parent_)}function ho(e){return so={drafts_:[],parent_:so,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function po(e){const t=e[Bl];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function fo(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Bl].modified_&&(uo(t),Ul(4)),ql(e)&&(e=xo(t,e),t.parent_||vo(t,e)),t.patches_&&lo("Patches").generateReplacementPatches_(n[Bl].base_,e,t.patches_,t.inversePatches_)):e=xo(t,n,[]),uo(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zl?e:void 0}function xo(e,t,n){if(ao(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Bl];if(!a)return $l(t,(r,s)=>go(e,a,t,r,s,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return vo(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const t=a.copy_;let s=t,i=!1;3===a.type_&&(s=new Set(t),t.clear(),i=!0),$l(s,(r,s)=>go(e,a,t,r,s,n,i),r),vo(e,t,!1),n&&e.patches_&&lo("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function go(e,t,n,r,a,s,i){if(null==a)return;if("object"!==typeof a&&!i)return;const l=ao(a);if(!l||i){if(Hl(a)){const i=xo(e,a,s&&t&&3!==t.type_&&!Zl(t.assigned_,r)?s.concat(r):void 0);if(Ql(n,r,i),!Hl(i))return;e.canAutoFreeze_=!1}else i&&n.add(a);if(ql(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===a&&l)return;xo(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!(Jl(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||vo(e,a)}}}function vo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&no(t,n)}var bo={get(e,t){if(t===Bl)return e;const n=eo(e);if(!Zl(n,t))return function(e,t,n){var r;const a=wo(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!ql(r)?r:r===jo(e.base_,t)?(ko(e),e.copy_[t]=Ao(r,e)):r},has:(e,t)=>t in eo(e),ownKeys:e=>Reflect.ownKeys(eo(e)),set(e,t,n){const r=wo(eo(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=jo(eo(e),t),a=null===r||void 0===r?void 0:r[Bl];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Zl(e.base_,t)))return!0;ko(e),No(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==jo(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ko(e),No(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=eo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Ul(11)},getPrototypeOf:e=>Wl(e.base_),setPrototypeOf(){Ul(12)}},yo={};function jo(e,t){const n=e[Bl];return(n?eo(n):e)[t]}function wo(e,t){if(!(t in e))return;let n=Wl(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Wl(n)}}function No(e){e.modified_||(e.modified_=!0,e.parent_&&No(e.parent_))}function ko(e){e.copy_||(e.copy_=to(e.base_,e.scope_.immer_.useStrictShallowCopy_))}$l(bo,(e,t)=>{yo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),yo.deleteProperty=function(e,t){return yo.set.call(this,e,t,void 0)},yo.set=function(e,t,n){return bo.set.call(this,e[0],t,n,e[0])};function Ao(e,t){const n=Jl(e)?lo("MapSet").proxyMap_(e,t):Xl(e)?lo("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:oo(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=bo;n&&(a=[r],s=yo);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return r.draft_=l,r.revoke_=i,l}(e,t);return(t?t.scope_:oo()).drafts_.push(n),n}function _o(e){if(!ql(e)||ao(e))return e;const t=e[Bl];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=to(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=to(e,!0);return $l(n,(e,t)=>{Ql(n,e,_o(t))},r),t&&(t.finalized_=!1),n}var Co=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return r.produce(e,e=>t.call(this,e,...s))}}let r;if("function"!==typeof t&&Ul(6),void 0!==n&&"function"!==typeof n&&Ul(7),ql(e)){const a=ho(this),s=Ao(e,void 0);let i=!0;try{r=t(s),i=!1}finally{i?uo(a):mo(a)}return co(a,n),fo(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===zl&&(r=void 0),this.autoFreeze_&&no(r,!0),n){const t=[],a=[];lo("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}Ul(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;return[this.produce(e,n,(e,t)=>{r=e,a=t}),r,a]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ql(e)||Ul(8),Hl(e)&&(e=function(e){Hl(e)||Ul(10);return _o(e)}(e));const t=ho(this),n=Ao(e,void 0);return n[Bl].isManual_=!0,mo(t),n}finishDraft(e,t){const n=e&&e[Bl];n&&n.isManual_||Ul(9);const{scope_:r}=n;return co(r,t),fo(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=lo("Patches").applyPatches_;return Hl(e)?r(e,t):this.produce(e,e=>r(e,t))}};Co.produce;var So={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Eo=Ui({name:"tooltip",initialState:{itemInteraction:{click:So,hover:So},axisInteraction:{click:So,hover:So},keyboardInteraction:So,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Mi()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=oi(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:Mi()},removeTooltipEntrySettings:{reducer(e,t){var n=oi(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Mi()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Oo,replaceTooltipEntrySettings:Mo,removeTooltipEntrySettings:Po,setTooltipSettingsState:To,setActiveMouseOverItemIndex:Do,mouseLeaveItem:Io,mouseLeaveChart:Ro,setActiveClickItemIndex:Lo,setMouseOverAxisIndex:zo,setMouseClickAxisIndex:Fo,setSyncInteraction:Bo,setKeyboardInteraction:Uo}=Eo.actions,Wo=Eo.reducer,Ho=Ui({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:qo,setDataStartEndIndexes:Ko,setComputedData:Vo}=Ho.actions,Go=Ho.reducer,$o=Ui({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,s;e.margin.top=null!==(n=t.payload.top)&&void 0!==n?n:0,e.margin.right=null!==(r=t.payload.right)&&void 0!==r?r:0,e.margin.bottom=null!==(a=t.payload.bottom)&&void 0!==a?a:0,e.margin.left=null!==(s=t.payload.left)&&void 0!==s?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Yo,setLayout:Zo,setChartSize:Qo,setScale:Jo}=$o.actions,Xo=$o.reducer;function ec(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var tc=e=>Array.isArray(e)?e:[e];function nc(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var rc="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function ac(){return{s:0,v:void 0,o:null,p:null}}function sc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let a,s=0;function i(){let t=n;const{length:i}=arguments;for(let e=0,n=i;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=ac(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=ac(),e.set(n,t)):t=r}}const l=t;let o;if(1===t.s)o=t.v;else if(o=e.apply(null,arguments),s++,r){var c,d,u;const e=null!==(c=null===(d=a)||void 0===d||null===(u=d.deref)||void 0===u?void 0:u.call(d))&&void 0!==c?c:a;null!=e&&r(e,o)&&(o=e,0!==s&&s--);a="object"===typeof o&&null!==o||"function"===typeof o?new rc(o):o}return l.s=1,l.v=o,o}return i.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function ic(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a="function"===typeof e?{memoize:e,memoizeOptions:n}:e,i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,i=0,l=0,o={},c=t.pop();"object"===typeof c&&(o=c,c=t.pop()),ec(c,"createSelector expects an output function after the inputs, but received: [".concat(typeof c,"]"));const d=(0,s.A)((0,s.A)({},a),o),{memoize:u,memoizeOptions:m=[],argsMemoize:h=sc,argsMemoizeOptions:p=[],devModeChecks:f={}}=d,x=tc(m),g=tc(p),v=nc(t),b=u(function(){return i++,c.apply(null,arguments)},...x);const y=h(function(){l++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(v,arguments);return r=b.apply(null,e),r},...g);return Object.assign(y,{resultFunc:c,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>r,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:u,argsMemoize:h})};return Object.assign(i,{withTypes:()=>i}),i}var lc=ic(sc),oc=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lc;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>oc}),cc=__webpack_require__(3044),dc=(0,t.createContext)(null),uc=e=>e,mc=()=>{var e=(0,t.useContext)(dc);return e?e.store.dispatch:uc},hc=()=>{},pc=()=>hc,fc=(e,t)=>e===t;function xc(e){var n=(0,t.useContext)(dc);return(0,cc.useSyncExternalStoreWithSelector)(n?n.subscription.addNestedSub:pc,n?n.store.getState:hc,n?n.store.getState:hc,n?e:hc,fc)}var gc=__webpack_require__(830),vc=__webpack_require__.n(gc),bc=e=>e.legend.settings,yc=lc([e=>e.legend.payload,bc],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?vc()(r,n):r});function jc(e,t){if((a=e.length)>1)for(var n,r,a,s=1,i=e[t[0]],l=i.length;s<a;++s)for(r=i,i=e[t[s]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function wc(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Nc(e){return function(){return e}}function kc(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Ac(e,t){return e[t]}function _c(e){const t=[];return t.key=e,t}function Cc(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Sc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sc(Object(n),!0).forEach(function(t){Oc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Oc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(e,t,n){return Ma(e)||Ma(t)?n:ka(t)?ga()(e,t,n):"function"===typeof t?t(e):n}var Pc=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Tc=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var a,s,i=e.map(e=>(e.coordinate===t&&(a=!0),e.coordinate===n&&(s=!0),e.coordinate));return a||i.push(t),s||i.push(n),i},Dc=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:s,scale:i,realScaleType:l,isCategorical:o,categoricalDomain:c,tickCount:d,ticks:u,niceTicks:m,axisType:h}=e;if(!i)return null;var p="scaleBand"===l&&i.bandwidth?i.bandwidth()/2:2,f=(t||n)&&"category"===a&&i.bandwidth?i.bandwidth()/p:0;return f="angleAxis"===h&&s&&s.length>=2?2*ya(s[0]-s[1])*f:f,t&&(u||m)?(u||m||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:i(n)+f,value:e,offset:f,index:t}}).filter(e=>!ja(e.coordinate)):o&&c?c.map((e,t)=>({coordinate:i(e)+f,value:e,index:t,offset:f})):i.ticks&&!n&&null!=d?i.ticks(d).map((e,t)=>({coordinate:i(e)+f,value:e,offset:f,index:t})):i.domain().map((e,t)=>({coordinate:i(e)+f,value:r?r[e]:e,index:t,offset:f}))},Ic=1e-4,Rc={sign:e=>{var t,n=e.length;if(!(n<=0)){var r=null===(t=e[0])||void 0===t?void 0:t.length;if(!(null==r||r<=0))for(var a=0;a<r;++a)for(var s=0,i=0,l=0;l<n;++l){var o=e[l],c=null===o||void 0===o?void 0:o[a];if(null!=c){var d=c[1],u=c[0],m=ja(d)?u:d;m>=0?(c[0]=s,c[1]=s+m,s=d):(c[0]=i,c[1]=i+m,i=d)}}}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,s=0,i=e[0].length;s<i;++s){for(a=n=0;n<r;++n)a+=e[n][s][1]||0;if(a)for(n=0;n<r;++n)e[n][s][1]/=a}jc(e,t)}},none:jc,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],s=a.length;r<s;++r){for(var i=0,l=0;i<n;++i)l+=e[i][r][1]||0;a[r][1]+=a[r][0]=-l/2}jc(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,s=0,i=1;i<r;++i){for(var l=0,o=0,c=0;l<a;++l){for(var d=e[t[l]],u=d[i][1]||0,m=(u-(d[i-1][1]||0))/2,h=0;h<l;++h){var p=e[t[h]];m+=(p[i][1]||0)-(p[i-1][1]||0)}o+=u,c+=m*u}n[i-1][1]+=n[i-1][0]=s,o&&(s-=c/o)}n[i-1][1]+=n[i-1][0]=s,jc(e,t)}},positive:e=>{var t,n=e.length;if(!(n<=0)){var r=null===(t=e[0])||void 0===t?void 0:t.length;if(!(null==r||r<=0))for(var a=0;a<r;++a)for(var s=0,i=0;i<n;++i){var l=e[i],o=null===l||void 0===l?void 0:l[a];if(null!=o){var c=ja(o[1])?o[0]:o[1];c>=0?(o[0]=s,o[1]=s+c,s=o[1]):(o[0]=0,o[1]=0)}}}}},Lc=(e,t,n)=>{var r,a=null!==(r=Rc[n])&&void 0!==r?r:jc,s=function(){var e=Nc([]),t=kc,n=jc,r=Ac;function a(a){var s,i,l=Array.from(e.apply(this,arguments),_c),o=l.length,c=-1;for(const e of a)for(s=0,++c;s<o;++s)(l[s][c]=[0,+r(e,l[s].key,c,a)]).data=e;for(s=0,i=wc(t(l));s<o;++s)l[i[s]].index=s;return n(l,i),l}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:Nc(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:Nc(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?kc:"function"===typeof e?e:Nc(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?jc:e,a):n},a}().keys(t).value((e,t)=>Number(Mc(e,t,0))).order(kc).offset(a),i=s(e);return i.forEach((n,r)=>{n.forEach((n,a)=>{var s=Mc(e[a],t[r],0);Array.isArray(s)&&2===s.length&&Na(s[0])&&Na(s[1])&&(n[0]=s[0],n[1]=s[1])})}),i};function zc(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:s,dataKey:i}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ma(a[t.dataKey])){var l=Oa(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var o=Mc(a,Ma(i)?t.dataKey:i);return Ma(o)?null:t.scale(o)}var Fc=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,a)=>{var s=e[a];if(!s)return r;var{stackedData:i}=s,l=i.reduce((e,r)=>{var a=(e=>{var t=e.flat(2).filter(Na);return[Math.min(...t),Math.max(...t)]})(Cc(r,t,n));return Wa(a[0])&&Wa(a[1])?[Math.min(e[0],a[0]),Math.max(e[1],a[1])]:e},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},Bc=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Uc=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wc=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=vc()(t,e=>e.coordinate),s=1/0,i=1,l=a.length;i<l;i++){var o=a[i],c=a[i-1];s=Math.min(((null===o||void 0===o?void 0:o.coordinate)||0)-((null===c||void 0===c?void 0:c.coordinate)||0),s)}return s===1/0?0:s}return n?void 0:0};function Hc(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:s}=e;return Ec(Ec({},t),{},{dataKey:n,payload:r,value:a,name:s})}function qc(e,t){return e?String(e):"string"===typeof t?t:void 0}var Kc=e=>e.layout.width,Vc=e=>e.layout.height,Gc=e=>e.layout.scale,$c=e=>e.layout.margin,Yc=lc(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Zc=lc(e=>e.cartesianAxis.yAxis,e=>Object.values(e));function Qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(n),!0).forEach(function(t){Xc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ed=lc([Kc,Vc,$c,e=>e.brush.height,function(e){return Zc(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Zc(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Yc(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return Yc(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},bc,e=>e.legend.size],(e,t,n,r,a,s,i,l,o,c)=>{var d={left:(n.left||0)+a,right:(n.right||0)+s},u=Jc(Jc({},{top:(n.top||0)+i,bottom:(n.bottom||0)+l}),d),m=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:s,verticalAlign:i,layout:l}=t;if(("vertical"===l||"horizontal"===l&&"middle"===i)&&"center"!==s&&Na(e[s]))return Ec(Ec({},e),{},{[s]:e[s]+(r||0)});if(("horizontal"===l||"vertical"===l&&"center"===s)&&"middle"!==i&&Na(e[i]))return Ec(Ec({},e),{},{[i]:e[i]+(a||0)})}return e})(u,o,c);var h=e-u.left-u.right,p=t-u.top-u.bottom;return Jc(Jc({brushBottom:m},u),{},{width:Math.max(h,0),height:Math.max(p,0)})}),td=lc(ed,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),nd=lc(Kc,Vc,(e,t)=>({x:0,y:0,width:e,height:t})),rd=(0,t.createContext)(null),ad=()=>null!=(0,t.useContext)(rd),sd=e=>e.brush,id=lc([sd,ed,$c],(e,t,n)=>({height:e.height,x:Na(e.x)?e.x:t.left,y:Na(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:Na(e.width)?e.width:t.width}));function ld(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var od=()=>{var e,t=ad(),n=xc(td),r=xc(id),a=null===(e=xc(sd))||void 0===e?void 0:e.padding;return t&&r&&a?{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}:n},cd={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},dd=()=>{var e;return null!==(e=xc(ed))&&void 0!==e?e:cd},ud=()=>xc(Kc),md=()=>xc(Vc),hd=e=>e.layout.layoutType,pd=()=>xc(hd),fd=e=>{var n=mc(),r=ad(),{width:a,height:s}=e,i=Za(),l=a,o=s;return i&&(l=i.width>0?i.width:a,o=i.height>0?i.height:s),(0,t.useEffect)(()=>{!r&&Ha(l)&&Ha(o)&&n(Qo({width:l,height:o}))},[n,r,l,o]),null},xd=__webpack_require__(8354),gd=__webpack_require__.n(xd);function vd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function bd(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class yd extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kd;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(jd(this,e))}has(e){return super.has(jd(this,e))}set(e,t){return super.set(wd(this,e),t)}delete(e){return super.delete(Nd(this,e))}}Set;function jd(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function wd(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function Nd(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function kd(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Ad=Symbol("implicit");function _d(){var e=new yd,t=[],n=[],r=Ad;function a(a){let s=e.get(a);if(void 0===s){if(r!==Ad)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new yd;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return _d(t,n).unknown(r)},vd.apply(a,arguments),a}function Cd(){var e,t,n=_d().unknown(void 0),r=n.domain,a=n.range,s=0,i=1,l=!1,o=0,c=0,d=.5;function u(){var n=r().length,u=i<s,m=u?i:s,h=u?s:i;e=(h-m)/Math.max(1,n-o+2*c),l&&(e=Math.floor(e)),m+=(h-m-e*(n-o))*d,t=e*(1-o),l&&(m=Math.round(m),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),s=new Array(a);++r<a;)s[r]=e+r*n;return s}(n).map(function(t){return m+e*t});return a(u?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),u()):r()},n.range=function(e){return arguments.length?([s,i]=e,s=+s,i=+i,u()):[s,i]},n.rangeRound=function(e){return[s,i]=e,s=+s,i=+i,l=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(l=!!e,u()):l},n.padding=function(e){return arguments.length?(o=Math.min(1,c=+e),u()):o},n.paddingInner=function(e){return arguments.length?(o=Math.min(1,e),u()):o},n.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},n.copy=function(){return Cd(r(),[s,i]).round(l).paddingInner(o).paddingOuter(c).align(d)},vd.apply(u(),arguments)}function Sd(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Sd(t())},e}function Ed(){return Sd(Cd.apply(null,arguments).paddingInner(1))}const Od=Math.sqrt(50),Md=Math.sqrt(10),Pd=Math.sqrt(2);function Td(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),i=s>=Od?10:s>=Md?5:s>=Pd?2:1;let l,o,c;return a<0?(c=Math.pow(10,-a)/i,l=Math.round(e*c),o=Math.round(t*c),l/c<e&&++l,o/c>t&&--o,c=-c):(c=Math.pow(10,a)*i,l=Math.round(e/c),o=Math.round(t/c),l*c<e&&++l,o*c>t&&--o),o<l&&.5<=n&&n<2?Td(e,t,2*n):[l,o,c]}function Dd(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,s,i]=r?Td(t,e,n):Td(e,t,n);if(!(s>=a))return[];const l=s-a+1,o=new Array(l);if(r)if(i<0)for(let c=0;c<l;++c)o[c]=(s-c)/-i;else for(let c=0;c<l;++c)o[c]=(s-c)*i;else if(i<0)for(let c=0;c<l;++c)o[c]=(a+c)/-i;else for(let c=0;c<l;++c)o[c]=(a+c)*i;return o}function Id(e,t,n){return Td(e=+e,t=+t,n=+n)[2]}function Rd(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?Id(t,e,n):Id(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Ld(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zd(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fd(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<0?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=Ld,n=(t,n)=>Ld(e(t),n),r=(t,n)=>e(t)-n):(t=e===Ld||e===zd?e:Bd,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<=0?a=t+1:s=t}while(a<s)}return a}}}function Bd(){return 0}function Ud(e){return null===e?NaN:+e}const Wd=Fd(Ld),Hd=Wd.right,qd=(Wd.left,Fd(Ud).center,Hd);function Kd(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Vd(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Gd(){}var $d=.7,Yd=1/$d,Zd="\\s*([+-]?\\d+)\\s*",Qd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xd=/^#([0-9a-f]{3,8})$/,eu=new RegExp("^rgb\\(".concat(Zd,",").concat(Zd,",").concat(Zd,"\\)$")),tu=new RegExp("^rgb\\(".concat(Jd,",").concat(Jd,",").concat(Jd,"\\)$")),nu=new RegExp("^rgba\\(".concat(Zd,",").concat(Zd,",").concat(Zd,",").concat(Qd,"\\)$")),ru=new RegExp("^rgba\\(".concat(Jd,",").concat(Jd,",").concat(Jd,",").concat(Qd,"\\)$")),au=new RegExp("^hsl\\(".concat(Qd,",").concat(Jd,",").concat(Jd,"\\)$")),su=new RegExp("^hsla\\(".concat(Qd,",").concat(Jd,",").concat(Jd,",").concat(Qd,"\\)$")),iu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function lu(){return this.rgb().formatHex()}function ou(){return this.rgb().formatRgb()}function cu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Xd.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?du(t):3===n?new hu(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?uu(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?uu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=eu.exec(e))?new hu(t[1],t[2],t[3],1):(t=tu.exec(e))?new hu(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=nu.exec(e))?uu(t[1],t[2],t[3],t[4]):(t=ru.exec(e))?uu(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=au.exec(e))?bu(t[1],t[2]/100,t[3]/100,1):(t=su.exec(e))?bu(t[1],t[2]/100,t[3]/100,t[4]):iu.hasOwnProperty(e)?du(iu[e]):"transparent"===e?new hu(NaN,NaN,NaN,0):null}function du(e){return new hu(e>>16&255,e>>8&255,255&e,1)}function uu(e,t,n,r){return r<=0&&(e=t=n=NaN),new hu(e,t,n,r)}function mu(e,t,n,r){return 1===arguments.length?((a=e)instanceof Gd||(a=cu(a)),a?new hu((a=a.rgb()).r,a.g,a.b,a.opacity):new hu):new hu(e,t,n,null==r?1:r);var a}function hu(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function pu(){return"#".concat(vu(this.r)).concat(vu(this.g)).concat(vu(this.b))}function fu(){const e=xu(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(gu(this.r),", ").concat(gu(this.g),", ").concat(gu(this.b)).concat(1===e?")":", ".concat(e,")"))}function xu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vu(e){return((e=gu(e))<16?"0":"")+e.toString(16)}function bu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ju(e,t,n,r)}function yu(e){if(e instanceof ju)return new ju(e.h,e.s,e.l,e.opacity);if(e instanceof Gd||(e=cu(e)),!e)return new ju;if(e instanceof ju)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),i=NaN,l=s-a,o=(s+a)/2;return l?(i=t===s?(n-r)/l+6*(n<r):n===s?(r-t)/l+2:(t-n)/l+4,l/=o<.5?s+a:2-s-a,i*=60):l=o>0&&o<1?0:i,new ju(i,l,o,e.opacity)}function ju(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function wu(e){return(e=(e||0)%360)<0?e+360:e}function Nu(e){return Math.max(0,Math.min(1,e||0))}function ku(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Au(e,t,n,r,a){var s=e*e,i=s*e;return((1-3*e+3*s-i)*t+(4-6*s+3*i)*n+(1+3*e+3*s-3*i)*r+i*a)/6}Kd(Gd,cu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lu,formatHex:lu,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return yu(this).formatHsl()},formatRgb:ou,toString:ou}),Kd(hu,mu,Vd(Gd,{brighter(e){return e=null==e?Yd:Math.pow(Yd,e),new hu(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?$d:Math.pow($d,e),new hu(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hu(gu(this.r),gu(this.g),gu(this.b),xu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pu,formatHex:pu,formatHex8:function(){return"#".concat(vu(this.r)).concat(vu(this.g)).concat(vu(this.b)).concat(vu(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:fu,toString:fu})),Kd(ju,function(e,t,n,r){return 1===arguments.length?yu(e):new ju(e,t,n,null==r?1:r)},Vd(Gd,{brighter(e){return e=null==e?Yd:Math.pow(Yd,e),new ju(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?$d:Math.pow($d,e),new ju(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new hu(ku(e>=240?e-240:e+120,a,r),ku(e,a,r),ku(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ju(wu(this.h),Nu(this.s),Nu(this.l),xu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xu(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(wu(this.h),", ").concat(100*Nu(this.s),"%, ").concat(100*Nu(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const _u=e=>()=>e;function Cu(e,t){return function(n){return e+n*t}}function Su(e){return 1===(e=+e)?Eu:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):_u(isNaN(t)?n:t)}}function Eu(e,t){var n=t-e;return n?Cu(e,n):_u(isNaN(e)?t:e)}const Ou=function e(t){var n=Su(t);function r(e,t){var r=n((e=mu(e)).r,(t=mu(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),i=Eu(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=s(t),e.opacity=i(t),e+""}}return r.gamma=e,r}(1);function Mu(e){return function(t){var n,r,a=t.length,s=new Array(a),i=new Array(a),l=new Array(a);for(n=0;n<a;++n)r=mu(t[n]),s[n]=r.r||0,i[n]=r.g||0,l[n]=r.b||0;return s=e(s),i=e(i),l=e(l),r.opacity=1,function(e){return r.r=s(e),r.g=i(e),r.b=l(e),r+""}}}Mu(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],s=e[r+1],i=r>0?e[r-1]:2*a-s,l=r<t-1?e[r+2]:2*s-a;return Au((n-r/t)*t,i,a,s,l)}}),Mu(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],s=e[r%t],i=e[(r+1)%t],l=e[(r+2)%t];return Au((n-r/t)*t,a,s,i,l)}});function Pu(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r);for(n=0;n<a;++n)s[n]=Bu(e[n],t[n]);for(;n<r;++n)i[n]=t[n];return function(e){for(n=0;n<a;++n)i[n]=s[n](e);return i}}function Tu(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Du(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Iu(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Bu(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var Ru=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lu=new RegExp(Ru.source,"g");function zu(e,t){var n,r,a,s=Ru.lastIndex=Lu.lastIndex=0,i=-1,l=[],o=[];for(e+="",t+="";(n=Ru.exec(e))&&(r=Lu.exec(t));)(a=r.index)>s&&(a=t.slice(s,a),l[i]?l[i]+=a:l[++i]=a),(n=n[0])===(r=r[0])?l[i]?l[i]+=r:l[++i]=r:(l[++i]=null,o.push({i:i,x:Du(n,r)})),s=Lu.lastIndex;return s<t.length&&(a=t.slice(s),l[i]?l[i]+=a:l[++i]=a),l.length<2?o[0]?function(e){return function(t){return e(t)+""}}(o[0].x):function(e){return function(){return e}}(t):(t=o.length,function(e){for(var n,r=0;r<t;++r)l[(n=o[r]).i]=n.x(e);return l.join("")})}function Fu(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(n=0;n<r;++n)a[n]=e[n]*(1-s)+t[n]*s;return a}}function Bu(e,t){var n,r=typeof t;return null==t||"boolean"===r?_u(t):("number"===r?Du:"string"===r?(n=cu(t))?(t=n,Ou):zu:t instanceof cu?Ou:t instanceof Date?Tu:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Fu:Array.isArray(t)?Pu:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Iu:Du)(e,t)}function Uu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Wu(e){return+e}var Hu=[0,1];function qu(e){return e}function Ku(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Vu(e,t,n){var r=e[0],a=e[1],s=t[0],i=t[1];return a<r?(r=Ku(a,r),s=n(i,s)):(r=Ku(r,a),s=n(s,i)),function(e){return s(r(e))}}function Gu(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)a[i]=Ku(e[i],e[i+1]),s[i]=n(t[i],t[i+1]);return function(t){var n=qd(e,t,1,r)-1;return s[n](a[n](t))}}function $u(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Yu(){var e,t,n,r,a,s,i=Hu,l=Hu,o=Bu,c=qu;function d(){var e=Math.min(i.length,l.length);return c!==qu&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(i[0],i[e-1])),r=e>2?Gu:Vu,a=s=null,u}function u(t){return null==t||isNaN(t=+t)?n:(a||(a=r(i.map(e),l,o)))(e(c(t)))}return u.invert=function(n){return c(t((s||(s=r(l,i.map(e),Du)))(n)))},u.domain=function(e){return arguments.length?(i=Array.from(e,Wu),d()):i.slice()},u.range=function(e){return arguments.length?(l=Array.from(e),d()):l.slice()},u.rangeRound=function(e){return l=Array.from(e),o=Uu,d()},u.clamp=function(e){return arguments.length?(c=!!e||qu,d()):c!==qu},u.interpolate=function(e){return arguments.length?(o=e,d()):o},u.unknown=function(e){return arguments.length?(n=e,u):n},function(n,r){return e=n,t=r,d()}}function Zu(){return Yu()(qu,qu)}var Qu,Ju=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xu(e){if(!(t=Ju.exec(e)))throw new Error("invalid format: "+e);var t;return new em({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function em(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function tm(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function nm(e){return(e=tm(Math.abs(e)))?e[1]:NaN}function rm(e,t){var n=tm(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}Xu.prototype=em.prototype,em.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const am={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rm(100*e,t),r:rm,s:function(e,t){var n=tm(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(Qu=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=r.length;return s===i?r:s>i?r+new Array(s-i+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+tm(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sm(e){return e}var im,lm,om,cm=Array.prototype.map,dm=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function um(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?sm:(t=cm.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,s=[],i=0,l=t[0],o=0;a>0&&l>0&&(o+l+1>r&&(l=Math.max(1,r-o)),s.push(e.substring(a-=l,a+l)),!((o+=l+1)>r));)l=t[i=(i+1)%t.length];return s.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?sm:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(cm.call(e.numerals,String)),o=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=Xu(e)).fill,n=e.align,u=e.sign,m=e.symbol,h=e.zero,p=e.width,f=e.comma,x=e.precision,g=e.trim,v=e.type;"n"===v?(f=!0,v="g"):am[v]||(void 0===x&&(x=12),g=!0,v="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===m?a:"#"===m&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===m?s:/[%p]/.test(v)?o:"",j=am[v],w=/[defgprs%]/.test(v);function N(e){var a,s,o,m=b,N=y;if("c"===v)N=j(e)+N,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:j(Math.abs(e),x),g&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==u&&(k=!1),m=(k?"("===u?u:c:"-"===u||"("===u?"":u)+m,N=("s"===v?dm[8+Qu/3]:"")+N+(k&&"("===u?")":""),w)for(a=-1,s=e.length;++a<s;)if(48>(o=e.charCodeAt(a))||o>57){N=(46===o?i+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}f&&!h&&(e=r(e,1/0));var A=m.length+e.length+N.length,_=A<p?new Array(p-A+1).join(t):"";switch(f&&h&&(e=r(_+e,_.length?p-N.length:1/0),_=""),n){case"<":e=m+e+N+_;break;case"=":e=m+_+e+N;break;case"^":e=_.slice(0,A=_.length>>1)+m+e+N+_.slice(A);break;default:e=_+m+e+N}return l(e)}return x=void 0===x?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var n=u(((e=Xu(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(nm(t)/3))),a=Math.pow(10,-r),s=dm[8+r/3];return function(e){return n(a*e)+s}}}}function mm(e,t,n,r){var a,s=Rd(e,t,n);switch((r=Xu(null==r?",f":r)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(nm(t)/3)))-nm(Math.abs(e)))}(s,i))||(r.precision=a),om(r,i);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nm(t)-nm(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-nm(Math.abs(e)))}(s))||(r.precision=a-2*("%"===r.type))}return lm(r)}function hm(e){var t=e.domain;return e.ticks=function(e){var n=t();return Dd(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return mm(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,s=t(),i=0,l=s.length-1,o=s[i],c=s[l],d=10;for(c<o&&(a=o,o=c,c=a,a=i,i=l,l=a);d-- >0;){if((a=Id(o,c,n))===r)return s[i]=o,s[l]=c,t(s);if(a>0)o=Math.floor(o/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;o=Math.ceil(o*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function pm(){var e=Zu();return e.copy=function(){return $u(e,pm())},vd.apply(e,arguments),hm(e)}function fm(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Wu),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return fm(e).unknown(t)},e=arguments.length?Array.from(e,Wu):[0,1],hm(n)}function xm(e,t){var n,r=0,a=(e=e.slice()).length-1,s=e[r],i=e[a];return i<s&&(n=r,r=a,a=n,n=s,s=i,i=n),e[r]=t.floor(s),e[a]=t.ceil(i),e}function gm(e){return Math.log(e)}function vm(e){return Math.exp(e)}function bm(e){return-Math.log(-e)}function ym(e){return-Math.exp(-e)}function jm(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wm(e){return(t,n)=>-e(-t,n)}function Nm(e){const t=e(gm,vm),n=t.domain;let r,a,s=10;function i(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),a=function(e){return 10===e?jm:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),n()[0]<0?(r=wm(r),a=wm(a),e(bm,ym)):e(gm,vm),t}return t.base=function(e){return arguments.length?(s=+e,i()):s},t.domain=function(e){return arguments.length?(n(e),i()):n()},t.ticks=e=>{const t=n();let i=t[0],l=t[t.length-1];const o=l<i;o&&([i,l]=[l,i]);let c,d,u=r(i),m=r(l);const h=null==e?10:+e;let p=[];if(!(s%1)&&m-u<h){if(u=Math.floor(u),m=Math.ceil(m),i>0){for(;u<=m;++u)for(c=1;c<s;++c)if(d=u<0?c/a(-u):c*a(u),!(d<i)){if(d>l)break;p.push(d)}}else for(;u<=m;++u)for(c=s-1;c>=1;--c)if(d=u>0?c/a(-u):c*a(u),!(d<i)){if(d>l)break;p.push(d)}2*p.length<h&&(p=Dd(i,l,h))}else p=Dd(u,m,Math.min(m-u,h)).map(a);return o?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===s?"s":","),"function"!==typeof n&&(s%1||null!=(n=Xu(n)).precision||(n.trim=!0),n=lm(n)),e===1/0)return n;const i=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*s<s-.5&&(t*=s),t<=i?n(e):""}},t.nice=()=>n(xm(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function km(){const e=Nm(Yu()).domain([1,10]);return e.copy=()=>$u(e,km()).base(e.base()),vd.apply(e,arguments),e}function Am(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _m(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Cm(e){var t=1,n=e(Am(t),_m(t));return n.constant=function(n){return arguments.length?e(Am(t=+n),_m(t)):t},hm(n)}function Sm(){var e=Cm(Yu());return e.copy=function(){return $u(e,Sm()).constant(e.constant())},vd.apply(e,arguments)}function Em(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Om(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Mm(e){return e<0?-e*e:e*e}function Pm(e){var t=e(qu,qu),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(qu,qu):.5===n?e(Om,Mm):e(Em(n),Em(1/n)):n},hm(t)}function Tm(){var e=Pm(Yu());return e.copy=function(){return $u(e,Tm()).exponent(e.exponent())},vd.apply(e,arguments),e}function Dm(){return Tm.apply(null,arguments).exponent(.5)}function Im(e){return Math.sign(e)*e*e}function Rm(){var e,t=Zu(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(Im(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,Wu)).map(Im)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Rm(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},vd.apply(a,arguments),hm(a)}function Lm(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function zm(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function Fm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ld;if(e===Ld)return Bm;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Bm(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Um(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?Bm:Fm(a);r>n;){if(r-n>600){const s=r-n+1,i=t-n+1,l=Math.log(s),o=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*o*(s-o)/s)*(i-s/2<0?-1:1);Um(e,t,Math.max(n,Math.floor(t-i*o/s+c)),Math.min(r,Math.floor(t+(s-i)*o/s+c)),a)}const s=e[t];let i=n,l=r;for(Wm(e,n,t),a(e[r],s)>0&&Wm(e,n,r);i<l;){for(Wm(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}0===a(e[n],s)?Wm(e,n,l):(++l,Wm(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Wm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Hm(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return zm(e);if(t>=1)return Lm(e);var r,a=(r-1)*t,s=Math.floor(a),i=Lm(Um(e,s).subarray(0,s+1));return i+(zm(e.subarray(s+1))-i)*(a-s)}}function qm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ud;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),i=+n(e[s],s,e);return i+(+n(e[s+1],s+1,e)-i)*(a-s)}}function Km(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=qm(t,e/a);return s}function s(t){return null==t||isNaN(t=+t)?e:n[qd(r,t)]}return s.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Ld),a()},s.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return r.slice()},s.copy=function(){return Km().domain(t).range(n).unknown(e)},vd.apply(s,arguments)}function Vm(){var e,t=0,n=1,r=1,a=[.5],s=[0,1];function i(t){return null!=t&&t<=t?s[qd(a,t,0,r)]:e}function l(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return i}return i.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,l()):[t,n]},i.range=function(e){return arguments.length?(r=(s=Array.from(e)).length-1,l()):s.slice()},i.invertExtent=function(e){var i=s.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=r?[a[r-1],n]:[a[i-1],a[i]]},i.unknown=function(t){return arguments.length?(e=t,i):i},i.thresholds=function(){return a.slice()},i.copy=function(){return Vm().domain([t,n]).range(s).unknown(e)},vd.apply(hm(i),arguments)}function Gm(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[qd(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Gm().domain(t).range(n).unknown(e)},vd.apply(a,arguments)}im=um({thousands:",",grouping:[3],currency:["$",""]}),lm=im.format,om=im.formatPrefix;const $m=1e3,Ym=6e4,Zm=36e5,Qm=864e5,Jm=6048e5,Xm=2592e6,eh=31536e6,th=new Date,nh=new Date;function rh(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,s)=>{const i=[];if(n=a.ceil(n),s=null==s?1:Math.floor(s),!(n<r)||!(s>0))return i;let l;do{i.push(l=new Date(+n)),t(n,s),e(n)}while(l<n&&n<r);return i},a.filter=n=>rh(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(th.setTime(+t),nh.setTime(+r),e(th),e(nh),Math.floor(n(th,nh))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const ah=rh(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ah.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?rh(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ah:null);ah.range;const sh=rh(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$m)},(e,t)=>(t-e)/$m,e=>e.getUTCSeconds()),ih=(sh.range,rh(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$m)},(e,t)=>{e.setTime(+e+t*Ym)},(e,t)=>(t-e)/Ym,e=>e.getMinutes())),lh=(ih.range,rh(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ym)},(e,t)=>(t-e)/Ym,e=>e.getUTCMinutes())),oh=(lh.range,rh(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$m-e.getMinutes()*Ym)},(e,t)=>{e.setTime(+e+t*Zm)},(e,t)=>(t-e)/Zm,e=>e.getHours())),ch=(oh.range,rh(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zm)},(e,t)=>(t-e)/Zm,e=>e.getUTCHours())),dh=(ch.range,rh(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ym)/Qm,e=>e.getDate()-1)),uh=(dh.range,rh(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qm,e=>e.getUTCDate()-1)),mh=(uh.range,rh(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qm,e=>Math.floor(e/Qm)));mh.range;function hh(e){return rh(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ym)/Jm)}const ph=hh(0),fh=hh(1),xh=hh(2),gh=hh(3),vh=hh(4),bh=hh(5),yh=hh(6);ph.range,fh.range,xh.range,gh.range,vh.range,bh.range,yh.range;function jh(e){return rh(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Jm)}const wh=jh(0),Nh=jh(1),kh=jh(2),Ah=jh(3),_h=jh(4),Ch=jh(5),Sh=jh(6),Eh=(wh.range,Nh.range,kh.range,Ah.range,_h.range,Ch.range,Sh.range,rh(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),Oh=(Eh.range,rh(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),Mh=(Oh.range,rh(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));Mh.every=e=>isFinite(e=Math.floor(e))&&e>0?rh(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;Mh.range;const Ph=rh(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ph.every=e=>isFinite(e=Math.floor(e))&&e>0?rh(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;Ph.range;function Th(e,t,n,r,a,s){const i=[[sh,1,$m],[sh,5,5e3],[sh,15,15e3],[sh,30,3e4],[s,1,Ym],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,Zm],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,Qm],[r,2,1728e5],[n,1,Jm],[t,1,Xm],[t,3,7776e6],[e,1,eh]];function l(t,n,r){const a=Math.abs(n-t)/r,s=Fd(e=>{let[,,t]=e;return t}).right(i,a);if(s===i.length)return e.every(Rd(t/eh,n/eh,r));if(0===s)return ah.every(Math.max(Rd(t,n,r),1));const[l,o]=i[a/i[s-1][2]<i[s][2]/a?s-1:s];return l.every(o)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:l(e,t,n),s=a?a.range(e,+t+1):[];return r?s.reverse():s},l]}const[Dh,Ih]=Th(Ph,Oh,wh,mh,ch,lh),[Rh,Lh]=Th(Mh,Eh,ph,dh,oh,ih);function zh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Uh,Wh,Hh,qh={"-":"",_:" ",0:"0"},Kh=/^\s*\d+/,Vh=/^%/,Gh=/[\\^$*+?|[\]().{}]/g;function $h(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function Yh(e){return e.replace(Gh,"\\$&")}function Zh(e){return new RegExp("^(?:"+e.map(Yh).join("|")+")","i")}function Qh(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Jh(e,t,n){var r=Kh.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Xh(e,t,n){var r=Kh.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ep(e,t,n){var r=Kh.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function tp(e,t,n){var r=Kh.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function np(e,t,n){var r=Kh.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function rp(e,t,n){var r=Kh.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ap(e,t,n){var r=Kh.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sp(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ip(e,t,n){var r=Kh.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function lp(e,t,n){var r=Kh.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function op(e,t,n){var r=Kh.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function cp(e,t,n){var r=Kh.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function dp(e,t,n){var r=Kh.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function up(e,t,n){var r=Kh.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mp(e,t,n){var r=Kh.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function hp(e,t,n){var r=Kh.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function pp(e,t,n){var r=Kh.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fp(e,t,n){var r=Vh.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function xp(e,t,n){var r=Kh.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function gp(e,t,n){var r=Kh.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function vp(e,t){return $h(e.getDate(),t,2)}function bp(e,t){return $h(e.getHours(),t,2)}function yp(e,t){return $h(e.getHours()%12||12,t,2)}function jp(e,t){return $h(1+dh.count(Mh(e),e),t,3)}function wp(e,t){return $h(e.getMilliseconds(),t,3)}function Np(e,t){return wp(e,t)+"000"}function kp(e,t){return $h(e.getMonth()+1,t,2)}function Ap(e,t){return $h(e.getMinutes(),t,2)}function _p(e,t){return $h(e.getSeconds(),t,2)}function Cp(e){var t=e.getDay();return 0===t?7:t}function Sp(e,t){return $h(ph.count(Mh(e)-1,e),t,2)}function Ep(e){var t=e.getDay();return t>=4||0===t?vh(e):vh.ceil(e)}function Op(e,t){return e=Ep(e),$h(vh.count(Mh(e),e)+(4===Mh(e).getDay()),t,2)}function Mp(e){return e.getDay()}function Pp(e,t){return $h(fh.count(Mh(e)-1,e),t,2)}function Tp(e,t){return $h(e.getFullYear()%100,t,2)}function Dp(e,t){return $h((e=Ep(e)).getFullYear()%100,t,2)}function Ip(e,t){return $h(e.getFullYear()%1e4,t,4)}function Rp(e,t){var n=e.getDay();return $h((e=n>=4||0===n?vh(e):vh.ceil(e)).getFullYear()%1e4,t,4)}function Lp(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$h(t/60|0,"0",2)+$h(t%60,"0",2)}function zp(e,t){return $h(e.getUTCDate(),t,2)}function Fp(e,t){return $h(e.getUTCHours(),t,2)}function Bp(e,t){return $h(e.getUTCHours()%12||12,t,2)}function Up(e,t){return $h(1+uh.count(Ph(e),e),t,3)}function Wp(e,t){return $h(e.getUTCMilliseconds(),t,3)}function Hp(e,t){return Wp(e,t)+"000"}function qp(e,t){return $h(e.getUTCMonth()+1,t,2)}function Kp(e,t){return $h(e.getUTCMinutes(),t,2)}function Vp(e,t){return $h(e.getUTCSeconds(),t,2)}function Gp(e){var t=e.getUTCDay();return 0===t?7:t}function $p(e,t){return $h(wh.count(Ph(e)-1,e),t,2)}function Yp(e){var t=e.getUTCDay();return t>=4||0===t?_h(e):_h.ceil(e)}function Zp(e,t){return e=Yp(e),$h(_h.count(Ph(e),e)+(4===Ph(e).getUTCDay()),t,2)}function Qp(e){return e.getUTCDay()}function Jp(e,t){return $h(Nh.count(Ph(e)-1,e),t,2)}function Xp(e,t){return $h(e.getUTCFullYear()%100,t,2)}function ef(e,t){return $h((e=Yp(e)).getUTCFullYear()%100,t,2)}function tf(e,t){return $h(e.getUTCFullYear()%1e4,t,4)}function nf(e,t){var n=e.getUTCDay();return $h((e=n>=4||0===n?_h(e):_h.ceil(e)).getUTCFullYear()%1e4,t,4)}function rf(){return"+0000"}function af(){return"%"}function sf(e){return+e}function lf(e){return Math.floor(+e/1e3)}function of(e){return new Date(e)}function cf(e){return e instanceof Date?+e:+new Date(+e)}function df(e,t,n,r,a,s,i,l,o,c){var d=Zu(),u=d.invert,m=d.domain,h=c(".%L"),p=c(":%S"),f=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),v=c("%b %d"),b=c("%B"),y=c("%Y");function j(e){return(o(e)<e?h:l(e)<e?p:i(e)<e?f:s(e)<e?x:r(e)<e?a(e)<e?g:v:n(e)<e?b:y)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?m(Array.from(e,cf)):m().map(of)},d.ticks=function(t){var n=m();return e(n[0],n[n.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?j:c(t)},d.nice=function(e){var n=m();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?m(xm(n,e)):d},d.copy=function(){return $u(d,df(e,t,n,r,a,s,i,l,o,c))},d}function uf(){return vd.apply(df(Rh,Lh,Mh,Eh,ph,dh,oh,ih,sh,Wh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mf(){return vd.apply(df(Dh,Ih,Ph,Oh,wh,uh,ch,lh,sh,Hh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hf(){var e,t,n,r,a,s=0,i=1,l=qu,o=!1;function c(t){return null==t||isNaN(t=+t)?a:l(0===n?.5:(t=(r(t)-e)*n,o?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var n,r;return arguments.length?([n,r]=t,l=e(n,r),c):[l(0),l(1)]}}return c.domain=function(a){return arguments.length?([s,i]=a,e=r(s=+s),t=r(i=+i),n=e===t?0:1/(t-e),c):[s,i]},c.clamp=function(e){return arguments.length?(o=!!e,c):o},c.interpolator=function(e){return arguments.length?(l=e,c):l},c.range=d(Bu),c.rangeRound=d(Uu),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(s),t=a(i),n=e===t?0:1/(t-e),c}}function pf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ff(){var e=hm(hf()(qu));return e.copy=function(){return pf(e,ff())},bd.apply(e,arguments)}function xf(){var e=Nm(hf()).domain([1,10]);return e.copy=function(){return pf(e,xf()).base(e.base())},bd.apply(e,arguments)}function gf(){var e=Cm(hf());return e.copy=function(){return pf(e,gf()).constant(e.constant())},bd.apply(e,arguments)}function vf(){var e=Pm(hf());return e.copy=function(){return pf(e,vf()).exponent(e.exponent())},bd.apply(e,arguments)}function bf(){return vf.apply(null,arguments).exponent(.5)}function yf(){var e=[],t=qu;function n(n){if(null!=n&&!isNaN(n=+n))return t((qd(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Ld),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>Hm(e,r/t))},n.copy=function(){return yf(t).domain(e)},bd.apply(n,arguments)}function jf(){var e,t,n,r,a,s,i,l=0,o=.5,c=1,d=1,u=qu,m=!1;function h(e){return isNaN(e=+e)?i:(e=.5+((e=+s(e))-t)*(d*e<d*t?r:a),u(m?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,u=function(e,t){void 0===t&&(t=e,e=Bu);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return s[t](e-t)}}(e,[n,r,a]),h):[u(0),u(.5),u(1)]}}return h.domain=function(i){return arguments.length?([l,o,c]=i,e=s(l=+l),t=s(o=+o),n=s(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),d=t<e?-1:1,h):[l,o,c]},h.clamp=function(e){return arguments.length?(m=!!e,h):m},h.interpolator=function(e){return arguments.length?(u=e,h):u},h.range=p(Bu),h.rangeRound=p(Uu),h.unknown=function(e){return arguments.length?(i=e,h):i},function(i){return s=i,e=i(l),t=i(o),n=i(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),d=t<e?-1:1,h}}function wf(){var e=hm(jf()(qu));return e.copy=function(){return pf(e,wf())},bd.apply(e,arguments)}function Nf(){var e=Nm(jf()).domain([.1,1,10]);return e.copy=function(){return pf(e,Nf()).base(e.base())},bd.apply(e,arguments)}function kf(){var e=Cm(jf());return e.copy=function(){return pf(e,kf()).constant(e.constant())},bd.apply(e,arguments)}function Af(){var e=Pm(jf());return e.copy=function(){return pf(e,Af()).exponent(e.exponent())},bd.apply(e,arguments)}function _f(){return Af.apply(null,arguments).exponent(.5)}!function(e){Uh=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,o=e.shortMonths,c=Zh(a),d=Qh(a),u=Zh(s),m=Qh(s),h=Zh(i),p=Qh(i),f=Zh(l),x=Qh(l),g=Zh(o),v=Qh(o),b={a:function(e){return i[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return o[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:null,d:vp,e:vp,f:Np,g:Dp,G:Rp,H:bp,I:yp,j:jp,L:wp,m:kp,M:Ap,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:sf,s:lf,S:_p,u:Cp,U:Sp,V:Op,w:Mp,W:Pp,x:null,X:null,y:Tp,Y:Ip,Z:Lp,"%":af},y={a:function(e){return i[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return o[e.getUTCMonth()]},B:function(e){return l[e.getUTCMonth()]},c:null,d:zp,e:zp,f:Hp,g:ef,G:nf,H:Fp,I:Bp,j:Up,L:Wp,m:qp,M:Kp,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:sf,s:lf,S:Vp,u:Gp,U:$p,V:Zp,w:Qp,W:Jp,x:null,X:null,y:Xp,Y:tf,Z:rf,"%":af},j={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:op,e:op,f:pp,g:ap,G:rp,H:dp,I:dp,j:cp,L:hp,m:lp,M:up,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=d.get(r[0].toLowerCase()),n+r[0].length):-1},q:ip,Q:xp,s:gp,S:mp,u:Xh,U:ep,V:tp,w:Jh,W:np,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:ap,Y:rp,Z:sp,"%":fp};function w(e,t){return function(n){var r,a,s,i=[],l=-1,o=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===e.charCodeAt(l)&&(i.push(e.slice(o,l)),null!=(a=qh[r=e.charAt(++l)])?r=e.charAt(++l):a="e"===r?" ":"0",(s=t[r])&&(r=s(n,a)),i.push(r),o=l+1);return i.push(e.slice(o,l)),i.join("")}}function N(e,t){return function(n){var r,a,s=Bh(1900,void 0,1);if(k(s,e,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(r=Fh(Bh(s.y,0,1))).getUTCDay(),r=a>4||0===a?Nh.ceil(r):Nh(r),r=uh.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(a=(r=zh(Bh(s.y,0,1))).getDay(),r=a>4||0===a?fh.ceil(r):fh(r),r=dh.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?Fh(Bh(s.y,0,1)).getUTCDay():zh(Bh(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,Fh(s)):zh(s)}}function k(e,t,n,r){for(var a,s,i=0,l=t.length,o=n.length;i<l;){if(r>=o)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(s=j[a in qh?t.charAt(i++):a])||(r=s(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),y.x=w(n,y),y.X=w(r,y),y.c=w(t,y),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),Wh=Uh.format,Uh.parse,Hh=Uh.utcFormat,Uh.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Cf=e=>e.chartData,Sf=lc([Cf],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ef=(e,t,n,r)=>r?Sf(e):Cf(e);function Of(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(Wa(t)&&Wa(n))return!0}return!1}function Mf(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Pf(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[a,s]=e;if(Wa(a))n=a;else if("function"===typeof a)return;if(Wa(s))r=s;else if("function"===typeof s)return;var i=[n,r];if(Of(i))return i}}var Tf,Df=__webpack_require__(4441),If=__webpack_require__.n(Df),Rf=e=>e,Lf={"@@functional/placeholder":!0},zf=e=>e===Lf,Ff=e=>function t(){return 0===arguments.length||1===arguments.length&&zf(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Bf=(e,t)=>1===e?t:Ff(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(e=>e!==Lf).length;return s>=e?t(...r):Bf(e-s,Ff(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var s=r.map(e=>zf(e)?n.shift():e);return t(...s,...n)}))}),Uf=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Wf=Bf((Tf=(e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)).length,Tf);function Hf(e){return 0===e?1:Math.floor(new(If())(e).abs().log(10).toNumber())+1}function qf(e,t,n){for(var r=new(If())(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var Kf=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},Vf=(e,t,n)=>{if(e.lte(0))return new(If())(0);var r=Hf(e.toNumber()),a=new(If())(10).pow(r),s=e.div(a),i=1!==r?.05:.1,l=new(If())(Math.ceil(s.div(i).toNumber())).add(n).mul(i).mul(a);return t?new(If())(l.toNumber()):new(If())(Math.ceil(l.toNumber()))},Gf=(e,t,n)=>{var r=new(If())(1),a=new(If())(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new(If())(10).pow(Hf(e)-1),a=new(If())(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new(If())(Math.floor(e)))}else 0===e?a=new(If())(Math.floor((t-1)/2)):n||(a=new(If())(Math.floor(e)));var i=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Rf;var r=t.reverse(),a=r[0],s=r.slice(1);return function(){return s.reduce((e,t)=>t(e),a(...arguments))}}(Wf(e=>a.add(new(If())(e-i).mul(r)).toNumber()),Uf)(0,t)},$f=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(If())(0),tickMin:new(If())(0),tickMax:new(If())(0)};var s,i=Vf(new(If())(t).sub(e).div(n-1),r,a);s=e<=0&&t>=0?new(If())(0):(s=new(If())(e).add(t).div(2)).sub(new(If())(s).mod(i));var l=Math.ceil(s.sub(e).div(i).toNumber()),o=Math.ceil(new(If())(t).sub(s).div(i).toNumber()),c=l+o+1;return c>n?$f(e,t,n,r,a+1):(c<n&&(o=t>0?o+(n-c):o,l=t>0?l:l+(n-c)),{step:i,tickMin:s.sub(new(If())(l).mul(i)),tickMax:s.add(new(If())(o).mul(i))})},Yf=e=>e.rootProps.stackOffset,Zf=e=>e.rootProps.reverseStackOrder,Qf=e=>e.options.chartName,Jf=e=>e.rootProps.syncId,Xf=e=>e.rootProps.syncMethod,ex=e=>e.options.eventEmitter;function tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tx(Object(n),!0).forEach(function(t){rx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ax=Math.PI/180,sx=e=>180*e/Math.PI,ix=(e,t,n,r)=>({x:e+Math.cos(-ax*r)*n,y:t+Math.sin(-ax*r)*n}),lx=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:s}=t,i=((e,t)=>{var{x:n,y:r}=e,{x:a,y:s}=t;return Math.sqrt((n-a)**2+(r-s)**2)})({x:n,y:r},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var l=(n-a)/i,o=Math.acos(l);return r>s&&(o=2*Math.PI-o),{radius:i,angle:sx(o),angleInRadian:o}},ox=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),s=Math.floor(r/360);return e+360*Math.min(a,s)},cx=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:s}=lx({x:n,y:r},t),{innerRadius:i,outerRadius:l}=t;if(a<i||a>l)return null;if(0===a)return null;var o,{startAngle:c,endAngle:d}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-360*s,endAngle:n-360*s}})(t),u=s;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;o=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;o=u>=d&&u<=c}return o?nx(nx({},t),{},{radius:a,angle:ox(u,t)}):null},dx={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ux=!0,mx=0,hx=!1,px="auto",fx=!0,xx="category",gx=(dx.axis,!1),vx=!0,bx=0,yx="auto",jx=!0,wx=5,Nx="number",kx=(dx.axis,(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t}),Ax={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:mx,includeHidden:!1,name:void 0,reversed:hx,scale:px,tick:fx,tickCount:void 0,ticks:void 0,type:xx,unit:void 0},_x={allowDataOverflow:gx,allowDecimals:!1,allowDuplicatedCategory:vx,dataKey:void 0,domain:void 0,id:bx,includeHidden:!1,name:void 0,reversed:!1,scale:yx,tick:jx,tickCount:wx,ticks:void 0,type:Nx,unit:void 0},Cx={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ux,dataKey:void 0,domain:void 0,id:mx,includeHidden:!1,name:void 0,reversed:!1,scale:px,tick:fx,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Sx={allowDataOverflow:gx,allowDecimals:!1,allowDuplicatedCategory:vx,dataKey:void 0,domain:void 0,id:bx,includeHidden:!1,name:void 0,reversed:!1,scale:yx,tick:jx,tickCount:wx,ticks:void 0,type:"category",unit:void 0},Ex=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?Cx:Ax,Ox=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?Sx:_x,Mx=e=>e.polarOptions,Px=lc([Kc,Vc,ed],function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2}),Tx=lc([Mx,Px],(e,t)=>{if(null!=e)return Ca(e.innerRadius,t,0)}),Dx=lc([Mx,Px],(e,t)=>{if(null!=e)return Ca(e.outerRadius,t,.8*t)}),Ix=lc([Mx],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),Rx=(lc([Ex,Ix],kx),lc([Px,Tx,Dx],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),Lx=(lc([Ox,Rx],kx),lc([hd,Mx,Tx,Dx,Kc,Vc],(e,t,n,r,a,s)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:i,cy:l,startAngle:o,endAngle:c}=t;return{cx:Ca(i,a,a/2),cy:Ca(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:o,endAngle:c,clockWise:!1}}})),zx=(e,t)=>t,Fx=(e,t,n)=>n;function Bx(e){return null===e||void 0===e?void 0:e.id}function Ux(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=n,i=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var l=Bx(e);n.forEach((t,n)=>{var r,o=null==s||a?n:String(Mc(t,s,null)),c=Mc(t,e.dataKey,0);r=i.has(o)?i.get(o):{},Object.assign(r,{[l]:c}),i.set(o,r)})}}),Array.from(i.values())}function Wx(e){return"stackId"in e&&null!=e.stackId&&null!=e.dataKey}var Hx=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function qx(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}var Kx=e=>{var t=hd(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},Vx=e=>e.tooltip.settings.axisId;function Gx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gx(Object(n),!0).forEach(function(t){Yx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zx=[0,"auto"],Qx={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Jx=(e,t)=>e.cartesianAxis.xAxis[t],Xx=(e,t)=>{var n=Jx(e,t);return null==n?Qx:n},eg={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Zx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},tg=(e,t)=>e.cartesianAxis.yAxis[t],ng=(e,t)=>{var n=tg(e,t);return null==n?eg:n},rg={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ag=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?rg:n},sg=(e,t,n)=>{switch(t){case"xAxis":return Xx(e,n);case"yAxis":return ng(e,n);case"zAxis":return ag(e,n);case"angleAxis":return Ex(e,n);case"radiusAxis":return Ox(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ig=(e,t,n)=>{switch(t){case"xAxis":return Xx(e,n);case"yAxis":return ng(e,n);case"angleAxis":return Ex(e,n);case"radiusAxis":return Ox(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},lg=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function og(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var cg=e=>e.graphicalItems.cartesianItems,dg=lc([zx,Fx],og),ug=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),mg=lc([cg,sg,dg],ug,{memoizeOptions:{resultEqualityCheck:qx}}),hg=lc([mg],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(Wx)),pg=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),fg=lc([mg],pg),xg=e=>e.map(e=>e.data).filter(Boolean).flat(1),gg=lc([mg],xg,{memoizeOptions:{resultEqualityCheck:qx}}),vg=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},bg=lc([gg,Ef],vg),yg=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Mc(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:Mc(e,t)}))):e.map(e=>({value:e})),jg=lc([bg,sg,mg],yg);function wg(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function Ng(e){if(ka(e)||e instanceof Date){var t=Number(e);if(Wa(t))return t}}function kg(e){if(Array.isArray(e)){var t=[Ng(e[0]),Ng(e[1])];return Of(t)?t:void 0}var n=Ng(e);if(null!=n)return[n,n]}function Ag(e){return e.map(Ng).filter(Ta)}var _g=e=>{var t=Kx(e),n=Vx(e);return ig(e,t,n)},Cg=lc([_g],e=>null===e||void 0===e?void 0:e.dataKey),Sg=lc([hg,Ef,_g],Ux),Eg=(e,t,n,r)=>{var a=t.reduce((e,t)=>{if(null==t.stackId)return e;var n=e[t.stackId];return null==n&&(n=[]),n.push(t),e[t.stackId]=n,e},{});return Object.fromEntries(Object.entries(a).map(t=>{var[a,s]=t,i=r?[...s].reverse():s,l=i.map(Bx);return[a,{stackedData:Lc(e,l,n),graphicalItems:i}]}))},Og=lc([Sg,hg,Yf,Zf],Eg),Mg=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(null==r&&"zAxis"!==n){var i=Fc(e,a,s);if(null==i||0!==i[0]||0!==i[1])return i}},Pg=lc([sg],e=>e.allowDataOverflow),Tg=e=>{var t;if(null==e||!("domain"in e))return Zx;if(null!=e.domain)return e.domain;if("ticks"in e&&null!=e.ticks){if("number"===e.type){var n=Ag(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:Zx},Dg=lc([sg],Tg),Ig=lc([Dg,Pg],Pf),Rg=lc([Og,Cf,zx,Ig],Mg,{memoizeOptions:{resultEqualityCheck:Hx}}),Lg=e=>e.errorBars,zg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var a=r.flat();return[Math.min(...a),Math.max(...a)]}},Fg=(e,t,n,r,a)=>{var s,i;if(n.length>0&&e.forEach(e=>{n.forEach(n=>{var l,o,c=null===(l=r[n.id])||void 0===l?void 0:l.filter(e=>wg(a,e)),d=Mc(e,null!==(o=t.dataKey)&&void 0!==o?o:n.dataKey),u=function(e,t,n){return!n||"number"!==typeof t||ja(t)?[]:n.length?Ag(n.flatMap(n=>{var r,a,s=Mc(e,n.dataKey);if(Array.isArray(s)?[r,a]=s:r=a=s,Wa(r)&&Wa(a))return[t-r,t+a]})):[]}(e,d,c);if(u.length>=2){var m=Math.min(...u),h=Math.max(...u);(null==s||m<s)&&(s=m),(null==i||h>i)&&(i=h)}var p=kg(d);null!=p&&(s=null==s?p[0]:Math.min(s,p[0]),i=null==i?p[1]:Math.max(i,p[1]))})}),null!=(null===t||void 0===t?void 0:t.dataKey)&&e.forEach(e=>{var n=kg(Mc(e,t.dataKey));null!=n&&(s=null==s?n[0]:Math.min(s,n[0]),i=null==i?n[1]:Math.max(i,n[1]))}),Wa(s)&&Wa(i))return[s,i]},Bg=lc([bg,sg,fg,Lg,zx],Fg,{memoizeOptions:{resultEqualityCheck:Hx}});function Ug(e){var{value:t}=e;if(ka(t)||t instanceof Date)return t}var Wg=e=>e.referenceElements.dots,Hg=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),qg=lc([Wg,zx,Fx],Hg),Kg=e=>e.referenceElements.areas,Vg=lc([Kg,zx,Fx],Hg),Gg=e=>e.referenceElements.lines,$g=lc([Gg,zx,Fx],Hg),Yg=(e,t)=>{if(null!=e){var n=Ag(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]}},Zg=lc(qg,zx,Yg),Qg=(e,t)=>{if(null!=e){var n=Ag(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]}},Jg=lc([Vg,zx],Qg);var Xg=(e,t)=>{if(null!=e){var n=e.flatMap(e=>"xAxis"===t?function(e){var t;if(null!=e.x)return Ag([e.x]);var n=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.x);return null==n||0===n.length?[]:Ag(n)}(e):function(e){var t;if(null!=e.y)return Ag([e.y]);var n=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.y);return null==n||0===n.length?[]:Ag(n)}(e));if(0!==n.length)return[Math.min(...n),Math.max(...n)]}},ev=lc([$g,zx],Xg),tv=lc(Zg,ev,Jg,(e,t,n)=>zg(e,n,t)),nv=(e,t,n,r,a,s,i,l)=>null!=n?n:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(Of(r))return Mf(r,t,n)}catch(h){}if(Array.isArray(e)&&2===e.length){var a,s,[i,l]=e;if("auto"===i)null!=t&&(a=Math.min(...t));else if(Na(i))a=i;else if("function"===typeof i)try{null!=t&&(a=i(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof i&&Bc.test(i)){var o=Bc.exec(i);if(null==o||null==o[1]||null==t)a=void 0;else{var c=+o[1];a=t[0]-c}}else a=null===t||void 0===t?void 0:t[0];if("auto"===l)null!=t&&(s=Math.max(...t));else if(Na(l))s=l;else if("function"===typeof l)try{null!=t&&(s=l(null===t||void 0===t?void 0:t[1]))}catch(f){}else if("string"===typeof l&&Uc.test(l)){var d=Uc.exec(l);if(null==d||null==d[1]||null==t)s=void 0;else{var u=+d[1];s=t[1]+u}}else s=null===t||void 0===t?void 0:t[1];var m=[a,s];if(Of(m))return null==t?m:Mf(m,t,n)}}}(t,"vertical"===i&&"xAxis"===l||"horizontal"===i&&"yAxis"===l?zg(r,s,a):zg(s,a),e.allowDataOverflow),rv=lc([sg,Dg,Ig,Rg,Bg,tv,hd,zx],nv,{memoizeOptions:{resultEqualityCheck:Hx}}),av=[0,1],sv=(e,t,n,r,a,s,i)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==i){var l,{dataKey:o,type:c}=e,d=Pc(t,s);return d&&null==o?gd()(0,null!==(l=null===n||void 0===n?void 0:n.length)&&void 0!==l?l:0):"category"===c?((e,t,n)=>{var r=e.map(Ug).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&Sa(r))?gd()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,d):"expand"===a?av:i}},iv=lc([sg,hd,bg,jg,Yf,zx,rv],sv),lv=(t,n,r,a,s)=>{if(null!=t){var{scale:i,type:l}=t;if("auto"===i)return"radial"===n&&"radiusAxis"===s?"band":"radial"===n&&"angleAxis"===s?"linear":"category"===l&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":"category"===l?"band":"linear";if("string"===typeof i){var o="scale".concat(Pa(i));return o in e?o:"point"}}},ov=lc([sg,hd,lg,Qf,zx],lv);function cv(t,n,r,a){if(null!=r&&null!=a){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(a);var s=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(Pa(t));return n in e?e[n]():void 0}}(n);if(null!=s){var i=s.domain(r).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-Ic,s=Math.max(r[0],r[1])+Ic,i=e(t[0]),l=e(t[n-1]);(i<a||i>s||l<a||l>s)&&e.domain([t[0],t[n-1]])}})(i),i}}}var dv=(e,t,n)=>{var r=Tg(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&Of(e)?function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(r,2),[i,l]=Kf([t,n]);if(i===-1/0||l===1/0){var o=l===1/0?[i,...Uf(0,r-1).map(()=>1/0)]:[...Uf(0,r-1).map(()=>-1/0),l];return t>n?o.reverse():o}if(i===l)return Gf(i,r,a);var{step:c,tickMin:d,tickMax:u}=$f(i,l,s,a,0),m=qf(d,u.add(new(If())(.1).mul(c)),c);return t>n?m.reverse():m}(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&Of(e)?function(e,t){var[n,r]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[s,i]=Kf([n,r]);if(s===-1/0||i===1/0)return[n,r];if(s===i)return[s];var l=Math.max(t,2),o=Vf(new(If())(i).sub(s).div(l-1),a,0),c=[...qf(new(If())(s),new(If())(i),o),i];return!1===a&&(c=c.map(e=>Math.round(e))),n>r?c.reverse():c}(e,t.tickCount,t.allowDecimals):void 0},uv=lc([iv,ig,ov],dv),mv=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&Of(t)&&Array.isArray(n)&&n.length>0){var a=t[0],s=n[0],i=t[1],l=n[n.length-1];return[Math.min(a,s),Math.max(i,l)]}return t},hv=lc([sg,iv,uv,zx],mv),pv=lc(jg,sg,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(Ag(e.map(e=>e.value))).sort((e,t)=>e-t),a=r[0],s=r[r.length-1];if(null==a||null==s)return 1/0;var i=s-a;if(0===i)return 1/0;for(var l=0;l<r.length-1;l++){var o=r[l],c=r[l+1];if(null!=o&&null!=c){var d=c-o;n=Math.min(n,d)}}return n/i}}),fv=lc(pv,hd,e=>e.rootProps.barCategoryGap,ed,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!Wa(e))return 0;var s="vertical"===t?r.height:r.width;if("gap"===a)return e*s/2;if("no-gap"===a){var i=Ca(n,e*s),l=e*s/2;return l-i-(l-i)/s*i}return 0}),xv=lc(Xx,(e,t,n)=>{var r=Xx(e,t);return null==r||"string"!==typeof r.padding?0:fv(e,"xAxis",t,n,r.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"===typeof a?{left:t,right:t}:{left:(null!==(n=a.left)&&void 0!==n?n:0)+t,right:(null!==(r=a.right)&&void 0!==r?r:0)+t}}),gv=lc(ng,(e,t,n)=>{var r=ng(e,t);return null==r||"string"!==typeof r.padding?0:fv(e,"yAxis",t,n,r.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"===typeof a?{top:t,bottom:t}:{top:(null!==(n=a.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=a.bottom)&&void 0!==r?r:0)+t}}),vv=lc([ed,xv,id,sd,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),bv=lc([ed,hd,gv,id,sd,(e,t,n)=>n],(e,t,n,r,a,s)=>{var{padding:i}=a;return s?[r.height-i.bottom,i.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),yv=(e,t,n,r)=>{var a;switch(t){case"xAxis":return vv(e,n,r);case"yAxis":return bv(e,n,r);case"zAxis":return null===(a=ag(e,n))||void 0===a?void 0:a.range;case"angleAxis":return Ix(e);case"radiusAxis":return Rx(e,n);default:return}},jv=lc([sg,yv],kx),wv=lc([sg,ov,hv,jv],cv);lc([mg,Lg,zx],(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>wg(n,e)));function Nv(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var kv=(e,t)=>t,Av=(e,t,n)=>n,_v=lc(Yc,kv,Av,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(Nv)),Cv=lc(Zc,kv,Av,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(Nv)),Sv=(e,t)=>({width:e.width,height:t.height}),Ev=lc(ed,Xx,Sv),Ov=lc(Vc,ed,_v,kv,Av,(e,t,n,r,a)=>{var s,i={};return n.forEach(n=>{var l=Sv(t,n);null==s&&(s=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var o="top"===r&&!a||"bottom"===r&&a;i[n.id]=s-Number(o)*l.height,s+=(o?-1:1)*l.height}),i}),Mv=lc(Kc,ed,Cv,kv,Av,(e,t,n,r,a)=>{var s,i={};return n.forEach(n=>{var l=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==s&&(s=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var o="left"===r&&!a||"right"===r&&a;i[n.id]=s-Number(o)*l.width,s+=(o?-1:1)*l.width}),i}),Pv=lc([ed,Xx,(e,t)=>{var n=Xx(e,t);if(null!=n)return Ov(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var a=null===n||void 0===n?void 0:n[r];return null==a?{x:e.left,y:0}:{x:e.left,y:a}}}),Tv=lc([ed,ng,(e,t)=>{var n=ng(e,t);if(null!=n)return Mv(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var a=null===n||void 0===n?void 0:n[r];return null==a?{x:0,y:e.top}:{x:a,y:e.top}}}),Dv=lc(ed,ng,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),Iv=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:a,type:s,dataKey:i}=n,l=Pc(e,r),o=t.map(e=>e.value);return i&&l&&"category"===s&&a&&Sa(o)?o:void 0}},Rv=lc([hd,jg,sg,zx],Iv),Lv=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:a,scale:s}=n;return!Pc(e,r)||"number"!==a&&"auto"===s?void 0:t.map(e=>e.value)}},zv=lc([hd,jg,ig,zx],Lv),Fv=lc([hd,(e,t,n)=>{switch(t){case"xAxis":return Xx(e,n);case"yAxis":return ng(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ov,wv,Rv,zv,yv,uv,zx],(e,t,n,r,a,s,i,l,o)=>{if(null!=t){var c=Pc(e,o);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:o,categoricalDomain:s,duplicateDomain:a,isCategorical:c,niceTicks:l,range:i,realScaleType:n,scale:r}}}),Bv=lc([hd,ig,ov,wv,uv,yv,Rv,zv,zx],(e,t,n,r,a,s,i,l,o)=>{if(null!=t&&null!=r){var c=Pc(e,o),{type:d,ticks:u,tickCount:m}=t,h="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,p="category"===d&&r.bandwidth?r.bandwidth()/h:0;p="angleAxis"===o&&null!=s&&s.length>=2?2*ya(s[0]-s[1])*p:p;var f=u||a;return f?f.map((e,t)=>{var n=i?i.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>Wa(e.coordinate)):c&&l?l.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})).filter(e=>Wa(e.coordinate)):r.ticks?r.ticks(m).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:i?i[e]:e,index:t,offset:p}))}}),Uv=lc([hd,ig,wv,yv,Rv,zv,zx],(e,t,n,r,a,s,i)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var l=Pc(e,i),{tickCount:o}=t,c=0;return c="angleAxis"===i&&(null===r||void 0===r?void 0:r.length)>=2?2*ya(r[0]-r[1])*c:c,l&&s?s.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(o).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),Wv=lc(sg,wv,(e,t)=>{if(null!=e&&null!=t)return $x($x({},e),{},{scale:t})}),Hv=lc([sg,ov,iv,jv],cv),qv=(lc((e,t,n)=>ag(e,n),Hv,(e,t)=>{if(null!=e&&null!=t)return $x($x({},e),{},{scale:t})}),lc([hd,Yc,Zc],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),Kv=e=>e.options.defaultTooltipEventType,Vv=e=>e.options.validateTooltipEventTypes;function Gv(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function $v(e,t){return Gv(t,Kv(e),Vv(e))}var Yv=(e,t)=>{var n,r=Number(t);if(!ja(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function Zv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zv(Object(n),!0).forEach(function(t){Jv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xv=(e,t,n,r)=>{if(null==t)return So;var a=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==a)return So;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var s=!0===e.settings.active;if(null!=a.index){if(s)return Qv(Qv({},a),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Qv(Qv({},So),{},{coordinate:a.coordinate})};function eb(e,t){var n=function(e){if("number"===typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}(e),r=t[0],a=t[1];if(void 0===n)return!1;var s=Math.min(r,a),i=Math.max(r,a);return n>=s&&n<=i}var tb=(e,t,n,r)=>{var a=null===e||void 0===e?void 0:e.index;if(null==a)return null;var s=Number(a);if(!Wa(s))return a;var i=1/0;t.length>0&&(i=t.length-1);var l=Math.max(0,Math.min(s,i)),o=t[l];return null==o||function(e,t,n){if(null==n||null==t)return!0;var r=Mc(e,t);return null==r||!Of(n)||eb(r,n)}(o,n,r)?String(l):null},nb=(e,t,n,r,a,s,i,l)=>{if(null!=s&&null!=l){var o=i[0],c=null==o?void 0:l(o.positions,s);if(null!=c)return c;var d=null===a||void 0===a?void 0:a[Number(s)];if(d)return"horizontal"===n?{x:d.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:d.coordinate}}},rb=(e,t,n,r)=>{if("axis"===t)return e.tooltipItemPayloads;if(0===e.tooltipItemPayloads.length)return[];var a;if(null==(a="hover"===n?e.itemInteraction.hover.graphicalItemId:e.itemInteraction.click.graphicalItemId)&&null!=r){var s=e.tooltipItemPayloads[0];return null!=s?[s]:[]}return e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.graphicalItemId)===a})},ab=e=>e.options.tooltipPayloadSearcher,sb=e=>e.tooltip;function ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ib(Object(n),!0).forEach(function(t){ob(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ib(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ob(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cb=(e,t,n,r,a,s,i)=>{if(null!=t&&null!=s){var{chartData:l,computedData:o,dataStartIndex:c,dataEndIndex:d}=n;return e.reduce((e,n)=>{var u,m,h,{dataDefinedOnItem:p,settings:f}=n,x=function(e,t){return null!=e?e:t}(p,l),g=Array.isArray(x)?Cc(x,c,d):x,v=null!==(u=null===f||void 0===f?void 0:f.dataKey)&&void 0!==u?u:r,b=null===f||void 0===f?void 0:f.nameKey;(m=r&&Array.isArray(g)&&!Array.isArray(g[0])&&"axis"===i?Oa(g,r,a):s(g,t,o,b),Array.isArray(m))?m.forEach(t=>{var n=lb(lb({},f),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Hc({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:Mc(t.payload,t.dataKey),name:t.name}))}):e.push(Hc({tooltipEntrySettings:f,dataKey:v,payload:m,value:Mc(m,v),name:null!==(h=Mc(m,b))&&void 0!==h?h:null===f||void 0===f?void 0:f.name}));return e},[])}},db=lc([_g,hd,lg,Qf,Kx],lv),ub=lc([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),mb=lc([Kx,Vx],og),hb=lc([ub,_g,mb],ug,{memoizeOptions:{resultEqualityCheck:qx}}),pb=lc([hb],e=>e.filter(Wx)),fb=lc([hb],xg,{memoizeOptions:{resultEqualityCheck:qx}}),xb=lc([fb,Cf],vg),gb=lc([pb,Cf,_g],Ux),vb=lc([xb,_g,hb],yg),bb=lc([_g],Tg),yb=lc([_g],e=>e.allowDataOverflow),jb=lc([bb,yb],Pf),wb=lc([hb],e=>e.filter(Wx)),Nb=lc([gb,wb,Yf,Zf],Eg),kb=lc([Nb,Cf,Kx,jb],Mg),Ab=lc([hb],pg),_b=lc([xb,_g,Ab,Lg,Kx],Fg,{memoizeOptions:{resultEqualityCheck:Hx}}),Cb=lc([Wg,Kx,Vx],Hg),Sb=lc([Cb,Kx],Yg),Eb=lc([Kg,Kx,Vx],Hg),Ob=lc([Eb,Kx],Qg),Mb=lc([Gg,Kx,Vx],Hg),Pb=lc([Mb,Kx],Xg),Tb=lc([Sb,Pb,Ob],zg),Db=lc([_g,bb,jb,kb,_b,Tb,hd,Kx],nv),Ib=lc([_g,hd,xb,vb,Yf,Kx,Db],sv),Rb=lc([Ib,_g,db],dv),Lb=lc([_g,Ib,Rb,Kx],mv),zb=e=>{var t=Kx(e),n=Vx(e);return yv(e,t,n,!1)},Fb=lc([_g,zb],kx),Bb=lc([_g,db,Lb,Fb],cv),Ub=lc([hd,vb,_g,Kx],Iv),Wb=lc([hd,vb,_g,Kx],Lv),Hb=lc([hd,_g,db,Bb,zb,Ub,Wb,Kx],(e,t,n,r,a,s,i,l)=>{if(t){var{type:o}=t,c=Pc(e,l);if(r){var d="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,u="category"===o&&r.bandwidth?r.bandwidth()/d:0;return u="angleAxis"===l&&null!=a&&(null===a||void 0===a?void 0:a.length)>=2?2*ya(a[0]-a[1])*u:u,c&&i?i.map((e,t)=>({coordinate:r(e)+u,value:e,index:t,offset:u})):r.domain().map((e,t)=>({coordinate:r(e)+u,value:s?s[e]:e,index:t,offset:u}))}}}),qb=lc([Kv,Vv,e=>e.tooltip.settings],(e,t,n)=>Gv(n.shared,e,t)),Kb=e=>e.tooltip.settings.trigger,Vb=e=>e.tooltip.settings.defaultIndex,Gb=lc([sb,qb,Kb,Vb],Xv),$b=lc([Gb,xb,Cg,Ib],tb),Yb=lc([Hb,$b],Yv),Zb=lc([Gb],e=>{if(e)return e.dataKey}),Qb=(lc([Gb],e=>{if(e)return e.graphicalItemId}),lc([sb,qb,Kb,Vb],rb)),Jb=lc([Kc,Vc,hd,ed,Hb,Vb,Qb,ab],nb),Xb=lc([Gb,Jb],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),ey=lc([Gb],e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.active)&&void 0!==t&&t}),ty=lc([Qb,$b,Cf,Cg,Yb,ab,qb],cb),ny=lc([ty],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function ry(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ay(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ry(Object(n),!0).forEach(function(t){sy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ry(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iy=(e,t,n,r,a)=>{var s,i=null!==(s=null===t||void 0===t?void 0:t.length)&&void 0!==s?s:0;if(i<=1||null==e)return 0;if("angleAxis"===r&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<i;l++){var o,c,d,u,m,h=l>0?null===(o=n[l-1])||void 0===o?void 0:o.coordinate:null===(c=n[i-1])||void 0===c?void 0:c.coordinate,p=null===(d=n[l])||void 0===d?void 0:d.coordinate,f=l>=i-1?null===(u=n[0])||void 0===u?void 0:u.coordinate:null===(m=n[l+1])||void 0===m?void 0:m.coordinate,x=void 0;if(null!=h&&null!=p&&null!=f)if(ya(p-h)!==ya(f-p)){var g=[];if(ya(f-p)===ya(a[1]-a[0])){x=f;var v=p+a[1]-a[0];g[0]=Math.min(v,(v+h)/2),g[1]=Math.max(v,(v+h)/2)}else{x=h;var b=f+a[1]-a[0];g[0]=Math.min(p,(b+p)/2),g[1]=Math.max(p,(b+p)/2)}var y,j=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(e>j[0]&&e<=j[1]||e>=g[0]&&e<=g[1])return null===(y=n[l])||void 0===y?void 0:y.index}else{var w,N=Math.min(h,f),k=Math.max(h,f);if(e>(N+p)/2&&e<=(k+p)/2)return null===(w=n[l])||void 0===w?void 0:w.index}}else if(t)for(var A=0;A<i;A++){var _=t[A];if(null!=_){var C=t[A+1],S=t[A-1];if(0===A&&null!=C&&e<=(_.coordinate+C.coordinate)/2)return _.index;if(A===i-1&&null!=S&&e>(_.coordinate+S.coordinate)/2)return _.index;if(A>0&&A<i-1&&null!=S&&null!=C&&e>(_.coordinate+S.coordinate)/2&&e<=(_.coordinate+C.coordinate)/2)return _.index}}return-1},ly=()=>xc(Qf),oy=(e,t)=>t,cy=(e,t,n)=>n,dy=(e,t,n,r)=>r,uy=lc(Hb,e=>vc()(e,e=>e.coordinate)),my=lc([sb,oy,cy,dy],Xv),hy=lc([my,xb,Cg,Ib],tb),py=lc([sb,oy,cy,dy],rb),fy=lc([Kc,Vc,hd,ed,Hb,dy,py,ab],nb),xy=lc([my,fy],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),gy=lc([Hb,hy],Yv),vy=lc([py,hy,Cf,Cg,gy,ab,oy],cb),by=lc([my,hy],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t})),yy=(e,t,n,r,a,s,i)=>{if(e&&r&&a&&s&&n){var l=cx(e,n);if(l){var o=((e,t)=>"centric"===t?e.angle:e.radius)(l,t),c=iy(o,i,s,r,a),d=((e,t,n,r)=>{var a=t.find(e=>e&&e.index===n);if(a){if("centric"===e){var s=a.coordinate,{radius:i}=r;return ay(ay(ay({},r),ix(r.cx,r.cy,i,s)),{},{angle:s,radius:i})}var l=a.coordinate,{angle:o}=r;return ay(ay(ay({},r),ix(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,s,c,l);return{activeIndex:String(c),activeCoordinate:d}}}},jy=lc([(e,t)=>t,hd,Lx,Kx,Fb,Hb,uy,ed],(e,t,n,r,a,s,i,l)=>{if(e&&t&&r&&a&&s)return"horizontal"===t||"vertical"===t?((e,t,n,r,a,s,i)=>{if(e&&n&&r&&a&&function(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}(e,i)){var l=((e,t)=>"horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0)(e,t),o=iy(l,s,a,n,r),c=((e,t,n,r)=>{var a=t.find(e=>e&&e.index===n);if(a){if("horizontal"===e)return{x:a.coordinate,y:r.chartY};if("vertical"===e)return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}})(t,a,o,e);return{activeIndex:String(o),activeCoordinate:c}}})(e,t,r,a,s,i,l):yy(e,t,n,r,a,s,i)}),wy=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Ny=_i("mouseClick"),ky=bl();ky.startListening({actionCreator:Ny,effect:(e,t)=>{var n=e.payload,r=jy(t.getState(),wy(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(Fo({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Ay=_i("mouseMove"),_y=bl(),Cy=null;function Sy(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"===typeof t&&null!==t?"<<CHILDREN>>":t}function Ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Oy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ey(Object(n),!0).forEach(function(t){My(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ey(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function My(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_y.startListening({actionCreator:Ay,effect:(e,t)=>{var n=e.payload;null!==Cy&&cancelAnimationFrame(Cy);var r=wy(n);Cy=requestAnimationFrame(()=>{var e=t.getState();if("axis"===$v(e,e.tooltip.settings.shared)){var n=jy(e,r);null!=(null===n||void 0===n?void 0:n.activeIndex)?t.dispatch(zo({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate})):t.dispatch(Ro())}Cy=null})}});var Py=Ui({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Mi()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.xAxis[n.id]&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Mi()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Mi()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Mi()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.yAxis[n.id]&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Mi()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Mi()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Mi()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.zAxis[n.id]&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Mi()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Mi()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var s=a.widthHistory||[];if(3===s.length&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var i=[...s,r].slice(-3);e.yAxis[n]=Oy(Oy({},e.yAxis[n]),{},{width:r,widthHistory:i})}}}}),{addXAxis:Ty,replaceXAxis:Dy,removeXAxis:Iy,addYAxis:Ry,replaceYAxis:Ly,removeYAxis:zy,addZAxis:Fy,replaceZAxis:By,removeZAxis:Uy,updateYAxisWidth:Wy}=Py.actions,Hy=Py.reducer,qy=Ui({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Mi()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=oi(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:Mi()},removeCartesianGraphicalItem:{reducer(e,t){var n=oi(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Mi()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Mi()},removePolarGraphicalItem:{reducer(e,t){var n=oi(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Mi()}}}),{addCartesianGraphicalItem:Ky,replaceCartesianGraphicalItem:Vy,removeCartesianGraphicalItem:Gy,addPolarGraphicalItem:$y,removePolarGraphicalItem:Yy}=qy.actions,Zy=qy.reducer,Qy=Ui({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=oi(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=oi(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=oi(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:Jy,removeDot:Xy,addArea:ej,removeArea:tj,addLine:nj,removeLine:rj}=Qy.actions,aj=Qy.reducer,sj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ij=Ui({name:"brush",initialState:sj,reducers:{setBrushSettings:(e,t)=>null==t.payload?sj:t.payload}}),{setBrushSettings:lj}=ij.actions,oj=ij.reducer,cj=Ui({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Mi()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=oi(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:Mi()},removeLegendPayload:{reducer(e,t){var n=oi(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Mi()}}}),{setLegendSize:dj,setLegendSettings:uj,addLegendPayload:mj,replaceLegendPayload:hj,removeLegendPayload:pj}=cj.actions,fj=cj.reducer,xj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},gj=Ui({name:"rootProps",initialState:xj,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:xj.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),vj=gj.reducer,{updateOptions:bj}=gj.actions,yj=Ui({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:jj,removeRadiusAxis:wj,addAngleAxis:Nj,removeAngleAxis:kj}=yj.actions,Aj=yj.reducer,_j=Ui({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Cj}=_j.actions,Sj=_j.reducer,Ej=_i("keyDown"),Oj=_i("focus"),Mj=bl();Mj.startListening({actionCreator:Ej,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var s=tb(r,xb(n),Cg(n),Ib(n)),i=null==s?-1:Number(s);if(Number.isFinite(i)&&!(i<0)){var l=Hb(n);if("Enter"!==a){var o=i+("ArrowRight"===a?1:-1)*("left-to-right"===qv(n)?1:-1);if(!(null==l||o>=l.length||o<0)){var c=fy(n,"axis","hover",String(o));t.dispatch(Uo({active:!0,activeIndex:o.toString(),activeCoordinate:c}))}}else{var d=fy(n,"axis","hover",String(r.index));t.dispatch(Uo({active:!r.active,activeIndex:r.index,activeCoordinate:d}))}}}}}}),Mj.startListening({actionCreator:Oj,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var a=fy(n,"axis","hover",String("0"));t.dispatch(Uo({active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var Pj=_i("externalEvent"),Tj=bl(),Dj=new Map;Tj.startListening({actionCreator:Pj,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(null!=n){r.persist();var a=r.type,s=Dj.get(a);void 0!==s&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var e=t.getState(),s={activeCoordinate:Xb(e),activeDataKey:Zb(e),activeIndex:$b(e),activeLabel:Yb(e),activeTooltipIndex:$b(e),isTooltipActive:ey(e)};n(s,r)}finally{Dj.delete(a)}});Dj.set(a,i)}}});var Ij=lc([sb],e=>e.tooltipItemPayloads),Rj=lc([Ij,ab,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(e=>e.settings.graphicalItemId===r);if(null!=a){var{positions:s}=a;if(null!=s)return t(s,n)}}),Lj=_i("touchMove"),zj=bl();zj.startListening({actionCreator:Lj,effect:(e,t)=>{var n=e.payload;if(null!=n.touches&&0!==n.touches.length){var r=t.getState(),a=$v(r,r.tooltip.settings.shared);if("axis"===a){var s=n.touches[0];if(null==s)return;var i=jy(r,wy({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));null!=(null===i||void 0===i?void 0:i.activeIndex)&&t.dispatch(zo({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===a){var l,o=n.touches[0];if(null==document.elementFromPoint||null==o)return;var c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute("data-recharts-item-index"),u=null!==(l=c.getAttribute("data-recharts-item-id"))&&void 0!==l?l:void 0,m=hb(r).find(e=>e.id===u);if(null==d||null==m||null==u)return;var{dataKey:h}=m,p=Rj(r,d,u);t.dispatch(Do({activeDataKey:h,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:u}))}}}});var Fj=Ui({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(e=>e.dataKey===r.dataKey&&e.direction===r.direction?a:e))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:Bj,replaceErrorBar:Uj,removeErrorBar:Wj}=Fj.actions,Hj=Fj.reducer,qj=!0,Kj=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function Vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vj(Object(n),!0).forEach(function(t){$j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $j(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yj={zIndexMap:Object.values(dx).reduce((e,t)=>Gj(Gj({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),{})},Zj=new Set(Object.values(dx));var Qj=Ui({name:"zIndex",initialState:Yj,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Mi()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!function(e){return Zj.has(e)}(n)&&delete e.zIndexMap[n])},prepare:Mi()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:Mi()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Mi()}}}),{registerZIndexPortal:Jj,unregisterZIndexPortal:Xj,registerZIndexPortalElement:ew,unregisterZIndexPortalElement:tw}=Qj.actions,nw=vi({brush:oj,cartesianAxis:Hy,chartData:Go,errorBars:Hj,graphicalItems:Zy,layout:Xo,legend:fj,options:Nl,polarAxis:Aj,polarOptions:Sj,referenceElements:aj,rootProps:vj,tooltip:Wo,zIndex:Qj.reducer});function rw(e){var{preloadedState:n,children:r,reduxStoreName:a}=e,s=ad(),i=(0,t.useRef)(null);if(s)return r;null==i.current&&(i.current=function(e){return Di({reducer:nw,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([ky.middleware,_y.middleware,Mj.middleware,Tj.middleware,zj.middleware]),enhancers:e=>{var t=e;return"function"===typeof e&&(t=e()),t.concat(Ti({type:"raf"}))},devTools:qj&&{serialize:{replacer:Sy},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(n,a));var l=dc;return t.createElement(Ll,{context:l,store:i.current},r)}var aw=e=>{var{chartData:n}=e,r=mc(),a=ad();return(0,t.useEffect)(()=>a?()=>{}:(r(qo(n)),()=>{r(qo(void 0))}),[n,r,a]),null},sw=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function iw(e,t){return null==e&&null==t||("number"===typeof e&&"number"===typeof t?e===t||e!==e&&t!==t:e===t)}function lw(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(sw.has(r)){if(null==e[r]&&null==t[r])continue;if(!Pl(e[r],t[r]))return!1}else if(!iw(e[r],t[r]))return!1;return!0}function ow(e){var{layout:n,margin:r}=e,a=mc(),s=ad();return(0,t.useEffect)(()=>{s||(a(Zo(n)),a(Yo(r)))},[a,s,n,r]),null}var cw=(0,t.memo)(ow,lw);function dw(e){var n=mc();return(0,t.useEffect)(()=>{n(bj(e))},[n,e]),null}var uw=()=>{var e;return null===(e=xc(e=>e.rootProps.accessibilityLayer))||void 0===e||e},mw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function hw(e){return"string"===typeof e&&mw.includes(e)}var pw=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function fw(e){return"string"===typeof e&&pw.has(e)}function xw(e){return"string"===typeof e&&e.startsWith("data-")}function gw(e){if("object"!==typeof e||null===e)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(fw(n)||xw(n))&&(t[n]=e[n]);return t}function vw(e){return null==e?null:(0,t.isValidElement)(e)&&"object"===typeof e.props&&null!==e.props?gw(e.props):"object"!==typeof e||Array.isArray(e)?null:gw(e)}function bw(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(fw(n)||xw(n)||hw(n))&&(t[n]=e[n]);return t}var yw=["children","width","height","viewBox","className","style","title","desc"];function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(null,arguments)}var ww=(0,t.forwardRef)((e,n)=>{var{children:r,width:a,height:s,viewBox:i,className:l,style:o,title:c,desc:d}=e,u=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,yw),m=i||{width:a,height:s,x:0,y:0},h=(0,ha.$)("recharts-surface",l);return t.createElement("svg",jw({},bw(u),{className:h,width:a,height:s,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:n}),t.createElement("title",null,c),t.createElement("desc",null,d),r)}),Nw=lc(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(null!=t){var r=e[t];if(null!=r)return n?r.panoramaElement:r.element}}),kw=lc(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(dx));return Array.from(new Set(t)).sort((e,t)=>e-t)},{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}}});function Aw(e){var{zIndex:n,isPanorama:r}=e,a=(0,t.useRef)(null),s=mc();return(0,t.useLayoutEffect)(()=>(a.current&&s(ew({zIndex:n,element:a.current,isPanorama:r})),()=>{s(tw({zIndex:n,isPanorama:r}))}),[s,n,r]),t.createElement("g",{tabIndex:-1,ref:a})}function _w(e){var{children:n,isPanorama:r}=e,a=xc(kw);if(!a||0===a.length)return n;var s=a.filter(e=>e<0),i=a.filter(e=>e>0);return t.createElement(t.Fragment,null,s.map(e=>t.createElement(Aw,{key:e,zIndex:e,isPanorama:r})),n,i.map(e=>t.createElement(Aw,{key:e,zIndex:e,isPanorama:r})))}var Cw=["children"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sw.apply(null,arguments)}var Ew={width:"100%",height:"100%",display:"block"},Ow=(0,t.forwardRef)((e,n)=>{var r=ud(),a=md(),s=uw();if(!Ha(r)||!Ha(a))return null;var i,l,{children:o,otherAttributes:c,title:d,desc:u}=e;return null!=c&&(i="number"===typeof c.tabIndex?c.tabIndex:s?0:void 0,l="string"===typeof c.role?c.role:s?"application":void 0),t.createElement(ww,Sw({},c,{title:d,desc:u,role:l,tabIndex:i,width:r,height:a,style:Ew,ref:n}),o)}),Mw=e=>{var{children:n}=e,r=xc(id);if(!r)return null;var{width:a,height:s,y:i,x:l}=r;return t.createElement(ww,{width:a,height:s,x:l,y:i},n)},Pw=(0,t.forwardRef)((e,n)=>{var{children:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Cw);return ad()?t.createElement(Mw,null,t.createElement(_w,{isPanorama:!0},r)):t.createElement(Ow,Sw({ref:n},a),t.createElement(_w,{isPanorama:!1},r))});var Tw=new(__webpack_require__(5438)),Dw="recharts.syncEvent.tooltip",Iw="recharts.syncEvent.brush";function Rw(e){return e.tooltip.syncInteraction}var Lw=["x","y"];function zw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zw(Object(n),!0).forEach(function(t){Bw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uw(){var e=xc(Jf),n=xc(ex),r=mc(),a=xc(Xf),s=xc(Hb),i=pd(),l=od(),o=xc(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return Da;var t=(t,o,c)=>{var d;if(n!==c&&e===t)if("index"!==a){if(null!=s){var u;if("function"===typeof a){var m={activeTooltipIndex:null==o.payload.index?void 0:Number(o.payload.index),isTooltipActive:o.payload.active,activeIndex:null==o.payload.index?void 0:Number(o.payload.index),activeLabel:o.payload.label,activeDataKey:o.payload.dataKey,activeCoordinate:o.payload.coordinate},h=a(s,m);u=s[h]}else"value"===a&&(u=s.find(e=>String(e.value)===o.payload.label));var{coordinate:p}=o.payload;if(null!=u&&!1!==o.payload.active&&null!=p&&null!=l){var{x:f,y:x}=p,g=Math.min(f,l.x+l.width),v=Math.min(x,l.y+l.height),b={x:"horizontal"===i?u.coordinate:g,y:"horizontal"===i?v:u.coordinate},y=Bo({active:o.payload.active,coordinate:b,dataKey:o.payload.dataKey,index:String(u.index),label:o.payload.label,sourceViewBox:o.payload.sourceViewBox,graphicalItemId:o.payload.graphicalItemId});r(y)}else r(Bo({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}))}}else if(l&&null!==o&&void 0!==o&&null!==(d=o.payload)&&void 0!==d&&d.coordinate&&o.payload.sourceViewBox){var j=o.payload.coordinate,{x:w,y:N}=j,k=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(j,Lw),{x:A,y:_,width:C,height:S}=o.payload.sourceViewBox,E=Fw(Fw({},k),{},{x:l.x+(C?(w-A)/C:0)*l.width,y:l.y+(S?(N-_)/S:0)*l.height});r(Fw(Fw({},o),{},{payload:Fw(Fw({},o.payload),{},{coordinate:E})}))}else r(o)};return Tw.on(Dw,t),()=>{Tw.off(Dw,t)}},[o,r,n,e,a,s,i,l])}function Ww(){var e=mc();(0,t.useEffect)(()=>{e(kl())},[e]),Uw(),function(){var e=xc(Jf),n=xc(ex),r=mc();(0,t.useEffect)(()=>{if(null==e)return Da;var t=(t,a,s)=>{n!==s&&e===t&&r(Ko(a))};return Tw.on(Iw,t),()=>{Tw.off(Iw,t)}},[r,n,e])}()}function Hw(e,n,r,a,s,i){var l=xc(t=>((e,t,n)=>{if(null!=t){var r=sb(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(t,e,n)),o=xc(ex),c=xc(Jf),d=xc(Xf),u=xc(Rw),m=null===u||void 0===u?void 0:u.active,h=od();(0,t.useEffect)(()=>{if(!m&&null!=c&&null!=o){var e=Bo({active:i,coordinate:r,dataKey:l,index:s,label:"number"===typeof a?String(a):a,sourceViewBox:h,graphicalItemId:void 0});Tw.emit(Dw,c,e,o)}},[m,r,l,s,a,o,c,d,i,h])}var qw=(0,t.createContext)(null),Kw=(0,t.createContext)(null);function Vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vw(Object(n),!0).forEach(function(t){$w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yw.apply(null,arguments)}var Zw=()=>(Ww(),null);function Qw(e){if("number"===typeof e)return e;if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Jw=(0,t.forwardRef)((e,n)=>{var r,a,s=(0,t.useRef)(null),[i,l]=(0,t.useState)({containerWidth:Qw(null===(r=e.style)||void 0===r?void 0:r.width),containerHeight:Qw(null===(a=e.style)||void 0===a?void 0:a.height)}),o=(0,t.useCallback)((e,t)=>{l(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]),c=(0,t.useCallback)(e=>{if("function"===typeof n&&n(e),null!=e&&"undefined"!==typeof ResizeObserver){var{width:t,height:r}=e.getBoundingClientRect();o(t,r);var a=new ResizeObserver(e=>{var{width:t,height:n}=e[0].contentRect;o(t,n)});a.observe(e),s.current=a}},[n,o]);return(0,t.useEffect)(()=>()=>{var e=s.current;null!=e&&e.disconnect()},[o]),t.createElement(t.Fragment,null,t.createElement(fd,{width:i.containerWidth,height:i.containerHeight}),t.createElement("div",Yw({ref:c},e)))}),Xw=(0,t.forwardRef)((e,n)=>{var{width:r,height:a}=e,[s,i]=(0,t.useState)({containerWidth:Qw(r),containerHeight:Qw(a)}),l=(0,t.useCallback)((e,t)=>{i(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]),o=(0,t.useCallback)(e=>{if("function"===typeof n&&n(e),null!=e){var{width:t,height:r}=e.getBoundingClientRect();l(t,r)}},[n,l]);return t.createElement(t.Fragment,null,t.createElement(fd,{width:s.containerWidth,height:s.containerHeight}),t.createElement("div",Yw({ref:o},e)))}),eN=(0,t.forwardRef)((e,n)=>{var{width:r,height:a}=e;return t.createElement(t.Fragment,null,t.createElement(fd,{width:r,height:a}),t.createElement("div",Yw({ref:n},e)))}),tN=(0,t.forwardRef)((e,n)=>{var{width:r,height:a}=e;return wa(r)||wa(a)?t.createElement(Xw,Yw({},e,{ref:n})):t.createElement(eN,Yw({},e,{ref:n}))});var nN=(0,t.forwardRef)((e,n)=>{var{children:r,className:a,height:s,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:m,onMouseUp:h,onTouchEnd:p,onTouchMove:f,onTouchStart:x,style:g,width:v,responsive:b,dispatchTouchEvents:y=!0}=e,j=(0,t.useRef)(null),w=mc(),[N,k]=(0,t.useState)(null),[A,_]=(0,t.useState)(null),C=function(){var e=mc(),[n,r]=(0,t.useState)(null),a=xc(Gc);return(0,t.useEffect)(()=>{if(null!=n){var t=n.getBoundingClientRect().width/n.offsetWidth;Wa(t)&&t!==a&&e(Jo(t))}},[n,e,a]),r}(),S=Za(),E=(null===S||void 0===S?void 0:S.width)>0?S.width:v,O=(null===S||void 0===S?void 0:S.height)>0?S.height:s,M=(0,t.useCallback)(e=>{C(e),"function"===typeof n&&n(e),k(e),_(e),null!=e&&(j.current=e)},[C,n,k,_]),P=(0,t.useCallback)(e=>{w(Ny(e)),w(Pj({handler:i,reactEvent:e}))},[w,i]),T=(0,t.useCallback)(e=>{w(Ay(e)),w(Pj({handler:d,reactEvent:e}))},[w,d]),D=(0,t.useCallback)(e=>{w(Ro()),w(Pj({handler:u,reactEvent:e}))},[w,u]),I=(0,t.useCallback)(e=>{w(Ay(e)),w(Pj({handler:m,reactEvent:e}))},[w,m]),R=(0,t.useCallback)(()=>{w(Oj())},[w]),L=(0,t.useCallback)(e=>{w(Ej(e.key))},[w]),z=(0,t.useCallback)(e=>{w(Pj({handler:l,reactEvent:e}))},[w,l]),F=(0,t.useCallback)(e=>{w(Pj({handler:o,reactEvent:e}))},[w,o]),B=(0,t.useCallback)(e=>{w(Pj({handler:c,reactEvent:e}))},[w,c]),U=(0,t.useCallback)(e=>{w(Pj({handler:h,reactEvent:e}))},[w,h]),W=(0,t.useCallback)(e=>{w(Pj({handler:x,reactEvent:e}))},[w,x]),H=(0,t.useCallback)(e=>{y&&w(Lj(e)),w(Pj({handler:f,reactEvent:e}))},[w,y,f]),q=(0,t.useCallback)(e=>{w(Pj({handler:p,reactEvent:e}))},[w,p]),K=function(e){return!0===e?Jw:tN}(b);return t.createElement(qw.Provider,{value:N},t.createElement(Kw.Provider,{value:A},t.createElement(K,{width:null!==E&&void 0!==E?E:null===g||void 0===g?void 0:g.width,height:null!==O&&void 0!==O?O:null===g||void 0===g?void 0:g.height,className:(0,ha.$)("recharts-wrapper",a),style:Gw({position:"relative",cursor:"default",width:E,height:O},g),onClick:P,onContextMenu:z,onDoubleClick:F,onFocus:R,onKeyDown:L,onMouseDown:B,onMouseEnter:T,onMouseLeave:D,onMouseMove:I,onMouseUp:U,onTouchEnd:q,onTouchMove:H,onTouchStart:W,ref:M},t.createElement(Zw,null),r)))}),rN=lc([ed],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),aN=lc([rN,Kc,Vc],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),sN=()=>xc(aN),iN=(0,t.createContext)(void 0),lN=e=>{var{children:n}=e,[r]=(0,t.useState)("".concat(_a("recharts"),"-clip")),a=sN();if(null==a)return null;var{x:s,y:i,width:l,height:o}=a;return t.createElement(iN.Provider,{value:r},t.createElement("defs",null,t.createElement("clipPath",{id:r},t.createElement("rect",{x:s,y:i,height:o,width:l}))),n)},oN=["width","height","responsive","children","className","style","compact","title","desc"];var cN=(0,t.forwardRef)((e,n)=>{var{width:r,height:a,responsive:s,children:i,className:l,style:o,compact:c,title:d,desc:u}=e,m=gw(function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,oN));return c?t.createElement(t.Fragment,null,t.createElement(fd,{width:r,height:a}),t.createElement(Pw,{otherAttributes:m,title:d,desc:u},i)):t.createElement(nN,{className:l,style:o,width:r,height:a,responsive:null!==s&&void 0!==s&&s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(Pw,{otherAttributes:m,title:d,desc:u,ref:n},t.createElement(lN,null,i)))});function dN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mN(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dN(Object(n),!0).forEach(function(t){uN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hN.apply(null,arguments)}var pN,fN,xN,gN,vN,bN,yN,jN,wN,NN,kN,AN,_N,CN,SN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:{top:5,right:5,bottom:5,left:5},responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},EN=(0,t.forwardRef)(function(e,n){var r,a=mN(e.categoricalChartProps,SN),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:o,categoricalChartProps:c}=e,d={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:o,eventEmitter:void 0};return t.createElement(rw,{preloadedState:{options:d},reduxStoreName:null!==(r=c.id)&&void 0!==r?r:s},t.createElement(aw,{chartData:c.data}),t.createElement(cw,{layout:a.layout,margin:a.margin}),t.createElement(dw,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),t.createElement(cN,hN({},a,{ref:n})))}),ON=["axis"],MN=(0,t.forwardRef)((e,n)=>t.createElement(EN,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ON,tooltipPayloadSearcher:jl,categoricalChartProps:e,ref:n}));function PN(){}function TN(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function DN(e){this._context=e}function IN(e){this._context=e}function RN(e){this._context=e}DN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:TN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:TN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},IN.prototype={areaStart:PN,areaEnd:PN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:TN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},RN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:TN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class LN{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function zN(e){this._context=e}function FN(e){this._context=e}function BN(e){return new FN(e)}function UN(e){return e<0?-1:1}function WN(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),i=(n-e._y1)/(a||r<0&&-0),l=(s*a+i*r)/(r+a);return(UN(s)+UN(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function HN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qN(e,t,n){var r=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,a+l*t,s-l,i-l*n,s,i)}function KN(e){this._context=e}function VN(e){this._context=new GN(e)}function GN(e){this._context=e}function $N(e){this._context=e}function YN(e){var t,n,r=e.length-1,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function ZN(e,t){this._context=e,this._t=t}function QN(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}zN.prototype={areaStart:PN,areaEnd:PN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},FN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},KN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qN(this,this._t0,HN(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qN(this,HN(this,n=WN(this,e,t)),n);break;default:qN(this,this._t0,n=WN(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(VN.prototype=Object.create(KN.prototype)).point=function(e,t){KN.prototype.point.call(this,t,e)},GN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}},$N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=YN(e),a=YN(t),s=0,i=1;i<n;++s,++i)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[i],t[i]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},ZN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const JN=Math.PI,XN=2*JN,ek=1e-6,tk=XN-ek;function nk(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class rk{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?nk:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return nk;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(pN||(pN=QN(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(fN||(fN=QN(["Z"]))))}lineTo(e,t){this._append(xN||(xN=QN(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(gN||(gN=QN(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,a,s){this._append(vN||(vN=QN(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+a,this._y1=+s)}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error("negative radius: ".concat(a));let s=this._x1,i=this._y1,l=n-e,o=r-t,c=s-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append(bN||(bN=QN(["M",",",""])),this._x1=e,this._y1=t);else if(u>ek)if(Math.abs(d*l-o*c)>ek&&a){let m=n-s,h=r-i,p=l*l+o*o,f=m*m+h*h,x=Math.sqrt(p),g=Math.sqrt(u),v=a*Math.tan((JN-Math.acos((p+u-f)/(2*x*g)))/2),b=v/g,y=v/x;Math.abs(b-1)>ek&&this._append(jN||(jN=QN(["L",",",""])),e+b*c,t+b*d),this._append(wN||(wN=QN(["A",",",",0,0,",",",",",""])),a,a,+(d*m>c*h),this._x1=e+y*l,this._y1=t+y*o)}else this._append(yN||(yN=QN(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,a,s){if(e=+e,t=+t,s=!!s,(n=+n)<0)throw new Error("negative radius: ".concat(n));let i=n*Math.cos(r),l=n*Math.sin(r),o=e+i,c=t+l,d=1^s,u=s?r-a:a-r;null===this._x1?this._append(NN||(NN=QN(["M",",",""])),o,c):(Math.abs(this._x1-o)>ek||Math.abs(this._y1-c)>ek)&&this._append(kN||(kN=QN(["L",",",""])),o,c),n&&(u<0&&(u=u%XN+XN),u>tk?this._append(AN||(AN=QN(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,d,e-i,t-l,n,n,d,this._x1=o,this._y1=c):u>ek&&this._append(_N||(_N=QN(["A",",",",0,",",",",",",",""])),n,n,+(u>=JN),d,this._x1=e+n*Math.cos(a),this._y1=t+n*Math.sin(a)))}rect(e,t,n,r){this._append(CN||(CN=QN(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function ak(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new rk(t)}function sk(e){return e[0]}function ik(e){return e[1]}function lk(e,t){var n=Nc(!0),r=null,a=BN,s=null,i=ak(l);function l(l){var o,c,d,u=(l=wc(l)).length,m=!1;for(null==r&&(s=a(d=i())),o=0;o<=u;++o)!(o<u&&n(c=l[o],o,l))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(c,o,l),+t(c,o,l));if(d)return s=null,d+""||null}return e="function"===typeof e?e:void 0===e?sk:Nc(e),t="function"===typeof t?t:void 0===t?ik:Nc(t),l.x=function(t){return arguments.length?(e="function"===typeof t?t:Nc(+t),l):e},l.y=function(e){return arguments.length?(t="function"===typeof e?e:Nc(+e),l):t},l.defined=function(e){return arguments.length?(n="function"===typeof e?e:Nc(!!e),l):n},l.curve=function(e){return arguments.length?(a=e,null!=r&&(s=a(r)),l):a},l.context=function(e){return arguments.length?(null==e?r=s=null:s=a(r=e),l):r},l}function ok(e,t,n){var r=null,a=Nc(!0),s=null,i=BN,l=null,o=ak(c);function c(c){var d,u,m,h,p,f=(c=wc(c)).length,x=!1,g=new Array(f),v=new Array(f);for(null==s&&(l=i(p=o())),d=0;d<=f;++d){if(!(d<f&&a(h=c[d],d,c))===x)if(x=!x)u=d,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=d-1;m>=u;--m)l.point(g[m],v[m]);l.lineEnd(),l.areaEnd()}x&&(g[d]=+e(h,d,c),v[d]=+t(h,d,c),l.point(r?+r(h,d,c):g[d],n?+n(h,d,c):v[d]))}if(p)return l=null,p+""||null}function d(){return lk().defined(a).curve(i).context(s)}return e="function"===typeof e?e:void 0===e?sk:Nc(+e),t="function"===typeof t?t:Nc(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?ik:Nc(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Nc(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Nc(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Nc(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Nc(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Nc(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Nc(+e),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:Nc(!!e),c):a},c.curve=function(e){return arguments.length?(i=e,null!=s&&(l=i(s)),c):i},c.context=function(e){return arguments.length?(null==e?s=l=null:l=i(s=e),c):s},c}var ck=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,dk=(e,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var a={};return Object.keys(r).forEach(e=>{hw(e)&&(a[e]=n||(t=>r[e](r,t)))}),a},uk=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(a=>{var s=e[a];hw(a)&&"function"===typeof s&&(r||(r={}),r[a]=((e,t,n)=>r=>(e(t,n,r),null))(s,t,n))}),r};function mk(){return mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mk.apply(null,arguments)}function hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hk(Object(n),!0).forEach(function(t){fk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xk={curveBasisClosed:function(e){return new IN(e)},curveBasisOpen:function(e){return new RN(e)},curveBasis:function(e){return new DN(e)},curveBumpX:function(e){return new LN(e,!0)},curveBumpY:function(e){return new LN(e,!1)},curveLinearClosed:function(e){return new zN(e)},curveLinear:BN,curveMonotoneX:function(e){return new KN(e)},curveMonotoneY:function(e){return new VN(e)},curveNatural:function(e){return new $N(e)},curveStep:function(e){return new ZN(e,.5)},curveStepAfter:function(e){return new ZN(e,1)},curveStepBefore:function(e){return new ZN(e,0)}},gk=e=>Wa(e.x)&&Wa(e.y),vk=e=>null!=e.base&&gk(e.base)&&gk(e),bk=e=>e.x,yk=e=>e.y,jk=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=e,i=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(Pa(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?xk[n]||BN:xk["".concat(n).concat("vertical"===t?"Y":"X")]})(t,a),l=s?n.filter(gk):n;if(Array.isArray(r)){var o=n.map((e,t)=>pk(pk({},e),{},{base:r[t]}));return("vertical"===a?ok().y(yk).x1(bk).x0(e=>e.base.x):ok().x(bk).y1(yk).y0(e=>e.base.y)).defined(vk).curve(i)(s?o.filter(vk):o)}return("vertical"===a&&Na(r)?ok().y(yk).x1(bk).x0(r):Na(r)?ok().x(bk).y1(yk).y0(r):lk().x(bk).y(yk)).defined(gk).curve(i)(l)},wk=e=>{var{className:n,points:r,path:a,pathRef:s}=e,i=pd();if((!r||!r.length)&&!a)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},o=r&&r.length?jk(l):a;return t.createElement("path",mk({},gw(e),dk(e),{className:(0,ha.$)("recharts-curve",n),d:null===o?void 0:o,ref:s}))},Nk=["children","className"];function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kk.apply(null,arguments)}var Ak=t.forwardRef((e,n)=>{var{children:r,className:a}=e,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Nk),i=(0,ha.$)("recharts-layer",a);return t.createElement("g",kk({className:i},bw(s),{ref:n}),r)}),_k=__webpack_require__(6667),Ck=__webpack_require__.n(_k);function Sk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ok(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(t){Mk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Mk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pk=Ok({},{cacheSize:2e3,enableCache:!0}),Tk=new class{constructor(e){Sk(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;null!=n&&this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(Pk.cacheSize),Dk={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ik="recharts_measurement_span";var Rk=(e,t)=>{try{var n=document.getElementById(Ik);n||((n=document.createElement("span")).setAttribute("id",Ik),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Dk,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(a){return{width:0,height:0}}},Lk=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Kj)return{width:0,height:0};if(!Pk.enableCache)return Rk(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(l)}(e,t),r=Tk.get(n);if(r)return r;var a=Rk(e,t);return Tk.set(n,a),a};var zk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bk=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Uk=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Wk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Hk=["cm","mm","pt","pc","in","Q","px"];var qk="NaN";class Kk{static parse(e){var t,[,n,r]=null!==(t=Uk.exec(e))&&void 0!==t?t:[];return null==n?Kk.NaN:new Kk(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,ja(e)&&(this.unit=""),""===t||Bk.test(t)||(this.num=NaN,this.unit=""),function(e){return Hk.includes(e)}(t)&&(this.num=function(e,t){return e*Wk[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Kk(NaN,""):new Kk(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Kk(NaN,""):new Kk(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Kk(NaN,""):new Kk(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Kk(NaN,""):new Kk(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ja(this.num)}}function Vk(e){if(null==e||e.includes(qk))return qk;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,s]=null!==(n=zk.exec(t))&&void 0!==n?n:[],i=Kk.parse(null!==r&&void 0!==r?r:""),l=Kk.parse(null!==s&&void 0!==s?s:""),o="*"===a?i.multiply(l):i.divide(l);if(o.isNaN())return qk;t=t.replace(zk,o.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,u,m]=null!==(c=Fk.exec(t))&&void 0!==c?c:[],h=Kk.parse(null!==d&&void 0!==d?d:""),p=Kk.parse(null!==m&&void 0!==m?m:""),f="+"===u?h.add(p):h.subtract(p);if(f.isNaN())return qk;t=t.replace(Fk,f.toString())}return t}!function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Kk,"NaN",new Kk(NaN,""));var Gk=/\(([^()]*)\)/;function $k(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=Gk.exec(n));){var[,r]=t;n=n.replace(Gk,Vk(r))}return n}(t),t=Vk(t)}function Yk(e){var t=function(e){try{return $k(e)}catch(t){return qk}}(e.slice(5,-1));return t===qk?"":t}var Zk=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Qk=["dx","dy","angle","className","breakAll"];function Jk(){return Jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jk.apply(null,arguments)}function Xk(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var eA=/[ \f\n\r\t\v\u2028\u2029]+/,tA=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];return Ma(t)||(a=n?t.toString().split(""):t.toString().split(eA)),{wordsWithComputedWidth:a.map(e=>({word:e,width:Lk(e,r).width})),spaceWidth:n?0:Lk("\xa0",r).width}}catch(s){return null}};function nA(e){return"start"===e||"middle"===e||"end"===e||"inherit"===e}var rA=(e,t,n,r)=>e.reduce((e,a)=>{var{word:s,width:i}=a,l=e[e.length-1];if(l&&null!=i&&(null==t||r||l.width+i+n<Number(t)))l.words.push(s),l.width+=i+n;else{var o={words:[s],width:i};e.push(o)}return e},[]),aA=e=>e.reduce((e,t)=>e.width>t.width?e:t),sA=(e,t,n,r,a,s,i,l)=>{var o=e.slice(0,t),c=tA({breakAll:n,style:r,children:o+"\u2026"});if(!c)return[!1,[]];var d=rA(c.wordsWithComputedWidth,s,i,l);return[d.length>a||aA(d).width>Number(s),d]},iA=e=>[{words:Ma(e)?[]:e.toString().split(eA),width:void 0}],lA=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:i}=e;if((t||n)&&!Kj){var l=tA({breakAll:s,children:r,style:a});if(!l)return iA(r);var{wordsWithComputedWidth:o,spaceWidth:c}=l;return((e,t,n,r,a)=>{var{maxLines:s,children:i,style:l,breakAll:o}=e,c=Na(s),d=String(i),u=rA(t,r,n,a);if(!c||a)return u;if(!(u.length>s||aA(u).width>Number(r)))return u;for(var m,h=0,p=d.length-1,f=0;h<=p&&f<=d.length-1;){var x=Math.floor((h+p)/2),g=x-1,[v,b]=sA(d,g,o,l,s,r,n,a),[y]=sA(d,x,o,l,s,r,n,a);if(v||y||(h=x+1),v&&y&&(p=x-1),!v&&y){m=b;break}f++}return m||u})({breakAll:s,children:r,maxLines:i,style:a},o,c,t,Boolean(n))}return iA(r)},oA="#808080",cA={angle:0,breakAll:!1,capHeight:"0.71em",fill:oA,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},dA=(0,t.forwardRef)((e,n)=>{var r=mN(e,cA),{x:a,y:s,lineHeight:i,capHeight:l,fill:o,scaleToFit:c,textAnchor:d,verticalAnchor:u}=r,m=Xk(r,Zk),h=(0,t.useMemo)(()=>lA({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:p,dy:f,angle:x,className:g,breakAll:v}=m,b=Xk(m,Qk);if(!ka(a)||!ka(s)||0===h.length)return null;var y,j=Number(a)+(Na(p)?p:0),w=Number(s)+(Na(f)?f:0);if(!Wa(j)||!Wa(w))return null;switch(u){case"start":y=Yk("calc(".concat(l,")"));break;case"middle":y=Yk("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:y=Yk("calc(".concat(h.length-1," * -").concat(i,")"))}var N=[];if(c){var k=h[0].width,{width:A}=m;N.push("scale(".concat(Na(A)&&Na(k)?A/k:1,")"))}return x&&N.push("rotate(".concat(x,", ").concat(j,", ").concat(w,")")),N.length&&(b.transform=N.join(" ")),t.createElement("text",Jk({},bw(b),{ref:n,x:j,y:w,className:(0,ha.$)("recharts-text",g),textAnchor:d,fill:o.includes("url")?oA:o}),h.map((e,n)=>{var r=e.words.join(v?"":" ");return t.createElement("tspan",{x:j,dy:0===n?y:i,key:"".concat(r,"-").concat(n)},r)}))});function uA(e){var{zIndex:n,children:r}=e,a=void 0!==pd()&&void 0!==n&&0!==n,s=ad(),i=mc();(0,t.useLayoutEffect)(()=>a?(i(Jj({zIndex:n})),()=>{i(Xj({zIndex:n}))}):Da,[i,n,a]);var l=xc(e=>Nw(e,n,s));return a?l?(0,jr.createPortal)(r,l):null:r}dA.displayName="Text";var mA=["labelRef"],hA=["content"];function pA(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(t){gA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vA(){return vA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vA.apply(null,arguments)}var bA=(0,t.createContext)(null),yA=e=>{var{x:n,y:r,upperWidth:a,lowerWidth:s,width:i,height:l,children:o}=e,c=(0,t.useMemo)(()=>({x:n,y:r,upperWidth:a,lowerWidth:s,width:i,height:l}),[n,r,a,s,i,l]);return t.createElement(bA.Provider,{value:c},o)},jA=()=>{var e=(0,t.useContext)(bA),n=od();return e||ld(n)},wA=(0,t.createContext)(null),NA=()=>{var e=(0,t.useContext)(wA),n=xc(Lx);return e||n},kA=e=>null!=e&&"function"===typeof e,AA=(e,n,r,a,s)=>{var i,l,{offset:o,className:c}=e,{cx:d,cy:u,innerRadius:m,outerRadius:h,startAngle:p,endAngle:f,clockWise:x}=s,g=(m+h)/2,v=((e,t)=>ya(t-e)*Math.min(Math.abs(t-e),360))(p,f),b=v>=0?1:-1;switch(n){case"insideStart":i=p+b*o,l=x;break;case"insideEnd":i=f-b*o,l=!x;break;case"end":i=f+b*o,l=x;break;default:throw new Error("Unsupported position ".concat(n))}l=v<=0?l:!l;var y=ix(d,u,g,i),j=ix(d,u,g,i+359*(l?1:-1)),w="M".concat(y.x,",").concat(y.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(l?0:1,",\n    ").concat(j.x,",").concat(j.y),N=Ma(e.id)?_a("recharts-radial-line-"):e.id;return t.createElement("text",vA({},a,{dominantBaseline:"central",className:(0,ha.$)("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:N,d:w})),t.createElement("textPath",{xlinkHref:"#".concat(N)},r))},_A=e=>"cx"in e&&Na(e.cx),CA={angle:0,offset:5,zIndex:dx.label,position:"middle",textBreakAll:!1};function SA(e){var n,r,a,s=mN(e,CA),{viewBox:i,position:l,value:o,children:c,content:d,className:u="",textBreakAll:m,labelRef:h}=s,p=NA(),f=jA();if(!(n=null==i?"center"===l?f:null!==p&&void 0!==p?p:f:_A(i)?i:ld(i))||Ma(o)&&Ma(c)&&!(0,t.isValidElement)(d)&&"function"!==typeof d)return null;var x=xA(xA({},s),{},{viewBox:n});if((0,t.isValidElement)(d)){var{labelRef:g}=x,v=pA(x,mA);return(0,t.cloneElement)(d,v)}if("function"===typeof d){var{content:b}=x,y=pA(x,hA);if(r=(0,t.createElement)(d,y),(0,t.isValidElement)(r))return r}else r=(e=>{var{value:t,formatter:n}=e,r=Ma(e.children)?t:e.children;return"function"===typeof n?n(r):r})(s);var j=bw(s);if(_A(n)){if("insideStart"===l||"insideEnd"===l||"end"===l)return AA(s,l,r,j,n);a=((e,t,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:l,endAngle:o}=e,c=(l+o)/2;if("outside"===n){var{x:d,y:u}=ix(r,a,i+t,c);return{x:d,y:u,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(s+i)/2,{x:h,y:p}=ix(r,a,m,c);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(n,s.offset,s.position)}else a=((e,t)=>{var n,{parentViewBox:r,offset:a,position:s}=e;null==r||_A(r)||(n=r);var{x:i,y:l,upperWidth:o,lowerWidth:c,height:d}=t,u=i,m=i+(o-c)/2,h=(u+m)/2,p=(o+c)/2,f=u+o/2,x=d>=0?1:-1,g=x*a,v=x>0?"end":"start",b=x>0?"start":"end",y=o>=0?1:-1,j=y*a,w=y>0?"end":"start",N=y>0?"start":"end";if("top"===s)return xA(xA({},{x:u+o/2,y:l-g,textAnchor:"middle",verticalAnchor:v}),n?{height:Math.max(l-n.y,0),width:o}:{});if("bottom"===s)return xA(xA({},{x:m+c/2,y:l+d+g,textAnchor:"middle",verticalAnchor:b}),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{});if("left"===s){var k={x:h-j,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return xA(xA({},k),n?{width:Math.max(k.x-n.x,0),height:d}:{})}if("right"===s){var A={x:h+p+j,y:l+d/2,textAnchor:N,verticalAnchor:"middle"};return xA(xA({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:d}:{})}var _=n?{width:p,height:d}:{};return"insideLeft"===s?xA({x:h+j,y:l+d/2,textAnchor:N,verticalAnchor:"middle"},_):"insideRight"===s?xA({x:h+p-j,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},_):"insideTop"===s?xA({x:u+o/2,y:l+g,textAnchor:"middle",verticalAnchor:b},_):"insideBottom"===s?xA({x:m+c/2,y:l+d-g,textAnchor:"middle",verticalAnchor:v},_):"insideTopLeft"===s?xA({x:u+j,y:l+g,textAnchor:N,verticalAnchor:b},_):"insideTopRight"===s?xA({x:u+o-j,y:l+g,textAnchor:w,verticalAnchor:b},_):"insideBottomLeft"===s?xA({x:m+j,y:l+d-g,textAnchor:N,verticalAnchor:v},_):"insideBottomRight"===s?xA({x:m+c-j,y:l+d-g,textAnchor:w,verticalAnchor:v},_):s&&"object"===typeof s&&(Na(s.x)||wa(s.x))&&(Na(s.y)||wa(s.y))?xA({x:i+Ca(s.x,p),y:l+Ca(s.y,d),textAnchor:"end",verticalAnchor:"end"},_):xA({x:f,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)})(s,n);return t.createElement(uA,{zIndex:s.zIndex},t.createElement(dA,vA({ref:h,className:(0,ha.$)("recharts-label",u)},j,a,{textAnchor:nA(j.textAnchor)?j.textAnchor:a.textAnchor,breakAll:m}),r))}SA.displayName="Label";var EA=(e,n,r)=>{if(!e)return null;var a={viewBox:n,labelRef:r};return!0===e?t.createElement(SA,vA({key:"label-implicit"},a)):ka(e)?t.createElement(SA,vA({key:"label-implicit",value:e},a)):(0,t.isValidElement)(e)?e.type===SA?(0,t.cloneElement)(e,xA({key:"label-implicit"},a)):t.createElement(SA,vA({key:"label-implicit",content:e},a)):kA(e)?t.createElement(SA,vA({key:"label-implicit",content:e},a)):e&&"object"===typeof e?t.createElement(SA,vA({},e,{key:"label-implicit"},a)):null};function OA(e){var{label:t,labelRef:n}=e,r=jA();return EA(t,r,n)||null}var MA=["valueAccessor"],PA=["dataKey","clockWise","id","textBreakAll","zIndex"];function TA(){return TA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TA.apply(null,arguments)}function DA(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var IA=e=>Array.isArray(e.value)?Ck()(e.value):e.value,RA=(0,t.createContext)(void 0),LA=RA.Provider,zA=(0,t.createContext)(void 0);zA.Provider;function FA(e){var{valueAccessor:n=IA}=e,r=DA(e,MA),{dataKey:a,clockWise:s,id:i,textBreakAll:l,zIndex:o}=r,c=DA(r,PA),d=(0,t.useContext)(RA),u=(0,t.useContext)(zA),m=d||u;return m&&m.length?t.createElement(uA,{zIndex:null!==o&&void 0!==o?o:dx.label},t.createElement(Ak,{className:"recharts-label-list"},m.map((e,s)=>{var o,d=Ma(a)?n(e,s):Mc(e&&e.payload,a),u=Ma(i)?{}:{id:"".concat(i,"-").concat(s)};return t.createElement(SA,TA({key:"label-".concat(s)},bw(e),c,u,{fill:null!==(o=r.fill)&&void 0!==o?o:e.fill,parentViewBox:e.parentViewBox,value:d,textBreakAll:l,viewBox:e.viewBox,index:s,zIndex:0}))}))):null}function BA(e){var{label:n}=e;return n?!0===n?t.createElement(FA,{key:"labelList-implicit"}):t.isValidElement(n)||kA(n)?t.createElement(FA,{key:"labelList-implicit",content:n}):"object"===typeof n?t.createElement(FA,TA({key:"labelList-implicit"},n,{type:String(n.type)})):null:null}function UA(){return UA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UA.apply(null,arguments)}FA.displayName="LabelList";var WA=e=>{var{cx:n,cy:r,r:a,className:s}=e,i=(0,ha.$)("recharts-dot",s);return Na(n)&&Na(r)&&Na(a)?t.createElement("circle",UA({},gw(e),dk(e),{className:i,cx:n,cy:r,r:a})):null};__webpack_require__(6429);var HA=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),qA=["points"];function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(t){GA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $A(){return $A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$A.apply(null,arguments)}function YA(e){var{option:n,dotProps:r,className:a}=e;if((0,t.isValidElement)(n))return(0,t.cloneElement)(n,r);if("function"===typeof n)return n(r);var s=(0,ha.$)(a,"boolean"!==typeof n?n.className:""),i=null!==r&&void 0!==r?r:{},{points:l}=i,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(i,qA);return t.createElement(WA,$A({},o,{className:s}))}function ZA(e){var{points:n,dot:r,className:a,dotClassName:s,dataKey:i,baseProps:l,needClip:o,clipPathId:c,zIndex:d=dx.scatter}=e;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,r))return null;var u,m=HA(r),h=null==(u=r)?null:(0,t.isValidElement)(u)?bw(u.props):"object"!==typeof u||Array.isArray(u)?null:bw(u),p=n.map((e,a)=>{var o,c,d=VA(VA(VA({r:3},l),h),{},{index:a,cx:null!==(o=e.x)&&void 0!==o?o:void 0,cy:null!==(c=e.y)&&void 0!==c?c:void 0,dataKey:i,value:e.value,payload:e.payload,points:n});return t.createElement(YA,{key:"dot-".concat(a),option:r,dotProps:d,className:s})}),f={};return o&&null!=c&&(f.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(c,")")),t.createElement(uA,{zIndex:d},t.createElement(Ak,$A({className:a},f),p))}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(t){XA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var e_=e=>{var{point:n,childIndex:r,mainColor:a,activeDot:s,dataKey:i,clipPath:l}=e;if(!1===s||null==n.x||null==n.y)return null;var o,c=JA(JA(JA({},{index:r,dataKey:i,cx:n.x,cy:n.y,r:4,fill:null!==a&&void 0!==a?a:"none",strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value}),vw(s)),dk(s));return o=(0,t.isValidElement)(s)?(0,t.cloneElement)(s,c):"function"===typeof s?s(c):t.createElement(WA,c),t.createElement(Ak,{className:"recharts-active-dot",clipPath:l},o)};function t_(e){var{points:n,mainColor:r,activeDot:a,itemDataKey:s,clipPath:i,zIndex:l=dx.activeDot}=e,o=xc($b),c=xc(ny);if(null==n||null==c)return null;var d=n.find(e=>c.includes(e.payload));return Ma(d)?null:t.createElement(uA,{zIndex:l},t.createElement(e_,{point:d,childIndex:Number(o),mainColor:r,dataKey:s,activeDot:a,clipPath:i}))}function n_(e){var{tooltipEntrySettings:n}=e,r=mc(),a=ad(),s=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{a||(null===s.current?r(Oo(n)):s.current!==n&&r(Mo({prev:s.current,next:n})),s.current=n)},[n,r,a]),(0,t.useLayoutEffect)(()=>()=>{s.current&&(r(Po(s.current)),s.current=null)},[r]),null}function r_(e,t){var n,r,a=xc(t=>Xx(t,e)),s=xc(e=>ng(e,t)),i=null!==(n=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==n?n:Qx.allowDataOverflow,l=null!==(r=null===s||void 0===s?void 0:s.allowDataOverflow)&&void 0!==r?r:eg.allowDataOverflow;return{needClip:i||l,needClipX:i,needClipY:l}}function a_(e){var{xAxisId:n,yAxisId:r,clipPathId:a}=e,s=sN(),{needClipX:i,needClipY:l,needClip:o}=r_(n,r);if(!o||!s)return null;var{x:c,y:d,width:u,height:m}=s;return t.createElement("clipPath",{id:"clipPath-".concat(a)},t.createElement("rect",{x:i?c:c-u/2,y:l?d:d-m/2,width:i?u:2*u,height:l?m:2*m}))}function s_(e,t){var n,r;return null!==(n=null===(r=e.graphicalItems.cartesianItems.find(e=>e.id===t))||void 0===r?void 0:r.xAxisId)&&void 0!==n?n:0}function i_(e,t){var n,r;return null!==(n=null===(r=e.graphicalItems.cartesianItems.find(e=>e.id===t))||void 0===r?void 0:r.yAxisId)&&void 0!==n?n:0}var l_,o_=(e,t,n)=>Wv(e,"xAxis",s_(e,t),n),c_=(e,t,n)=>Uv(e,"xAxis",s_(e,t),n),d_=(e,t,n)=>Wv(e,"yAxis",i_(e,t),n),u_=(e,t,n)=>Uv(e,"yAxis",i_(e,t),n),m_=lc([hd,o_,d_,c_,u_],(e,t,n,r,a)=>Pc(e,"xAxis")?Wc(t,r,!1):Wc(n,a,!1)),h_=lc([cg,(e,t)=>t],(e,t)=>e.filter(e=>"area"===e.type).find(e=>e.id===t)),p_=e=>{var t=hd(e);return Pc(t,"xAxis")?"yAxis":"xAxis"},f_=lc([h_,(e,t,n)=>Og(e,p_(e),((e,t)=>"yAxis"===p_(e)?i_(e,t):s_(e,t))(e,t),n)],(e,t)=>{var n;if(null!=e&&null!=t){var{stackId:r}=e,a=Bx(e);if(null!=r&&null!=a){var s=null===(n=t[r])||void 0===n?void 0:n.stackedData,i=null===s||void 0===s?void 0:s.find(e=>e.key===a);if(null!=i)return i.map(e=>[e[0],e[1]])}}}),x_=lc([hd,o_,d_,c_,u_,f_,(e,t,n)=>n?Sf(e):Cf(e),m_,h_,e=>e.rootProps.baseValue],(e,t,n,r,a,s,i,l,o,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:m}=i;if(null!=o&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=n&&null!=r&&null!=a&&0!==r.length&&0!==a.length&&null!=l){var h,{data:p}=o;if(null!=(h=p&&p.length>0?p:null===d||void 0===d?void 0:d.slice(u,m+1)))return function(e){var t,{areaSettings:{connectNulls:n,baseValue:r,dataKey:a},stackedData:s,layout:i,chartBaseValue:l,xAxis:o,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:m,yAxisTicks:h,bandSize:p}=e,f=s&&s.length,x=yC(i,l,r,o,c),g="horizontal"===i,v=!1,b=d.map((e,t)=>{var r,i,l;if(f)l=s[u+t];else{var d=Mc(e,a);Array.isArray(d)?(l=d,v=!0):l=[x,d]}var b=null!==(r=null===(i=l)||void 0===i?void 0:i[1])&&void 0!==r?r:null,y=null==b||f&&!n&&null==Mc(e,a);return g?{x:zc({axis:o,ticks:m,bandSize:p,entry:e,index:t}),y:y?null:c.scale(b),value:l,payload:e}:{x:y?null:o.scale(b),y:zc({axis:c,ticks:h,bandSize:p,entry:e,index:t}),value:l,payload:e}});t=f||v?b.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return g?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null,payload:e.payload}:{x:null!=t?o.scale(t):null,y:e.y,payload:e.payload}}):g?c.scale(x):o.scale(x);return{points:b,baseLine:t,isRange:v}}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:u,areaSettings:o,stackedData:s,displayedData:h,chartBaseValue:c,bandSize:l})}});function g_(e){var{legendPayload:n}=e,r=mc(),a=ad(),s=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{a||(null===s.current?r(mj(n)):s.current!==n&&r(hj({prev:s.current,next:n})),s.current=n)},[r,a,n]),(0,t.useLayoutEffect)(()=>()=>{s.current&&(r(pj(s.current)),s.current=null)},[r]),null}function v_(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,t.useRef)(_a(n)),a=(0,t.useRef)(e);return a.current!==e&&(r.current=_a(n),a.current=e),r.current}var b_=null!==(l_=n["useId".toString()])&&void 0!==l_?l_:()=>{var[e]=t.useState(()=>_a("uid-"));return e};var y_=(0,t.createContext)(void 0),j_=e=>{var{id:n,type:r,children:a}=e,s=function(e,t){var n=b_();return t||(e?"".concat(e,"-").concat(n):n)}("recharts-".concat(r),n);return t.createElement(y_.Provider,{value:s},a(s))};var w_=e=>{var n=mc(),r=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{null===r.current?n(Ky(e)):r.current!==e&&n(Vy({prev:r.current,next:e})),r.current=e},[n,e]),(0,t.useLayoutEffect)(()=>()=>{r.current&&(n(Gy(r.current)),r.current=null)},[n]),null},N_=(0,t.memo)(w_);function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k_(Object(n),!0).forEach(function(t){__(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function __(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C_=(e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","),S_=(e,t)=>Object.keys(t).reduce((n,r)=>A_(A_({},n),{},{[r]:e(r,t[r])}),{});function E_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E_(Object(n),!0).forEach(function(t){M_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P_=(e,t,n)=>e+(t-e)*n,T_=e=>{var{from:t,to:n}=e;return t!==n},D_=(e,t,n)=>{var r=S_((t,n)=>{if(T_(n)){var[r,a]=e(n.from,n.to,n.velocity);return O_(O_({},n),{},{from:r,velocity:a})}return n},t);return n<1?S_((e,t)=>T_(t)&&null!=r[e]?O_(O_({},t),{},{velocity:P_(t.velocity,r[e].velocity,n),from:P_(t.from,r[e].from,n)}):t,t):D_(e,r,n-1)};function I_(e,t,n,r,a,s){var i,l=r.reduce((n,r)=>O_(O_({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),o=null,c=r=>{i||(i=r);var d=(r-i)/n.dt;l=D_(n,l,d),a(O_(O_(O_({},e),t),S_((e,t)=>t.from,l))),i=r,Object.values(l).filter(T_).length&&(o=s.setTimeout(c))};return()=>(o=s.setTimeout(c),()=>{var e;null===(e=o)||void 0===e||e()})}const R_=(e,t,n,r,a,s)=>{var i,l,o=(i=e,l=t,[Object.keys(i),Object.keys(l)].reduce((e,t)=>e.filter(e=>t.includes(e))));return null==n?()=>(a(O_(O_({},e),t)),()=>{}):!0===n.isStepper?I_(e,t,n,o,a,s):function(e,t,n,r,a,s,i){var l,o=null,c=a.reduce((n,r)=>{var a=e[r],s=t[r];return null==a||null==s?n:O_(O_({},n),{},{[r]:[a,s]})},{}),d=a=>{l||(l=a);var u=(a-l)/r,m=S_((e,t)=>P_(...t,n(u)),c);if(s(O_(O_(O_({},e),t),m)),u<1)o=i.setTimeout(d);else{var h=S_((e,t)=>P_(...t,n(1)),c);s(O_(O_(O_({},e),t),h))}};return()=>(o=i.setTimeout(d),()=>{var e;null===(e=o)||void 0===e||e()})}(e,t,n,r,o,a,s)};var L_=1e-4,z_=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],F_=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),B_=(e,t)=>n=>{var r=z_(e,t);return F_(r,n)},U_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var r=(e=>{var t,n=e.split("(");if(2!==n.length||"cubic-bezier"!==n[0])return null;var r=null===(t=n[1])||void 0===t||null===(t=t.split(")")[0])||void 0===t?void 0:t.split(",");if(null==r||4!==r.length)return null;var a=r.map(e=>parseFloat(e));return[a[0],a[1],a[2],a[3]]})(t[0]);if(r)return r}return 4===t.length?t:[0,0,1,1]},W_=(e,t,n,r)=>{var a,s,i=B_(e,n),l=B_(t,r),o=(a=e,s=n,e=>{var t=[...z_(a,s).map((e,t)=>e*t).slice(1),0];return F_(t,e)}),c=e=>e>1?1:e<0?0:e,d=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=i(n)-t,s=o(n);if(Math.abs(a-t)<L_||s<L_)return l(n);n=c(n-a/s)}return l(n)};return d.isStepper=!1,d},H_=function(){return W_(...U_(...arguments))},q_=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return H_(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(e,a,s)=>{var i=s+(-(e-a)*t-s*n)*r/1e3,l=s*r/1e3+e;return Math.abs(l-a)<L_&&Math.abs(i)<L_?[a,0]:[l,i]};return a.isStepper=!0,a.dt=r,a}();default:if("cubic-bezier"===e.split("(")[0])return H_(e)}return"function"===typeof e?e:null};class K_{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,a=s=>{s-n>=t?e(s):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{null!=r&&cancelAnimationFrame(r)}}}function V_(){return function(e){var t=()=>null,n=!1,r=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var i=s,[l,...o]=i;return"number"===typeof l?void(r=e.setTimeout(a.bind(null,o),l)):(a(l),void(r=e.setTimeout(a.bind(null,o))))}"string"===typeof s&&t(s),"object"===typeof s&&t(s),"function"===typeof s&&s()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new K_)}var G_=(0,t.createContext)(V_);var $_={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Y_={t:0},Z_={t:1};function Q_(e){var n=mN(e,$_),{isActive:r,canBegin:a,duration:s,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:d}=n,u="auto"===r?!Kj:r,m=function(e,n){var r=(0,t.useContext)(G_);return(0,t.useMemo)(()=>null!==n&&void 0!==n?n:r(e),[e,n,r])}(n.animationId,n.animationManager),[h,p]=(0,t.useState)(u?Y_:Z_),f=(0,t.useRef)(null);return(0,t.useEffect)(()=>{u||p(Z_)},[u]),(0,t.useEffect)(()=>{if(!u||!a)return Da;var e=R_(Y_,Z_,q_(i),s,p,m.getTimeoutController());return m.start([c,l,()=>{f.current=e()},s,o]),()=>{m.stop(),f.current&&f.current(),o()}},[u,a,s,i,l,c,o,m]),d(h.t)}function J_(e){var t=vw(e);if(null!=t){var{r:n,strokeWidth:r}=t,a=Number(n),s=Number(r);return(Number.isNaN(a)||a<0)&&(a=3),(Number.isNaN(s)||s<0)&&(s=2),{r:a,strokeWidth:s}}return{r:3,strokeWidth:2}}var X_=["id"],eC=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function tC(){return tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tC.apply(null,arguments)}function nC(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rC(Object(n),!0).forEach(function(t){sC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iC(e,t){return e&&"none"!==e?e:t}var lC=e=>{var{dataKey:t,name:n,stroke:r,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:iC(r,a),value:qc(n,t),payload:e}]},oC=t.memo(e=>{var{dataKey:n,data:r,stroke:a,strokeWidth:s,fill:i,name:l,hide:o,unit:c,tooltipType:d,id:u}=e,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:n,nameKey:void 0,name:qc(l,n),hide:o,type:d,color:iC(a,i),unit:c,graphicalItemId:u}};return t.createElement(n_,{tooltipEntrySettings:m})});function cC(e){var{clipPathId:n,points:r,props:a}=e,{needClip:s,dot:i,dataKey:l}=a,o=gw(a);return t.createElement(ZA,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:o,needClip:s,clipPathId:n})}function dC(e){var{showLabels:n,children:r,points:a}=e,s=a.map(e=>{var t,n,r={x:null!==(t=e.x)&&void 0!==t?t:0,y:null!==(n=e.y)&&void 0!==n?n:0,width:0,lowerWidth:0,upperWidth:0,height:0};return aC(aC({},r),{},{value:e.value,payload:e.payload,parentViewBox:void 0,viewBox:r,fill:void 0})});return t.createElement(LA,{value:n?s:void 0},r)}function uC(e){var{points:n,baseLine:r,needClip:a,clipPathId:s,props:i}=e,{layout:l,type:o,stroke:c,connectNulls:d,isRange:u}=i,{id:m}=i,h=nC(i,X_),p=gw(h),f=bw(h);return t.createElement(t.Fragment,null,(null===n||void 0===n?void 0:n.length)>1&&t.createElement(Ak,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},t.createElement(wk,tC({},f,{id:m,points:n,connectNulls:d,type:o,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),"none"!==c&&t.createElement(wk,tC({},p,{className:"recharts-area-curve",layout:l,type:o,connectNulls:d,fill:"none",points:n})),"none"!==c&&u&&t.createElement(wk,tC({},p,{className:"recharts-area-curve",layout:l,type:o,connectNulls:d,fill:"none",points:r}))),t.createElement(cC,{points:n,props:h,clipPathId:s}))}function mC(e){var n,r,{alpha:a,baseLine:s,points:i,strokeWidth:l}=e,o=null===(n=i[0])||void 0===n?void 0:n.y,c=null===(r=i[i.length-1])||void 0===r?void 0:r.y;if(!Wa(o)||!Wa(c))return null;var d=a*Math.abs(o-c),u=Math.max(...i.map(e=>e.x||0));return Na(s)?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(...s.map(e=>e.x||0),u)),Na(u)?t.createElement("rect",{x:0,y:o<c?o:o-d,width:u+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}function hC(e){var n,r,{alpha:a,baseLine:s,points:i,strokeWidth:l}=e,o=null===(n=i[0])||void 0===n?void 0:n.x,c=null===(r=i[i.length-1])||void 0===r?void 0:r.x;if(!Wa(o)||!Wa(c))return null;var d=a*Math.abs(o-c),u=Math.max(...i.map(e=>e.y||0));return Na(s)?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(...s.map(e=>e.y||0),u)),Na(u)?t.createElement("rect",{x:o<c?o:o-d,y:0,width:d,height:Math.floor(u+(l?parseInt("".concat(l),10):1))}):null}function pC(e){var{alpha:n,layout:r,points:a,baseLine:s,strokeWidth:i}=e;return"vertical"===r?t.createElement(mC,{alpha:n,points:a,baseLine:s,strokeWidth:i}):t.createElement(hC,{alpha:n,points:a,baseLine:s,strokeWidth:i})}function fC(e){var{needClip:n,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i}=e,{points:l,baseLine:o,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,onAnimationStart:h,onAnimationEnd:p}=a,f=v_((0,t.useMemo)(()=>({points:l,baseLine:o}),[l,o]),"recharts-area-"),x=(()=>{var e=pd();if("horizontal"===e||"vertical"===e)return e})(),[g,v]=(0,t.useState)(!1),b=!g,y=(0,t.useCallback)(()=>{"function"===typeof p&&p(),v(!1)},[p]),j=(0,t.useCallback)(()=>{"function"===typeof h&&h(),v(!0)},[h]);if(null==x)return null;var w=s.current,N=i.current;return t.createElement(dC,{showLabels:b,points:l},a.children,t.createElement(Q_,{animationId:f,begin:d,duration:u,isActive:c,easing:m,onAnimationEnd:y,onAnimationStart:j,key:f},e=>{if(w){var d,u=w.length/l.length,m=1===e?l:l.map((t,n)=>{var r=Math.floor(n*u);if(w[r]){var a=w[r];return aC(aC({},t),{},{x:Ea(a.x,t.x,e),y:Ea(a.y,t.y,e)})}return t});return d=Na(o)?Ea(N,o,e):Ma(o)||ja(o)?Ea(N,0,e):o.map((t,n)=>{var r=Math.floor(n*u);if(Array.isArray(N)&&N[r]){var a=N[r];return aC(aC({},t),{},{x:Ea(a.x,t.x,e),y:Ea(a.y,t.y,e)})}return t}),e>0&&(s.current=m,i.current=d),t.createElement(uC,{points:m,baseLine:d,needClip:n,clipPathId:r,props:a})}return e>0&&(s.current=l,i.current=o),t.createElement(Ak,null,c&&t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(r)},t.createElement(pC,{alpha:e,points:l,baseLine:o,layout:x,strokeWidth:a.strokeWidth}))),t.createElement(Ak,{clipPath:"url(#animationClipPath-".concat(r,")")},t.createElement(uC,{points:l,baseLine:o,needClip:n,clipPathId:r,props:a})))}),t.createElement(BA,{label:a.label}))}function xC(e){var{needClip:n,clipPathId:r,props:a}=e,s=(0,t.useRef)(null),i=(0,t.useRef)();return t.createElement(fC,{needClip:n,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i})}class gC extends t.PureComponent{render(){var{hide:e,dot:n,points:r,className:a,top:s,left:i,needClip:l,xAxisId:o,yAxisId:c,width:d,height:u,id:m,baseLine:h,zIndex:p}=this.props;if(e)return null;var f=(0,ha.$)("recharts-area",a),x=m,{r:g,strokeWidth:v}=J_(n),b=HA(n),y=2*g+v,j=l?"url(#clipPath-".concat(b?"":"dots-").concat(x,")"):void 0;return t.createElement(uA,{zIndex:p},t.createElement(Ak,{className:f},l&&t.createElement("defs",null,t.createElement(a_,{clipPathId:x,xAxisId:o,yAxisId:c}),!b&&t.createElement("clipPath",{id:"clipPath-dots-".concat(x)},t.createElement("rect",{x:i-y/2,y:s-y/2,width:d+y,height:u+y}))),t.createElement(xC,{needClip:l,clipPathId:x,props:this.props})),t.createElement(t_,{points:r,mainColor:iC(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}),this.props.isRange&&Array.isArray(h)&&t.createElement(t_,{points:h,mainColor:iC(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}))}}var vC={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:dx.area};function bC(e){var n,r=mN(e,vC),{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,fill:d,fillOpacity:u,hide:m,isAnimationActive:h,legendType:p,stroke:f,xAxisId:x,yAxisId:g}=r,v=nC(r,eC),b=pd(),y=ly(),{needClip:j}=r_(x,g),w=ad(),{points:N,isRange:k,baseLine:A}=null!==(n=xc(t=>x_(t,e.id,w)))&&void 0!==n?n:{},_=sN();if("horizontal"!==b&&"vertical"!==b||null==_)return null;if("AreaChart"!==y&&"ComposedChart"!==y)return null;var{height:C,width:S,x:E,y:O}=_;return N&&N.length?t.createElement(gC,tC({},v,{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:l,baseLine:A,connectNulls:o,dot:c,fill:d,fillOpacity:u,height:C,hide:m,layout:b,isAnimationActive:"auto"===h?!Kj:h,isRange:k,legendType:p,needClip:j,points:N,stroke:f,width:S,left:E,top:O,xAxisId:x,yAxisId:g})):null}var yC=(e,t,n,r,a)=>{var s=null!==n&&void 0!==n?n:t;if(Na(s))return s;var i="horizontal"===e?a:r,l=i.scale.domain();if("number"===i.type){var o=Math.max(l[0],l[1]),c=Math.min(l[0],l[1]);return"dataMin"===s?c:"dataMax"===s||o<0?o:Math.max(Math.min(l[0],l[1]),0)}return"dataMin"===s?l[0]:"dataMax"===s?l[1]:l[0]};function jC(e){var n=mN(e,vC),r=ad();return t.createElement(j_,{id:n.id,type:"area"},e=>{return t.createElement(t.Fragment,null,t.createElement(g_,{legendPayload:lC(n)}),t.createElement(oC,{dataKey:n.dataKey,data:n.data,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,unit:n.unit,tooltipType:n.tooltipType,id:e}),t.createElement(N_,{type:"area",id:e,data:n.data,dataKey:n.dataKey,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,stackId:(a=n.stackId,null==a?void 0:String(a)),hide:n.hide,barSize:void 0,baseValue:n.baseValue,isPanorama:r,connectNulls:n.connectNulls}),t.createElement(bC,tC({},n,{id:e})));var a})}var wC=t.memo(jC,lw);wC.displayName="Area";var NC=["axis"],kC=(0,t.forwardRef)((e,n)=>t.createElement(EN,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:NC,tooltipPayloadSearcher:jl,categoricalChartProps:e,ref:n}));function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(t){CC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SC=e=>{var{x1:t,y1:n,x2:r,y2:a}=e;return((e,t)=>{var{x:n,y:r}=e,{x:a,y:s}=t;return{x:Math.min(n,a),y:Math.min(r,s),width:Math.abs(a-n),height:Math.abs(s-r)}})({x:t,y:n},{x:r,y:a})};class EC{static create(e){return new EC(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}CC(EC,"EPS",1e-4);function OC(e,t){if(t<1)return[];if(1===t)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];void 0!==a&&n.push(a)}return n}function MC(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,s=Math.atan(n/t),i=a>s&&a<Math.PI-s?n/Math.sin(a):t/Math.cos(a);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},n)}function PC(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-a)<=0}function TC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TC(Object(n),!0).forEach(function(t){IC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RC(e,t,n){var r,{tick:a,ticks:s,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:d,unit:u,angle:m}=e;if(!s||!s.length||!a)return[];if(Na(c)||Kj)return null!==(r=function(e,t){return OC(e,t+1)}(s,Na(c)?c:0))&&void 0!==r?r:[];var h=[],p="top"===o||"bottom"===o?"width":"height",f=u&&"width"===p?Lk(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=(e,r)=>{var a="function"===typeof d?d(e.value,r):e.value;return"width"===p?MC(Lk(a,{fontSize:t,letterSpacing:n}),f,m):Lk(a,{fontSize:t,letterSpacing:n})[p]},g=s.length>=2?ya(s[1].coordinate-s[0].coordinate):1,v=function(e,t,n){var r="width"===n,{x:a,y:s,width:i,height:l}=e;return 1===t?{start:r?a:s,end:r?a+i:s+l}:{start:r?a+i:s+l,end:r?a:s}}(i,g,p);return"equidistantPreserveStart"===c?function(e,t,n,r,a){for(var s,i=(r||[]).slice(),{start:l,end:o}=t,c=0,d=1,u=l,m=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:OC(r,d)};var s,i=c,m=()=>(void 0===s&&(s=n(t,i)),s),h=t.coordinate,p=0===c||PC(e,h,m,u,o);p||(c=0,u=l,d+=1),p&&(u=h+e*(m()/2+a),c+=d)};d<=i.length;)if(s=m())return s.v;return[]}(g,v,x,s,l):"equidistantPreserveEnd"===c?function(e,t,n,r,a){var s=(r||[]).slice().length;if(0===s)return[];for(var{start:i,end:l}=t,o=1;o<=s;o++){for(var c=(s-1)%o,d=i,u=!0,m=function(){var t,s=r[h],i=h,o=()=>(void 0===t&&(t=n(s,i)),t),m=s.coordinate,p=h===c||PC(e,m,o,d,l);if(!p)return u=!1,1;p&&(d=m+e*(o()/2+a))},h=c;h<s&&!m();h+=o);if(u){for(var p=[],f=c;f<s;f+=o)p.push(r[f]);return p}}return[]}(g,v,x,s,l):(h="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,a,s){var i=(r||[]).slice(),l=i.length,{start:o,end:c}=t;if(s){var d=r[l-1],u=n(d,l-1),m=e*(d.coordinate+e*u/2-c);i[l-1]=d=DC(DC({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),null!=d.tickCoord&&PC(e,d.tickCoord,()=>u,o,c)&&(c=d.tickCoord-e*(u/2+a),i[l-1]=DC(DC({},d),{},{isShow:!0}))}for(var h=s?l-1:l,p=function(t){var r,s=i[t],l=()=>(void 0===r&&(r=n(s,t)),r);if(0===t){var d=e*(s.coordinate-e*l()/2-o);i[t]=s=DC(DC({},s),{},{tickCoord:d<0?s.coordinate-d*e:s.coordinate})}else i[t]=s=DC(DC({},s),{},{tickCoord:s.coordinate});null!=s.tickCoord&&PC(e,s.tickCoord,l,o,c)&&(o=s.tickCoord+e*(l()/2+a),i[t]=DC(DC({},s),{},{isShow:!0}))},f=0;f<h;f++)p(f);return i}(g,v,x,s,l,"preserveStartEnd"===c):function(e,t,n,r,a){for(var s=(r||[]).slice(),i=s.length,{start:l}=t,{end:o}=t,c=function(t){var r,c=s[t],d=()=>(void 0===r&&(r=n(c,t)),r);if(t===i-1){var u=e*(c.coordinate+e*d()/2-o);s[t]=c=DC(DC({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else s[t]=c=DC(DC({},c),{},{tickCoord:c.coordinate});null!=c.tickCoord&&PC(e,c.tickCoord,d,l,o)&&(o=c.tickCoord-e*(d()/2+a),s[t]=DC(DC({},c),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return s}(g,v,x,s,l),h.filter(e=>e.isShow))}var LC=["axisLine","width","height","className","hide","ticks","axisType"];function zC(){return zC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zC.apply(null,arguments)}function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FC(Object(n),!0).forEach(function(t){UC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WC={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:dx.axis};function HC(e){var{x:n,y:r,width:a,height:s,orientation:i,mirror:l,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=BC(BC(BC({},c),gw(o)),{},{fill:"none"});if("top"===i||"bottom"===i){var u=+("top"===i&&!l||"bottom"===i&&l);d=BC(BC({},d),{},{x1:n,y1:r+u*s,x2:n+a,y2:r+u*s})}else{var m=+("left"===i&&!l||"right"===i&&l);d=BC(BC({},d),{},{x1:n+m*a,y1:r,x2:n+m*a,y2:r+s})}return t.createElement("line",zC({},d,{className:(0,ha.$)("recharts-cartesian-axis-line",ga()(o,"className"))}))}function qC(e){var n,{option:r,tickProps:a,value:s}=e,i=(0,ha.$)(a.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(r))n=t.cloneElement(r,BC(BC({},a),{},{className:i}));else if("function"===typeof r)n=r(BC(BC({},a),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";"boolean"!==typeof r&&(l=(0,ha.$)(l,null===r||void 0===r?void 0:r.className)),n=t.createElement(dA,zC({},a,{className:l}),s)}return n}var KC=(0,t.forwardRef)((e,n)=>{var{ticks:r=[],tick:a,tickLine:s,stroke:i,tickFormatter:l,unit:o,padding:c,tickTextProps:d,orientation:u,mirror:m,x:h,y:p,width:f,height:x,tickSize:g,tickMargin:v,fontSize:b,letterSpacing:y,getTicksConfig:j,events:w,axisType:N}=e,k=RC(BC(BC({},j),{},{ticks:r}),b,y),A=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(u,m),_=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(u,m),C=gw(j),S=vw(a),E={};"object"===typeof s&&(E=s);var O=BC(BC({},C),{},{fill:"none"},E),M=k.map(e=>BC({entry:e},function(e,t,n,r,a,s,i,l,o){var c,d,u,m,h,p,f=l?-1:1,x=e.tickSize||i,g=Na(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=d=e.coordinate,p=(u=(m=n+ +!l*a)-f*x)-f*o,h=g;break;case"left":u=m=e.coordinate,h=(c=(d=t+ +!l*r)-f*x)-f*o,p=g;break;case"right":u=m=e.coordinate,h=(c=(d=t+ +l*r)+f*x)+f*o,p=g;break;default:c=d=e.coordinate,p=(u=(m=n+ +l*a)+f*x)+f*o,h=g}return{line:{x1:c,y1:u,x2:d,y2:m},tick:{x:h,y:p}}}(e,h,p,f,x,u,g,m,v))),P=M.map(e=>{var{entry:n,line:r}=e;return t.createElement(Ak,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(n.value,"-").concat(n.coordinate,"-").concat(n.tickCoord)},s&&t.createElement("line",zC({},O,r,{className:(0,ha.$)("recharts-cartesian-axis-tick-line",ga()(s,"className"))})))}),T=M.map((e,n)=>{var{entry:r,tick:s}=e,u=BC(BC(BC(BC({textAnchor:A,verticalAnchor:_},C),{},{stroke:"none",fill:i},S),s),{},{index:n,payload:r,visibleTicksCount:k.length,tickFormatter:l,padding:c},d);return t.createElement(Ak,zC({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(r.value,"-").concat(r.coordinate,"-").concat(r.tickCoord)},uk(w,r,n)),a&&t.createElement(qC,{option:a,tickProps:u,value:"".concat("function"===typeof l?l(r.value,n):r.value).concat(o||"")}))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},T.length>0&&t.createElement(uA,{zIndex:dx.label},t.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:n},T)),P.length>0&&t.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},P))}),VC=(0,t.forwardRef)((e,n)=>{var{axisLine:r,width:a,height:s,className:i,hide:l,ticks:o,axisType:c}=e,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,LC),[u,m]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),f=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>i&&(i=t.width)}});var l=n?n.getBoundingClientRect().width:0,o=i+(a+s)+l+(n?r:0);return Math.round(o)}return 0})({ticks:f.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=(0,t.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");f.current=t;var n=t[0];if(n){var r=window.getComputedStyle(n),a=r.fontSize,s=r.letterSpacing;a===u&&s===h||(m(a),p(s))}}},[u,h]);return l||null!=a&&a<=0||null!=s&&s<=0?null:t.createElement(uA,{zIndex:e.zIndex},t.createElement(Ak,{className:(0,ha.$)("recharts-cartesian-axis",i)},t.createElement(HC,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:gw(e)}),t.createElement(KC,{ref:x,axisType:c,events:d,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),t.createElement(yA,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},t.createElement(OA,{label:e.label,labelRef:e.labelRef}),e.children)))}),GC=t.forwardRef((e,n)=>{var r=mN(e,WC);return t.createElement(VC,zC({},r,{ref:n}))});GC.displayName="CartesianAxis";var $C=["x1","y1","x2","y2","key"],YC=["offset"],ZC=["xAxisId","yAxisId"],QC=["xAxisId","yAxisId"];function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JC(Object(n),!0).forEach(function(t){eS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tS.apply(null,arguments)}function nS(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var rS=e=>{var{fill:n}=e;if(!n||"none"===n)return null;var{fillOpacity:r,x:a,y:s,width:i,height:l,ry:o}=e;return t.createElement("rect",{x:a,y:s,ry:o,width:i,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function aS(e){var n,{option:r,lineItemProps:a}=e;if(t.isValidElement(r))n=t.cloneElement(r,a);else if("function"===typeof r)n=r(a);else{var s,{x1:i,y1:l,x2:o,y2:c,key:d}=a,u=null!==(s=gw(nS(a,$C)))&&void 0!==s?s:{},{offset:m}=u,h=nS(u,YC);n=t.createElement("line",tS({},h,{x1:i,y1:l,x2:o,y2:c,fill:"none",key:d}))}return n}function sS(e){var{x:n,width:r,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:l}=e,o=nS(e,ZC),c=s.map((e,s)=>{var i=XC(XC({},o),{},{x1:n,y1:e,x2:n+r,y2:e,key:"line-".concat(s),index:s});return t.createElement(aS,{key:"line-".concat(s),option:a,lineItemProps:i})});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function iS(e){var{y:n,height:r,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:l}=e,o=nS(e,QC),c=s.map((e,s)=>{var i=XC(XC({},o),{},{x1:e,y1:n,x2:e,y2:n+r,key:"line-".concat(s),index:s});return t.createElement(aS,{option:a,lineItemProps:i,key:"line-".concat(s)})});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function lS(e){var{horizontalFill:n,fillOpacity:r,x:a,y:s,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!n||!n.length||null==o)return null;var d=o.map(e=>Math.round(e+s-s)).sort((e,t)=>e-t);s!==d[0]&&d.unshift(0);var u=d.map((e,o)=>{var c=!d[o+1]?s+l-e:d[o+1]-e;if(c<=0)return null;var u=o%n.length;return t.createElement("rect",{key:"react-".concat(o),y:e,x:a,height:c,width:i,stroke:"none",fill:n[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function oS(e){var{vertical:n=!0,verticalFill:r,fillOpacity:a,x:s,y:i,width:l,height:o,verticalPoints:c}=e;if(!n||!r||!r.length)return null;var d=c.map(e=>Math.round(e+s-s)).sort((e,t)=>e-t);s!==d[0]&&d.unshift(0);var u=d.map((e,n)=>{var c=!d[n+1]?s+l-e:d[n+1]-e;if(c<=0)return null;var u=n%r.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:i,width:c,height:o,stroke:"none",fill:r[u],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var cS=(e,t)=>{var{xAxis:n,width:r,height:a,offset:s}=e;return Tc(RC(XC(XC(XC({},WC),n),{},{ticks:Dc(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,t)},dS=(e,t)=>{var{yAxis:n,width:r,height:a,offset:s}=e;return Tc(RC(XC(XC(XC({},WC),n),{},{ticks:Dc(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,t)},uS={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:dx.grid};function mS(e){var n=ud(),r=md(),a=dd(),s=XC(XC({},mN(e,uS)),{},{x:Na(e.x)?e.x:a.left,y:Na(e.y)?e.y:a.top,width:Na(e.width)?e.width:a.width,height:Na(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:d,height:u,syncWithTicks:m,horizontalValues:h,verticalValues:p}=s,f=ad(),x=xc(e=>Fv(e,"xAxis",i,f)),g=xc(e=>Fv(e,"yAxis",l,f));if(!Ha(d)||!Ha(u)||!Na(o)||!Na(c))return null;var v=s.verticalCoordinatesGenerator||cS,b=s.horizontalCoordinatesGenerator||dS,{horizontalPoints:y,verticalPoints:j}=s;if((!y||!y.length)&&"function"===typeof b){var w=h&&h.length,N=b({yAxis:g?XC(XC({},g),{},{ticks:w?h:g.ticks}):void 0,width:null!==n&&void 0!==n?n:d,height:null!==r&&void 0!==r?r:u,offset:a},!!w||m);Ia(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(y=N)}if((!j||!j.length)&&"function"===typeof v){var k=p&&p.length,A=v({xAxis:x?XC(XC({},x),{},{ticks:k?p:x.ticks}):void 0,width:null!==n&&void 0!==n?n:d,height:null!==r&&void 0!==r?r:u,offset:a},!!k||m);Ia(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(j=A)}return t.createElement(uA,{zIndex:s.zIndex},t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(rS,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),t.createElement(lS,tS({},s,{horizontalPoints:y})),t.createElement(oS,tS({},s,{verticalPoints:j})),t.createElement(sS,tS({},s,{offset:a,horizontalPoints:y,xAxis:x,yAxis:g})),t.createElement(iS,tS({},s,{offset:a,verticalPoints:j,xAxis:x,yAxis:g}))))}mS.displayName="CartesianGrid";var hS=["domain","range"],pS=["domain","range"];function fS(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xS(e,t){return e===t||!(!Array.isArray(e)||2!==e.length||!Array.isArray(t)||2!==t.length)&&(e[0]===t[0]&&e[1]===t[1])}function gS(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=fS(e,hS),{domain:s,range:i}=t,l=fS(t,pS);return!!xS(n,s)&&(!!xS(r,i)&&lw(a,l))}var vS=["dangerouslySetInnerHTML","ticks","scale"],bS=["id","scale"];function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yS.apply(null,arguments)}function jS(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wS(e){var n=mc(),r=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{null===r.current?n(Ty(e)):r.current!==e&&n(Dy({prev:r.current,next:e})),r.current=e},[e,n]),(0,t.useLayoutEffect)(()=>()=>{r.current&&(n(Iy(r.current)),r.current=null)},[n]),null}var NS=e=>{var{xAxisId:n,className:r}=e,a=xc(nd),s=ad(),i="xAxis",l=xc(e=>Bv(e,i,n,s)),o=xc(e=>Ev(e,n)),c=xc(e=>Pv(e,n)),d=xc(e=>Jx(e,n));if(null==o||null==c||null==d)return null;var{dangerouslySetInnerHTML:u,ticks:m,scale:h}=e,p=jS(e,vS),{id:f,scale:x}=d,g=jS(d,bS);return t.createElement(GC,yS({},p,g,{x:c.x,y:c.y,width:o.width,height:o.height,className:(0,ha.$)("recharts-".concat(i," ").concat(i),r),viewBox:a,ticks:l,axisType:i}))},kS={allowDataOverflow:Qx.allowDataOverflow,allowDecimals:Qx.allowDecimals,allowDuplicatedCategory:Qx.allowDuplicatedCategory,angle:Qx.angle,axisLine:WC.axisLine,height:Qx.height,hide:!1,includeHidden:Qx.includeHidden,interval:Qx.interval,minTickGap:Qx.minTickGap,mirror:Qx.mirror,orientation:Qx.orientation,padding:Qx.padding,reversed:Qx.reversed,scale:Qx.scale,tick:Qx.tick,tickCount:Qx.tickCount,tickLine:WC.tickLine,tickSize:WC.tickSize,type:Qx.type,xAxisId:0},AS=e=>{var n=mN(e,kS);return t.createElement(t.Fragment,null,t.createElement(wS,{allowDataOverflow:n.allowDataOverflow,allowDecimals:n.allowDecimals,allowDuplicatedCategory:n.allowDuplicatedCategory,angle:n.angle,dataKey:n.dataKey,domain:n.domain,height:n.height,hide:n.hide,id:n.xAxisId,includeHidden:n.includeHidden,interval:n.interval,minTickGap:n.minTickGap,mirror:n.mirror,name:n.name,orientation:n.orientation,padding:n.padding,reversed:n.reversed,scale:n.scale,tick:n.tick,tickCount:n.tickCount,tickFormatter:n.tickFormatter,ticks:n.ticks,type:n.type,unit:n.unit}),t.createElement(NS,n))},_S=t.memo(AS,gS);_S.displayName="XAxis";var CS=["dangerouslySetInnerHTML","ticks","scale"],SS=["id","scale"];function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ES.apply(null,arguments)}function OS(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function MS(e){var n=mc(),r=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{null===r.current?n(Ry(e)):r.current!==e&&n(Ly({prev:r.current,next:e})),r.current=e},[e,n]),(0,t.useLayoutEffect)(()=>()=>{r.current&&(n(zy(r.current)),r.current=null)},[n]),null}var PS=e=>{var{yAxisId:n,className:r,width:a,label:s}=e,i=(0,t.useRef)(null),l=(0,t.useRef)(null),o=xc(nd),c=ad(),d=mc(),u="yAxis",m=xc(e=>Dv(e,n)),h=xc(e=>Tv(e,n)),p=xc(e=>Bv(e,u,n,c)),f=xc(e=>tg(e,n));if((0,t.useLayoutEffect)(()=>{if("auto"===a&&m&&!kA(s)&&!(0,t.isValidElement)(s)&&null!=f){var e=i.current;if(e){var r=e.getCalculatedWidth();Math.round(m.width)!==Math.round(r)&&d(Wy({id:n,width:r}))}}},[p,m,d,s,n,a,f]),null==m||null==h||null==f)return null;var{dangerouslySetInnerHTML:x,ticks:g,scale:v}=e,b=OS(e,CS),{id:y,scale:j}=f,w=OS(f,SS);return t.createElement(GC,ES({},b,w,{ref:i,labelRef:l,x:h.x,y:h.y,tickTextProps:"auto"===a?{width:void 0}:{width:a},width:m.width,height:m.height,className:(0,ha.$)("recharts-".concat(u," ").concat(u),r),viewBox:o,ticks:p,axisType:u}))},TS={allowDataOverflow:eg.allowDataOverflow,allowDecimals:eg.allowDecimals,allowDuplicatedCategory:eg.allowDuplicatedCategory,angle:eg.angle,axisLine:WC.axisLine,hide:!1,includeHidden:eg.includeHidden,interval:eg.interval,minTickGap:eg.minTickGap,mirror:eg.mirror,orientation:eg.orientation,padding:eg.padding,reversed:eg.reversed,scale:eg.scale,tick:eg.tick,tickCount:eg.tickCount,tickLine:WC.tickLine,tickSize:WC.tickSize,type:eg.type,width:eg.width,yAxisId:0},DS=e=>{var n=mN(e,TS);return t.createElement(t.Fragment,null,t.createElement(MS,{interval:n.interval,id:n.yAxisId,scale:n.scale,type:n.type,domain:n.domain,allowDataOverflow:n.allowDataOverflow,dataKey:n.dataKey,allowDuplicatedCategory:n.allowDuplicatedCategory,allowDecimals:n.allowDecimals,tickCount:n.tickCount,padding:n.padding,includeHidden:n.includeHidden,reversed:n.reversed,ticks:n.ticks,width:n.width,orientation:n.orientation,mirror:n.mirror,hide:n.hide,unit:n.unit,name:n.name,angle:n.angle,minTickGap:n.minTickGap,tick:n.tick,tickFormatter:n.tickFormatter}),t.createElement(PS,n))},IS=t.memo(DS,gS);function RS(){return RS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RS.apply(null,arguments)}function LS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LS(Object(n),!0).forEach(function(t){FS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BS(e){return Array.isArray(e)&&ka(e[0])&&ka(e[1])?e.join(" ~ "):e}IS.displayName="YAxis";var US=e=>{var{separator:n=" : ",contentStyle:r={},itemStyle:a={},labelStyle:s={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:m,accessibilityLayer:h=!1}=e,p=zS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),f=zS({margin:0},s),x=!Ma(u),g=x?u:"",v=(0,ha.$)("recharts-default-tooltip",c),b=(0,ha.$)("recharts-tooltip-label",d);x&&m&&void 0!==i&&null!==i&&(g=m(u,i));var y=h?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",RS({className:v,style:p},y),t.createElement("p",{className:b,style:f},t.isValidElement(g)?g:"".concat(g)),(()=>{if(i&&i.length){var e=(o?vc()(i,o):i).map((e,r)=>{if("none"===e.type)return null;var s=e.formatter||l||BS,{value:o,name:c}=e,d=o,u=c;if(s){var m=s(o,c,e,r,i);if(Array.isArray(m))[d,u]=m;else{if(null==m)return null;d=m}}var h=zS({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:h},ka(u)?t.createElement("span",{className:"recharts-tooltip-item-name"},u):null,ka(u)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},d),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},WS="recharts-tooltip-wrapper",HS={visibility:"hidden"};function qS(e){var{coordinate:t,translateX:n,translateY:r}=e;return(0,ha.$)(WS,{["".concat(WS,"-right")]:Na(n)&&t&&Na(t.x)&&n>=t.x,["".concat(WS,"-left")]:Na(n)&&t&&Na(t.x)&&n<t.x,["".concat(WS,"-bottom")]:Na(r)&&t&&Na(t.y)&&r>=t.y,["".concat(WS,"-top")]:Na(r)&&t&&Na(t.y)&&r<t.y})}function KS(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l,viewBox:o,viewBoxDimension:c}=e;if(s&&Na(s[r]))return s[r];var d=n[r]-l-(a>0?a:0),u=n[r]+a;if(t[r])return i[r]?d:u;var m=o[r];return null==m?0:i[r]?d<m?Math.max(u,m):Math.max(d,m):null==c?0:u+l>m+c?Math.max(d,m):Math.max(u,m)}function VS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VS(Object(n),!0).forEach(function(t){$S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class YS extends t.PureComponent{constructor(){super(...arguments),$S(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$S(this,"handleKeyDown",e=>{var t,n,r,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:i,hasPayload:l,isAnimationActive:o,offset:c,position:d,reverseDirection:u,useTranslate3d:m,viewBox:h,wrapperStyle:p,lastBoundingBox:f,innerRef:x,hasPortalFromProps:g}=this.props,{cssClasses:v,cssProperties:b}=function(e){var t,n,r,{allowEscapeViewBox:a,coordinate:s,offsetTopLeft:i,position:l,reverseDirection:o,tooltipBox:c,useTranslate3d:d,viewBox:u}=e;return t=c.height>0&&c.width>0&&s?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=KS({allowEscapeViewBox:a,coordinate:s,key:"x",offsetTopLeft:i,position:l,reverseDirection:o,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),translateY:r=KS({allowEscapeViewBox:a,coordinate:s,key:"y",offsetTopLeft:i,position:l,reverseDirection:o,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:d}):HS,{cssProperties:t,cssClasses:qS({translateX:n,translateY:r,coordinate:s})}}({allowEscapeViewBox:n,coordinate:i,offsetTopLeft:c,position:d,reverseDirection:u,tooltipBox:{height:f.height,width:f.width},useTranslate3d:m,viewBox:h}),y=g?{}:GS(GS({transition:o&&e?"transform ".concat(r,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=GS(GS({},y),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:j,ref:x},s)}}var ZS=__webpack_require__(2239),QS=__webpack_require__.n(ZS);function JS(e,t,n){return!0===t?QS()(e,n):"function"===typeof t?QS()(e,t):e}function XS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,r]=(0,t.useState)({height:0,left:0,top:0,width:0}),a=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),a={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(a.height-n.height)>1||Math.abs(a.left-n.left)>1||Math.abs(a.top-n.top)>1||Math.abs(a.width-n.width)>1)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[n.width,n.height,n.top,n.left,...e]);return[n,a]}var eE=["x","y","top","left","width","height","className"];function tE(){return tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tE.apply(null,arguments)}function nE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aE=(e,t,n,r,a,s)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),sE=e=>{var{x:n=0,y:r=0,top:a=0,left:s=0,width:i=0,height:l=0,className:o}=e,c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nE(Object(n),!0).forEach(function(t){rE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:r,top:a,left:s,width:i,height:l},function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,eE));return Na(n)&&Na(r)&&Na(i)&&Na(l)&&Na(a)&&Na(s)?t.createElement("path",tE({},bw(c),{className:(0,ha.$)("recharts-cross",o),d:aE(n,r,i,l,a,s)})):null};var iE,lE,oE,cE,dE,uE,mE,hE,pE,fE,xE=["radius"],gE=["radius"];function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vE(Object(n),!0).forEach(function(t){yE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jE(){return jE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jE.apply(null,arguments)}function wE(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function NE(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kE,AE,_E,CE,SE,EE,OE,ME=(e,t,n,r,a)=>{var s,i=va(n),l=va(r),o=Math.min(Math.abs(i)/2,Math.abs(l)/2),c=l>=0?1:-1,d=i>=0?1:-1,u=l>=0&&i>=0||l<0&&i<0?1:0;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],h=0;h<4;h++)m[h]=a[h]>o?o:a[h];s=ba(iE||(iE=NE(["M",",",""])),e,t+c*m[0]),m[0]>0&&(s+=ba(lE||(lE=NE(["A ",",",",0,0,",",",",",""])),m[0],m[0],u,e+d*m[0],t)),s+=ba(oE||(oE=NE(["L ",",",""])),e+n-d*m[1],t),m[1]>0&&(s+=ba(cE||(cE=NE(["A ",",",",0,0,",",\n        ",",",""])),m[1],m[1],u,e+n,t+c*m[1])),s+=ba(dE||(dE=NE(["L ",",",""])),e+n,t+r-c*m[2]),m[2]>0&&(s+=ba(uE||(uE=NE(["A ",",",",0,0,",",\n        ",",",""])),m[2],m[2],u,e+n-d*m[2],t+r)),s+=ba(mE||(mE=NE(["L ",",",""])),e+d*m[3],t+r),m[3]>0&&(s+=ba(hE||(hE=NE(["A ",",",",0,0,",",\n        ",",",""])),m[3],m[3],u,e,t+r-c*m[3])),s+="Z"}else if(o>0&&a===+a&&a>0){var p=Math.min(o,a);s=ba(pE||(pE=NE(["M ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",","," Z"])),e,t+c*p,p,p,u,e+d*p,t,e+n-d*p,t,p,p,u,e+n,t+c*p,e+n,t+r-c*p,p,p,u,e+n-d*p,t+r,e+d*p,t+r,p,p,u,e,t+r-c*p)}else s=ba(fE||(fE=NE(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return s},PE={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TE=e=>{var n=mN(e,PE),r=(0,t.useRef)(null),[a,s]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&s(e)}catch(t){}},[]);var{x:i,y:l,width:o,height:c,radius:d,className:u}=n,{animationEasing:m,animationDuration:h,animationBegin:p,isAnimationActive:f,isUpdateAnimationActive:x}=n,g=(0,t.useRef)(o),v=(0,t.useRef)(c),b=(0,t.useRef)(i),y=(0,t.useRef)(l),j=v_((0,t.useMemo)(()=>({x:i,y:l,width:o,height:c,radius:d}),[i,l,o,c,d]),"rectangle-");if(i!==+i||l!==+l||o!==+o||c!==+c||0===o||0===c)return null;var w=(0,ha.$)("recharts-rectangle",u);if(!x){var N=bw(n),{radius:k}=N,A=wE(N,xE);return t.createElement("path",jE({},A,{x:va(i),y:va(l),width:va(o),height:va(c),radius:"number"===typeof d?d:void 0,className:w,d:ME(i,l,o,c,d)}))}var _=g.current,C=v.current,S=b.current,E=y.current,O="0px ".concat(-1===a?1:a,"px"),M="".concat(a,"px 0px"),P=C_(["strokeDasharray"],h,"string"===typeof m?m:PE.animationEasing);return t.createElement(Q_,{animationId:j,key:j,canBegin:a>0,duration:h,easing:m,isActive:x,begin:p},e=>{var a,s=Ea(_,o,e),u=Ea(C,c,e),m=Ea(S,i,e),h=Ea(E,l,e);r.current&&(g.current=s,v.current=u,b.current=m,y.current=h),a=f?e>0?{transition:P,strokeDasharray:M}:{strokeDasharray:O}:{strokeDasharray:M};var p=bw(n),{radius:x}=p,j=wE(p,gE);return t.createElement("path",jE({},j,{radius:"number"===typeof d?d:void 0,className:w,d:ME(m,h,s,u,d),ref:r,style:bE(bE({},a),n.style)}))})};function DE(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:s}=e;return{points:[ix(t,n,r,a),ix(t,n,r,s)],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IE.apply(null,arguments)}function RE(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var LE=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:s,isExternal:i,cornerRadius:l,cornerIsExternal:o}=e,c=l*(i?1:-1)+r,d=Math.asin(l/c)/ax,u=o?a:a+s*d,m=o?a-s*d:a;return{center:ix(t,n,c,u),circleTangency:ix(t,n,r,u),lineTangency:ix(t,n,c*Math.cos(d*ax),m),theta:d}},zE=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:i}=e,l=((e,t)=>ya(t-e)*Math.min(Math.abs(t-e),359.999))(s,i),o=s+l,c=ix(t,n,a,s),d=ix(t,n,a,o),u=ba(kE||(kE=RE(["M ",",","\n    A ",",",",0,\n    ",",",",\n    ",",","\n  "])),c.x,c.y,a,a,+(Math.abs(l)>180),+(s>o),d.x,d.y);if(r>0){var m=ix(t,n,r,s),h=ix(t,n,r,o);u+=ba(AE||(AE=RE(["L ",",","\n            A ",",",",0,\n            ",",",",\n            ",","," Z"])),h.x,h.y,r,r,+(Math.abs(l)>180),+(s<=o),m.x,m.y)}else u+=ba(_E||(_E=RE(["L ",","," Z"])),t,n);return u},FE={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BE=e=>{var n=mN(e,FE),{cx:r,cy:a,innerRadius:s,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u,className:m}=n;if(i<s||d===u)return null;var h,p=(0,ha.$)("recharts-sector",m),f=i-s,x=Ca(l,f,0,!0);return h=x>0&&Math.abs(d-u)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:l,startAngle:o,endAngle:c}=e,d=ya(c-o),{circleTangency:u,lineTangency:m,theta:h}=LE({cx:t,cy:n,radius:a,angle:o,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:f,theta:x}=LE({cx:t,cy:n,radius:a,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:l}),g=l?Math.abs(o-c):Math.abs(o-c)-h-x;if(g<0)return i?ba(CE||(CE=RE(["M ",",","\n        a",",",",0,0,1,",",0\n        a",",",",0,0,1,",",0\n      "])),m.x,m.y,s,s,2*s,s,s,2*-s):zE({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:o,endAngle:c});var v=ba(SE||(SE=RE(["M ",",","\n    A",",",",0,0,",",",",","\n    A",",",",0,",",",",",",","\n    A",",",",0,0,",",",",","\n  "])),m.x,m.y,s,s,+(d<0),u.x,u.y,a,a,+(g>180),+(d<0),p.x,p.y,s,s,+(d<0),f.x,f.y);if(r>0){var{circleTangency:b,lineTangency:y,theta:j}=LE({cx:t,cy:n,radius:r,angle:o,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:w,lineTangency:N,theta:k}=LE({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=l?Math.abs(o-c):Math.abs(o-c)-j-k;if(A<0&&0===s)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+=ba(EE||(EE=RE(["L",",","\n      A",",",",0,0,",",",",","\n      A",",",",0,",",",",",",","\n      A",",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(d<0),w.x,w.y,r,r,+(A>180),+(d>0),b.x,b.y,s,s,+(d<0),y.x,y.y)}else v+=ba(OE||(OE=RE(["L",",","Z"])),t,n);return v})({cx:r,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(x,f/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}):zE({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u}),t.createElement("path",IE({},bw(n),{className:p,d:h}))};function UE(e,t,n){if("horizontal"===e)return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if("vertical"===e)return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(ck(t)){if("centric"===e){var{cx:r,cy:a,innerRadius:s,outerRadius:i,angle:l}=t,o=ix(r,a,s,l),c=ix(r,a,i,l);return[{x:o.x,y:o.y},{x:c.x,y:c.y}]}return DE(t)}}function WE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WE(Object(n),!0).forEach(function(t){qE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KE=()=>{var e=xc(_g),t=xc(Hb),n=xc(Bb);return Wc(e&&n?HE(HE({},e),{},{scale:n}):void 0,t)};function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VE.apply(null,arguments)}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(t){YE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZE(e){var{cursor:n,cursorComp:r,cursorProps:a}=e;return(0,t.isValidElement)(n)?(0,t.cloneElement)(n,a):(0,t.createElement)(r,a)}function QE(e){var n,r,a,s,{coordinate:i,payload:l,index:o,offset:c,tooltipAxisBandSize:d,layout:u,cursor:m,tooltipEventType:h,chartName:p}=e,f=i,x=l,g=o;if(!m||!f||"ScatterChart"!==p&&"axis"!==h)return null;if("ScatterChart"===p)r=f,a=sE,s=dx.cursorLine;else if("BarChart"===p)r=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(u,f,c,d),a=TE,s=dx.cursorRectangle;else if("radial"===u&&ck(f)){var{cx:v,cy:b,radius:y,startAngle:j,endAngle:w}=DE(f);r={cx:v,cy:b,startAngle:j,endAngle:w,innerRadius:y,outerRadius:y},a=BE,s=dx.cursorLine}else r={points:UE(u,f,c)},a=wk,s=dx.cursorLine;var N="object"===typeof m&&"className"in m?m.className:void 0,k=$E($E($E($E({stroke:"#ccc",pointerEvents:"none"},c),r),vw(m)),{},{payload:x,payloadIndex:g,className:(0,ha.$)("recharts-tooltip-cursor",N)});return t.createElement(uA,{zIndex:null!==(n=e.zIndex)&&void 0!==n?n:s},t.createElement(ZE,{cursor:m,cursorComp:a,cursorProps:k}))}function JE(e){var n=KE(),r=dd(),a=pd(),s=ly();return null==n||null==r||null==a||null==s?null:t.createElement(QE,VE({},e,{offset:r,layout:a,tooltipAxisBandSize:n,chartName:s}))}function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(t){tO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nO(e){return e.dataKey}var rO=[],aO={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function sO(e){var n,r,a=mN(e,aO),{active:s,allowEscapeViewBox:i,animationDuration:l,animationEasing:o,content:c,filterNull:d,isAnimationActive:u,offset:m,payloadUniqBy:h,position:p,reverseDirection:f,useTranslate3d:x,wrapperStyle:g,cursor:v,shared:b,trigger:y,defaultIndex:j,portal:w,axisId:N}=a,k=mc(),A="number"===typeof j?String(j):j;(0,t.useEffect)(()=>{k(To({shared:b,trigger:y,axisId:N,active:s,defaultIndex:A}))},[k,b,y,N,s,A]);var _=od(),C=uw(),S=function(e){return xc(t=>$v(t,e))}(b),{activeIndex:E,isActive:O}=null!==(n=xc(e=>by(e,S,y,A)))&&void 0!==n?n:{},M=xc(e=>vy(e,S,y,A)),P=xc(e=>gy(e,S,y,A)),T=xc(e=>xy(e,S,y,A)),D=M,I=(0,t.useContext)(qw),R=null!==(r=null!==s&&void 0!==s?s:O)&&void 0!==r&&r,[L,z]=XS([D,R]),F="axis"===S?P:void 0;Hw(S,y,T,F,E,R);var B=null!==w&&void 0!==w?w:I;if(null==B||null==_||null==S)return null;var U=null!==D&&void 0!==D?D:rO;R||(U=rO),d&&U.length&&(U=JS(U.filter(e=>null!=e.value&&(!0!==e.hide||a.includeHidden)),h,nO));var W=U.length>0,H=t.createElement(YS,{allowEscapeViewBox:i,animationDuration:l,animationEasing:o,isAnimationActive:u,active:R,coordinate:T,hasPayload:W,offset:m,position:p,reverseDirection:f,useTranslate3d:x,viewBox:_,wrapperStyle:g,lastBoundingBox:L,innerRef:z,hasPortalFromProps:Boolean(w)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(US,n)}(c,eO(eO({},a),{},{payload:U,label:F,active:R,activeIndex:E,coordinate:T,accessibilityLayer:C})));return t.createElement(t.Fragment,null,(0,jr.createPortal)(H,B),R&&t.createElement(JE,{cursor:v,tooltipEventType:S,coordinate:T,payload:U,index:E}))}Math.abs,Math.atan2;const iO=Math.cos,lO=(Math.max,Math.min,Math.sin),oO=Math.sqrt,cO=Math.PI,dO=2*cO;const uO={draw(e,t){const n=oO(t/cO);e.moveTo(n,0),e.arc(0,0,n,0,dO)}},mO={draw(e,t){const n=oO(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},hO=oO(1/3),pO=2*hO,fO={draw(e,t){const n=oO(t/pO),r=n*hO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},xO={draw(e,t){const n=oO(t),r=-n/2;e.rect(r,r,n,n)}},gO=lO(cO/10)/lO(7*cO/10),vO=lO(dO/10)*gO,bO=-iO(dO/10)*gO,yO={draw(e,t){const n=oO(.8908130915292852*t),r=vO*n,a=bO*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const t=dO*s/5,i=iO(t),l=lO(t);e.lineTo(l*n,-i*n),e.lineTo(i*r-l*a,l*r+i*a)}e.closePath()}},jO=oO(3),wO={draw(e,t){const n=-oO(t/(3*jO));e.moveTo(0,2*n),e.lineTo(-jO*n,-n),e.lineTo(jO*n,-n),e.closePath()}},NO=-.5,kO=oO(3)/2,AO=1/oO(12),_O=3*(AO/2+1),CO={draw(e,t){const n=oO(t/_O),r=n/2,a=n*AO,s=r,i=n*AO+n,l=-s,o=i;e.moveTo(r,a),e.lineTo(s,i),e.lineTo(l,o),e.lineTo(NO*r-kO*a,kO*r+NO*a),e.lineTo(NO*s-kO*i,kO*s+NO*i),e.lineTo(NO*l-kO*o,kO*l+NO*o),e.lineTo(NO*r+kO*a,NO*a-kO*r),e.lineTo(NO*s+kO*i,NO*i-kO*s),e.lineTo(NO*l+kO*o,NO*o-kO*l),e.closePath()}};oO(3),oO(3);var SO=["type","size","sizeType"];function EO(){return EO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EO.apply(null,arguments)}function OO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OO(Object(n),!0).forEach(function(t){PO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TO={symbolCircle:uO,symbolCross:mO,symbolDiamond:fO,symbolSquare:xO,symbolStar:yO,symbolTriangle:wO,symbolWye:CO},DO=Math.PI/180,IO=e=>{var{type:n="circle",size:r=64,sizeType:a="area"}=e,s=MO(MO({},function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,SO)),{},{type:n,size:r,sizeType:a}),i="circle";"string"===typeof n&&(i=n);var{className:l,cx:o,cy:c}=s,d=bw(s);return Na(o)&&Na(c)&&Na(r)?t.createElement("path",EO({},d,{className:(0,ha.$)("recharts-symbols",l),transform:"translate(".concat(o,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(Pa(e));return TO[t]||uO})(i),t=function(e,t){let n=null,r=ak(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:Nc(e||uO),t="function"===typeof t?t:Nc(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:Nc(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:Nc(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*DO;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,a,i)),n=t();if(null!==n)return n})()})):null};function RO(){return RO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RO.apply(null,arguments)}function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}IO.registerSymbol=(e,t)=>{TO["symbol".concat(Pa(e))]=t};var FO=32,BO={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function UO(e){var n,{data:r,iconType:a,inactiveColor:s}=e,i=16,l=FO/6,o=FO/3,c=r.inactive?s:r.color,d=null!==a&&void 0!==a?a:r.type;if("none"===d)return null;if("plainline"===d)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:null===(n=r.payload)||void 0===n?void 0:n.strokeDasharray,x1:0,y1:i,x2:FO,y2:i,className:"recharts-legend-icon"});if("line"===d)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,"\n            A").concat(l,",").concat(l,",0,1,1,").concat(2*o,",").concat(i,"\n            H").concat(FO,"M").concat(2*o,",").concat(i,"\n            A").concat(l,",").concat(l,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if("rect"===d)return t.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(4,"h").concat(FO,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(r.legendIcon)){var u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LO(Object(n),!0).forEach(function(t){zO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r);return delete u.legendIcon,t.cloneElement(r.legendIcon,u)}return t.createElement(IO,{fill:c,cx:i,cy:i,size:FO,sizeType:"diameter",type:d})}function WO(e){var{payload:n,iconSize:r,layout:a,formatter:s,inactiveColor:i,iconType:l}=e,o={x:0,y:0,width:FO,height:FO},c={display:"horizontal"===a?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((n,a)=>{var u=n.formatter||s,m=(0,ha.$)({"recharts-legend-item":!0,["legend-item-".concat(a)]:!0,inactive:n.inactive});if("none"===n.type)return null;var h=n.inactive?i:n.color,p=u?u(n.value,n,a):n.value;return t.createElement("li",RO({className:m,style:c,key:"legend-item-".concat(a)},uk(e,n,a)),t.createElement(ww,{width:r,height:r,viewBox:o,style:d,"aria-label":"".concat(p," legend icon")},t.createElement(UO,{data:n,iconType:l,inactiveColor:i})),t.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},p))})}var HO=e=>{var n=mN(e,BO),{payload:r,layout:a,align:s}=n;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===a?s:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:i},t.createElement(WO,RO({},n,{payload:r})))};var qO=["contextPayload"];function KO(){return KO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KO.apply(null,arguments)}function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VO(Object(n),!0).forEach(function(t){$O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YO(e){return e.value}function ZO(e){var{contextPayload:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,qO),a=JS(n,e.payloadUniqBy,YO),s=GO(GO({},r),{},{payload:a});return t.isValidElement(e.content)?t.cloneElement(e.content,s):"function"===typeof e.content?t.createElement(e.content,s):t.createElement(HO,s)}function QO(e){var n=mc();return(0,t.useEffect)(()=>{n(uj(e))},[n,e]),null}function JO(e){var n=mc();return(0,t.useEffect)(()=>(n(dj(e)),()=>{n(dj({width:0,height:0}))}),[n,e]),null}var XO={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function eM(e){var n=mN(e,XO),r=xc(yc),a=(0,t.useContext)(Kw),s=xc(e=>e.layout.margin),{width:i,height:l,wrapperStyle:o,portal:c}=n,[d,u]=XS([r]),m=ud(),h=md();if(null==m||null==h)return null;var p=m-((null===s||void 0===s?void 0:s.left)||0)-((null===s||void 0===s?void 0:s.right)||0),f=function(e,t,n,r){return"vertical"===e&&Na(t)?{height:t}:"horizontal"===e?{width:n||r}:null}(n.layout,l,i,p),x=c?o:GO(GO({position:"absolute",width:(null===f||void 0===f?void 0:f.width)||i||"auto",height:(null===f||void 0===f?void 0:f.height)||l||"auto"},function(e,t,n,r,a,s){var i,l,{layout:o,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(i="center"===c&&"vertical"===o?{left:((r||0)-s.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(l="middle"===d?{top:((a||0)-s.height)/2}:"bottom"===d?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),GO(GO({},i),l)}(o,n,s,m,h,d)),o),g=null!==c&&void 0!==c?c:a;if(null==g||null==r)return null;var v=t.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:u},t.createElement(QO,{layout:n.layout,align:n.align,verticalAlign:n.verticalAlign,itemSorter:n.itemSorter}),!c&&t.createElement(JO,{width:d.width,height:d.height}),t.createElement(ZO,KO({},n,f,{margin:s,chartWidth:m,chartHeight:h,contextPayload:r})));return(0,jr.createPortal)(v,g)}eM.displayName="Legend";var tM=["children"];var nM={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},rM=(0,t.createContext)(nM);function aM(e){var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,tM);return t.createElement(rM.Provider,{value:r},n)}var sM=(e,t,n,r)=>Wv(e,"xAxis",t,r),iM=(e,t,n,r)=>Uv(e,"xAxis",t,r),lM=(e,t,n,r)=>Wv(e,"yAxis",n,r),oM=(e,t,n,r)=>Uv(e,"yAxis",n,r),cM=lc([hd,sM,lM,iM,oM],(e,t,n,r,a)=>Pc(e,"xAxis")?Wc(t,r,!1):Wc(n,a,!1));function dM(e){return"line"===e.type}var uM,mM,hM,pM,fM,xM=lc([cg,(e,t,n,r,a)=>a],(e,t)=>e.filter(dM).find(e=>e.id===t)),gM=lc([hd,sM,lM,iM,oM,xM,cM,Ef],(e,t,n,r,a,s,i,l)=>{var{chartData:o,dataStartIndex:c,dataEndIndex:d}=l;if(null!=s&&null!=t&&null!=n&&null!=r&&null!=a&&0!==r.length&&0!==a.length&&null!=i&&("horizontal"===e||"vertical"===e)){var u,{dataKey:m,data:h}=s;if(null!=(u=null!=h&&h.length>0?h:null===o||void 0===o?void 0:o.slice(c,d+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:i,bandSize:l,displayedData:o}=e;return o.map((e,o)=>{var c=Mc(e,i);if("horizontal"===t)return{x:zc({axis:n,ticks:a,bandSize:l,entry:e,index:o}),y:Ma(c)?null:r.scale(c),value:c,payload:e};var d=Ma(c)?null:n.scale(c),u=zc({axis:r,ticks:s,bandSize:l,entry:e,index:o});return null==d||null==u?null:{x:d,y:u,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:m,bandSize:i,displayedData:u})}}),vM=__webpack_require__(2540),bM=__webpack_require__.n(vM);function yM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yM(Object(n),!0).forEach(function(t){wM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NM(){return NM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NM.apply(null,arguments)}function kM(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var AM=(e,t,n,r,a)=>{var s,i=n-r;return s=ba(uM||(uM=kM(["M ",",",""])),e,t),s+=ba(mM||(mM=kM(["L ",",",""])),e+n,t),s+=ba(hM||(hM=kM(["L ",",",""])),e+n-i/2,t+a),s+=ba(pM||(pM=kM(["L ",",",""])),e+n-i/2-r,t+a),s+=ba(fM||(fM=kM(["L ",","," Z"])),e,t)},_M={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CM=e=>{var n=mN(e,_M),{x:r,y:a,upperWidth:s,lowerWidth:i,height:l,className:o}=n,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:m}=n,h=(0,t.useRef)(null),[p,f]=(0,t.useState)(-1),x=(0,t.useRef)(s),g=(0,t.useRef)(i),v=(0,t.useRef)(l),b=(0,t.useRef)(r),y=(0,t.useRef)(a),j=v_(e,"trapezoid-");if((0,t.useEffect)(()=>{if(h.current&&h.current.getTotalLength)try{var e=h.current.getTotalLength();e&&f(e)}catch(t){}},[]),r!==+r||a!==+a||s!==+s||i!==+i||l!==+l||0===s&&0===i||0===l)return null;var w=(0,ha.$)("recharts-trapezoid",o);if(!m)return t.createElement("g",null,t.createElement("path",NM({},bw(n),{className:w,d:AM(r,a,s,i,l)})));var N=x.current,k=g.current,A=v.current,_=b.current,C=y.current,S="0px ".concat(-1===p?1:p,"px"),E="".concat(p,"px 0px"),O=C_(["strokeDasharray"],d,c);return t.createElement(Q_,{animationId:j,key:j,canBegin:p>0,duration:d,easing:c,isActive:m,begin:u},e=>{var o=Ea(N,s,e),c=Ea(k,i,e),d=Ea(A,l,e),u=Ea(_,r,e),m=Ea(C,a,e);h.current&&(x.current=o,g.current=c,v.current=d,b.current=u,y.current=m);var p=e>0?{transition:O,strokeDasharray:E}:{strokeDasharray:S};return t.createElement("path",NM({},bw(n),{className:w,d:AM(u,m,o,c,d),ref:h,style:jM(jM({},p),n.style)}))})},SM=["option","shapeType","activeClassName"];function EM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EM(Object(n),!0).forEach(function(t){MM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PM(e){var{shapeType:n,elementProps:r}=e;switch(n){case"rectangle":return t.createElement(TE,r);case"trapezoid":return t.createElement(CM,r);case"sector":return t.createElement(BE,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(IO,r);break;case"curve":return t.createElement(wk,r);default:return null}}function TM(e){var n,{option:r,shapeType:a,activeClassName:s="recharts-active-shape"}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,SM);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,OM(OM({},i),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if("function"===typeof r)n=r(i,i.index);else if(bM()(r)&&"boolean"!==typeof r){var l=function(e,t){return OM(OM({},t),e)}(r,i);n=t.createElement(PM,{shapeType:a,elementProps:l})}else{var o=i;n=t.createElement(PM,{shapeType:a,elementProps:o})}return i.isActive?t.createElement(Ak,{className:s},n):n}var DM=["id"],IM=["type","layout","connectNulls","needClip","shape"],RM=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function LM(){return LM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LM.apply(null,arguments)}function zM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zM(Object(n),!0).forEach(function(t){BM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var WM=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:r,value:qc(n,t),payload:e}]},HM=t.memo(e=>{var{dataKey:n,data:r,stroke:a,strokeWidth:s,fill:i,name:l,hide:o,unit:c,tooltipType:d,id:u}=e,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:n,nameKey:void 0,name:qc(l,n),hide:o,type:d,color:a,unit:c,graphicalItemId:u}};return t.createElement(n_,{tooltipEntrySettings:m})}),qM=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function KM(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}function VM(e){var{clipPathId:n,points:r,props:a}=e,{dot:s,dataKey:i,needClip:l}=a,{id:o}=a,c=gw(UM(a,DM));return t.createElement(ZA,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:l,clipPathId:n})}function GM(e){var{showLabels:n,children:r,points:a}=e,s=(0,t.useMemo)(()=>null===a||void 0===a?void 0:a.map(e=>{var t,n,r={x:null!==(t=e.x)&&void 0!==t?t:0,y:null!==(n=e.y)&&void 0!==n?n:0,width:0,lowerWidth:0,upperWidth:0,height:0};return FM(FM({},r),{},{value:e.value,payload:e.payload,viewBox:r,parentViewBox:void 0,fill:void 0})}),[a]);return t.createElement(LA,{value:n?s:void 0},r)}function $M(e){var{clipPathId:n,pathRef:r,points:a,strokeDasharray:s,props:i}=e,{type:l,layout:o,connectNulls:c,needClip:d,shape:u}=i,m=FM(FM({},bw(UM(i,IM))),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(n,")"):void 0,points:a,type:l,layout:o,connectNulls:c,strokeDasharray:null!==s&&void 0!==s?s:i.strokeDasharray});return t.createElement(t.Fragment,null,(null===a||void 0===a?void 0:a.length)>1&&t.createElement(TM,LM({shapeType:"curve",option:u},m,{pathRef:r})),t.createElement(VM,{points:a,clipPathId:n,props:i}))}function YM(e){var{clipPathId:n,props:r,pathRef:a,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,animateNewValues:h,width:p,height:f,onAnimationEnd:x,onAnimationStart:g}=r,v=s.current,b=v_(l,"recharts-line-"),y=(0,t.useRef)(b),[j,w]=(0,t.useState)(!1),N=!j,k=(0,t.useCallback)(()=>{"function"===typeof x&&x(),w(!1)},[x]),A=(0,t.useCallback)(()=>{"function"===typeof g&&g(),w(!0)},[g]),_=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(a.current),C=(0,t.useRef)(0);y.current!==b&&(C.current=i.current,y.current=b);var S=C.current;return t.createElement(GM,{points:l,showLabels:N},r.children,t.createElement(Q_,{animationId:b,begin:d,duration:u,isActive:c,easing:m,onAnimationEnd:k,onAnimationStart:A,key:b},e=>{var d,u=Ea(S,_+S,e),m=Math.min(u,_);if(c)if(o){var x="".concat(o).split(/[,\s]+/gim).map(e=>parseFloat(e));d=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return qM(t,e);for(var a=Math.floor(e/r),s=e%r,i=t-e,l=[],o=0,c=0;o<n.length;c+=n[o],++o)if(c+n[o]>s){l=[...n.slice(0,o),s-c];break}var d=l.length%2===0?[0,i]:[i];return[...KM(n,a),...l,...d].map(e=>"".concat(e,"px")).join(", ")})(m,_,x)}else d=qM(_,m);else d=null==o?void 0:String(o);if(e>0&&_>0&&(s.current=l,i.current=Math.max(i.current,m)),v){var g=v.length/l.length,b=1===e?l:l.map((t,n)=>{var r=Math.floor(n*g);if(v[r]){var a=v[r];return FM(FM({},t),{},{x:Ea(a.x,t.x,e),y:Ea(a.y,t.y,e)})}return FM(FM({},t),{},h?{x:Ea(2*p,t.x,e),y:Ea(f/2,t.y,e)}:{x:t.x,y:t.y})});return s.current=b,t.createElement($M,{props:r,points:b,clipPathId:n,pathRef:a,strokeDasharray:d})}return t.createElement($M,{props:r,points:l,clipPathId:n,pathRef:a,strokeDasharray:d})}),t.createElement(BA,{label:r.label}))}function ZM(e){var{clipPathId:n,props:r}=e,a=(0,t.useRef)(null),s=(0,t.useRef)(0),i=(0,t.useRef)(null);return t.createElement(YM,{props:r,clipPathId:n,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:i})}var QM=(e,t)=>{var n,r;return{x:null!==(n=e.x)&&void 0!==n?n:void 0,y:null!==(r=e.y)&&void 0!==r?r:void 0,value:e.value,errorVal:Mc(e.payload,t)}};class JM extends t.Component{render(){var{hide:e,dot:n,points:r,className:a,xAxisId:s,yAxisId:i,top:l,left:o,width:c,height:d,id:u,needClip:m,zIndex:h}=this.props;if(e)return null;var p=(0,ha.$)("recharts-line",a),f=u,{r:x,strokeWidth:g}=J_(n),v=HA(n),b=2*x+g,y=m?"url(#clipPath-".concat(v?"":"dots-").concat(f,")"):void 0;return t.createElement(uA,{zIndex:h},t.createElement(Ak,{className:p},m&&t.createElement("defs",null,t.createElement(a_,{clipPathId:f,xAxisId:s,yAxisId:i}),!v&&t.createElement("clipPath",{id:"clipPath-dots-".concat(f)},t.createElement("rect",{x:o-b/2,y:l-b/2,width:c+b,height:d+b}))),t.createElement(aM,{xAxisId:s,yAxisId:i,data:r,dataPointFormatter:QM,errorBarOffset:0},t.createElement(ZM,{props:this.props,clipPathId:f}))),t.createElement(t_,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:y}))}}var XM={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:dx.line,type:"linear"};function eP(e){var n=mN(e,XM),{activeDot:r,animateNewValues:a,animationBegin:s,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:d,isAnimationActive:u,label:m,legendType:h,xAxisId:p,yAxisId:f,id:x}=n,g=UM(n,RM),{needClip:v}=r_(p,f),b=sN(),y=pd(),j=ad(),w=xc(e=>gM(e,p,f,j,x));if("horizontal"!==y&&"vertical"!==y||null==w||null==b)return null;var{height:N,width:k,x:A,y:_}=b;return t.createElement(JM,LM({},g,{id:x,connectNulls:o,dot:c,activeDot:r,animateNewValues:a,animationBegin:s,animationDuration:i,animationEasing:l,isAnimationActive:u,hide:d,label:m,legendType:h,xAxisId:p,yAxisId:f,points:w,layout:y,height:N,width:k,left:A,top:_,needClip:v}))}function tP(e){var n=mN(e,XM),r=ad();return t.createElement(j_,{id:n.id,type:"line"},e=>t.createElement(t.Fragment,null,t.createElement(g_,{legendPayload:WM(n)}),t.createElement(HM,{dataKey:n.dataKey,data:n.data,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,unit:n.unit,tooltipType:n.tooltipType,id:e}),t.createElement(N_,{type:"line",id:e,data:n.data,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,hide:n.hide,isPanorama:r}),t.createElement(eP,LM({},n,{id:e}))))}var nP=t.memo(tP,lw);function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(t){sP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iP(){return iP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iP.apply(null,arguments)}nP.displayName="Line";var lP=(e,t,n,r,a,s)=>{var{x:i,y:l,segment:o,ifOverflow:c}=s,d=ka(i);return ka(l)?((e,t,n,r,a,s)=>{var{x:i,width:l}=s,o=a.y.apply(e,{position:n});if(ja(o))return null;if("discard"===t&&!a.y.isInRange(o))return null;var c=[{x:i+l,y:o},{x:i,y:o}];return"left"===r?c.reverse():c})(l,c,n,a,e,t):d?((e,t,n,r,a,s)=>{var{y:i,height:l}=s,o=a.x.apply(e,{position:n});if(ja(o))return null;if("discard"===t&&!a.x.isInRange(o))return null;var c=[{x:o,y:i+l},{x:o,y:i}];return"top"===r?c.reverse():c})(i,c,n,r,e,t):null!=o&&2===o.length?((e,t,n,r)=>{var a=e.map(e=>r.apply(e,{position:n}));return"discard"===t&&a.some(e=>!r.isInRange(e))?null:a})(o,c,n,e):null};function oP(e){var n=mc();return(0,t.useEffect)(()=>(n(nj(e)),()=>{n(rj(e))})),null}function cP(e){var{xAxisId:n,yAxisId:r,shape:a,className:s,ifOverflow:i}=e,l=ad(),o=(0,t.useContext)(iN),c=xc(e=>Xx(e,n)),d=xc(e=>ng(e,r)),u=xc(e=>wv(e,"xAxis",n,l)),m=xc(e=>wv(e,"yAxis",r,l)),h=od();if(!o||!h||null==c||null==d||null==u||null==m)return null;var p=(e=>{var t=Object.keys(e).reduce((t,n)=>_C(_C({},t),{},{[n]:EC.create(e[n])}),{});return _C(_C({},t),{},{apply(e){var{bandAware:n,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.fromEntries(Object.entries(e).map(e=>{var[a,s]=e;return[a,t[a].apply(s,{bandAware:n,position:r})]}))},isInRange:e=>Object.keys(e).every(n=>t[n].isInRange(e[n]))})})({x:u,y:m}),f=lP(p,h,e.position,c.orientation,d.orientation,e);if(!f)return null;var[{x:x,y:g},{x:v,y:b}]=f,y=aP(aP({clipPath:"hidden"===i?"url(#".concat(o,")"):void 0},bw(e)),{},{x1:x,y1:g,x2:v,y2:b}),j=SC({x1:x,y1:g,x2:v,y2:b});return t.createElement(uA,{zIndex:e.zIndex},t.createElement(Ak,{className:(0,ha.$)("recharts-reference-line",s)},((e,n)=>{var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{if(!Wa(n.x1)||!Wa(n.y1)||!Wa(n.x2)||!Wa(n.y2))return null;r=t.createElement("line",iP({},n,{className:"recharts-reference-line-line"}))}return r})(a,y),t.createElement(yA,iP({},j,{lowerWidth:j.width,upperWidth:j.width}),t.createElement(OA,{label:e.label}),e.children)))}var dP={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:dx.line};function uP(e){var n=mN(e,dP);return t.createElement(t.Fragment,null,t.createElement(oP,{yAxisId:n.yAxisId,xAxisId:n.xAxisId,ifOverflow:n.ifOverflow,x:n.x,y:n.y,segment:n.segment}),t.createElement(cP,n))}uP.displayName="ReferenceLine";const mP=[{id:"system",name:"System Metrics",icon:Zr,description:"CPU, RAM, Disk usage",enabled:!0,color:"text-blue-400"},{id:"environment",name:"Environment",icon:hr,description:"Temperature, Humidity, Pressure, IAQ",enabled:!0,color:"text-red-400"},{id:"gps",name:"GPS & Location",icon:mr.A,description:"Fix status, Accuracy, Coordinates",enabled:!0,color:"text-green-400"},{id:"comms",name:"Communications",icon:mn.A,description:"LAN, Mesh, Radio status",enabled:!0,color:"text-emerald-400"},{id:"backup",name:"Backup Status",icon:pn.A,description:"Backup success/fail, Last run",enabled:!0,color:"text-violet-400"},{id:"health",name:"Health Status",icon:ln.A,description:"Overall system health",enabled:!0,color:"text-primary"},{id:"errors",name:"Errors & Warnings",icon:Gt.A,description:"System errors and warnings",enabled:!0,color:"text-warning"},{id:"network",name:"Network Traffic",icon:hn.A,description:"Bandwidth, Connections",enabled:!1,color:"text-cyan-400"},{id:"power",name:"Power & Battery",icon:cr,description:"Power consumption, Battery level",enabled:!1,color:"text-yellow-400"}],hP={cpu:!0,ram:!0,disk:!0,temp:!0,humidity:!0,pressure:!1,iaq:!1,gpsAccuracy:!0,comms:!0},pP={cpu:{enabled:!0,warning:70,critical:85},ram:{enabled:!0,warning:75,critical:90},disk:{enabled:!0,warning:80,critical:92},temp:{enabled:!0,warning:65,critical:75},gpsAccuracy:{enabled:!0,warning:15,critical:50},commsDegradeDuration:{enabled:!0,warning:5,critical:15},backupFails:{enabled:!0,warning:1,critical:3}},fP={low:{multiplier:1.3,description:"Fewer alerts, higher thresholds"},medium:{multiplier:1,description:"Balanced sensitivity"},high:{multiplier:.7,description:"More alerts, lower thresholds"}},xP=[{value:3,label:"3 samples"},{value:5,label:"5 samples"},{value:10,label:"10 samples"},{value:15,label:"15 min avg"}],gP=[{value:"6h",label:"6 hours"},{value:"12h",label:"12 hours"},{value:"24h",label:"24 hours"},{value:"7d",label:"7 days"}],vP=[{id:"health",name:"Health",endpoint:"/cgi-bin/health.py"},{id:"metrics",name:"Metrics",endpoint:"/cgi-bin/metrics.py"},{id:"sensors",name:"Sensors",endpoint:"/cgi-bin/sensors.py"},{id:"gps",name:"GPS",endpoint:"/cgi-bin/gps.py"},{id:"backup",name:"Backup",endpoint:"/cgi-bin/backup.py"}],bP=[{id:"power",name:"Power",icon:cr,color:"text-yellow-400"},{id:"thermals",name:"Thermals",icon:hr,color:"text-red-400"},{id:"storage",name:"Storage",icon:Qr,color:"text-amber-400"},{id:"services",name:"Services",icon:ur.A,color:"text-blue-400"},{id:"comms",name:"Comms",icon:mn.A,color:"text-emerald-400"},{id:"gps",name:"GPS",icon:mr.A,color:"text-green-400"},{id:"sensors",name:"Sensors",icon:Jr,color:"text-cyan-400"}],yP="talon-omega-01",jP="OMEGA (This Device)",wP=[{node_id:"talon-omega-01",node_name:"OMEGA (This Device)",isThisDevice:!0},{node_id:"talon-omega-02",node_name:"OMEGA-BRAVO",isThisDevice:!1},{node_id:"talon-omega-03",node_name:"OMEGA-CHARLIE",isThisDevice:!1},{node_id:"talon-omega-04",node_name:"OMEGA-DELTA",isThisDevice:!1},{node_id:"talon-omega-05",node_name:"OMEGA-ECHO",isThisDevice:!1},{node_id:"talon-omega-06",node_name:"OMEGA-FOXTROT",isThisDevice:!1}],NP=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:24,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=[],s=new Date,i=Math.floor(60*n/r),l=e.charCodeAt(e.length-1)%10,o=15+l,c=35+2*l,d=42+l,u=45+l,m=Math.floor(.3*i),h=Math.floor(.6*i),p=Math.floor(.65*i),f=Math.floor(.45*i),x=Math.floor(.75*i),g=Math.floor(.77*i);for(let v=0;v<i;v++){const n=new Date(s.getTime()-(i-v)*r*60*1e3),l=n.getHours(),b=5*Math.sin(l/24*Math.PI*2),y=()=>4*(Math.random()-.5),j=l>=8&&l<=18?10:0,w=v>=m&&v<=m+5?15:0;let N="available";v>=h&&v<=p&&(N="degraded"),v>=x&&v<=g&&(N="degraded");const k=v%60===0,A=!(v>=f&&v<=f+2),_=l>=22||l<=6?50:0,C=Math.max(2,5+_+3*y()),S=C<20?"3D":C<50?"2D":"none",E={node_id:e,node_name:t,ts:n.toISOString(),ok:"unavailable"!==N&&A,health:{status:"available"===N?"up":"degraded"===N?"degraded":"down",uptime_hours:Math.floor((s-n)/36e5)+100},metrics:{cpu:Math.max(5,Math.min(95,o+j+b+y())),ram:Math.max(20,Math.min(85,c+.5*b+y())),disk:Math.max(30,Math.min(90,d+v/i*2+.5*y()))},sensors:{temperature:Math.max(30,Math.min(80,u+w+b+y())),humidity:Math.max(20,Math.min(80,45+2*b+y())),pressure:Math.max(990,Math.min(1030,1013+2*y())),iaq:Math.max(0,Math.min(500,75+5*b+10*y()))},gps:{accuracy:C,fix:S,satellites:"3D"===S?8+Math.floor(4*Math.random()):"2D"===S?4+Math.floor(2*Math.random()):0,lat:34.0522+.001*(Math.random()-.5),lon:.001*(Math.random()-.5)-118.2437},comms:{lan:N,mesh:"available"===N?"available":"degraded",radio:"available",sms:"unavailable",hf:"unavailable"},backup:{last_run:k?n.toISOString():null,status:A?"success":"failed",next_scheduled:new Date(n.getTime()+36e5).toISOString()}};a.push(E)}return a},kP=(e,t)=>{const n=AP(e),r="high"===e.severity?"critical":"medium"===e.severity?"warn":"info",a=Date.now()-new Date(e.ts).getTime()<18e5;return{id:"INC-".concat(Date.now(),"-").concat(t),title:_P(e),startTime:e.ts,endTime:a?null:e.ts,severity:r,subsystems:[n],status:a?"open":"monitoring",anomalyIds:[e.id],peakValues:CP(e)}},AP=e=>{var t,n,r,a,s,i,l;return null!==(t=e.type)&&void 0!==t&&t.includes("temp")?"thermals":null!==(n=e.type)&&void 0!==n&&n.includes("cpu")||null!==(r=e.type)&&void 0!==r&&r.includes("ram")?"services":null!==(a=e.type)&&void 0!==a&&a.includes("disk")||null!==(s=e.type)&&void 0!==s&&s.includes("backup")?"storage":null!==(i=e.type)&&void 0!==i&&i.includes("comms")?"comms":null!==(l=e.type)&&void 0!==l&&l.includes("gps")?"gps":"services"},_P=e=>{var t,n,r,a,s;const i=Math.floor(15*Math.random())+3;return null!==(t=e.type)&&void 0!==t&&t.includes("temp")?"Temp Spike (".concat(i,"m)"):null!==(n=e.type)&&void 0!==n&&n.includes("cpu")?"CPU Spike (".concat(i,"m)"):null!==(r=e.type)&&void 0!==r&&r.includes("backup")?"Backup Failed":null!==(a=e.type)&&void 0!==a&&a.includes("comms")?"Comms Degraded (".concat(i,"m)"):null!==(s=e.type)&&void 0!==s&&s.includes("gps")?"GPS Accuracy Low":"System Anomaly (".concat(i,"m)")},CP=e=>{var t;const n={};return e.value&&(n[(null===(t=e.type)||void 0===t?void 0:t.split("_")[0])||"value"]=e.value),n},SP=(e,t)=>{const n=(0,s.A)({},e);if(t.value){var r;const e=(null===(r=t.type)||void 0===r?void 0:r.split("_")[0])||"value";n[e]=Math.max(n[e]||0,t.value)}return n},EP=e=>{var t,n,r,a,s,i,l,o,c,d,u,m,h;if(!e)return 0;let p=100;return e.ok||(p-=20),(null===(t=e.metrics)||void 0===t?void 0:t.cpu)>80?p-=15:(null===(n=e.metrics)||void 0===n?void 0:n.cpu)>60&&(p-=5),(null===(r=e.metrics)||void 0===r?void 0:r.ram)>85?p-=10:(null===(a=e.metrics)||void 0===a?void 0:a.ram)>70&&(p-=3),(null===(s=e.metrics)||void 0===s?void 0:s.disk)>90?p-=20:(null===(i=e.metrics)||void 0===i?void 0:i.disk)>80?p-=10:(null===(l=e.metrics)||void 0===l?void 0:l.disk)>70&&(p-=5),(null===(o=e.sensors)||void 0===o?void 0:o.temperature)>75?p-=15:(null===(c=e.sensors)||void 0===c?void 0:c.temperature)>65&&(p-=5),"unavailable"===(null===(d=e.comms)||void 0===d?void 0:d.lan)?p-=15:"degraded"===(null===(u=e.comms)||void 0===u?void 0:u.lan)&&(p-=5),"none"===(null===(m=e.gps)||void 0===m?void 0:m.fix)&&(p-=5),"failed"===(null===(h=e.backup)||void 0===h?void 0:h.status)&&(p-=10),Math.max(0,Math.min(100,Math.round(p)))},OP=e=>e>=80?"text-success":e>=60?"text-warning":"text-destructive",MP=e=>e>=80?"bg-success/20":e>=60?"bg-warning/20":"bg-destructive/20",PP=e=>"available"===e||"success"===e||"up"===e||"3D"===e?"text-success":"degraded"===e||"2D"===e?"text-warning":"text-destructive",TP=e=>"available"===e||"success"===e||"up"===e||"3D"===e?"bg-success":"degraded"===e||"2D"===e?"bg-warning":"bg-destructive",DP=e=>{const t=Date.now()-new Date(e).getTime(),n=Math.floor(t/6e4),r=Math.floor(n/60),a=Math.floor(r/24);return a>0?"".concat(a,"d ago"):r>0?"".concat(r,"h ago"):n>0?"".concat(n,"m ago"):"just now"},IP=e=>{if(e.length<10)return[];const t=[],n=e.slice(-100),r=n.reduce((e,t)=>e+t.sensors.temperature,0)/n.length,a=n.reduce((e,t)=>e+t.metrics.cpu,0)/n.length;for(let s=1;s<n.length;s++){const e=n[s],i=n[s-1];e.sensors.temperature>r+10&&t.push({id:"temp-".concat(s),ts:e.ts,type:"temperature_spike",severity:e.sensors.temperature>r+15?"high":"medium",message:"Temperature spike detected: ".concat(e.sensors.temperature.toFixed(1),"\xb0C"),explanation:"Temperature is significantly above the recent average.",likelyCause:"High CPU load, poor ventilation, or external heat source.",value:e.sensors.temperature,threshold:r+10}),"available"===i.comms.lan&&"degraded"===e.comms.lan&&t.push({id:"comms-".concat(s),ts:e.ts,type:"comms_degraded",severity:"medium",message:"Communications degraded",explanation:"LAN/Wi-Fi connection quality dropped.",likelyCause:"Network congestion, interference, or distance from access point."}),"failed"===e.backup.status&&"failed"!==i.backup.status&&t.push({id:"backup-".concat(s),ts:e.ts,type:"backup_failed",severity:"high",message:"Backup failed",explanation:"Scheduled backup did not complete successfully.",likelyCause:"Storage full, destination unreachable, or permission issues."}),e.metrics.cpu>a+30&&t.push({id:"cpu-".concat(s),ts:e.ts,type:"cpu_spike",severity:"low",message:"CPU spike: ".concat(e.metrics.cpu.toFixed(1),"%"),explanation:"CPU usage significantly higher than normal.",likelyCause:"Heavy processing task, streaming, or runaway process."})}return t.slice(-20).reverse()},RP=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;const n=Date.now(),r=60*t*60*1e3,a=e.filter(e=>n-new Date(e.ts).getTime()<r),s=e.filter(e=>{const t=n-new Date(e.ts).getTime();return t>=r&&t<2*r});if(0===a.length||0===s.length)return{changes:[],currentAvg:{},previousAvg:{}};const i=(e,t)=>e.reduce((e,n)=>{const r=t.split(".").reduce((e,t)=>null===e||void 0===e?void 0:e[t],n);return e+(r||0)},0)/e.length,l=[];return["metrics.cpu","metrics.ram","metrics.disk","sensors.temperature","sensors.humidity"].forEach(e=>{const t=i(a,e),n=i(s,e),r=t-n,o=0!==n?r/n*100:0;Math.abs(o)>5&&l.push({metric:e.split(".").pop(),current:t,previous:n,delta:r,percentChange:o,direction:r>0?"up":"down"})}),{changes:l.sort((e,t)=>Math.abs(t.percentChange)-Math.abs(e.percentChange)),currentAvg:{cpu:i(a,"metrics.cpu"),temp:i(a,"sensors.temperature")},previousAvg:{cpu:i(s,"metrics.cpu"),temp:i(s,"sensors.temperature")}}},LP=e=>{let{data:t,dataKey:n,color:r="#3b82f6",height:a=40}=e;return t&&0!==t.length?(0,Tt.jsx)(Ja,{width:"100%",height:a,children:(0,Tt.jsxs)(MN,{data:t,margin:{top:0,right:0,left:0,bottom:0},children:[(0,Tt.jsx)("defs",{children:(0,Tt.jsxs)("linearGradient",{id:"gradient-".concat(n),x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Tt.jsx)("stop",{offset:"5%",stopColor:r,stopOpacity:.3}),(0,Tt.jsx)("stop",{offset:"95%",stopColor:r,stopOpacity:0})]})}),(0,Tt.jsx)(wC,{type:"monotone",dataKey:n,stroke:r,fill:"url(#gradient-".concat(n,")"),strokeWidth:1.5,dot:!1})]})}):null},zP=e=>{let{score:t,trend:n,sparklineData:r}=e;const a=n>0?Xr:n<0?ea:ta,s=n>0?"text-success":n<0?"text-destructive":"text-muted-foreground";return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Health Index"}),(0,Tt.jsxs)("div",{className:"flex items-baseline gap-2 mt-1",children:[(0,Tt.jsx)("span",{className:"text-4xl font-bold ".concat(OP(t)),children:t}),(0,Tt.jsx)("span",{className:"text-lg text-muted-foreground",children:"/100"}),(0,Tt.jsx)(a,{className:"w-5 h-5 ".concat(s)})]})]}),(0,Tt.jsx)("div",{className:"w-16 h-16 rounded-full ".concat(MP(t)," flex items-center justify-center"),children:(0,Tt.jsx)(ln.A,{className:"w-8 h-8 ".concat(OP(t))})})]}),(0,Tt.jsx)("div",{className:"h-10",children:(0,Tt.jsx)(LP,{data:r,dataKey:"health",color:t>=80?"#22c55e":t>=60?"#eab308":"#ef4444"})}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:t>=80?"System healthy. All components operating normally.":t>=60?"Some issues detected. Review warnings below.":"Critical issues require attention. Check troubleshooting guide."})]})},FP=e=>{let{icon:t,label:n,value:r,unit:a,trend:s,status:i,color:l="text-primary"}=e;return(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(t,{className:"w-4 h-4 ".concat(l)}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:n})]}),i&&(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(TP(i))})]}),(0,Tt.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,Tt.jsx)("span",{className:"text-xl font-bold",children:"number"===typeof r?r.toFixed(1):r}),a&&(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:a}),void 0!==s&&(0,Tt.jsxs)("span",{className:"text-xs ml-auto ".concat(s>0?"text-destructive":s<0?"text-success":"text-muted-foreground"),children:[s>0?"+":"",s.toFixed(1),"%"]})]})]})},BP=e=>{let{anomaly:n}=e;const[r,a]=(0,t.useState)(!1),s="high"===n.severity?"text-destructive":"medium"===n.severity?"text-warning":"text-blue-400",i="high"===n.severity?"bg-destructive/20":"medium"===n.severity?"bg-warning/20":"bg-blue-500/20";return(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 ".concat(i," border border-").concat("high"===n.severity?"destructive":"medium"===n.severity?"warning":"blue-500","/30"),children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 ".concat(s," mt-0.5 flex-shrink-0")}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-sm font-medium",children:n.message}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:DP(n.ts)})]})]}),(0,Tt.jsx)("button",{onClick:()=>a(!r),className:"p-1 hover:bg-white/10 rounded",children:r?(0,Tt.jsx)(En.A,{className:"w-4 h-4"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4"})})]}),r&&(0,Tt.jsxs)("div",{className:"mt-3 pt-3 border-t border-white/10 space-y-2",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-xs font-semibold text-muted-foreground",children:"What this means:"}),(0,Tt.jsx)("p",{className:"text-xs",children:n.explanation})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-xs font-semibold text-muted-foreground",children:"Likely cause:"}),(0,Tt.jsx)("p",{className:"text-xs",children:n.likelyCause})]})]})]})},UP=e=>{let{captureHealth:t,capturing:n}=e;const r=t.endpoints.filter(e=>"stale"===e.status||"degraded"===e.status),a=r.length>0,s=t.missedSnapshots.last1h+t.missedSnapshots.last12h;return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 border border-border/50",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("h3",{className:"font-semibold flex items-center gap-2 text-sm",children:[(0,Tt.jsx)(ln.A,{className:"w-4 h-4 text-primary"}),"Capture Health",(0,Tt.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-primary/20 text-primary font-normal",title:"Logs about the logs - monitors the health of the capture system itself",children:"Meta"})]}),(0,Tt.jsx)("div",{className:"flex items-center gap-2",children:a&&(0,Tt.jsxs)("span",{className:"flex items-center gap-1 text-xs text-warning bg-warning/20 px-2 py-0.5 rounded-full",children:[(0,Tt.jsx)(Gt.A,{className:"w-3 h-3"}),"Data Freshness Warning"]})})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2.5",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Capture"}),(0,Tt.jsxs)("div",{className:"relative group",children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3 text-muted-foreground cursor-help"}),(0,Tt.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-2 py-1 bg-popover border border-border rounded text-[10px] whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:"Whether snapshot capture is actively running"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 ".concat(n?"text-success":"text-warning"),children:[n?(0,Tt.jsx)(gr.A,{className:"w-3.5 h-3.5"}):(0,Tt.jsx)(na,{className:"w-3.5 h-3.5"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:n?"ON":"OFF"})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2.5",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Interval"}),(0,Tt.jsxs)("div",{className:"relative group",children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3 text-muted-foreground cursor-help"}),(0,Tt.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-2 py-1 bg-popover border border-border rounded text-[10px] whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:"How often snapshots are captured"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)(en.A,{className:"w-3.5 h-3.5 text-muted-foreground"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:t.interval})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2.5",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Retention"}),(0,Tt.jsxs)("div",{className:"relative group",children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3 text-muted-foreground cursor-help"}),(0,Tt.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-2 py-1 bg-popover border border-border rounded text-[10px] whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:"How long snapshot data is kept before pruning"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)(pn.A,{className:"w-3.5 h-3.5 text-muted-foreground"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:t.retention})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2.5",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Missed"}),(0,Tt.jsxs)("div",{className:"relative group",children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3 text-muted-foreground cursor-help"}),(0,Tt.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-2 py-1 bg-popover border border-border rounded text-[10px] w-40 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:"Snapshots that failed to capture. High missed % may indicate system issues."})]})]}),(0,Tt.jsxs)("div",{className:"text-sm font-semibold ".concat(s>5?"text-warning":"text-success"),children:[t.missedSnapshots.last1h,"% (1h) / ",t.missedSnapshots.last12h,"% (12h)"]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2.5",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Avg Latency"}),(0,Tt.jsxs)("div",{className:"relative group",children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3 text-muted-foreground cursor-help"}),(0,Tt.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-2 py-1 bg-popover border border-border rounded text-[10px] w-40 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:"Average time to complete a snapshot capture across all endpoints"})]})]}),(0,Tt.jsxs)("div",{className:"text-sm font-semibold ".concat(t.avgLatency>100?"text-warning":"text-muted-foreground"),children:[t.avgLatency,"ms"]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2.5",children:[(0,Tt.jsx)("div",{className:"flex items-center gap-1.5 mb-1",children:(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Endpoints"})}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)("span",{className:"text-sm font-semibold text-success",children:t.endpoints.filter(e=>"ok"===e.status).length}),(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"OK"}),r.length>0&&(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"/"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold text-warning",children:r.length}),(0,Tt.jsx)("span",{className:"text-[10px] text-warning",children:"Stale"})]})]})]})]}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-2",children:t.endpoints.map(e=>{const t="ok"===e.status,n="stale"===e.status,r=DP(e.lastPoll);return(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-lg text-xs ".concat(t?"bg-success/10 text-success":n?"bg-warning/10 text-warning":"bg-destructive/10 text-destructive"),title:"".concat(e.name,": ").concat(e.status," | Last poll: ").concat(r," | Latency: ").concat(e.latency,"ms"),children:[(0,Tt.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat(t?"bg-success":n?"bg-warning":"bg-destructive")}),(0,Tt.jsx)("span",{className:"font-medium",children:e.name}),(0,Tt.jsx)("span",{className:"text-[10px] opacity-70",children:r})]},e.id)})}),a&&(0,Tt.jsx)("div",{className:"mt-3 p-2 bg-warning/10 border border-warning/30 rounded-lg",children:(0,Tt.jsxs)("p",{className:"text-xs text-warning flex items-start gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-3.5 h-3.5 mt-0.5 flex-shrink-0"}),(0,Tt.jsxs)("span",{children:[(0,Tt.jsx)("strong",{children:"Data Freshness Warning:"})," ",r.map(e=>e.name).join(", ")," endpoint(s) have stale data. This may indicate network issues or endpoint failures. Recent metrics may be outdated."]})]})})]})},WP=e=>{let{rules:n,setRules:r,sensitivity:a,setSensitivity:i,smoothingWindow:l,setSmoothingWindow:o,baselineWindow:c,setBaselineWindow:d}=e;const[u,m]=(0,t.useState)(!1),h=(e,t,n)=>{r(r=>(0,s.A)((0,s.A)({},r),{},{[e]:(0,s.A)((0,s.A)({},r[e]),{},{[t]:parseFloat(n)||0})}))},p=Object.values(n).filter(e=>e.enabled).length,f={cpu:{label:"CPU Usage",unit:"%",icon:Zr},ram:{label:"RAM Usage",unit:"%",icon:Qr},disk:{label:"Disk Usage",unit:"%",icon:pn.A},temp:{label:"Temperature",unit:"\xb0C",icon:hr},gpsAccuracy:{label:"GPS Accuracy",unit:"m",icon:mr.A},commsDegradeDuration:{label:"Comms Degrade Duration",unit:"min",icon:mn.A},backupFails:{label:"Consecutive Backup Fails",unit:"",icon:pn.A}};return(0,Tt.jsxs)("div",{className:"glass rounded-xl border border-border/50 overflow-hidden",children:[(0,Tt.jsxs)("button",{onClick:()=>m(!u),className:"w-full p-4 flex items-center justify-between hover:bg-white/5 transition-colors",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-lg bg-primary/20",children:(0,Tt.jsx)(ra,{className:"w-4 h-4 text-primary"})}),(0,Tt.jsxs)("div",{className:"text-left",children:[(0,Tt.jsx)("h3",{className:"font-semibold text-sm",children:"Detection Rules"}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:[p," rules active \u2022 ",a," sensitivity \u2022 ",c," baseline"]})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground hidden sm:inline",children:"Anomalies are deviations from baseline or threshold breaches"}),u?(0,Tt.jsx)(En.A,{className:"w-4 h-4"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4"})]})]}),u&&(0,Tt.jsxs)("div",{className:"p-4 pt-0 border-t border-border/50 space-y-4",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,Tt.jsx)("span",{className:"text-xs font-medium",children:"Sensitivity Preset"}),(0,Tt.jsxs)("div",{className:"relative group",children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3 text-muted-foreground cursor-help"}),(0,Tt.jsx)("div",{className:"absolute bottom-full left-0 mb-1 px-2 py-1 bg-popover border border-border rounded text-[10px] w-48 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:"Adjusts all thresholds. High = more alerts, Low = fewer alerts."})]})]}),(0,Tt.jsx)("div",{className:"flex gap-1",children:Object.entries(fP).map(e=>{let[t,n]=e;return(0,Tt.jsx)("button",{onClick:()=>i(t),className:"flex-1 px-2 py-1.5 rounded text-xs font-medium transition-colors capitalize ".concat(a===t?"bg-primary text-white":"bg-secondary hover:bg-secondary/80"),title:n.description,children:t},t)})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,Tt.jsx)("span",{className:"text-xs font-medium",children:"Smoothing Window"}),(0,Tt.jsxs)("div",{className:"relative group",children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3 text-muted-foreground cursor-help"}),(0,Tt.jsx)("div",{className:"absolute bottom-full left-0 mb-1 px-2 py-1 bg-popover border border-border rounded text-[10px] w-48 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:"Number of samples averaged to reduce noise and false positives."})]})]}),(0,Tt.jsx)("select",{value:l,onChange:e=>o(parseInt(e.target.value)),className:"w-full bg-secondary rounded px-2 py-1.5 text-xs",children:xP.map(e=>(0,Tt.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,Tt.jsx)("span",{className:"text-xs font-medium",children:"Baseline Window"}),(0,Tt.jsxs)("div",{className:"relative group",children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3 text-muted-foreground cursor-help"}),(0,Tt.jsx)("div",{className:"absolute bottom-full left-0 mb-1 px-2 py-1 bg-popover border border-border rounded text-[10px] w-48 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:"Time period used to calculate normal baseline values for anomaly detection."})]})]}),(0,Tt.jsx)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full bg-secondary rounded px-2 py-1.5 text-xs",children:gP.map(e=>(0,Tt.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Threshold Rules"}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"ghost",onClick:()=>{r(pP),i("medium"),o(5),d("12h"),Pt.oR.success("Detection rules reset to defaults")},className:"h-6 text-xs gap-1",children:[(0,Tt.jsx)(tn,{className:"w-3 h-3"}),"Reset Defaults"]})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:Object.entries(n).map(e=>{let[t,n]=e;const a=f[t];if(!a)return null;const i=a.icon;return(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 transition-opacity ".concat(n.enabled?"":"opacity-50"),children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(i,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"text-sm font-medium",children:a.label})]}),(0,Tt.jsx)("button",{onClick:()=>(e=>{r(t=>(0,s.A)((0,s.A)({},t),{},{[e]:(0,s.A)((0,s.A)({},t[e]),{},{enabled:!t[e].enabled})}))})(t),className:"w-8 h-4 rounded-full transition-colors relative ".concat(n.enabled?"bg-primary":"bg-secondary"),children:(0,Tt.jsx)("div",{className:"absolute top-0.5 w-3 h-3 rounded-full bg-white transition-transform ".concat(n.enabled?"left-4":"left-0.5")})})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-[10px] text-warning block mb-1",children:"Warning"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)("input",{type:"number",value:n.warning,onChange:e=>h(t,"warning",e.target.value),disabled:!n.enabled,className:"w-full bg-secondary rounded px-2 py-1 text-xs disabled:opacity-50"}),a.unit&&(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:a.unit})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-[10px] text-destructive block mb-1",children:"Critical"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)("input",{type:"number",value:n.critical,onChange:e=>h(t,"critical",e.target.value),disabled:!n.enabled,className:"w-full bg-secondary rounded px-2 py-1 text-xs disabled:opacity-50"}),a.unit&&(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:a.unit})]})]})]})]},t)})})]}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground flex items-start gap-1.5",children:[(0,Tt.jsx)(Rn.A,{className:"w-3.5 h-3.5 mt-0.5 flex-shrink-0"}),"Rules determine when anomalies are flagged. Anomalies are grouped into incidents automatically."]})]})]})},HP=e=>{var n;let{incident:r,snapshots:a,onClose:s,onResolve:i}=e;const[l,o]=(0,t.useState)((null===r||void 0===r?void 0:r.resolutionNotes)||""),[c,d]=(0,t.useState)(null),[u]=(0,t.useState)(()=>Date.now());if(!r)return null;const m=(e=>{const t=[];return e.subsystems.includes("thermals")&&(t.push({metric:"CPU Load",delta:"+38%",correlation:"high",explanation:"Sustained CPU activity during incident window"}),t.push({metric:"Disk I/O",delta:"+25%",correlation:"medium",explanation:"Heavy write operations detected"}),t.push({metric:"Ambient Temp",delta:"+5\xb0C",correlation:"medium",explanation:"External temperature rise"})),e.subsystems.includes("storage")&&(t.push({metric:"Disk Usage",delta:"+12%",correlation:"high",explanation:"Rapid storage consumption"}),t.push({metric:"Write Latency",delta:"+180ms",correlation:"high",explanation:"Storage becoming slow"}),t.push({metric:"Backup Size",delta:"+2.1GB",correlation:"medium",explanation:"Larger than usual backup payload"})),e.subsystems.includes("comms")&&(t.push({metric:"Signal Strength",delta:"-15dB",correlation:"high",explanation:"Weak network signal"}),t.push({metric:"Packet Loss",delta:"+8%",correlation:"high",explanation:"Network congestion detected"}),t.push({metric:"Latency",delta:"+120ms",correlation:"medium",explanation:"Round-trip time increased"})),e.subsystems.includes("gps")&&(t.push({metric:"Satellites",delta:"-4",correlation:"high",explanation:"Fewer satellites in view"}),t.push({metric:"HDOP",delta:"+2.5",correlation:"high",explanation:"Poor satellite geometry"}),t.push({metric:"Signal Noise",delta:"+12dB",correlation:"medium",explanation:"RF interference detected"})),e.subsystems.includes("services")&&(t.push({metric:"CPU Usage",delta:"+45%",correlation:"high",explanation:"Process consuming excessive CPU"}),t.push({metric:"Memory",delta:"+1.2GB",correlation:"medium",explanation:"Memory leak suspected"}),t.push({metric:"Thread Count",delta:"+28",correlation:"low",explanation:"More threads spawned"})),0===t.length&&t.push({metric:"System Load",delta:"+20%",correlation:"medium",explanation:"General system stress"}),t.slice(0,5)})(r),h=(e=>{const t=[];return e.subsystems.includes("thermals")&&(t.push({cause:"Backup workload drove CPU + disk I/O",confidence:"high",likelihood:75}),t.push({cause:"Poor ventilation or blocked airflow",confidence:"medium",likelihood:45}),t.push({cause:"External heat source nearby",confidence:"low",likelihood:20})),e.subsystems.includes("storage")&&(t.push({cause:"Destination storage full or near capacity",confidence:"high",likelihood:80}),t.push({cause:"Network path to backup target unavailable",confidence:"medium",likelihood:50}),t.push({cause:"Permissions changed on backup directory",confidence:"low",likelihood:15})),e.subsystems.includes("comms")&&(t.push({cause:"Network congestion or interference",confidence:"high",likelihood:70}),t.push({cause:"Access point overloaded or rebooting",confidence:"medium",likelihood:40}),t.push({cause:"Physical obstacle blocking signal",confidence:"medium",likelihood:35})),e.subsystems.includes("gps")&&(t.push({cause:"Indoor location or obstructed sky view",confidence:"high",likelihood:85}),t.push({cause:"RF interference from nearby electronics",confidence:"medium",likelihood:40}),t.push({cause:"GPS antenna issue",confidence:"low",likelihood:10})),e.subsystems.includes("services")&&(t.push({cause:"Heavy processing task (encoding, analysis)",confidence:"high",likelihood:65}),t.push({cause:"Runaway process or memory leak",confidence:"medium",likelihood:45}),t.push({cause:"Scheduled job overlap",confidence:"low",likelihood:25})),0===t.length&&t.push({cause:"System resource contention",confidence:"medium",likelihood:50}),t.slice(0,4)})(r),p=(e=>{const t=[];return t.push({step:"Check overall system status",command:"sudo systemctl status omega-*",copyable:!0}),e.subsystems.includes("thermals")&&(t.push({step:"Check CPU temperature",command:"cat /sys/class/thermal/thermal_zone*/temp",copyable:!0}),t.push({step:"Check running processes",command:"top -bn1 | head -20",copyable:!0}),t.push({step:"Verify fan status",command:"cat /sys/class/hwmon/hwmon*/fan*_input",copyable:!0})),e.subsystems.includes("storage")&&(t.push({step:"Check disk usage",command:"df -h",copyable:!0}),t.push({step:"Check backup service",command:"sudo systemctl status omega-backup",copyable:!0}),t.push({step:"Verify backup destination",command:"ls -la /srv/omega/backups/",copyable:!0})),e.subsystems.includes("comms")&&(t.push({step:"Check network interfaces",command:"ip addr show",copyable:!0}),t.push({step:"Test connectivity",command:"ping -c 3 8.8.8.8",copyable:!0}),t.push({step:"Check mesh service",command:"sudo systemctl status omega-mesh",copyable:!0})),e.subsystems.includes("gps")&&(t.push({step:"Check GPS daemon",command:"sudo systemctl status gpsd",copyable:!0}),t.push({step:"View GPS data",command:"gpspipe -w -n 5",copyable:!0})),e.subsystems.includes("services")&&(t.push({step:"Check all omega services",command:"sudo systemctl list-units omega-*",copyable:!0}),t.push({step:"View recent logs",command:'journalctl -u omega-community --since "1 hour ago"',copyable:!0})),t.push({step:"Curl health endpoint",command:"curl http://127.0.0.1:8093/cgi-bin/health.py",copyable:!0}),t.slice(0,6)})(r),f=r.endTime?Math.floor((new Date(r.endTime)-new Date(r.startTime))/6e4):Math.floor((u-new Date(r.startTime))/6e4);return(0,Tt.jsxs)("div",{className:"fixed inset-y-0 right-0 w-full sm:w-[480px] bg-background border-l border-border z-50 overflow-y-auto",children:[(0,Tt.jsxs)("div",{className:"sticky top-0 glass p-4 border-b border-border z-10",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-semibold uppercase ".concat({critical:"text-destructive bg-destructive/20 border-destructive/30",warn:"text-warning bg-warning/20 border-warning/30",info:"text-blue-400 bg-blue-500/20 border-blue-500/30"}[r.severity]),children:r.severity}),(0,Tt.jsx)("span",{className:"text-xs ".concat({open:"text-destructive",monitoring:"text-warning",resolved:"text-success"}[r.status]),children:"open"===r.status?"\u25cf Ongoing":"monitoring"===r.status?"\u25d0 Monitoring":"\u2713 Resolved"})]}),(0,Tt.jsx)("button",{onClick:s,className:"p-2 hover:bg-secondary rounded-lg",children:(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"})})]}),(0,Tt.jsx)("h3",{className:"font-bold text-lg",children:r.title}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",r.id," \u2022 Started ",DP(r.startTime)]})]}),(0,Tt.jsxs)("div",{className:"p-4 space-y-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(nn.A,{className:"w-4 h-4 text-primary"}),"Summary"]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("p",{className:"text-sm",children:[r.subsystems.includes("thermals")&&"Temperature exceeded normal operating range, indicating potential thermal stress on the system.",r.subsystems.includes("storage")&&"Backup operation failed to complete successfully, risking data integrity.",r.subsystems.includes("comms")&&"Network communications degraded, affecting connectivity and data sync.",r.subsystems.includes("gps")&&"GPS accuracy dropped below acceptable levels, affecting location services.",r.subsystems.includes("services")&&"System services experienced resource contention or performance issues."]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2 text-center",children:[(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground block",children:"Duration"}),(0,Tt.jsxs)("span",{className:"text-sm font-semibold",children:[f,"m"]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2 text-center",children:[(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground block",children:"Subsystems"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold capitalize",children:r.subsystems.join(", ")})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2 text-center",children:[(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground block",children:"Anomalies"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:(null===(n=r.anomalyIds)||void 0===n?void 0:n.length)||1})]})]}),r.peakValues&&Object.keys(r.peakValues).length>0&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Peak Values:"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:Object.entries(r.peakValues).map(e=>{let[t,n]=e;return(0,Tt.jsxs)("span",{className:"px-2 py-0.5 bg-secondary rounded text-xs",children:[t,": ",(0,Tt.jsx)("strong",{children:"number"===typeof n?n.toFixed(1):n})]},t)})})]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(Xr,{className:"w-4 h-4 text-primary"}),"Top Drivers",(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground font-normal",children:"(vs baseline)"})]}),(0,Tt.jsx)("div",{className:"space-y-2",children:m.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/20 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-sm font-medium",children:e.metric}),(0,Tt.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat("high"===e.correlation?"bg-destructive/20 text-destructive":"medium"===e.correlation?"bg-warning/20 text-warning":"bg-secondary text-muted-foreground"),children:e.correlation})]}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:e.explanation})]}),(0,Tt.jsx)("span",{className:"text-sm font-mono text-destructive",children:e.delta})]},t))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(aa,{className:"w-4 h-4 text-warning"}),"Likely Causes",(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground font-normal",children:"(suggestions, not definitive)"})]}),(0,Tt.jsx)("div",{className:"space-y-2",children:h.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-black/20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"flex-1",children:(0,Tt.jsx)("p",{className:"text-sm",children:e.cause})}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded ".concat("high"===e.confidence?"bg-success/20 text-success":"medium"===e.confidence?"bg-warning/20 text-warning":"bg-secondary text-muted-foreground"),children:e.confidence}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.likelihood,"%"]})]})]},t))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 border border-amber-500/30",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm mb-1 flex items-center gap-2",children:[(0,Tt.jsx)(Wt.A,{className:"w-4 h-4 text-amber-400"}),"Verify Checklist"]}),(0,Tt.jsx)("p",{className:"text-[10px] text-amber-400 mb-3",children:"\u26a0\ufe0f OPERATOR ONLY \u2014 Commands require system access"}),(0,Tt.jsx)("div",{className:"space-y-2",children:p.map((e,t)=>(0,Tt.jsxs)("div",{className:"p-2 bg-black/30 rounded-lg",children:[(0,Tt.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,Tt.jsxs)("span",{className:"text-sm",children:[t+1,". ",e.step]})}),e.command&&(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,Tt.jsx)("code",{className:"flex-1 text-xs font-mono bg-black/50 px-2 py-1 rounded text-emerald-400 overflow-x-auto",children:e.command}),(0,Tt.jsx)("button",{onClick:()=>((e,t)=>{navigator.clipboard.writeText(e),d(t),setTimeout(()=>d(null),2e3),Pt.oR.success("Command copied")})(e.command,t),className:"p-1 hover:bg-white/10 rounded",title:"Copy command",children:c===t?(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-success"}):(0,Tt.jsx)(fr.A,{className:"w-4 h-4 text-muted-foreground"})})]})]},t))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-success"}),"Resolution"]}),"resolved"===r.status?(0,Tt.jsxs)("div",{className:"p-3 bg-success/10 border border-success/30 rounded-lg",children:[(0,Tt.jsx)("p",{className:"text-sm",children:r.resolutionNotes||"No notes provided."}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Resolved ",r.endTime?DP(r.endTime):"recently"]})]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("textarea",{value:l,onChange:e=>o(e.target.value),placeholder:"Add resolution notes...",className:"w-full bg-secondary rounded-lg p-3 text-sm resize-none h-20 mb-3"}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsxs)(gn.$,{onClick:()=>{i(r.id,l),Pt.oR.success("Incident marked as resolved")},className:"flex-1 gap-2",disabled:"resolved"===r.status,children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4"}),"Mark Resolved"]}),(0,Tt.jsxs)(gn.$,{variant:"outline",className:"gap-2",children:[(0,Tt.jsx)(sa,{className:"w-4 h-4"}),"Add Annotation"]})]})]})]})]})]})},qP=e=>{let{incidents:n,snapshots:r,rules:a,onResolveIncident:s}=e;const[i,l]=(0,t.useState)("timeline"),[o,c]=(0,t.useState)("24h"),[d,u]=(0,t.useState)("all"),[m,h]=(0,t.useState)("all"),[p,f]=(0,t.useState)("all"),[x,g]=(0,t.useState)(null),[v]=(0,t.useState)(()=>Date.now()),b=(0,t.useMemo)(()=>{let e=[...n];const t=v-60*("1h"===o?1:"6h"===o?6:"12h"===o?12:"24h"===o?24:168)*60*1e3;return e=e.filter(e=>new Date(e.startTime).getTime()>t),"all"!==d&&(e=e.filter(e=>e.severity===d)),"all"!==m&&(e=e.filter(e=>e.subsystems.includes(m))),"all"!==p&&(e=e.filter(e=>e.status===p)),e},[n,o,d,m,p,v]),y=n.filter(e=>"open"===e.status).length,j=n.filter(e=>"critical"===e.severity&&"resolved"!==e.status).length,w={critical:"bg-destructive",warn:"bg-warning",info:"bg-blue-500"},N={open:(0,Tt.jsx)(aa,{className:"w-3.5 h-3.5 text-destructive"}),monitoring:(0,Tt.jsx)(kn,{className:"w-3.5 h-3.5 text-warning"}),resolved:(0,Tt.jsx)(Vt.A,{className:"w-3.5 h-3.5 text-success"})};return(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"Total Incidents"})]}),(0,Tt.jsx)("span",{className:"text-2xl font-bold",children:b.length})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Tt.jsx)(aa,{className:"w-4 h-4 text-destructive"}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"Open"})]}),(0,Tt.jsx)("span",{className:"text-2xl font-bold text-destructive",children:y})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Tt.jsx)(cr,{className:"w-4 h-4 text-warning"}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"Critical"})]}),(0,Tt.jsx)("span",{className:"text-2xl font-bold text-warning",children:j})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-success"}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"Resolved (24h)"})]}),(0,Tt.jsx)("span",{className:"text-2xl font-bold text-success",children:n.filter(e=>"resolved"===e.status).length})]})]}),(0,Tt.jsx)("div",{className:"glass rounded-xl p-4",children:(0,Tt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsxs)("button",{onClick:()=>l("timeline"),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-colors flex items-center gap-1.5 ".concat("timeline"===i?"bg-primary text-white":"glass hover:bg-secondary"),children:[(0,Tt.jsx)(Rt,{className:"w-3.5 h-3.5"}),"Timeline"]}),(0,Tt.jsxs)("button",{onClick:()=>l("list"),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-colors flex items-center gap-1.5 ".concat("list"===i?"bg-primary text-white":"glass hover:bg-secondary"),children:[(0,Tt.jsx)(dr,{className:"w-3.5 h-3.5"}),"List"]})]}),(0,Tt.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,Tt.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"bg-secondary rounded-lg px-2 py-1.5 text-xs",children:[(0,Tt.jsx)("option",{value:"1h",children:"Last 1h"}),(0,Tt.jsx)("option",{value:"6h",children:"Last 6h"}),(0,Tt.jsx)("option",{value:"12h",children:"Last 12h"}),(0,Tt.jsx)("option",{value:"24h",children:"Last 24h"}),(0,Tt.jsx)("option",{value:"7d",children:"Last 7d"})]}),(0,Tt.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"bg-secondary rounded-lg px-2 py-1.5 text-xs",children:[(0,Tt.jsx)("option",{value:"all",children:"All Severity"}),(0,Tt.jsx)("option",{value:"critical",children:"Critical"}),(0,Tt.jsx)("option",{value:"warn",children:"Warning"}),(0,Tt.jsx)("option",{value:"info",children:"Info"})]}),(0,Tt.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"bg-secondary rounded-lg px-2 py-1.5 text-xs",children:[(0,Tt.jsx)("option",{value:"all",children:"All Subsystems"}),bP.map(e=>(0,Tt.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Tt.jsxs)("select",{value:p,onChange:e=>f(e.target.value),className:"bg-secondary rounded-lg px-2 py-1.5 text-xs",children:[(0,Tt.jsx)("option",{value:"all",children:"All Status"}),(0,Tt.jsx)("option",{value:"open",children:"Open"}),(0,Tt.jsx)("option",{value:"monitoring",children:"Monitoring"}),(0,Tt.jsx)("option",{value:"resolved",children:"Resolved"})]})]})]})}),"timeline"===i&&(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(en.A,{className:"w-4 h-4 text-primary"}),"Incident Timeline"]}),0===b.length?(0,Tt.jsxs)("div",{className:"text-center py-12",children:[(0,Tt.jsx)(Vt.A,{className:"w-12 h-12 mx-auto mb-3 text-success/50"}),(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"No incidents in this time range"}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[Object.values(a).filter(e=>e.enabled).length," detection rules active"]})]}):(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsx)("div",{className:"h-2 bg-secondary rounded-full mb-4 relative overflow-hidden",children:b.map((e,t)=>{const n=60*("1h"===o?1:"6h"===o?6:"12h"===o?12:"24h"===o?24:168)*60*1e3,r=(v-new Date(e.startTime).getTime())/n,a=e.endTime?(v-new Date(e.endTime).getTime())/n:0,s=Math.max(2,100*(r-a)),i=Math.max(0,100*(1-r));return(0,Tt.jsx)("button",{onClick:()=>g(e),className:"absolute top-0 h-full ".concat(w[e.severity]," hover:brightness-125 transition-all rounded-full"),style:{left:"".concat(i,"%"),width:"".concat(s,"%"),minWidth:"8px"},title:"".concat(e.title," (").concat(e.severity,")")},e.id)})}),(0,Tt.jsxs)("div",{className:"flex justify-between text-[10px] text-muted-foreground mb-4",children:[(0,Tt.jsx)("span",{children:"Now"}),(0,Tt.jsxs)("span",{children:[o," ago"]})]}),(0,Tt.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:b.map(e=>{const t=bP.find(t=>t.id===e.subsystems[0]),n=(null===t||void 0===t?void 0:t.icon)||Gt.A;return(0,Tt.jsx)("button",{onClick:()=>g(e),className:"w-full glass rounded-lg p-3 text-left hover:bg-white/10 transition-colors",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(w[e.severity])}),(0,Tt.jsx)(n,{className:"w-4 h-4 ".concat((null===t||void 0===t?void 0:t.color)||"text-primary")}),(0,Tt.jsx)("span",{className:"font-medium text-sm",children:e.title})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[N[e.status],(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:DP(e.startTime)}),(0,Tt.jsx)(Pn,{className:"w-4 h-4 text-muted-foreground"})]})]})},e.id)})})]})]}),"list"===i&&(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(dr,{className:"w-4 h-4 text-primary"}),"Incident List"]}),0===b.length?(0,Tt.jsxs)("div",{className:"text-center py-12",children:[(0,Tt.jsx)(Vt.A,{className:"w-12 h-12 mx-auto mb-3 text-success/50"}),(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"No incidents match your filters"})]}):(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full text-sm",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"border-b border-border text-left text-xs text-muted-foreground",children:[(0,Tt.jsx)("th",{className:"pb-2 pr-4",children:"Severity"}),(0,Tt.jsx)("th",{className:"pb-2 pr-4",children:"Incident"}),(0,Tt.jsx)("th",{className:"pb-2 pr-4",children:"Subsystem"}),(0,Tt.jsx)("th",{className:"pb-2 pr-4",children:"Started"}),(0,Tt.jsx)("th",{className:"pb-2 pr-4",children:"Duration"}),(0,Tt.jsx)("th",{className:"pb-2",children:"Status"})]})}),(0,Tt.jsx)("tbody",{children:b.map(e=>{const t=e.endTime?Math.floor((new Date(e.endTime)-new Date(e.startTime))/6e4):Math.floor((v-new Date(e.startTime))/6e4);return(0,Tt.jsxs)("tr",{onClick:()=>g(e),className:"border-b border-border/50 hover:bg-white/5 cursor-pointer",children:[(0,Tt.jsx)("td",{className:"py-3 pr-4",children:(0,Tt.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] font-semibold uppercase ".concat("critical"===e.severity?"bg-destructive/20 text-destructive":"warn"===e.severity?"bg-warning/20 text-warning":"bg-blue-500/20 text-blue-400"),children:e.severity})}),(0,Tt.jsx)("td",{className:"py-3 pr-4 font-medium",children:e.title}),(0,Tt.jsx)("td",{className:"py-3 pr-4 capitalize",children:e.subsystems.join(", ")}),(0,Tt.jsx)("td",{className:"py-3 pr-4 text-muted-foreground",children:DP(e.startTime)}),(0,Tt.jsxs)("td",{className:"py-3 pr-4",children:[t,"m","open"===e.status&&"+"]}),(0,Tt.jsx)("td",{className:"py-3",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[N[e.status],(0,Tt.jsx)("span",{className:"capitalize text-xs",children:e.status})]})})]},e.id)})})]})})]}),x&&(0,Tt.jsx)(HP,{incident:x,snapshots:r,onClose:()=>g(null),onResolve:s})]})},KP=e=>{var t,n,r,a,s,i,l;let{node:o,snapshots:c,onClick:d,selected:u}=e;const m=c[c.length-1],h=EP(m),p=null===m||void 0===m?void 0:m.ts;return(0,Tt.jsxs)("button",{onClick:d,className:"glass rounded-xl p-4 text-left w-full transition-all hover:bg-white/10 ".concat(u?"ring-2 ring-primary":""),"data-testid":"node-card-".concat(o.node_id),children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(TP((null===m||void 0===m||null===(t=m.comms)||void 0===t?void 0:t.lan)||"unavailable"))}),(0,Tt.jsx)("span",{className:"font-semibold text-sm",children:o.node_name}),o.isThisDevice&&(0,Tt.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-primary/20 text-primary",children:"THIS"})]}),(0,Tt.jsx)("span",{className:"text-lg font-bold ".concat(OP(h)),children:h})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"CPU"}),(0,Tt.jsxs)("p",{className:"font-medium",children:[(null===m||void 0===m||null===(n=m.metrics)||void 0===n||null===(r=n.cpu)||void 0===r?void 0:r.toFixed(0))||"--","%"]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Temp"}),(0,Tt.jsxs)("p",{className:"font-medium",children:[(null===m||void 0===m||null===(a=m.sensors)||void 0===a||null===(s=a.temperature)||void 0===s?void 0:s.toFixed(0))||"--","\xb0C"]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Disk"}),(0,Tt.jsxs)("p",{className:"font-medium",children:[(null===m||void 0===m||null===(i=m.metrics)||void 0===i||null===(l=i.disk)||void 0===l?void 0:l.toFixed(0))||"--","%"]})]})]}),(0,Tt.jsxs)("div",{className:"mt-3 pt-2 border-t border-white/10 flex items-center justify-between text-xs text-muted-foreground",children:[(0,Tt.jsxs)("span",{children:["Last seen: ",p?DP(p):"Never"]}),(0,Tt.jsx)(Pn,{className:"w-4 h-4"})]})]})},VP=e=>{let{value:t}=e;if(null===t)return null;const n=t>0?"text-red-400":t<0?"text-green-400":"text-muted-foreground";return(0,Tt.jsxs)("span",{className:"text-xs ".concat(n," ml-2"),children:[t>0?"+":"",t.toFixed(1)]})},GP=e=>{let{snapshot:n,previousSnapshot:r,onClose:a}=e;const[s,i]=(0,t.useState)("formatted");if(!n)return null;const l=e=>{if(!r)return null;const t=e.split(".").reduce((e,t)=>null===e||void 0===e?void 0:e[t],n),a=e.split(".").reduce((e,t)=>null===e||void 0===e?void 0:e[t],r);return"number"!==typeof t||"number"!==typeof a?null:t-a};return(0,Tt.jsxs)("div",{className:"fixed inset-y-0 right-0 w-full sm:w-96 bg-background border-l border-border z-50 overflow-y-auto",children:[(0,Tt.jsxs)("div",{className:"sticky top-0 glass p-4 border-b border-border",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h3",{className:"font-bold",children:"Snapshot Details"}),(0,Tt.jsx)("button",{onClick:a,className:"p-2 hover:bg-secondary rounded-lg",children:(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"})})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(n.ts).toLocaleString()}),(0,Tt.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,Tt.jsx)("button",{onClick:()=>i("formatted"),className:"px-3 py-1 rounded-lg text-xs font-medium transition-colors ".concat("formatted"===s?"bg-primary text-white":"glass"),children:"Formatted"}),(0,Tt.jsx)("button",{onClick:()=>i("json"),className:"px-3 py-1 rounded-lg text-xs font-medium transition-colors ".concat("json"===s?"bg-primary text-white":"glass"),children:"JSON"})]})]}),(0,Tt.jsx)("div",{className:"p-4 space-y-4",children:"formatted"===s?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"STATUS"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(n.ok?"bg-success":"bg-destructive")}),(0,Tt.jsx)("span",{className:"font-medium",children:n.ok?"OK":"Issues Detected"})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"METRICS"}),(0,Tt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"CPU"}),(0,Tt.jsxs)("span",{children:[n.metrics.cpu.toFixed(1),"%",(0,Tt.jsx)(VP,{value:l("metrics.cpu")})]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"RAM"}),(0,Tt.jsxs)("span",{children:[n.metrics.ram.toFixed(1),"%",(0,Tt.jsx)(VP,{value:l("metrics.ram")})]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"Disk"}),(0,Tt.jsxs)("span",{children:[n.metrics.disk.toFixed(1),"%",(0,Tt.jsx)(VP,{value:l("metrics.disk")})]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"SENSORS"}),(0,Tt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"Temperature"}),(0,Tt.jsxs)("span",{children:[n.sensors.temperature.toFixed(1),"\xb0C",(0,Tt.jsx)(VP,{value:l("sensors.temperature")})]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"Humidity"}),(0,Tt.jsxs)("span",{children:[n.sensors.humidity.toFixed(1),"%",(0,Tt.jsx)(VP,{value:l("sensors.humidity")})]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"Pressure"}),(0,Tt.jsxs)("span",{children:[n.sensors.pressure.toFixed(0)," hPa"]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"IAQ"}),(0,Tt.jsx)("span",{children:n.sensors.iaq.toFixed(0)})]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"GPS"}),(0,Tt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"Fix"}),(0,Tt.jsx)("span",{className:PP(n.gps.fix),children:n.gps.fix})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"Accuracy"}),(0,Tt.jsxs)("span",{children:[n.gps.accuracy.toFixed(1),"m"]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"Satellites"}),(0,Tt.jsx)("span",{children:n.gps.satellites})]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"COMMS"}),(0,Tt.jsx)("div",{className:"space-y-2 text-sm",children:Object.entries(n.comms).map(e=>{let[t,n]=e;return(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"capitalize",children:t}),(0,Tt.jsx)("span",{className:PP(n),children:n})]},t)})})]})]}):(0,Tt.jsx)("pre",{className:"text-xs font-mono bg-black/30 p-3 rounded-lg overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(n,null,2)})})]})},$P=e=>{let{logCategories:t,setLogCategories:n}=e;const r=t.filter(e=>e.enabled).length;return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(ia,{className:"w-4 h-4 text-primary"}),"Active Log Categories"]}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[r,"/",t.length," active"]})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"Select which data categories to track and archive. Disabled categories will not be captured in new snapshots."}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:t.map(e=>{const t=e.icon;return(0,Tt.jsxs)("button",{onClick:()=>{return t=e.id,void n(e=>e.map(e=>e.id===t?(0,s.A)((0,s.A)({},e),{},{enabled:!e.enabled}):e));var t},className:"flex items-start gap-3 p-3 rounded-lg text-left transition-all ".concat(e.enabled?"bg-primary/10 border border-primary/30":"glass border border-transparent opacity-60 hover:opacity-100"),children:[(0,Tt.jsx)("div",{className:"p-1.5 rounded-lg ".concat(e.enabled?"bg-primary/20":"bg-secondary"),children:(0,Tt.jsx)(t,{className:"w-4 h-4 ".concat(e.enabled?e.color:"text-muted-foreground")})}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-sm font-medium",children:e.name}),e.enabled&&(0,Tt.jsx)(Vt.A,{className:"w-3 h-3 text-success"})]}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground truncate",children:e.description})]})]},e.id)})})]})},YP=e=>{let{label:t,data:n,unit:r="",precision:a=1}=e;return(0,Tt.jsxs)("div",{className:"grid grid-cols-5 gap-2 text-xs py-1.5 border-b border-border/30 last:border-0",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:t}),(0,Tt.jsxs)("span",{className:"text-center font-mono",children:[n.current.toFixed(a),r]}),(0,Tt.jsxs)("span",{className:"text-center font-mono text-green-400",children:[n.min.toFixed(a),r]}),(0,Tt.jsxs)("span",{className:"text-center font-mono text-red-400",children:[n.max.toFixed(a),r]}),(0,Tt.jsxs)("span",{className:"text-center font-mono text-primary",children:[n.avg.toFixed(a),r]})]})},ZP=e=>{let{snapshots:n,timeRange:r}=e;const a=(0,t.useMemo)(()=>{if(0===n.length)return null;const e=(e,t)=>{const n=e.map(e=>t.split(".").reduce((e,t)=>null===e||void 0===e?void 0:e[t],e)).filter(e=>"number"===typeof e);return 0===n.length?{min:0,max:0,avg:0,current:0}:{min:Math.min(...n),max:Math.max(...n),avg:n.reduce((e,t)=>e+t,0)/n.length,current:n[n.length-1]}};return{cpu:e(n,"metrics.cpu"),ram:e(n,"metrics.ram"),disk:e(n,"metrics.disk"),temp:e(n,"sensors.temperature"),humidity:e(n,"sensors.humidity"),pressure:e(n,"sensors.pressure"),iaq:e(n,"sensors.iaq"),gpsAccuracy:e(n,"gps.accuracy"),uptimeOk:n.filter(e=>e.ok).length,uptimeTotal:n.length,commsAvailable:n.filter(e=>{var t;return"available"===(null===(t=e.comms)||void 0===t?void 0:t.lan)}).length,backupSuccess:n.filter(e=>{var t;return"success"===(null===(t=e.backup)||void 0===t?void 0:t.status)}).length}},[n]);return a?(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,Tt.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(la,{className:"w-4 h-4 text-primary"}),"Statistical Summary (",r,")"]})}),(0,Tt.jsxs)("div",{className:"grid grid-cols-5 gap-2 text-xs py-2 border-b border-border font-semibold",children:[(0,Tt.jsx)("span",{children:"Metric"}),(0,Tt.jsx)("span",{className:"text-center",children:"Current"}),(0,Tt.jsx)("span",{className:"text-center text-green-400",children:"Min"}),(0,Tt.jsx)("span",{className:"text-center text-red-400",children:"Max"}),(0,Tt.jsx)("span",{className:"text-center text-primary",children:"Avg"})]}),(0,Tt.jsx)(YP,{label:"CPU",data:a.cpu,unit:"%"}),(0,Tt.jsx)(YP,{label:"RAM",data:a.ram,unit:"%"}),(0,Tt.jsx)(YP,{label:"Disk",data:a.disk,unit:"%"}),(0,Tt.jsx)(YP,{label:"Temp",data:a.temp,unit:"\xb0C"}),(0,Tt.jsx)(YP,{label:"Humidity",data:a.humidity,unit:"%"}),(0,Tt.jsx)(YP,{label:"Pressure",data:a.pressure,unit:" hPa",precision:0}),(0,Tt.jsx)(YP,{label:"IAQ",data:a.iaq,unit:"",precision:0}),(0,Tt.jsx)(YP,{label:"GPS Acc",data:a.gpsAccuracy,unit:"m"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-3 gap-3 mt-4 pt-3 border-t border-border",children:[(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"text-lg font-bold text-success",children:[(a.uptimeOk/a.uptimeTotal*100).toFixed(1),"%"]}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Uptime OK Rate"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"text-lg font-bold text-emerald-400",children:[(a.commsAvailable/a.uptimeTotal*100).toFixed(1),"%"]}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Comms Available"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"text-lg font-bold text-violet-400",children:[(a.backupSuccess/a.uptimeTotal*100).toFixed(1),"%"]}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Backup Success"})]})]})]}):null},QP=e=>{let{visibleMetrics:t,setVisibleMetrics:n}=e;return(0,Tt.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"cpu",label:"CPU %",color:"bg-blue-500"},{id:"ram",label:"RAM %",color:"bg-purple-500"},{id:"disk",label:"Disk %",color:"bg-amber-500"},{id:"temp",label:"Temperature",color:"bg-red-500"},{id:"humidity",label:"Humidity",color:"bg-cyan-500"},{id:"pressure",label:"Pressure",color:"bg-pink-500"},{id:"iaq",label:"IAQ",color:"bg-orange-500"},{id:"gpsAccuracy",label:"GPS Accuracy",color:"bg-green-500"},{id:"comms",label:"Comms Status",color:"bg-emerald-500"}].map(e=>(0,Tt.jsxs)("button",{onClick:()=>{return t=e.id,void n(e=>(0,s.A)((0,s.A)({},e),{},{[t]:!e[t]}));var t},className:"flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium transition-all ".concat(t[e.id]?"bg-secondary border border-primary/50":"bg-secondary/50 opacity-50 hover:opacity-100"),children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.color)}),e.label,t[e.id]?(0,Tt.jsx)(kn,{className:"w-3 h-3"}):(0,Tt.jsx)(oa,{className:"w-3 h-3"})]},e.id))})},JP=e=>{var n;let{snapshot:r,capturing:a}=e;const[s,i]=(0,t.useState)(()=>Date.now());if((0,t.useEffect)(()=>{if(!a)return;const e=setInterval(()=>i(Date.now()),1e3);return()=>clearInterval(e)},[a]),!r)return null;const l=new Date(r.ts),o=s-l.getTime(),c=Math.floor(o/1e3),d=Math.floor(c/60);return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(ca,{className:"w-4 h-4 text-primary"}),"Last Snapshot"]}),(0,Tt.jsx)("div",{className:"flex items-center gap-2",children:a?(0,Tt.jsxs)("span",{className:"flex items-center gap-1.5 text-xs text-success",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 rounded-full bg-success animate-pulse"}),"Live Capturing"]}):(0,Tt.jsxs)("span",{className:"flex items-center gap-1.5 text-xs text-warning",children:[(0,Tt.jsx)(na,{className:"w-3 h-3"}),"Paused"]})})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2",children:[(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground block",children:"Timestamp"}),(0,Tt.jsx)("p",{className:"text-sm font-mono",children:l.toLocaleTimeString()}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:l.toLocaleDateString()})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2",children:[(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground block",children:"Time Since"}),(0,Tt.jsx)("p",{className:"text-sm font-mono",children:d>0?"".concat(d,"m ").concat(c%60,"s"):"".concat(c,"s")}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"ago"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2",children:[(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground block",children:"Status"}),(0,Tt.jsx)("p",{className:"text-sm font-semibold ".concat(r.ok?"text-success":"text-destructive"),children:r.ok?"OK":"Issues"}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:(null===(n=r.health)||void 0===n?void 0:n.status)||"unknown"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2",children:[(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground block",children:"Health"}),(0,Tt.jsxs)("p",{className:"text-sm font-bold ".concat(OP(EP(r))),children:[EP(r),"/100"]}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"index score"})]})]})]})},XP=e=>{var n,r,a,s,i,l,o,c,d,u,m;let{snapshots:h,capturing:p,setCapturing:f,interval:x,setInterval:g,retention:v,setRetention:b,logCategories:y,setLogCategories:j,captureHealth:w,detectionRules:N,setDetectionRules:k,sensitivity:A,setSensitivity:_,smoothingWindow:C,setSmoothingWindow:S,baselineWindow:E,setBaselineWindow:O}=e;const[M,P]=(0,t.useState)("12h"),[T,D]=(0,t.useState)(null),[I,R]=(0,t.useState)(!1),[L,z]=(0,t.useState)(!1),[F,B]=(0,t.useState)(!1),[U,W]=(0,t.useState)(!1),[H,q]=(0,t.useState)(hP),[K,V]=(0,t.useState)(""),[G,$]=(0,t.useState)("12h"),[Y]=(0,t.useState)(()=>Date.now()),Z=(0,t.useMemo)(()=>{const e=Y-60*("1h"===M?1:"6h"===M?6:"12h"===M?12:"24h"===M?24:168)*60*1e3;return h.filter(t=>new Date(t.ts).getTime()>e)},[h,M,Y]),Q=h[h.length-1],J=EP(Q),X=Z.map(e=>({ts:new Date(e.ts).toLocaleTimeString(),health:EP(e)})),ee=X.slice(-10),te=X.slice(-20,-10),ne=ee.length>0&&te.length>0?ee.reduce((e,t)=>e+t.health,0)/ee.length-te.reduce((e,t)=>e+t.health,0)/te.length:0,re=(0,t.useMemo)(()=>IP(h),[h]),ae=((0,t.useMemo)(()=>RP(h,12),[h]),(0,t.useMemo)(()=>{const e=Math.max(1,Math.floor(Z.length/100));return Z.filter((t,n)=>n%e===0).map(e=>({ts:new Date(e.ts).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),cpu:e.metrics.cpu,ram:e.metrics.ram,disk:e.metrics.disk,temp:e.sensors.temperature,humidity:e.sensors.humidity,gpsAccuracy:e.gps.accuracy,gpsFix:"3D"===e.gps.fix?3:"2D"===e.gps.fix?2:0,comms:"available"===e.comms.lan?3:"degraded"===e.comms.lan?2:1}))},[Z])),se="6h"===G?6:"12h"===G?12:"24h"===G?24:12,ie=(0,t.useMemo)(()=>RP(h,se),[h,se]),le=(0,t.useMemo)(()=>{if(!K.trim())return Z;const e=K.toLowerCase();return Z.filter(t=>t.ts.toLowerCase().includes(e)||t.comms.lan.toLowerCase().includes(e)||t.gps.fix.toLowerCase().includes(e)||t.backup.status.toLowerCase().includes(e))},[Z,K]);return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)(UP,{captureHealth:w,capturing:p}),(0,Tt.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,Tt.jsxs)(gn.$,{size:"sm",variant:L?"default":"outline",onClick:()=>z(!L),className:"h-8 gap-1.5",children:[(0,Tt.jsx)(Jt,{className:"w-3.5 h-3.5"}),"Settings"]}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:F?"default":"outline",onClick:()=>B(!F),className:"h-8 gap-1.5",children:[(0,Tt.jsx)(ia,{className:"w-3.5 h-3.5"}),"Active Logs"]}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:U?"default":"outline",onClick:()=>W(!U),className:"h-8 gap-1.5",children:[(0,Tt.jsx)(la,{className:"w-3.5 h-3.5"}),"Statistics"]}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:I?"default":"outline",onClick:()=>R(!I),className:"h-8 gap-1.5",children:[(0,Tt.jsx)(dr,{className:"w-3.5 h-3.5"}),"Raw Data"]}),(0,Tt.jsx)("div",{className:"flex-1"}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",onClick:()=>{const e=JSON.stringify(h,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="omega-snapshots-".concat((new Date).toISOString().split("T")[0],".json"),r.click(),URL.revokeObjectURL(n),Pt.oR.success("Snapshots exported")},className:"h-8 gap-1.5",children:[(0,Tt.jsx)(Xt,{className:"w-3.5 h-3.5"}),"Export"]})]}),(0,Tt.jsx)(JP,{snapshot:Q,capturing:p}),L&&(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(da,{className:"w-4 h-4 text-primary"}),"Capture Settings"]}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[h.length," snapshots stored"]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground block mb-2",children:"Capturing"}),(0,Tt.jsxs)("button",{onClick:()=>f(!p),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors w-full justify-center ".concat(p?"bg-success text-white":"bg-secondary"),children:[p?(0,Tt.jsx)(gr.A,{className:"w-3 h-3"}):(0,Tt.jsx)(na,{className:"w-3 h-3"}),p?"ON":"OFF"]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground block mb-2",children:"Interval"}),(0,Tt.jsxs)("select",{value:x,onChange:e=>g(e.target.value),className:"w-full bg-secondary rounded-lg px-2 py-1.5 text-sm",children:[(0,Tt.jsx)("option",{value:"15s",children:"15 seconds"}),(0,Tt.jsx)("option",{value:"30s",children:"30 seconds"}),(0,Tt.jsx)("option",{value:"60s",children:"60 seconds"}),(0,Tt.jsx)("option",{value:"5m",children:"5 minutes"}),(0,Tt.jsx)("option",{value:"15m",children:"15 minutes"})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground block mb-2",children:"Retention"}),(0,Tt.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"w-full bg-secondary rounded-lg px-2 py-1.5 text-sm",children:[(0,Tt.jsx)("option",{value:"6h",children:"6 hours"}),(0,Tt.jsx)("option",{value:"12h",children:"12 hours"}),(0,Tt.jsx)("option",{value:"24h",children:"24 hours"}),(0,Tt.jsx)("option",{value:"3d",children:"3 days"}),(0,Tt.jsx)("option",{value:"7d",children:"7 days"})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground block mb-2",children:"Danger Zone"}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",onClick:()=>{window.confirm("Are you sure you want to clear all snapshot history? This cannot be undone.")&&Pt.oR.success("History cleared")},className:"w-full h-8 text-destructive border-destructive/50",children:[(0,Tt.jsx)(ua,{className:"w-3 h-3 mr-1"}),"Clear All"]})]})]}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3 inline mr-1"}),"Snapshots are stored locally. Export regularly for backup. Older data is automatically pruned based on retention setting."]})]}),L&&(0,Tt.jsx)(WP,{rules:N,setRules:k,sensitivity:A,setSensitivity:_,smoothingWindow:C,setSmoothingWindow:S,baselineWindow:E,setBaselineWindow:O}),F&&(0,Tt.jsx)($P,{logCategories:y,setLogCategories:j}),U&&(0,Tt.jsx)(ZP,{snapshots:Z,timeRange:M}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,Tt.jsx)(zP,{score:J,trend:ne,sparklineData:X.slice(-50)}),(0,Tt.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,Tt.jsx)(FP,{icon:Zr,label:"CPU",value:null===Q||void 0===Q||null===(n=Q.metrics)||void 0===n?void 0:n.cpu,unit:"%",color:"text-blue-400"}),(0,Tt.jsx)(FP,{icon:Qr,label:"RAM",value:null===Q||void 0===Q||null===(r=Q.metrics)||void 0===r?void 0:r.ram,unit:"%",color:"text-purple-400"}),(0,Tt.jsx)(FP,{icon:pn.A,label:"Disk",value:null===Q||void 0===Q||null===(a=Q.metrics)||void 0===a?void 0:a.disk,unit:"%",color:"text-amber-400"}),(0,Tt.jsx)(FP,{icon:hr,label:"Temp",value:null===Q||void 0===Q||null===(s=Q.sensors)||void 0===s?void 0:s.temperature,unit:"\xb0C",color:"text-red-400"}),(0,Tt.jsx)(FP,{icon:An,label:"Humidity",value:null===Q||void 0===Q||null===(i=Q.sensors)||void 0===i?void 0:i.humidity,unit:"%",color:"text-cyan-400"}),(0,Tt.jsx)(FP,{icon:mr.A,label:"GPS",value:null===Q||void 0===Q||null===(l=Q.gps)||void 0===l?void 0:l.fix,status:null===Q||void 0===Q||null===(o=Q.gps)||void 0===o?void 0:o.fix,color:"text-green-400"}),(0,Tt.jsx)(FP,{icon:mn.A,label:"Comms",value:null===Q||void 0===Q||null===(c=Q.comms)||void 0===c?void 0:c.lan,status:null===Q||void 0===Q||null===(d=Q.comms)||void 0===d?void 0:d.lan,color:"text-emerald-400"}),(0,Tt.jsx)(FP,{icon:pn.A,label:"Backup",value:null===Q||void 0===Q||null===(u=Q.backup)||void 0===u?void 0:u.status,status:null===Q||void 0===Q||null===(m=Q.backup)||void 0===m?void 0:m.status,color:"text-violet-400"})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-sm font-medium",children:"Time Range:"}),["1h","6h","12h","24h","7d"].map(e=>(0,Tt.jsx)("button",{onClick:()=>P(e),className:"px-3 py-1 rounded-lg text-xs font-medium transition-colors ".concat(M===e?"bg-primary text-white":"glass hover:bg-secondary"),children:e},e))]}),(0,Tt.jsxs)("div",{className:"text-xs text-muted-foreground",children:[Z.length," snapshots in range"]})]}),(0,Tt.jsxs)("div",{className:"border-t border-border/50 pt-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)(kn,{className:"w-4 h-4 text-muted-foreground"}),(0,Tt.jsx)("span",{className:"text-xs font-medium",children:"Visible Metrics:"})]}),(0,Tt.jsx)(QP,{visibleMetrics:H,setVisibleMetrics:q})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(Zr,{className:"w-4 h-4 text-primary"}),"System Resources"]}),(0,Tt.jsx)("div",{className:"h-48",children:(0,Tt.jsx)(Ja,{width:"100%",height:"100%",children:(0,Tt.jsxs)(kC,{data:ae,children:[(0,Tt.jsx)(mS,{strokeDasharray:"3 3",stroke:"#333"}),(0,Tt.jsx)(_S,{dataKey:"ts",tick:{fontSize:10},stroke:"#666"}),(0,Tt.jsx)(IS,{tick:{fontSize:10},stroke:"#666",domain:[0,100]}),(0,Tt.jsx)(sO,{contentStyle:{background:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"}}),(0,Tt.jsx)(eM,{wrapperStyle:{fontSize:"10px"}}),(0,Tt.jsx)(nP,{type:"monotone",dataKey:"cpu",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"CPU %"}),(0,Tt.jsx)(nP,{type:"monotone",dataKey:"ram",stroke:"#a855f7",strokeWidth:2,dot:!1,name:"RAM %"}),(0,Tt.jsx)(nP,{type:"monotone",dataKey:"disk",stroke:"#f59e0b",strokeWidth:2,dot:!1,name:"Disk %"})]})})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(hr,{className:"w-4 h-4 text-red-400"}),"Environment"]}),(0,Tt.jsx)("div",{className:"h-48",children:(0,Tt.jsx)(Ja,{width:"100%",height:"100%",children:(0,Tt.jsxs)(MN,{data:ae,children:[(0,Tt.jsx)(mS,{strokeDasharray:"3 3",stroke:"#333"}),(0,Tt.jsx)(_S,{dataKey:"ts",tick:{fontSize:10},stroke:"#666"}),(0,Tt.jsx)(IS,{tick:{fontSize:10},stroke:"#666"}),(0,Tt.jsx)(sO,{contentStyle:{background:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"}}),(0,Tt.jsx)(eM,{wrapperStyle:{fontSize:"10px"}}),(0,Tt.jsx)(wC,{type:"monotone",dataKey:"temp",stroke:"#ef4444",fill:"#ef444420",strokeWidth:2,name:"Temp \xb0C"}),(0,Tt.jsx)(wC,{type:"monotone",dataKey:"humidity",stroke:"#06b6d4",fill:"#06b6d420",strokeWidth:2,name:"Humidity %"})]})})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(mr.A,{className:"w-4 h-4 text-green-400"}),"GPS Status"]}),(0,Tt.jsx)("div",{className:"h-48",children:(0,Tt.jsx)(Ja,{width:"100%",height:"100%",children:(0,Tt.jsxs)(MN,{data:ae,children:[(0,Tt.jsx)(mS,{strokeDasharray:"3 3",stroke:"#333"}),(0,Tt.jsx)(_S,{dataKey:"ts",tick:{fontSize:10},stroke:"#666"}),(0,Tt.jsx)(IS,{tick:{fontSize:10},stroke:"#666"}),(0,Tt.jsx)(sO,{contentStyle:{background:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"}}),(0,Tt.jsx)(eM,{wrapperStyle:{fontSize:"10px"}}),(0,Tt.jsx)(wC,{type:"monotone",dataKey:"gpsAccuracy",stroke:"#22c55e",fill:"#22c55e20",strokeWidth:2,name:"Accuracy (m)"}),(0,Tt.jsx)(uP,{y:10,stroke:"#666",strokeDasharray:"3 3",label:{value:"Good",fontSize:10,fill:"#666"}})]})})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(mn.A,{className:"w-4 h-4 text-emerald-400"}),"Communications Status"]}),(0,Tt.jsx)("div",{className:"h-48",children:(0,Tt.jsx)(Ja,{width:"100%",height:"100%",children:(0,Tt.jsxs)(MN,{data:ae,children:[(0,Tt.jsx)(mS,{strokeDasharray:"3 3",stroke:"#333"}),(0,Tt.jsx)(_S,{dataKey:"ts",tick:{fontSize:10},stroke:"#666"}),(0,Tt.jsx)(IS,{tick:{fontSize:10},stroke:"#666",domain:[0,4],ticks:[1,2,3],tickFormatter:e=>3===e?"OK":2===e?"Deg":"Down"}),(0,Tt.jsx)(sO,{contentStyle:{background:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"},formatter:e=>3===e?"Available":2===e?"Degraded":"Unavailable"}),(0,Tt.jsx)(wC,{type:"stepAfter",dataKey:"comms",stroke:"#10b981",fill:"#10b98120",strokeWidth:2,name:"Status"})]})})})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(ma,{className:"w-4 h-4 text-primary"}),"Window Comparison"]}),(0,Tt.jsxs)("select",{value:G,onChange:e=>$(e.target.value),className:"bg-secondary rounded-lg px-2 py-1 text-xs",children:[(0,Tt.jsx)("option",{value:"6h",children:"Last 6h vs Previous 6h"}),(0,Tt.jsx)("option",{value:"12h",children:"Last 12h vs Previous 12h"}),(0,Tt.jsx)("option",{value:"24h",children:"Last 24h vs Previous 24h"})]})]}),ie.changes.length>0?(0,Tt.jsx)("div",{className:"space-y-2",children:ie.changes.slice(0,5).map(e=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/20 rounded-lg",children:[(0,Tt.jsx)("span",{className:"text-sm capitalize",children:e.metric}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.previous.toFixed(1)," \u2192 ",e.current.toFixed(1)]}),(0,Tt.jsxs)("span",{className:"text-xs font-medium ".concat("up"===e.direction?"text-red-400":"text-green-400"),children:["up"===e.direction?"\u2191":"\u2193"," ",Math.abs(e.percentChange).toFixed(1),"%"]})]})]},e.metric))}):(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"No significant changes detected."}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground mt-3",children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3 inline mr-1"}),"Shows metrics that changed more than 5% between time windows."]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 text-warning"}),"Anomaly Feed"]}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[re.length," detected"]})]}),re.length>0?(0,Tt.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:re.slice(0,5).map(e=>(0,Tt.jsx)(BP,{anomaly:e},e.id))}):(0,Tt.jsxs)("div",{className:"text-center py-8",children:[(0,Tt.jsx)(Vt.A,{className:"w-12 h-12 mx-auto mb-2 text-success/50"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"No anomalies detected"})]})]})]}),I&&(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(pn.A,{className:"w-4 h-4 text-primary"}),"Raw Snapshots (",le.length,")"]}),(0,Tt.jsx)("div",{className:"flex items-center gap-2",children:(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsx)(on,{className:"w-3.5 h-3.5 absolute left-2 top-1/2 -translate-y-1/2 text-muted-foreground"}),(0,Tt.jsx)("input",{type:"text",value:K,onChange:e=>V(e.target.value),placeholder:"Filter snapshots...",className:"bg-secondary rounded-lg pl-7 pr-3 py-1.5 text-xs w-40"})]})})]}),(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full text-xs",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"border-b border-border text-left",children:[(0,Tt.jsx)("th",{className:"pb-2 pr-4",children:"Time"}),(0,Tt.jsx)("th",{className:"pb-2 pr-4",children:"OK"}),(0,Tt.jsx)("th",{className:"pb-2 pr-4",children:"CPU"}),(0,Tt.jsx)("th",{className:"pb-2 pr-4",children:"RAM"}),(0,Tt.jsx)("th",{className:"pb-2 pr-4",children:"Disk"}),(0,Tt.jsx)("th",{className:"pb-2 pr-4",children:"Temp"}),(0,Tt.jsx)("th",{className:"pb-2 pr-4",children:"GPS"}),(0,Tt.jsx)("th",{className:"pb-2 pr-4",children:"Comms"}),(0,Tt.jsx)("th",{className:"pb-2",children:"Backup"})]})}),(0,Tt.jsx)("tbody",{children:le.slice(-30).reverse().map((e,t)=>(0,Tt.jsxs)("tr",{className:"border-b border-border/50 hover:bg-white/5 cursor-pointer",onClick:()=>D({snapshot:e,previous:le[le.length-2-t]}),children:[(0,Tt.jsx)("td",{className:"py-2 pr-4",children:new Date(e.ts).toLocaleTimeString()}),(0,Tt.jsx)("td",{className:"py-2 pr-4",children:(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.ok?"bg-success":"bg-destructive")})}),(0,Tt.jsxs)("td",{className:"py-2 pr-4",children:[e.metrics.cpu.toFixed(0),"%"]}),(0,Tt.jsxs)("td",{className:"py-2 pr-4",children:[e.metrics.ram.toFixed(0),"%"]}),(0,Tt.jsxs)("td",{className:"py-2 pr-4",children:[e.metrics.disk.toFixed(0),"%"]}),(0,Tt.jsxs)("td",{className:"py-2 pr-4",children:[e.sensors.temperature.toFixed(0),"\xb0C"]}),(0,Tt.jsx)("td",{className:"py-2 pr-4 capitalize",children:e.gps.fix}),(0,Tt.jsx)("td",{className:"py-2 pr-4 capitalize",children:e.comms.lan}),(0,Tt.jsx)("td",{className:"py-2 capitalize",children:e.backup.status})]},e.ts))})]})}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-3",children:"Click any row to view full snapshot details and compare with previous."})]}),T&&(0,Tt.jsx)(GP,{snapshot:T.snapshot,previousSnapshot:T.previous,onClose:()=>D(null)})]})},eT=e=>{let{nodesData:n}=e;const[r,a]=(0,t.useState)("all"),[i,l]=(0,t.useState)("health"),[o,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)({a:null,b:null}),p=(0,t.useMemo)(()=>Object.entries(n).map(e=>{var t;let[n,r]=e;const a=wP.find(e=>e.node_id===n)||{node_id:n,node_name:n},i=r[r.length-1],l=EP(i);return(0,s.A)((0,s.A)({},a),{},{snapshots:r,latest:i,healthIndex:l,commsStatus:(null===i||void 0===i||null===(t=i.comms)||void 0===t?void 0:t.lan)||"unavailable",lastSeen:null===i||void 0===i?void 0:i.ts})}),[n]),f=(0,t.useMemo)(()=>{let e=p;return"degraded"===r?e=e.filter(e=>e.healthIndex<80||"available"!==e.commsStatus):"unavailable"===r&&(e=e.filter(e=>"unavailable"===e.commsStatus)),e.sort((e,t)=>{var n,r,a,s;return"health"===i?e.healthIndex-t.healthIndex:"health-desc"===i?t.healthIndex-e.healthIndex:"last-seen"===i?new Date(t.lastSeen)-new Date(e.lastSeen):"storage"===i?(null===(n=t.latest)||void 0===n||null===(r=n.metrics)||void 0===r?void 0:r.disk)-(null===(a=e.latest)||void 0===a||null===(s=a.metrics)||void 0===s?void 0:s.disk):0})},[p,r,i]),x=(0,t.useMemo)(()=>{const e=p.map(e=>e.healthIndex),t=e.reduce((e,t)=>e+t,0)/e.length,n=Math.min(...e),r=n<50?10:n<70?5:0,a=Math.max(0,Math.round(t-r)),s=e.sort((e,t)=>e-t)[Math.floor(e.length/2)],i=p.filter(e=>Math.abs(e.healthIndex-s)>15),l=[],o=p.filter(e=>"degraded"===e.commsStatus);o.length>=2&&l.push({type:"comms_degraded",count:o.length,total:p.length,message:"Comms degraded across ".concat(o.length,"/").concat(p.length," nodes"),severity:o.length>=4?"high":"medium"});return{fleetReadiness:a,avgHealth:t,worstHealth:n,outliers:i,consensusEvents:l,capabilities:{gps:p.filter(e=>{var t,n;return"none"!==(null===(t=e.latest)||void 0===t||null===(n=t.gps)||void 0===n?void 0:n.fix)}).length,sensors:p.filter(e=>{var t,n;return null===(t=e.latest)||void 0===t||null===(n=t.sensors)||void 0===n?void 0:n.temperature}).length,comms:p.filter(e=>"available"===e.commsStatus).length,backup:p.filter(e=>{var t,n;return"success"===(null===(t=e.latest)||void 0===t||null===(n=t.backup)||void 0===n?void 0:n.status)}).length},total:p.length}},[p]),g=(0,t.useMemo)(()=>{if(!m.a||!m.b)return null;const e=p.find(e=>e.node_id===m.a),t=p.find(e=>e.node_id===m.b);if(!e||!t)return null;const n=[],r=Math.max(1,Math.floor(Math.max(e.snapshots.length,t.snapshots.length)/50));for(let o=0;o<Math.max(e.snapshots.length,t.snapshots.length);o+=r){var a,s,i,l;const r=e.snapshots[o],c=t.snapshots[o];n.push({ts:r?new Date(r.ts).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"",healthA:r?EP(r):null,healthB:c?EP(c):null,tempA:null===r||void 0===r||null===(a=r.sensors)||void 0===a?void 0:a.temperature,tempB:null===c||void 0===c||null===(s=c.sensors)||void 0===s?void 0:s.temperature,cpuA:null===r||void 0===r||null===(i=r.metrics)||void 0===i?void 0:i.cpu,cpuB:null===c||void 0===c||null===(l=c.metrics)||void 0===l?void 0:l.cpu})}return{nodeA:e,nodeB:t,chartData:n,anomaliesA:IP(e.snapshots),anomaliesB:IP(t.snapshots)}},[m,p]);return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Lt.A,{className:"w-4 h-4 text-primary"}),"Fleet Summary"]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold ".concat(OP(x.fleetReadiness)),children:x.fleetReadiness}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Fleet Readiness"}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Avg health with worst-node penalty"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-primary",children:x.total}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Active Nodes"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold ".concat(x.outliers.length>0?"text-warning":"text-success"),children:x.outliers.length}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Outlier Nodes"}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Deviating >15 from median"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold ".concat(OP(x.worstHealth)),children:x.worstHealth}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Worst Node"})]})]}),x.consensusEvents.length>0&&(0,Tt.jsxs)("div",{className:"mb-4",children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 text-warning"}),"Consensus Events"]}),(0,Tt.jsx)("div",{className:"space-y-2",children:x.consensusEvents.map((e,t)=>(0,Tt.jsxs)("div",{className:"p-3 rounded-lg ".concat("high"===e.severity?"bg-destructive/20":"bg-warning/20"),children:[(0,Tt.jsx)("p",{className:"text-sm",children:e.message}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Synchronized status change detected across multiple nodes\u2014may indicate external factor (network, power, environment)."})]},t))})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Capability Coverage"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Object.entries(x.capabilities).map(e=>{let[t,n]=e;return(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2 text-center",children:[(0,Tt.jsxs)("div",{className:"text-lg font-bold",children:[n,"/",x.total]}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground capitalize",children:[t," OK"]}),n<x.total&&(0,Tt.jsxs)("p",{className:"text-[10px] text-warning mt-1",children:[x.total-n," node(s) missing"]})]},t)})})]})]}),x.outliers.length>0&&(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 bg-warning/10 border border-warning/30",children:[(0,Tt.jsxs)("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(aa,{className:"w-4 h-4 text-warning"}),"Outlier Nodes"]}),(0,Tt.jsx)("div",{className:"space-y-2",children:x.outliers.map(e=>{var t,n,r,a,s,i;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-black/20 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(TP(e.commsStatus))}),(0,Tt.jsx)("span",{className:"text-sm font-medium",children:e.node_name})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3 text-xs",children:[(0,Tt.jsxs)("span",{children:["Health: ",(0,Tt.jsx)("strong",{className:OP(e.healthIndex),children:e.healthIndex})]}),(0,Tt.jsxs)("span",{children:["Temp: ",null===(t=e.latest)||void 0===t||null===(n=t.sensors)||void 0===n||null===(r=n.temperature)||void 0===r?void 0:r.toFixed(0),"\xb0C"]}),(0,Tt.jsxs)("span",{children:["CPU: ",null===(a=e.latest)||void 0===a||null===(s=a.metrics)||void 0===s||null===(i=s.cpu)||void 0===i?void 0:i.toFixed(0),"%"]})]})]},e.node_id)})}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground mt-3",children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3 inline mr-1"}),"These nodes have health scores significantly different from the fleet median. Investigate for hardware or configuration issues."]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4",children:[(0,Tt.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(ur.A,{className:"w-4 h-4 text-primary"}),"Node Roster"]}),(0,Tt.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,Tt.jsxs)("select",{value:r,onChange:e=>a(e.target.value),className:"bg-secondary rounded-lg px-3 py-1.5 text-xs",children:[(0,Tt.jsx)("option",{value:"all",children:"All Nodes"}),(0,Tt.jsx)("option",{value:"degraded",children:"Degraded Only"}),(0,Tt.jsx)("option",{value:"unavailable",children:"Unavailable Only"})]}),(0,Tt.jsxs)("select",{value:i,onChange:e=>l(e.target.value),className:"bg-secondary rounded-lg px-3 py-1.5 text-xs",children:[(0,Tt.jsx)("option",{value:"health",children:"Health \u2191"}),(0,Tt.jsx)("option",{value:"health-desc",children:"Health \u2193"}),(0,Tt.jsx)("option",{value:"last-seen",children:"Last Seen"}),(0,Tt.jsx)("option",{value:"storage",children:"Storage Used"})]}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:d?"default":"outline",onClick:()=>{u(!d),h({a:null,b:null})},className:"h-7 text-xs",children:[(0,Tt.jsx)(ma,{className:"w-3 h-3 mr-1"}),"Compare"]})]})]}),d&&(0,Tt.jsxs)("div",{className:"mb-4 p-3 bg-primary/10 rounded-lg",children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Select two nodes to compare:"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-2",children:p.map(e=>(0,Tt.jsxs)("button",{onClick:()=>{m.a===e.node_id?h((0,s.A)((0,s.A)({},m),{},{a:null})):m.b===e.node_id?h((0,s.A)((0,s.A)({},m),{},{b:null})):m.a?m.b||h((0,s.A)((0,s.A)({},m),{},{b:e.node_id})):h((0,s.A)((0,s.A)({},m),{},{a:e.node_id}))},className:"px-3 py-1 rounded-lg text-xs font-medium transition-colors ".concat(m.a===e.node_id?"bg-blue-500 text-white":m.b===e.node_id?"bg-purple-500 text-white":"glass hover:bg-secondary"),children:[e.node_name,m.a===e.node_id&&" (A)",m.b===e.node_id&&" (B)"]},e.node_id))})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:f.map(e=>(0,Tt.jsx)(KP,{node:e,snapshots:e.snapshots,onClick:()=>c(e),selected:(null===o||void 0===o?void 0:o.node_id)===e.node_id},e.node_id))}),0===f.length&&(0,Tt.jsxs)("div",{className:"text-center py-8",children:[(0,Tt.jsx)(ur.A,{className:"w-12 h-12 mx-auto mb-2 text-muted-foreground/50"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"No nodes match the current filter"})]})]}),d&&g&&(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(ma,{className:"w-4 h-4 text-primary"}),"Comparing: ",(0,Tt.jsx)("span",{className:"text-blue-400",children:g.nodeA.node_name})," vs ",(0,Tt.jsx)("span",{className:"text-purple-400",children:g.nodeB.node_name})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Health Index Trend"}),(0,Tt.jsx)("div",{className:"h-40",children:(0,Tt.jsx)(Ja,{width:"100%",height:"100%",children:(0,Tt.jsxs)(kC,{data:g.chartData,children:[(0,Tt.jsx)(mS,{strokeDasharray:"3 3",stroke:"#333"}),(0,Tt.jsx)(_S,{dataKey:"ts",tick:{fontSize:10},stroke:"#666"}),(0,Tt.jsx)(IS,{tick:{fontSize:10},stroke:"#666",domain:[0,100]}),(0,Tt.jsx)(sO,{contentStyle:{background:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"}}),(0,Tt.jsx)(eM,{wrapperStyle:{fontSize:"10px"}}),(0,Tt.jsx)(nP,{type:"monotone",dataKey:"healthA",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:g.nodeA.node_name}),(0,Tt.jsx)(nP,{type:"monotone",dataKey:"healthB",stroke:"#a855f7",strokeWidth:2,dot:!1,name:g.nodeB.node_name})]})})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Temperature Trend"}),(0,Tt.jsx)("div",{className:"h-40",children:(0,Tt.jsx)(Ja,{width:"100%",height:"100%",children:(0,Tt.jsxs)(kC,{data:g.chartData,children:[(0,Tt.jsx)(mS,{strokeDasharray:"3 3",stroke:"#333"}),(0,Tt.jsx)(_S,{dataKey:"ts",tick:{fontSize:10},stroke:"#666"}),(0,Tt.jsx)(IS,{tick:{fontSize:10},stroke:"#666"}),(0,Tt.jsx)(sO,{contentStyle:{background:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"}}),(0,Tt.jsx)(eM,{wrapperStyle:{fontSize:"10px"}}),(0,Tt.jsx)(nP,{type:"monotone",dataKey:"tempA",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"".concat(g.nodeA.node_name," \xb0C")}),(0,Tt.jsx)(nP,{type:"monotone",dataKey:"tempB",stroke:"#a855f7",strokeWidth:2,dot:!1,name:"".concat(g.nodeB.node_name," \xb0C")})]})})})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h4",{className:"text-sm font-semibold mb-2 text-blue-400",children:g.nodeA.node_name}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:[g.anomaliesA.length," anomalies detected"]}),g.anomaliesA.slice(0,3).map(e=>(0,Tt.jsx)("div",{className:"text-xs mt-1 p-1 bg-black/20 rounded",children:e.message},e.id))]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h4",{className:"text-sm font-semibold mb-2 text-purple-400",children:g.nodeB.node_name}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:[g.anomaliesB.length," anomalies detected"]}),g.anomaliesB.slice(0,3).map(e=>(0,Tt.jsx)("div",{className:"text-xs mt-1 p-1 bg-black/20 rounded",children:e.message},e.id))]})]})]})]})};function tT(e){let{isOpen:n,onClose:r}=e;const[a,i]=(0,t.useState)("this-device"),[l,o]=(0,t.useState)(!0),[c,d]=(0,t.useState)("60s"),[u,m]=(0,t.useState)("24h"),[h,p]=(0,t.useState)(mP),[f,x]=(0,t.useState)(pP),[g,v]=(0,t.useState)("medium"),[b,y]=(0,t.useState)(5),[j,w]=(0,t.useState)("12h"),[N]=(0,t.useState)(()=>NP(yP,jP,24,1)),[k]=(0,t.useState)(()=>{const e={};return wP.forEach(t=>{"talon-omega-04"===t.node_id?e[t.node_id]=NP("talon-omega-04","OMEGA-DELTA",24,1).map(e=>(0,s.A)((0,s.A)({},e),{},{metrics:(0,s.A)((0,s.A)({},e.metrics),{},{cpu:Math.min(95,e.metrics.cpu+25),disk:Math.min(92,e.metrics.disk+15)}),sensors:(0,s.A)((0,s.A)({},e.sensors),{},{temperature:Math.min(85,e.sensors.temperature+12)}),health:(0,s.A)((0,s.A)({},e.health),{},{status:Math.random()>.7?"degraded":e.health.status})})):e[t.node_id]=NP(t.node_id,t.node_name,24,1)}),e}),[A]=(0,t.useState)(()=>(()=>{const e=Date.now(),t=()=>Math.random()>.85;return{capturing:!0,interval:"60s",retention:"24h",missedSnapshots:{last1h:Math.random()>.9?Math.floor(5*Math.random()):0,last12h:Math.floor(8*Math.random())},avgLatency:Math.floor(45+30*Math.random()),endpoints:vP.map(n=>(0,s.A)((0,s.A)({},n),{},{status:t()?"stale":Math.random()>.95?"degraded":"ok",lastPoll:new Date(e-Math.floor(Math.random()*(t()?6e5:6e4))).toISOString(),latency:Math.floor(20+50*Math.random())}))}})()),_=(0,t.useMemo)(()=>IP(N),[N]),[C,S]=(0,t.useState)(()=>({resolved:{},mockTs:Date.now()})),E=(0,t.useMemo)(()=>{var e;const t=(e=>{if(!e||0===e.length)return[];const t=[];let n=null;const r=[...e].sort((e,t)=>new Date(e.ts)-new Date(t.ts));r.forEach((e,r)=>{const a=new Date(e.ts).getTime();if(n){const s=a-new Date(n.endTime||n.startTime).getTime(),i=AP(e)===n.subsystems[0];s<6e5&&i?(n.endTime=e.ts,n.anomalyIds.push(e.id),n.peakValues=SP(n.peakValues,e),"high"===e.severity&&(n.severity="critical")):(t.push(n),n=kP(e,r))}else n=kP(e,r)}),n&&t.push(n);const a=[{id:"INC-RESOLVED-001",title:"Backup Failure (Resolved)",startTime:new Date(Date.now()-648e5).toISOString(),endTime:new Date(Date.now()-63e6).toISOString(),severity:"warn",subsystems:["storage"],status:"resolved",anomalyIds:["backup-resolved-1"],peakValues:{backupFails:2},resolutionNotes:"Disk space cleared, backup completed successfully."},{id:"INC-RESOLVED-002",title:"GPS Accuracy Degraded (Resolved)",startTime:new Date(Date.now()-288e5).toISOString(),endTime:new Date(Date.now()-2808e4).toISOString(),severity:"info",subsystems:["gps"],status:"resolved",anomalyIds:["gps-resolved-1"],peakValues:{gpsAccuracy:35},resolutionNotes:"Moved to open area, GPS fix restored."}];return[...t.reverse(),...a]})(_),n=C.mockTs;return[...[{id:"INC-MOCK-001",title:"Temp Spike (8m)",startTime:new Date(n-72e5).toISOString(),endTime:new Date(n-648e4).toISOString(),severity:"warn",subsystems:["thermals"],status:"monitoring",anomalyIds:["temp-mock-1"],peakValues:{temp:72.5}},{id:"INC-MOCK-002",title:"Comms Degraded (12m)",startTime:new Date(n-144e5).toISOString(),endTime:new Date(n-1368e4).toISOString(),severity:"critical",subsystems:["comms"],status:"open",anomalyIds:["comms-mock-1"],peakValues:{signalStrength:-85}},{id:"INC-MOCK-003",title:"Backup Failed",startTime:new Date(n-216e5).toISOString(),endTime:new Date(n-2124e4).toISOString(),severity:"warn",subsystems:["storage"],status:C.resolved["INC-MOCK-003"]?"resolved":"monitoring",anomalyIds:["backup-mock-1"],peakValues:{backupFails:2},resolutionNotes:(null===(e=C.resolved["INC-MOCK-003"])||void 0===e?void 0:e.notes)||""},{id:"INC-MOCK-004",title:"CPU Spike (5m)",startTime:new Date(n-36e5).toISOString(),endTime:null,severity:"info",subsystems:["services"],status:"open",anomalyIds:["cpu-mock-1"],peakValues:{cpu:87.3}}],...t]},[_,f,C]),O=(0,t.useCallback)((e,t)=>{S(n=>(0,s.A)((0,s.A)({},n),{},{resolved:(0,s.A)((0,s.A)({},n.resolved),{},{[e]:{notes:t,resolvedAt:(new Date).toISOString()}})}))},[]),M=h.filter(e=>e.enabled).length,P=E.filter(e=>"open"===e.status).length;return n?(0,Tt.jsxs)("div",{className:"fixed inset-0 z-50 bg-background overflow-y-auto","data-testid":"logs-analytics",children:[(0,Tt.jsx)("div",{className:"sticky top-0 z-10 glass border-b border-border",children:(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-xl bg-primary/20",children:(0,Tt.jsx)(Rt,{className:"w-5 h-5 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h1",{className:"text-lg font-bold",children:"LOGS Analytics"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"System monitoring and fleet intelligence"})]})]}),(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:r,className:"gap-2","data-testid":"logs-close",children:[(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:"Back to Dashboard"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,Tt.jsx)(kr,{pageTitle:"LOGS Analytics",quickHelp:"Real-time system monitoring and fleet intelligence.",variant:"compact",legendItems:[..._r.statusDots,..._r.dataSourceBadges,{icon:ln.A,label:"This Device",description:"CPU, RAM, Disk, Temp charts for this node",color:"text-blue-400",bgColor:"bg-blue-500/20"},{icon:Gt.A,label:"Incidents",description:"Anomaly detection and incident tracking",color:"text-warning",bgColor:"bg-warning/20"},{icon:Lt.A,label:"All Nodes",description:"Fleet-wide comparison and outlier detection",color:"text-cyan-400",bgColor:"bg-cyan-500/20"}],troubleshootingItems:[{problem:"No snapshots showing",solution:'Check if capture is running (green "Live" indicator in header). Try toggling capture off/on.'},{problem:"Stale endpoint warning",solution:"Backend endpoint not responding. Check network and service status."},{problem:"Too many incidents",solution:'Adjust detection sensitivity in Settings. Try "Low" preset to reduce false positives.'},Cr.offlineMode],whatItDoes:"LOGS Analytics provides real-time observability for your OMEGA device and fleet. Monitor CPU, RAM, Disk, and Temperature metrics. The Incidents tab tracks anomalies like temperature spikes or comms degradation. All Nodes view compares multiple devices and detects outliers."}),(0,Tt.jsx)(Or,{panelId:"logs-analytics"})]}),(0,Tt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-3",children:[(0,Tt.jsxs)("div",{className:"flex gap-2 overflow-x-auto",children:[(0,Tt.jsx)("button",{onClick:()=>i("this-device"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ".concat("this-device"===a?"bg-primary text-white":"glass hover:bg-secondary"),"data-testid":"tab-this-device",children:"This Device"}),(0,Tt.jsxs)("button",{onClick:()=>i("incidents"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap flex items-center gap-1.5 ".concat("incidents"===a?"bg-primary text-white":"glass hover:bg-secondary"),"data-testid":"tab-incidents",children:["Incidents",P>0&&(0,Tt.jsx)("span",{className:"px-1.5 py-0.5 rounded-full text-[10px] font-bold ".concat("incidents"===a?"bg-white/20":"bg-destructive text-white"),children:P})]}),(0,Tt.jsxs)("button",{onClick:()=>i("all-nodes"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ".concat("all-nodes"===a?"bg-primary text-white":"glass hover:bg-secondary"),"data-testid":"tab-all-nodes",children:["All Nodes (",wP.length,")"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3 text-xs",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 glass px-2 py-1 rounded-lg",children:[(0,Tt.jsx)(ia,{className:"w-3.5 h-3.5 text-primary"}),(0,Tt.jsxs)("span",{children:[M,"/",h.length," logs active"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 glass px-2 py-1 rounded-lg",children:[(0,Tt.jsx)(pn.A,{className:"w-3.5 h-3.5 text-cyan-400"}),(0,Tt.jsxs)("span",{children:[N.length," snapshots"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-lg ".concat(l?"bg-success/20 text-success":"bg-secondary text-muted-foreground"),children:[l?(0,Tt.jsx)(gr.A,{className:"w-3.5 h-3.5"}):(0,Tt.jsx)(na,{className:"w-3.5 h-3.5"}),(0,Tt.jsx)("span",{children:l?"Live":"Paused"})]})]})]})]})}),(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-6",children:["this-device"===a&&(0,Tt.jsx)(XP,{snapshots:N,capturing:l,setCapturing:o,interval:c,setInterval:d,retention:u,setRetention:m,logCategories:h,setLogCategories:p,captureHealth:A,detectionRules:f,setDetectionRules:x,sensitivity:g,setSensitivity:v,smoothingWindow:b,setSmoothingWindow:y,baselineWindow:j,setBaselineWindow:w}),"incidents"===a&&(0,Tt.jsx)(qP,{incidents:E,snapshots:N,rules:f,onResolveIncident:O}),"all-nodes"===a&&(0,Tt.jsx)(eT,{nodesData:k})]})]}):null}const nT=(0,It.A)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),rT=(0,It.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),aT=(0,It.A)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),sT=(0,It.A)("user-check",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),iT=(0,It.A)("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),lT=(0,It.A)("utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]),oT=(0,It.A)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),cT=(0,It.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),dT=(0,It.A)("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),uT=(0,It.A)("flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);var mT=__webpack_require__(6805);const hT=(0,It.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),pT=(0,It.A)("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),fT=(0,It.A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),xT=(0,It.A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),gT=(0,It.A)("chart-no-axes-column",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),vT=(0,It.A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),bT=(0,It.A)("settings-2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),yT=(0,It.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),jT=(0,It.A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),wT=(0,It.A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),NT=(0,It.A)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),kT=(0,It.A)("list-checks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);"undefined"===typeof window||!window.document||window.document.createElement;function AT(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}var _T=__webpack_require__(1167);const CT=["children"],ST=["scope","children"];function ET(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const i=()=>{const n=r.map(e=>t.createContext(e));return function(r){const a=(null===r||void 0===r?void 0:r[e])||n;return t.useMemo(()=>({["__scope".concat(e)]:(0,s.A)((0,s.A)({},r),{},{[e]:a})}),[r,a])}};return i.scopeName=e,[function(n,s){const i=t.createContext(s),l=r.length;r=[...r,s];const o=n=>{var r;const{scope:s,children:o}=n,c=(0,a.A)(n,ST),d=(null===s||void 0===s||null===(r=s[e])||void 0===r?void 0:r[l])||i,u=t.useMemo(()=>c,Object.values(c));return(0,Tt.jsx)(d.Provider,{value:u,children:o})};return o.displayName=n+"Provider",[o,function(r,a){var o;const c=(null===a||void 0===a||null===(o=a[e])||void 0===o?void 0:o[l])||i,d=t.useContext(c);if(d)return d;if(void 0!==s)return s;throw new Error("`".concat(r,"` must be used within `").concat(n,"`"))}]},OT(i,...n)]}function OT(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const a=n[0];if(1===n.length)return a;const i=()=>{const e=n.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(n){const r=e.reduce((e,t)=>{let{useScope:r,scopeName:a}=t;const i=r(n)["__scope".concat(a)];return(0,s.A)((0,s.A)({},e),i)},{});return t.useMemo(()=>({["__scope".concat(a.scopeName)]:r}),[r])}};return i.scopeName=a.scopeName,i}var MT=null!==globalThis&&void 0!==globalThis&&globalThis.document?t.useLayoutEffect:()=>{},PT=n[" useId ".trim().toString()]||(()=>{}),TT=0;function DT(e){const[n,r]=t.useState(PT());return MT(()=>{e||r(e=>null!==e&&void 0!==e?e:String(TT++))},[e]),e||(n?"radix-".concat(n):"")}var IT=n[" useInsertionEffect ".trim().toString()]||MT;function RT(e){let{prop:n,defaultProp:r,onChange:a=()=>{},caller:s}=e;const[i,l,o]=function(e){let{defaultProp:n,onChange:r}=e;const[a,s]=t.useState(n),i=t.useRef(a),l=t.useRef(r);return IT(()=>{l.current=r},[r]),t.useEffect(()=>{var e;i.current!==a&&(null===(e=l.current)||void 0===e||e.call(l,a),i.current=a)},[a,i]),[a,s,l]}({defaultProp:r,onChange:a}),c=void 0!==n,d=c?n:i;{const e=t.useRef(void 0!==n);t.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",n=c?"controlled":"uncontrolled";console.warn("".concat(s," is changing from ").concat(e," to ").concat(n,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,s])}const u=t.useCallback(e=>{if(c){const r=function(e){return"function"===typeof e}(e)?e(n):e;var t;if(r!==n)null===(t=o.current)||void 0===t||t.call(o,r)}else l(e)},[c,n,l,o]);return[d,u]}Symbol("RADIX:SYNC_STATE");const LT=["children"],zT=["children"];function FT(e){const n=BT(e),r=t.forwardRef((e,r)=>{const{children:i}=e,l=(0,a.A)(e,LT),o=t.Children.toArray(i),c=o.find(WT);if(c){const e=c.props.children,a=o.map(n=>n===c?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:n);return(0,Tt.jsx)(n,(0,s.A)((0,s.A)({},l),{},{ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,Tt.jsx)(n,(0,s.A)((0,s.A)({},l),{},{ref:r,children:i}))});return r.displayName="".concat(e,".Slot"),r}function BT(e){const n=t.forwardRef((e,n)=>{const{children:r}=e,i=(0,a.A)(e,zT);if(t.isValidElement(r)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),a=function(e,t){const n=(0,s.A)({},t);for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=function(){const e=i(...arguments);return a(...arguments),e}:a&&(n[r]=a):"style"===r?n[r]=(0,s.A)((0,s.A)({},a),i):"className"===r&&(n[r]=[a,i].filter(Boolean).join(" "))}return(0,s.A)((0,s.A)({},e),n)}(i,r.props);return r.type!==t.Fragment&&(a.ref=n?(0,_T.t)(n,e):e),t.cloneElement(r,a)}return t.Children.count(r)>1?t.Children.only(null):null});return n.displayName="".concat(e,".SlotClone"),n}var UT=Symbol("radix.slottable");function WT(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===UT}const HT=["asChild"];var qT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{const r=FT("Primitive.".concat(n)),i=t.forwardRef((e,t)=>{const{asChild:i}=e,l=(0,a.A)(e,HT),o=i?r:n;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Tt.jsx)(o,(0,s.A)((0,s.A)({},l),{},{ref:t}))});return i.displayName="Primitive.".concat(n),(0,s.A)((0,s.A)({},e),{},{[n]:i})},{});function KT(e){const n=t.useRef(e);return t.useEffect(()=>{n.current=e}),t.useMemo(()=>function(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return null===(e=n.current)||void 0===e?void 0:e.call(n,...r)},[])}const VT=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var GT,$T="dismissableLayer.update",YT="dismissableLayer.pointerDownOutside",ZT="dismissableLayer.focusOutside",QT=t.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),JT=t.forwardRef((e,n)=>{var r;const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:d,onDismiss:u}=e,m=(0,a.A)(e,VT),h=t.useContext(QT),[p,f]=t.useState(null),x=null!==(r=null===p||void 0===p?void 0:p.ownerDocument)&&void 0!==r?r:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,g]=t.useState({}),v=(0,_T.s)(n,e=>f(e)),b=Array.from(h.layers),[y]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(y),w=p?b.indexOf(p):-1,N=h.layersWithOutsidePointerEventsDisabled.size>0,k=w>=j,A=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=KT(e),a=t.useRef(!1),s=t.useRef(()=>{});return t.useEffect(()=>{const e=e=>{if(e.target&&!a.current){let t=function(){tD(YT,r,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",s.current),s.current=t,n.addEventListener("click",s.current,{once:!0})):t()}else n.removeEventListener("click",s.current);a.current=!1},t=window.setTimeout(()=>{n.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",s.current)}},[n,r]),{onPointerDownCapture:()=>a.current=!0}}(e=>{const t=e.target,n=[...h.branches].some(e=>e.contains(t));k&&!n&&(null===o||void 0===o||o(e),null===d||void 0===d||d(e),e.defaultPrevented||null===u||void 0===u||u())},x),_=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=KT(e),a=t.useRef(!1);return t.useEffect(()=>{const e=e=>{if(e.target&&!a.current){tD(ZT,r,{originalEvent:e},{discrete:!1})}};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)},[n,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{const t=e.target;[...h.branches].some(e=>e.contains(t))||(null===c||void 0===c||c(e),null===d||void 0===d||d(e),e.defaultPrevented||null===u||void 0===u||u())},x);return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=KT(e);t.useEffect(()=>{const e=e=>{"Escape"===e.key&&r(e)};return n.addEventListener("keydown",e,{capture:!0}),()=>n.removeEventListener("keydown",e,{capture:!0})},[r,n])}(e=>{w===h.layers.size-1&&(null===l||void 0===l||l(e),!e.defaultPrevented&&u&&(e.preventDefault(),u()))},x),t.useEffect(()=>{if(p)return i&&(0===h.layersWithOutsidePointerEventsDisabled.size&&(GT=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),eD(),()=>{i&&1===h.layersWithOutsidePointerEventsDisabled.size&&(x.body.style.pointerEvents=GT)}},[p,x,i,h]),t.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),eD())},[p,h]),t.useEffect(()=>{const e=()=>g({});return document.addEventListener($T,e),()=>document.removeEventListener($T,e)},[]),(0,Tt.jsx)(qT.div,(0,s.A)((0,s.A)({},m),{},{ref:v,style:(0,s.A)({pointerEvents:N?k?"auto":"none":void 0},e.style),onFocusCapture:AT(e.onFocusCapture,_.onFocusCapture),onBlurCapture:AT(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:AT(e.onPointerDownCapture,A.onPointerDownCapture)}))});JT.displayName="DismissableLayer";var XT=t.forwardRef((e,n)=>{const r=t.useContext(QT),a=t.useRef(null),i=(0,_T.s)(n,a);return t.useEffect(()=>{const e=a.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,Tt.jsx)(qT.div,(0,s.A)((0,s.A)({},e),{},{ref:i}))});function eD(){const e=new CustomEvent($T);document.dispatchEvent(e)}function tD(e,t,n,r){let{discrete:a}=r;const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?function(e,t){e&&jr.flushSync(()=>e.dispatchEvent(t))}(s,i):s.dispatchEvent(i)}XT.displayName="DismissableLayerBranch";const nD=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var rD="focusScope.autoFocusOnMount",aD="focusScope.autoFocusOnUnmount",sD={bubbles:!1,cancelable:!0},iD=t.forwardRef((e,n)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:l,onUnmountAutoFocus:o}=e,c=(0,a.A)(e,nD),[d,u]=t.useState(null),m=KT(l),h=KT(o),p=t.useRef(null),f=(0,_T.s)(n,e=>u(e)),x=t.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;t.useEffect(()=>{if(i){let e=function(e){if(x.paused||!d)return;const t=e.target;d.contains(t)?p.current=t:dD(p.current,{select:!0})},t=function(e){if(x.paused||!d)return;const t=e.relatedTarget;null!==t&&(d.contains(t)||dD(p.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&dD(d)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return d&&r.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[i,d,x.paused]),t.useEffect(()=>{if(d){uD.add(x);const t=document.activeElement;if(!d.contains(t)){const n=new CustomEvent(rD,sD);d.addEventListener(rD,m),d.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(dD(r,{select:t}),document.activeElement!==n)return}((e=lD(d),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&dD(d))}return()=>{d.removeEventListener(rD,m),setTimeout(()=>{const e=new CustomEvent(aD,sD);d.addEventListener(aD,h),d.dispatchEvent(e),e.defaultPrevented||dD(null!==t&&void 0!==t?t:document.body,{select:!0}),d.removeEventListener(aD,h),uD.remove(x)},0)}}var e},[d,m,h,x]);const g=t.useCallback(e=>{if(!r&&!i)return;if(x.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[a,s]=function(e){const t=lD(e),n=oD(t,e),r=oD(t.reverse(),e);return[n,r]}(t);a&&s?e.shiftKey||n!==s?e.shiftKey&&n===a&&(e.preventDefault(),r&&dD(s,{select:!0})):(e.preventDefault(),r&&dD(a,{select:!0})):n===t&&e.preventDefault()}},[r,i,x.paused]);return(0,Tt.jsx)(qT.div,(0,s.A)((0,s.A)({tabIndex:-1},c),{},{ref:f,onKeyDown:g}))});function lD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function oD(e,t){for(const n of e)if(!cD(n,{upTo:t}))return n}function cD(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function dD(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}iD.displayName="FocusScope";var uD=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null===n||void 0===n||n.pause()),e=mD(e,t),e.unshift(t)},remove(t){var n;e=mD(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function mD(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const hD=["container"];var pD=t.forwardRef((e,n)=>{var r;const{container:i}=e,l=(0,a.A)(e,hD),[o,c]=t.useState(!1);MT(()=>c(!0),[]);const d=i||o&&(null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body);return d?jr.createPortal((0,Tt.jsx)(qT.div,(0,s.A)((0,s.A)({},l),{},{ref:n})),d):null});pD.displayName="Portal";var fD=e=>{const{present:n,children:r}=e,a=function(e){const[n,r]=t.useState(),a=t.useRef(null),s=t.useRef(e),i=t.useRef("none"),l=e?"mounted":"unmounted",[o,c]=function(e,n){return t.useReducer((e,t)=>{const r=n[e][t];return null!==r&&void 0!==r?r:e},e)}(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return t.useEffect(()=>{const e=xD(a.current);i.current="mounted"===o?e:"none"},[o]),MT(()=>{const t=a.current,n=s.current;if(n!==e){const r=i.current,a=xD(t);if(e)c("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}s.current=e}},[e,c]),MT(()=>{if(n){var e;let t;const r=null!==(e=n.ownerDocument.defaultView)&&void 0!==e?e:window,l=e=>{const i=xD(a.current).includes(CSS.escape(e.animationName));if(e.target===n&&i&&(c("ANIMATION_END"),!s.current)){const e=n.style.animationFillMode;n.style.animationFillMode="forwards",t=r.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=e)})}},o=e=>{e.target===n&&(i.current=xD(a.current))};return n.addEventListener("animationstart",o),n.addEventListener("animationcancel",l),n.addEventListener("animationend",l),()=>{r.clearTimeout(t),n.removeEventListener("animationstart",o),n.removeEventListener("animationcancel",l),n.removeEventListener("animationend",l)}}c("ANIMATION_END")},[n,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:t.useCallback(e=>{a.current=e?getComputedStyle(e):null,r(e)},[])}}(n),s="function"===typeof r?r({present:a.isPresent}):t.Children.only(r),i=(0,_T.s)(a.ref,function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(s));return"function"===typeof r||a.isPresent?t.cloneElement(s,{ref:i}):null};function xD(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}fD.displayName="Presence";var gD=0;function vD(){t.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:bD()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:bD()),gD++,()=>{1===gD&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gD--}},[])}function bD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yD=function(){return yD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},yD.apply(this,arguments)};function jD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;function wD(e,t,n){if(n||2===arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var ND="right-scroll-bar-position",kD="width-before-scroll-bar";function AD(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var _D="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,CD=new WeakMap;function SD(e,n){var r=function(e,n){var r=(0,t.useState)(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}})[0];return r.callback=n,r.facade}(n||null,function(t){return e.forEach(function(e){return AD(e,t)})});return _D(function(){var t=CD.get(r);if(t){var n=new Set(t),a=new Set(e),s=r.current;n.forEach(function(e){a.has(e)||AD(e,null)}),a.forEach(function(e){n.has(e)||AD(e,s)})}CD.set(r,e)},[e]),r}function ED(e){return e}function OD(e,t){void 0===t&&(t=ED);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var a=t(e,r);return n.push(a),function(){n=n.filter(function(e){return e!==a})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var a=n;n=[],a.forEach(e),t=n}var s=function(){var n=t;t=[],n.forEach(e)},i=function(){return Promise.resolve().then(s)};i(),n={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),n}}}};return a}var MD=function(e){void 0===e&&(e={});var t=OD(null);return t.options=yD({async:!0,ssr:!1},e),t}(),PD=function(){},TD=t.forwardRef(function(e,n){var r=t.useRef(null),a=t.useState({onScrollCapture:PD,onWheelCapture:PD,onTouchMoveCapture:PD}),s=a[0],i=a[1],l=e.forwardProps,o=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,p=e.noRelative,f=e.noIsolation,x=e.inert,g=e.allowPinchZoom,v=e.as,b=void 0===v?"div":v,y=e.gapMode,j=jD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,N=SD([r,n]),k=yD(yD({},j),s);return t.createElement(t.Fragment,null,u&&t.createElement(w,{sideCar:MD,removeScrollBar:d,shards:m,noRelative:p,noIsolation:f,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:y}),l?t.cloneElement(t.Children.only(o),yD(yD({},k),{ref:N})):t.createElement(b,yD({},k,{className:c,ref:N}),o))});TD.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},TD.classNames={fullWidth:kD,zeroRight:ND};var DD,ID=function(e){var n=e.sideCar,r=jD(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=n.read();if(!a)throw new Error("Sidecar medium not found");return t.createElement(a,yD({},r))};ID.isSideCarExport=!0;function RD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=DD||__webpack_require__.nc;return t&&e.setAttribute("nonce",t),e}var LD=function(){var e=0,t=null;return{add:function(n){var r,a;0==e&&(t=RD())&&(a=n,(r=t).styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},zD=function(){var e=function(){var e=LD();return function(n,r){t.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},FD={left:0,top:0,right:0,gap:0},BD=function(e){return parseInt(e||"",10)||0},UD=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return FD;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[BD(n),BD(r),BD(a)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},WD=zD(),HD="data-scroll-locked",qD=function(e,t,n,r){var a=e.left,s=e.top,i=e.right,l=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(l,"px ").concat(r,";\n  }\n  body[").concat(HD,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ND," {\n    right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(kD," {\n    margin-right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(ND," .").concat(ND," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(kD," .").concat(kD," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(HD,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},KD=function(){var e=parseInt(document.body.getAttribute(HD)||"0",10);return isFinite(e)?e:0},VD=function(e){var n=e.noRelative,r=e.noImportant,a=e.gapMode,s=void 0===a?"margin":a;t.useEffect(function(){return document.body.setAttribute(HD,(KD()+1).toString()),function(){var e=KD()-1;e<=0?document.body.removeAttribute(HD):document.body.setAttribute(HD,e.toString())}},[]);var i=t.useMemo(function(){return UD(s)},[s]);return t.createElement(WD,{styles:qD(i,!n,s,r?"":"!important")})},GD=!1;if("undefined"!==typeof window)try{var $D=Object.defineProperty({},"passive",{get:function(){return GD=!0,!0}});window.addEventListener("test",$D,$D),window.removeEventListener("test",$D,$D)}catch(kq){GD=!1}var YD=!!GD&&{passive:!1},ZD=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},QD=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),JD(e,r)){var a=XD(e,r);if(a[1]>a[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},JD=function(e,t){return"v"===e?function(e){return ZD(e,"overflowY")}(t):function(e){return ZD(e,"overflowX")}(t)},XD=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},eI=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tI=function(e){return[e.deltaX,e.deltaY]},nI=function(e){return e&&"current"in e?e.current:e},rI=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},aI=0,sI=[];function iI(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lI=(oI=function(e){var n=t.useRef([]),r=t.useRef([0,0]),a=t.useRef(),s=t.useState(aI++)[0],i=t.useState(zD)[0],l=t.useRef(e);t.useEffect(function(){l.current=e},[e]),t.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=wD([e.lockRef.current],(e.shards||[]).map(nI),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=t.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!l.current.allowPinchZoom;var n,s=eI(e),i=r.current,o="deltaX"in e?e.deltaX:i[0]-s[0],c="deltaY"in e?e.deltaY:i[1]-s[1],d=e.target,u=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=window.getSelection(),h=m&&m.anchorNode;if(h&&(h===d||h.contains(d)))return!1;var p=QD(u,d);if(!p)return!0;if(p?n=u:(n="v"===u?"h":"v",p=QD(u,d)),!p)return!1;if(!a.current&&"changedTouches"in e&&(o||c)&&(a.current=n),!n)return!0;var f=a.current||n;return function(e,t,n,r,a){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),i=s*r,l=n.target,o=t.contains(l),c=!1,d=i>0,u=0,m=0;do{if(!l)break;var h=XD(e,l),p=h[0],f=h[1]-h[2]-s*p;(p||f)&&JD(e,l)&&(u+=f,m+=p);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!o&&l!==document.body||o&&(t.contains(l)||t===l));return(d&&(a&&Math.abs(u)<1||!a&&i>u)||!d&&(a&&Math.abs(m)<1||!a&&-i>m))&&(c=!0),c}(f,t,e,"h"===f?o:c,!0)},[]),c=t.useCallback(function(e){var t=e;if(sI.length&&sI[sI.length-1]===i){var r="deltaY"in t?tI(t):eI(t),a=n.current.filter(function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)})[0];if(a&&a.should)t.cancelable&&t.preventDefault();else if(!a){var s=(l.current.shards||[]).map(nI).filter(Boolean).filter(function(e){return e.contains(t.target)});(s.length>0?o(t,s[0]):!l.current.noIsolation)&&t.cancelable&&t.preventDefault()}}},[]),d=t.useCallback(function(e,t,r,a){var s={name:e,delta:t,target:r,should:a,shadowParent:iI(r)};n.current.push(s),setTimeout(function(){n.current=n.current.filter(function(e){return e!==s})},1)},[]),u=t.useCallback(function(e){r.current=eI(e),a.current=void 0},[]),m=t.useCallback(function(t){d(t.type,tI(t),t.target,o(t,e.lockRef.current))},[]),h=t.useCallback(function(t){d(t.type,eI(t),t.target,o(t,e.lockRef.current))},[]);t.useEffect(function(){return sI.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,YD),document.addEventListener("touchmove",c,YD),document.addEventListener("touchstart",u,YD),function(){sI=sI.filter(function(e){return e!==i}),document.removeEventListener("wheel",c,YD),document.removeEventListener("touchmove",c,YD),document.removeEventListener("touchstart",u,YD)}},[]);var p=e.removeScrollBar,f=e.inert;return t.createElement(t.Fragment,null,f?t.createElement(i,{styles:rI(s)}):null,p?t.createElement(VD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},MD.useMedium(oI),ID);var oI,cI=t.forwardRef(function(e,n){return t.createElement(TD,yD({},e,{ref:n,sideCar:lI}))});cI.classNames=TD.classNames;const dI=cI;var uI=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},mI=new WeakMap,hI=new WeakMap,pI={},fI=0,xI=function(e){return e&&(e.host||xI(e.parentNode))},gI=function(e,t,n,r){var a=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=xI(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);pI[n]||(pI[n]=new WeakMap);var s=pI[n],i=[],l=new Set,o=new Set(a),c=function(e){e&&!l.has(e)&&(l.add(e),c(e.parentNode))};a.forEach(c);var d=function(e){e&&!o.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(l.has(e))d(e);else try{var t=e.getAttribute(r),a=null!==t&&"false"!==t,o=(mI.get(e)||0)+1,c=(s.get(e)||0)+1;mI.set(e,o),s.set(e,c),i.push(e),1===o&&a&&hI.set(e,!0),1===c&&e.setAttribute(n,"true"),a||e.setAttribute(r,"true")}catch(Nq){console.error("aria-hidden: cannot operate on ",e,Nq)}})};return d(t),l.clear(),fI++,function(){i.forEach(function(e){var t=mI.get(e)-1,a=s.get(e)-1;mI.set(e,t),s.set(e,a),t||(hI.has(e)||e.removeAttribute(r),hI.delete(e)),a||e.removeAttribute(n)}),--fI||(mI=new WeakMap,mI=new WeakMap,hI=new WeakMap,pI={})}},vI=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=t||uI(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),gI(r,a,n,"aria-hidden")):function(){return null}};const bI=["children"],yI=["children"];function jI(e){const n=wI(e),r=t.forwardRef((e,r)=>{const{children:i}=e,l=(0,a.A)(e,bI),o=t.Children.toArray(i),c=o.find(kI);if(c){const e=c.props.children,a=o.map(n=>n===c?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:n);return(0,Tt.jsx)(n,(0,s.A)((0,s.A)({},l),{},{ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,Tt.jsx)(n,(0,s.A)((0,s.A)({},l),{},{ref:r,children:i}))});return r.displayName="".concat(e,".Slot"),r}function wI(e){const n=t.forwardRef((e,n)=>{const{children:r}=e,i=(0,a.A)(e,yI);if(t.isValidElement(r)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),a=function(e,t){const n=(0,s.A)({},t);for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=function(){const e=i(...arguments);return a(...arguments),e}:a&&(n[r]=a):"style"===r?n[r]=(0,s.A)((0,s.A)({},a),i):"className"===r&&(n[r]=[a,i].filter(Boolean).join(" "))}return(0,s.A)((0,s.A)({},e),n)}(i,r.props);return r.type!==t.Fragment&&(a.ref=n?(0,_T.t)(n,e):e),t.cloneElement(r,a)}return t.Children.count(r)>1?t.Children.only(null):null});return n.displayName="".concat(e,".SlotClone"),n}var NI=Symbol("radix.slottable");function kI(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===NI}const AI=["__scopeDialog"],_I=["forceMount"],CI=["__scopeDialog"],SI=["forceMount"],EI=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],OI=["__scopeDialog"],MI=["__scopeDialog"],PI=["__scopeDialog"];var TI="Dialog",[DI,II]=ET(TI),[RI,LI]=DI(TI),zI=e=>{const{__scopeDialog:n,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,o=t.useRef(null),c=t.useRef(null),[d,u]=RT({prop:a,defaultProp:null!==s&&void 0!==s&&s,onChange:i,caller:TI});return(0,Tt.jsx)(RI,{scope:n,triggerRef:o,contentRef:c,contentId:DT(),titleId:DT(),descriptionId:DT(),open:d,onOpenChange:u,onOpenToggle:t.useCallback(()=>u(e=>!e),[u]),modal:l,children:r})};zI.displayName=TI;var FI="DialogTrigger",BI=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=(0,a.A)(e,AI),i=LI(FI,n),l=(0,_T.s)(t,i.triggerRef);return(0,Tt.jsx)(qT.button,(0,s.A)((0,s.A)({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":iR(i.open)},r),{},{ref:l,onClick:AT(e.onClick,i.onOpenToggle)}))});BI.displayName=FI;var UI="DialogPortal",[WI,HI]=DI(UI,{forceMount:void 0}),qI=e=>{const{__scopeDialog:n,forceMount:r,children:a,container:s}=e,i=LI(UI,n);return(0,Tt.jsx)(WI,{scope:n,forceMount:r,children:t.Children.map(a,e=>(0,Tt.jsx)(fD,{present:r||i.open,children:(0,Tt.jsx)(pD,{asChild:!0,container:s,children:e})}))})};qI.displayName=UI;var KI="DialogOverlay",VI=t.forwardRef((e,t)=>{const n=HI(KI,e.__scopeDialog),{forceMount:r=n.forceMount}=e,i=(0,a.A)(e,_I),l=LI(KI,e.__scopeDialog);return l.modal?(0,Tt.jsx)(fD,{present:r||l.open,children:(0,Tt.jsx)($I,(0,s.A)((0,s.A)({},i),{},{ref:t}))}):null});VI.displayName=KI;var GI=jI("DialogOverlay.RemoveScroll"),$I=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=(0,a.A)(e,CI),i=LI(KI,n);return(0,Tt.jsx)(dI,{as:GI,allowPinchZoom:!0,shards:[i.contentRef],children:(0,Tt.jsx)(qT.div,(0,s.A)((0,s.A)({"data-state":iR(i.open)},r),{},{ref:t,style:(0,s.A)({pointerEvents:"auto"},r.style)}))})}),YI="DialogContent",ZI=t.forwardRef((e,t)=>{const n=HI(YI,e.__scopeDialog),{forceMount:r=n.forceMount}=e,i=(0,a.A)(e,SI),l=LI(YI,e.__scopeDialog);return(0,Tt.jsx)(fD,{present:r||l.open,children:l.modal?(0,Tt.jsx)(QI,(0,s.A)((0,s.A)({},i),{},{ref:t})):(0,Tt.jsx)(JI,(0,s.A)((0,s.A)({},i),{},{ref:t}))})});ZI.displayName=YI;var QI=t.forwardRef((e,n)=>{const r=LI(YI,e.__scopeDialog),a=t.useRef(null),i=(0,_T.s)(n,r.contentRef,a);return t.useEffect(()=>{const e=a.current;if(e)return vI(e)},[]),(0,Tt.jsx)(XI,(0,s.A)((0,s.A)({},e),{},{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:AT(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:AT(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:AT(e.onFocusOutside,e=>e.preventDefault())}))}),JI=t.forwardRef((e,n)=>{const r=LI(YI,e.__scopeDialog),a=t.useRef(!1),i=t.useRef(!1);return(0,Tt.jsx)(XI,(0,s.A)((0,s.A)({},e),{},{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,s;(null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented)||(a.current||null===(s=r.triggerRef.current)||void 0===s||s.focus(),t.preventDefault());a.current=!1,i.current=!1},onInteractOutside:t=>{var n,s;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const l=t.target;(null===(s=r.triggerRef.current)||void 0===s?void 0:s.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),XI=t.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:o}=e,c=(0,a.A)(e,EI),d=LI(YI,r),u=t.useRef(null),m=(0,_T.s)(n,u);return vD(),(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(iD,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:l,onUnmountAutoFocus:o,children:(0,Tt.jsx)(JT,(0,s.A)((0,s.A)({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":iR(d.open)},c),{},{ref:m,onDismiss:()=>d.onOpenChange(!1)}))}),(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(dR,{titleId:d.titleId}),(0,Tt.jsx)(uR,{contentRef:u,descriptionId:d.descriptionId})]})]})}),eR="DialogTitle",tR=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=(0,a.A)(e,OI),i=LI(eR,n);return(0,Tt.jsx)(qT.h2,(0,s.A)((0,s.A)({id:i.titleId},r),{},{ref:t}))});tR.displayName=eR;var nR="DialogDescription",rR=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=(0,a.A)(e,MI),i=LI(nR,n);return(0,Tt.jsx)(qT.p,(0,s.A)((0,s.A)({id:i.descriptionId},r),{},{ref:t}))});rR.displayName=nR;var aR="DialogClose",sR=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=(0,a.A)(e,PI),i=LI(aR,n);return(0,Tt.jsx)(qT.button,(0,s.A)((0,s.A)({type:"button"},r),{},{ref:t,onClick:AT(e.onClick,()=>i.onOpenChange(!1))}))});function iR(e){return e?"open":"closed"}sR.displayName=aR;var lR="DialogTitleWarning",[oR,cR]=function(e,n){const r=t.createContext(n),s=e=>{const{children:n}=e,s=(0,a.A)(e,CT),i=t.useMemo(()=>s,Object.values(s));return(0,Tt.jsx)(r.Provider,{value:i,children:n})};return s.displayName=e+"Provider",[s,function(a){const s=t.useContext(r);if(s)return s;if(void 0!==n)return n;throw new Error("`".concat(a,"` must be used within `").concat(e,"`"))}]}(lR,{contentName:YI,titleName:eR,docsSlug:"dialog"}),dR=e=>{let{titleId:n}=e;const r=cR(lR),a="`".concat(r.contentName,"` requires a `").concat(r.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(r.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(r.docsSlug);return t.useEffect(()=>{if(n){document.getElementById(n)||console.error(a)}},[a,n]),null},uR=e=>{let{contentRef:n,descriptionId:r}=e;const a=cR("DialogDescriptionWarning"),s="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(a.contentName,"}.");return t.useEffect(()=>{var e;const t=null===(e=n.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(r&&t){document.getElementById(r)||console.warn(s)}},[s,n,r]),null},mR=zI,hR=qI,pR=VI,fR=ZI,xR=tR,gR=rR,vR=sR,bR=__webpack_require__(4364);const yR=["className"],jR=["side","className","children"],wR=["className"],NR=["className"],kR=["className"],AR=mR,_R=hR,CR=t.forwardRef((e,t)=>{let{className:n}=e,r=(0,a.A)(e,yR);return(0,Tt.jsx)(pR,(0,s.A)((0,s.A)({className:(0,vn.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n)},r),{},{ref:t}))});CR.displayName=pR.displayName;const SR=(0,bR.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ER=t.forwardRef((e,t)=>{let{side:n="right",className:r,children:i}=e,l=(0,a.A)(e,jR);return(0,Tt.jsxs)(_R,{children:[(0,Tt.jsx)(CR,{}),(0,Tt.jsxs)(fR,(0,s.A)((0,s.A)({ref:t,className:(0,vn.cn)(SR({side:n}),r)},l),{},{children:[(0,Tt.jsxs)(vR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,Tt.jsx)(Bt.A,{className:"h-4 w-4"}),(0,Tt.jsx)("span",{className:"sr-only",children:"Close"})]}),i]}))]})});ER.displayName=fR.displayName;const OR=e=>{let{className:t}=e,n=(0,a.A)(e,wR);return(0,Tt.jsx)("div",(0,s.A)({className:(0,vn.cn)("flex flex-col space-y-2 text-center sm:text-left",t)},n))};OR.displayName="SheetHeader";const MR=t.forwardRef((e,t)=>{let{className:n}=e,r=(0,a.A)(e,NR);return(0,Tt.jsx)(xR,(0,s.A)({ref:t,className:(0,vn.cn)("text-lg font-semibold text-foreground",n)},r))});MR.displayName=xR.displayName;const PR=t.forwardRef((e,t)=>{let{className:n}=e,r=(0,a.A)(e,kR);return(0,Tt.jsx)(gR,(0,s.A)({ref:t,className:(0,vn.cn)("text-sm text-muted-foreground",n)},r))});PR.displayName=gR.displayName;const TR={Medical:{label:"Medical",icon:"Stethoscope",color:"text-rose-400",bg:"bg-rose-500/20"},Comms:{label:"Communications",icon:"Radio",color:"text-cyan-400",bg:"bg-cyan-500/20"},Security:{label:"Security",icon:"Shield",color:"text-amber-400",bg:"bg-amber-500/20"},FoodWater:{label:"Food & Water",icon:"Utensils",color:"text-emerald-400",bg:"bg-emerald-500/20"},Engineering:{label:"Engineering",icon:"Wrench",color:"text-orange-400",bg:"bg-orange-500/20"},Logistics:{label:"Logistics",icon:"Compass",color:"text-violet-400",bg:"bg-violet-500/20"}},DR={"Medical.FirstAid":{label:"First Aid",domain:"Medical",critical:!0},"Medical.CPR":{label:"CPR",domain:"Medical",critical:!0},"Medical.Trauma":{label:"Trauma Care",domain:"Medical",critical:!0},"Medical.Nursing":{label:"Nursing",domain:"Medical",critical:!1},"Medical.EMT":{label:"EMT",domain:"Medical",critical:!0},"Medical.Surgery":{label:"Surgery",domain:"Medical",critical:!1},"Comms.HAM":{label:"HAM Radio",domain:"Comms",critical:!0},"Comms.MorseCode":{label:"Morse Code",domain:"Comms",critical:!1},"Comms.SignalProcessing":{label:"Signal Processing",domain:"Comms",critical:!1},"Comms.Networking":{label:"Networking",domain:"Comms",critical:!0},"Security.Firearms":{label:"Firearms",domain:"Security",critical:!1},"Security.SelfDefense":{label:"Self Defense",domain:"Security",critical:!1},"Security.Perimeter":{label:"Perimeter Defense",domain:"Security",critical:!0},"Security.Surveillance":{label:"Surveillance",domain:"Security",critical:!1},"FoodWater.WaterPurification":{label:"Water Purification",domain:"FoodWater",critical:!0},"FoodWater.FoodPreservation":{label:"Food Preservation",domain:"FoodWater",critical:!0},"FoodWater.Farming":{label:"Farming",domain:"FoodWater",critical:!1},"FoodWater.Gardening":{label:"Gardening",domain:"FoodWater",critical:!1},"FoodWater.Hunting":{label:"Hunting",domain:"FoodWater",critical:!1},"FoodWater.Foraging":{label:"Foraging",domain:"FoodWater",critical:!1},"Engineering.Electrical":{label:"Electrical",domain:"Engineering",critical:!0},"Engineering.Plumbing":{label:"Plumbing",domain:"Engineering",critical:!0},"Engineering.Carpentry":{label:"Carpentry",domain:"Engineering",critical:!1},"Engineering.Welding":{label:"Welding",domain:"Engineering",critical:!1},"Engineering.SolarSystems":{label:"Solar Systems",domain:"Engineering",critical:!0},"Engineering.Electronics":{label:"Electronics",domain:"Engineering",critical:!1},"Logistics.Navigation":{label:"Navigation",domain:"Logistics",critical:!0},"Logistics.SupplyChain":{label:"Supply Chain",domain:"Logistics",critical:!1},"Logistics.Inventory":{label:"Inventory Mgmt",domain:"Logistics",critical:!1},"Logistics.Transport":{label:"Transport",domain:"Logistics",critical:!1}},IR=e=>{var t;return(null===(t=DR[e])||void 0===t?void 0:t.label)||e.split(".").pop()},RR=e=>{var t;return(null===(t=DR[e])||void 0===t?void 0:t.domain)||"Other"},LR={en:{label:"English",flag:"\ud83c\uddfa\ud83c\uddf8"},es:{label:"Spanish",flag:"\ud83c\uddea\ud83c\uddf8"},zh:{label:"Mandarin",flag:"\ud83c\udde8\ud83c\uddf3"},ko:{label:"Korean",flag:"\ud83c\uddf0\ud83c\uddf7"},ja:{label:"Japanese",flag:"\ud83c\uddef\ud83c\uddf5"},de:{label:"German",flag:"\ud83c\udde9\ud83c\uddea"},fr:{label:"French",flag:"\ud83c\uddeb\ud83c\uddf7"},pt:{label:"Portuguese",flag:"\ud83c\udde7\ud83c\uddf7"},ar:{label:"Arabic",flag:"\ud83c\uddf8\ud83c\udde6"},ru:{label:"Russian",flag:"\ud83c\uddf7\ud83c\uddfa"},hi:{label:"Hindi",flag:"\ud83c\uddee\ud83c\uddf3"},vi:{label:"Vietnamese",flag:"\ud83c\uddfb\ud83c\uddf3"},tl:{label:"Tagalog",flag:"\ud83c\uddf5\ud83c\udded"}},zR=e=>{var t;return(null===(t=LR[e])||void 0===t?void 0:t.label)||e},FR={None:{label:"No formal education",order:0},HS:{label:"High School",order:1},SomeCollege:{label:"Some College",order:2},Trade:{label:"Trade/Vocational",order:3},Bachelors:{label:"Bachelor's Degree",order:4},Masters:{label:"Master's Degree",order:5},Doctorate:{label:"Doctorate",order:6},Other:{label:"Other",order:7}},BR={GOOD:{label:"GOOD",color:"bg-success text-white",icon:"CheckCircle"},OKAY:{label:"OKAY",color:"bg-warning text-black",icon:"AlertTriangle"},NEED_HELP:{label:"NEED HELP",color:"bg-destructive text-white",icon:"AlertCircle"},OFFLINE:{label:"OFFLINE",color:"bg-muted text-muted-foreground",icon:"Circle"}},UR={WIFI:{label:"Wi-Fi",icon:"Wifi",color:"text-primary"},MESH:{label:"Mesh",icon:"Radio",color:"text-cyan-400"},LORA:{label:"LoRa",icon:"Radio",color:"text-emerald-400"},CELLULAR:{label:"Cellular",icon:"Signal",color:"text-amber-400"},OFFLINE:{label:"Offline",icon:"WifiOff",color:"text-muted-foreground"}},WR={guest:{id:"guest",name:"Guest",color:"text-muted-foreground",bg:"bg-muted/20",permissions:{viewOverview:!0,viewAnalytics:!1,viewDirectory:!0,viewComms:!1,viewIncidents:!1,viewSensitiveFields:!1}},member:{id:"member",name:"Member",color:"text-primary",bg:"bg-primary/20",permissions:{viewOverview:!0,viewAnalytics:!0,viewDirectory:!0,viewComms:!0,viewIncidents:!1,viewSensitiveFields:!1}},admin:{id:"admin",name:"Admin",color:"text-amber-400",bg:"bg-amber-500/20",permissions:{viewOverview:!0,viewAnalytics:!0,viewDirectory:!0,viewComms:!0,viewIncidents:!0,viewSensitiveFields:!0}}},HR={admin:{id:"user-007",displayName:"Lisa Wong",role:"admin",privacy:{showAge:!0,showHeightWeight:!0,showEducation:!0}},member:{id:"user-004",displayName:"David Park",role:"member",privacy:{showAge:!0,showHeightWeight:!0,showEducation:!0}},guest:{id:"guest-001",displayName:"Guest User",role:"guest",privacy:{showAge:!1,showHeightWeight:!1,showEducation:!1}}},qR=[{id:"team-medical",name:"Medical Response Team",icon:"Stethoscope",color:"rose",description:"First responders for medical emergencies",lead:"user-007",members:["user-007","user-001","user-013"],domain:"Medical",isActive:!0},{id:"team-security",name:"Security & Perimeter",icon:"Shield",color:"amber",description:"Perimeter defense and security operations",lead:"user-002",members:["user-002","user-005"],domain:"Security",isActive:!0},{id:"team-comms",name:"Communications Team",icon:"Radio",color:"cyan",description:"HAM radio, mesh network, and comms operations",lead:"user-008",members:["user-008","user-002","user-004"],domain:"Comms",isActive:!0},{id:"team-engineering",name:"Engineering & Power",icon:"Wrench",color:"orange",description:"Infrastructure, electrical, and solar systems",lead:"user-004",members:["user-004","user-006","user-014"],domain:"Engineering",isActive:!0},{id:"team-supply",name:"Supply & Logistics",icon:"Compass",color:"violet",description:"Supply runs, inventory, and resource management",lead:"user-011",members:["user-011","user-003","user-012"],domain:"Logistics",isActive:!0},{id:"team-nature",name:"Nature & Foraging",icon:"Utensils",color:"emerald",description:"Gardening, foraging, hunting, and food safety",lead:"user-015",members:["user-015","user-009","user-012"],domain:"FoodWater",isActive:!0}],KR={critical:{label:"CRITICAL",color:"destructive",bg:"bg-destructive/20",icon:"AlertTriangle"},warning:{label:"WARNING",color:"warning",bg:"bg-warning/20",icon:"AlertCircle"},info:{label:"INFO",color:"primary",bg:"bg-primary/20",icon:"Info"},success:{label:"RESOLVED",color:"success",bg:"bg-success/20",icon:"CheckCircle"}},VR=(0,It.A)("megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),GR=(0,It.A)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]),$R=(0,It.A)("paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]),YR=(0,It.A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),ZR=(0,It.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),QR=(0,It.A)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),JR={Stethoscope:iT,Shield:Wt.A,Radio:mn.A,Wrench:oT,Compass:br,Utensils:lT,AlertTriangle:Gt.A,AlertCircle:aa,Info:Rn.A,CheckCircle:Vt.A},XR=e=>JR[e]||Lt.A,eL=e=>{const t={rose:{bg:"bg-rose-500/20",text:"text-rose-400",border:"border-rose-500/30"},amber:{bg:"bg-amber-500/20",text:"text-amber-400",border:"border-amber-500/30"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400",border:"border-cyan-500/30"},orange:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/30"},violet:{bg:"bg-violet-500/20",text:"text-violet-400",border:"border-violet-500/30"},emerald:{bg:"bg-emerald-500/20",text:"text-emerald-400",border:"border-emerald-500/30"}};return t[e]||t.cyan},tL=e=>{let{severity:t,size:n="sm"}=e;const r=KR[t]||KR.info,a=(e=>{var t;return JR[null===(t=KR[e])||void 0===t?void 0:t.icon]||Rn.A})(t),s="sm"===n?"text-[10px] px-1.5 py-0.5":"text-xs px-2 py-1";return(0,Tt.jsxs)("span",{className:"inline-flex items-center gap-1 rounded font-bold ".concat(s," ").concat(r.bg," text-").concat(r.color),children:[(0,Tt.jsx)(a,{className:"w-3 h-3"}),r.label]})},nL=()=>(0,Tt.jsx)("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-primary text-primary-foreground animate-pulse",children:"NEW"}),rL=e=>{const t=new Date,n=new Date(e),r=t-n,a=Math.floor(r/6e4),s=Math.floor(r/36e5),i=Math.floor(r/864e5);return a<60?"".concat(a,"m ago"):s<24?"".concat(s,"h ago"):i<7?"".concat(i,"d ago"):n.toLocaleDateString()},aL=e=>{let{team:t,profiles:n,bulletins:r,onClick:a}=e;const s=eL(t.color),i=XR(t.icon),l=n.find(e=>e.userId===t.lead),o=t.members.map(e=>n.find(t=>t.userId===e)).filter(Boolean).filter(e=>{var t;return null===(t=e.stats)||void 0===t?void 0:t.online}).length,c=r.filter(e=>e.teamId===t.id),d=c.filter(e=>e.isNew).length;return(0,Tt.jsx)("button",{onClick:()=>a(t),className:"w-full p-4 rounded-xl glass border ".concat(s.border," hover:bg-white/5 transition-all text-left group"),"data-testid":"team-card-".concat(t.id),children:(0,Tt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Tt.jsx)("div",{className:"p-2.5 rounded-lg ".concat(s.bg),children:(0,Tt.jsx)(i,{className:"w-5 h-5 ".concat(s.text)})}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("h4",{className:"font-semibold text-sm truncate",children:t.name}),d>0&&(0,Tt.jsxs)("span",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded bg-primary/20 text-primary text-[10px] font-bold",children:[(0,Tt.jsx)(xT,{className:"w-3 h-3"}),d]})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:t.description}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[(0,Tt.jsx)("span",{className:"font-medium text-foreground",children:t.members.length})," members"]}),(0,Tt.jsxs)("span",{className:"text-xs",children:[(0,Tt.jsx)("span",{className:"text-success font-medium",children:o})," online"]}),l&&(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Lead: ",(0,Tt.jsx)("span",{className:"text-foreground",children:l.displayName.split(" ")[0]})]})]})]}),(0,Tt.jsx)(Pn,{className:"w-4 h-4 text-muted-foreground group-hover:".concat(s.text," transition-colors")})]})})},sL=e=>{var t,n;let{bulletin:r,team:a,profiles:s,onClick:i,onMarkRead:l}=e;const o=s.find(e=>e.userId===r.author),c=eL(a?a.color:"cyan"),d=a?XR(a.icon):VR;return(0,Tt.jsxs)("button",{onClick:()=>i(r),className:"w-full p-4 rounded-xl glass border ".concat(r.isPinned?c.border:"border-border/50"," hover:bg-white/5 transition-all text-left group"),"data-testid":"bulletin-".concat(r.id),children:[(0,Tt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-lg ".concat(c.bg," flex-shrink-0"),children:(0,Tt.jsx)(d,{className:"w-4 h-4 ".concat(c.text)})}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,Tt.jsx)(tL,{severity:r.severity}),r.isNew&&(0,Tt.jsx)(nL,{}),r.isPinned&&(0,Tt.jsx)(GR,{className:"w-3 h-3 text-amber-400"})]}),(0,Tt.jsx)("h4",{className:"font-semibold text-sm mt-1.5 line-clamp-1 group-hover:text-primary transition-colors",children:r.title}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2 leading-relaxed",children:r.content})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-border/30",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-violet-500/50 to-fuchsia-500/50 flex items-center justify-center text-[8px] font-bold",children:(null===o||void 0===o||null===(t=o.displayName)||void 0===t?void 0:t.split(" ").map(e=>e[0]).join(""))||"?"}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[(null===o||void 0===o?void 0:o.displayName)||"Unknown"," \u2022 ",(null===a||void 0===a?void 0:a.name)||"Team"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(null===(n=r.attachments)||void 0===n?void 0:n.length)>0&&(0,Tt.jsxs)("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,Tt.jsx)($R,{className:"w-3 h-3"}),r.attachments.length]}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:rL(r.createdAt)})]})]})]})},iL=e=>{var t,n,r,a;let{bulletin:s,team:i,profiles:l,isOpen:o,onClose:c}=e;const d=l.find(e=>e.userId===(null===s||void 0===s?void 0:s.author)),u=eL(i?i.color:"cyan"),m=i?XR(i.icon):VR;return s?(0,Tt.jsx)(AR,{open:o,onOpenChange:c,children:(0,Tt.jsxs)(ER,{className:"w-full sm:max-w-lg overflow-y-auto",children:[(0,Tt.jsx)(OR,{children:(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-xl ".concat(u.bg),children:(0,Tt.jsx)(m,{className:"w-5 h-5 ".concat(u.text)})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)(MR,{className:"flex items-center gap-2 flex-wrap",children:[(null===i||void 0===i?void 0:i.name)||"Team Bulletin",(0,Tt.jsx)(tL,{severity:s.severity,size:"md"})]}),(0,Tt.jsx)(PR,{children:rL(s.createdAt)})]})]})}),(0,Tt.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-xl font-bold",children:s.title}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-sm text-muted-foreground",children:[(0,Tt.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-violet-500/50 to-fuchsia-500/50 flex items-center justify-center text-[10px] font-bold",children:(null===d||void 0===d||null===(t=d.displayName)||void 0===t?void 0:t.split(" ").map(e=>e[0]).join(""))||"?"}),(0,Tt.jsx)("span",{children:(null===d||void 0===d?void 0:d.displayName)||"Unknown"}),(0,Tt.jsx)("span",{children:"\u2022"}),(0,Tt.jsx)("span",{children:new Date(s.createdAt).toLocaleString()})]})]}),(0,Tt.jsx)("div",{className:"p-4 rounded-xl bg-secondary/50",children:(0,Tt.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:s.content})}),(null===(n=s.attachments)||void 0===n?void 0:n.length)>0&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[(0,Tt.jsx)($R,{className:"w-4 h-4"}),"Attachments (",s.attachments.length,")"]}),(0,Tt.jsx)("div",{className:"space-y-2",children:s.attachments.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-secondary/30",children:["image"===e.type?(0,Tt.jsx)(YR,{className:"w-4 h-4 text-blue-400"}):(0,Tt.jsx)(nn.A,{className:"w-4 h-4 text-amber-400"}),(0,Tt.jsx)("span",{className:"text-sm flex-1",children:e.name}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"ghost",className:"h-7 text-xs",children:"View"})]},t))})]}),(null===(r=s.tags)||void 0===r?void 0:r.length)>0&&(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1",children:s.tags.map(e=>(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded bg-secondary text-xs",children:["#",e]},e))}),(0,Tt.jsx)("div",{className:"pt-4 border-t border-border",children:(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,Tt.jsx)(kn,{className:"w-3 h-3 inline mr-1"}),"Read by ",(null===(a=s.readBy)||void 0===a?void 0:a.length)||0," members"]})}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)(gn.$,{variant:"outline",className:"flex-1",onClick:c,children:"Close"}),(0,Tt.jsxs)(gn.$,{className:"flex-1",onClick:()=>Pt.oR.success("Acknowledged"),children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 mr-2"}),"Acknowledge"]})]})]})]})}):null},lL=e=>{var t,n;let{team:r,profiles:a,bulletins:s,isOpen:i,onClose:l,onBulletinClick:o,isAdmin:c}=e;const d=eL(r?r.color:"cyan"),u=r?XR(r.icon):Lt.A,m=a.find(e=>e.userId===(null===r||void 0===r?void 0:r.lead)),h=(null===r||void 0===r||null===(t=r.members)||void 0===t?void 0:t.map(e=>a.find(t=>t.userId===e)).filter(Boolean))||[],p=s.filter(e=>e.teamId===(null===r||void 0===r?void 0:r.id)).sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt));return r?(0,Tt.jsx)(AR,{open:i,onOpenChange:l,children:(0,Tt.jsxs)(ER,{className:"w-full sm:max-w-lg overflow-y-auto",children:[(0,Tt.jsx)(OR,{children:(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-3 rounded-xl ".concat(d.bg),children:(0,Tt.jsx)(u,{className:"w-6 h-6 ".concat(d.text)})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(MR,{children:r.name}),(0,Tt.jsx)(PR,{children:r.description})]})]})}),(0,Tt.jsxs)("div",{className:"mt-6 space-y-6",children:[m&&(0,Tt.jsxs)("div",{className:"p-3 rounded-xl ".concat(d.bg," border ").concat(d.border),children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Team Lead"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500/50 to-fuchsia-500/50 flex items-center justify-center text-xs font-bold",children:m.displayName.split(" ").map(e=>e[0]).join("")}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"font-medium text-sm",children:m.displayName}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:m.callsign||m.class})]}),(null===(n=m.stats)||void 0===n?void 0:n.online)&&(0,Tt.jsx)("span",{className:"ml-auto px-2 py-0.5 rounded bg-success/20 text-success text-[10px] font-bold",children:"ONLINE"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(Lt.A,{className:"w-4 h-4"}),"Team Members (",h.length,")"]}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 gap-2",children:h.map(e=>{var t;return(0,Tt.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-secondary/30",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(null!==(t=e.stats)&&void 0!==t&&t.online?"bg-success":"bg-muted-foreground")}),(0,Tt.jsx)("span",{className:"text-sm truncate",children:e.displayName}),e.userId===r.lead&&(0,Tt.jsx)(ZR,{className:"w-3 h-3 text-amber-400 ml-auto"})]},e.userId)})})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(VR,{className:"w-4 h-4"}),"Recent Bulletins (",p.length,")"]}),p.length>0?(0,Tt.jsx)("div",{className:"space-y-2",children:p.slice(0,3).map(e=>(0,Tt.jsxs)("button",{onClick:()=>o(e),className:"w-full p-3 rounded-lg bg-secondary/30 hover:bg-secondary/50 transition-colors text-left",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Tt.jsx)(tL,{severity:e.severity}),e.isNew&&(0,Tt.jsx)(nL,{})]}),(0,Tt.jsx)("p",{className:"text-sm font-medium line-clamp-1",children:e.title}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:rL(e.createdAt)})]},e.id))}):(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground p-3 rounded-lg bg-secondary/30",children:"No bulletins from this team yet."})]}),c&&(0,Tt.jsx)("div",{className:"pt-4 border-t border-border",children:(0,Tt.jsxs)(gn.$,{className:"w-full gap-2",onClick:()=>Pt.oR.info("Create bulletin coming soon!"),children:[(0,Tt.jsx)(hT,{className:"w-4 h-4"}),"Post New Bulletin"]})})]})]})}):null};function oL(e){let{profiles:n,isAdmin:r=!1}=e;const[a,s]=(0,t.useState)("feed"),[i,l]=(0,t.useState)(null),[o,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)("all"),[x,g]=(0,t.useState)(""),v=(0,t.useMemo)(()=>[{id:"bulletin-001",teamId:"team-nature",title:"Poison Oak Spotted - North Trail",content:"Found poison oak patches along the north trail near marker 7. I've flagged the area with orange tape. AVOID CONTACT. If exposed, wash immediately with cold water and soap. See attached photos for identification.",severity:"warning",author:"user-015",createdAt:"2026-01-13T08:30:00Z",updatedAt:"2026-01-13T08:30:00Z",attachments:[{type:"image",name:"poison_oak_1.jpg",url:"/images/placeholder.jpg"},{type:"image",name:"poison_oak_2.jpg",url:"/images/placeholder.jpg"}],tags:["hazard","plants","north-trail"],readBy:["user-001","user-002","user-004"],isNew:!0,isPinned:!0},{id:"bulletin-002",teamId:"team-medical",title:"Flu Season Advisory - Hygiene Protocols",content:"We're seeing increased cold symptoms in the community. Please follow enhanced hygiene protocols: wash hands frequently, cover coughs, and report any fever above 100\xb0F to medical immediately. We have limited Tylenol supplies.",severity:"info",author:"user-007",createdAt:"2026-01-12T14:00:00Z",updatedAt:"2026-01-12T14:00:00Z",attachments:[],tags:["health","hygiene","flu"],readBy:["user-001","user-002","user-003","user-004","user-005"],isNew:!0,isPinned:!0},{id:"bulletin-003",teamId:"team-security",title:"Perimeter Check Schedule Change",content:"Effective immediately, perimeter checks will run every 4 hours instead of 6 hours due to recent wildlife activity. Night shift volunteers needed - contact Marcus if available.",severity:"info",author:"user-002",createdAt:"2026-01-12T09:00:00Z",updatedAt:"2026-01-12T09:00:00Z",attachments:[],tags:["schedule","perimeter","volunteers"],readBy:["user-001","user-004","user-005","user-006","user-007"],isNew:!1,isPinned:!1},{id:"bulletin-004",teamId:"team-engineering",title:"Solar Panel Maintenance Complete",content:"Completed maintenance on all 6 solar panels. Panel #3 had dirt buildup reducing efficiency by 15%. All panels now operating at full capacity. Next maintenance scheduled for Jan 20.",severity:"success",author:"user-014",createdAt:"2026-01-11T16:30:00Z",updatedAt:"2026-01-11T16:30:00Z",attachments:[{type:"document",name:"maintenance_report.pdf",url:"/docs/placeholder.pdf"}],tags:["solar","maintenance","power"],readBy:["user-001","user-002","user-003","user-004","user-005","user-006","user-007"],isNew:!1,isPinned:!1},{id:"bulletin-005",teamId:"team-supply",title:"Supply Run Results - Jan 10",content:"Successful supply run to the cache at Grid CM87wq. Retrieved: 20 gallons water, 30 MREs, 2 propane tanks, batteries (AA x48, D x12). Inventory updated. Next run scheduled for Jan 15.",severity:"info",author:"user-011",createdAt:"2026-01-10T18:00:00Z",updatedAt:"2026-01-10T18:00:00Z",attachments:[{type:"document",name:"inventory_update.xlsx",url:"/docs/placeholder.xlsx"}],tags:["supply-run","inventory","cache"],readBy:["user-001","user-002","user-003","user-004","user-005","user-006","user-007","user-011"],isNew:!1,isPinned:!1},{id:"bulletin-006",teamId:"team-comms",title:"HAM Repeater Down - Emergency Frequencies Active",content:"The main HAM repeater at hilltop is experiencing issues. Use backup frequency 146.520 MHz for emergency comms. Repair team dispatched - ETA 4 hours. Mesh network remains operational.",severity:"critical",author:"user-008",createdAt:"2026-01-13T06:00:00Z",updatedAt:"2026-01-13T10:00:00Z",attachments:[],tags:["ham","emergency","comms-down"],readBy:["user-001","user-002","user-004"],isNew:!0,isPinned:!0},{id:"bulletin-007",teamId:"team-nature",title:"Berry Season Starting - Safe Foraging Guide",content:"Blackberries and wild raspberries are starting to ripen in the southeast meadow. Remember: only harvest berries from MARKED SAFE ZONES. If unsure, bring a sample to Rosa or Maria for identification.",severity:"info",author:"user-009",createdAt:"2026-01-09T11:00:00Z",updatedAt:"2026-01-09T11:00:00Z",attachments:[{type:"image",name:"safe_berries_guide.jpg",url:"/images/placeholder.jpg"}],tags:["foraging","berries","food"],readBy:["user-001","user-003","user-009","user-011","user-015"],isNew:!1,isPinned:!1}],[]),b=qR,y=(0,t.useMemo)(()=>{let e=[...v];if("all"!==p&&(e=e.filter(e=>e.severity===p)),x){const t=x.toLowerCase();e=e.filter(e=>{var n;return e.title.toLowerCase().includes(t)||e.content.toLowerCase().includes(t)||(null===(n=e.tags)||void 0===n?void 0:n.some(e=>e.toLowerCase().includes(t)))})}return e.sort((e,t)=>e.isPinned&&!t.isPinned?-1:!e.isPinned&&t.isPinned?1:new Date(t.createdAt)-new Date(e.createdAt))},[v,p,x]),j=v.filter(e=>e.isNew).length,w=e=>{l(e),u(!0)},N=e=>{c(e),h(!0)};return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 border border-violet-500/30","data-testid":"official-teams-bulletins",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-br from-violet-500/20 to-fuchsia-500/20",children:(0,Tt.jsx)(QR,{className:"w-5 h-5 text-violet-400"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h3",{className:"font-bold text-lg flex items-center gap-2 flex-wrap",children:["Official Teams & Updates",(0,Tt.jsx)(Or,{panelId:"official-teams"}),j>0&&(0,Tt.jsxs)("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full bg-primary text-primary-foreground text-xs font-bold animate-pulse",children:[j," NEW"]})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Critical updates from official community teams"})]})]}),r&&(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",className:"gap-1",onClick:()=>Pt.oR.info("Create bulletin coming soon!"),children:[(0,Tt.jsx)(hT,{className:"w-4 h-4"}),"Post"]})]}),(0,Tt.jsx)("div",{className:"flex gap-1 p-1 rounded-lg bg-secondary/50 mb-4",children:[{id:"feed",label:"Latest Updates",icon:xT},{id:"teams",label:"Teams",icon:Lt.A},{id:"archive",label:"All Bulletins",icon:nn.A}].map(e=>(0,Tt.jsxs)("button",{onClick:()=>s(e.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(a===e.id?"bg-primary text-primary-foreground":"hover:bg-secondary"),"data-testid":"tab-".concat(e.id),children:[(0,Tt.jsx)(e.icon,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.id))}),"feed"===a&&(0,Tt.jsxs)("div",{className:"space-y-3",children:[y.filter(e=>e.isPinned||e.isNew).slice(0,4).map(e=>{const t=b.find(t=>t.id===e.teamId);return(0,Tt.jsx)(sL,{bulletin:e,team:t,profiles:n,onClick:N},e.id)}),0===y.filter(e=>e.isPinned||e.isNew).length&&(0,Tt.jsxs)("div",{className:"p-6 text-center text-muted-foreground",children:[(0,Tt.jsx)(xT,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,Tt.jsx)("p",{className:"text-sm",children:"No new updates. Check back later!"})]}),(0,Tt.jsx)("button",{onClick:()=>s("archive"),className:"w-full p-3 rounded-lg bg-secondary/30 hover:bg-secondary/50 text-sm text-center text-muted-foreground hover:text-foreground transition-colors",children:"View all bulletins \u2192"})]}),"teams"===a&&(0,Tt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:b.map(e=>(0,Tt.jsx)(aL,{team:e,profiles:n,bulletins:v,onClick:w},e.id))}),"archive"===a&&(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,Tt.jsxs)("div",{className:"relative flex-1",children:[(0,Tt.jsx)(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,Tt.jsx)(yn,{placeholder:"Search bulletins...",value:x,onChange:e=>g(e.target.value),className:"pl-9"})]}),(0,Tt.jsx)("div",{className:"flex gap-1 overflow-x-auto pb-1",children:["all","critical","warning","info","success"].map(e=>{var t;return(0,Tt.jsx)("button",{onClick:()=>f(e),className:"px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-colors ".concat(p===e?"bg-primary text-primary-foreground":"bg-secondary/50 hover:bg-secondary"),children:"all"===e?"All":null===(t=KR[e])||void 0===t?void 0:t.label},e)})})]}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[y.map(e=>{const t=b.find(t=>t.id===e.teamId);return(0,Tt.jsx)(sL,{bulletin:e,team:t,profiles:n,onClick:N},e.id)}),0===y.length&&(0,Tt.jsxs)("div",{className:"p-6 text-center text-muted-foreground",children:[(0,Tt.jsx)(nn.A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,Tt.jsx)("p",{className:"text-sm",children:"No bulletins match your filters."})]})]})]}),(0,Tt.jsx)(lL,{team:i,profiles:n,bulletins:v,isOpen:d,onClose:()=>u(!1),onBulletinClick:e=>{u(!1),N(e)},isAdmin:r}),(0,Tt.jsx)(iL,{bulletin:o,team:o?b.find(e=>e.id===o.teamId):null,profiles:n,isOpen:m,onClose:()=>h(!1)})]})}const cL=(0,t.createContext)(null),dL=()=>{const e=(0,t.useContext)(cL);if(!e)throw new Error("useRBAC must be used within RBACProvider");return e},uL=e=>{let{children:n,currentUser:r,onUpdatePrivacy:a}=e;const s=WR[null===r||void 0===r?void 0:r.role]||WR.guest,i=(0,t.useCallback)(e=>!0===s.permissions[e],[s]),l="admin"===(null===r||void 0===r?void 0:r.role),o="member"===(null===r||void 0===r?void 0:r.role)||l;return(0,Tt.jsx)(cL.Provider,{value:{currentUser:r,role:s,can:i,isAdmin:l,isMember:o,onUpdatePrivacy:a},children:n})},mL=e=>{let{minRole:n,children:r,onAccessDenied:a,fallback:s}=e;const{currentUser:i}=dL(),l={guest:0,member:1,admin:2},o=(l[null===i||void 0===i?void 0:i.role]||0)>=(l[n]||0);return(0,t.useEffect)(()=>{!o&&a&&a()},[o,a]),o?r:s||(0,Tt.jsx)(hL,{minRole:n,currentRole:null===i||void 0===i?void 0:i.role})},hL=e=>{let{minRole:t,currentRole:n,onReturn:r}=e;return(0,Tt.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 glass rounded-xl","data-testid":"access-denied",children:[(0,Tt.jsx)(nT,{className:"w-16 h-16 text-destructive/50 mb-4"}),(0,Tt.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Access Denied"}),(0,Tt.jsxs)("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-4",children:["This section requires ",(0,Tt.jsx)("span",{className:"font-semibold text-amber-400",children:t})," role or higher.",(0,Tt.jsx)("br",{}),"Your current role: ",(0,Tt.jsx)("span",{className:"font-semibold",children:n||"guest"})]}),r&&(0,Tt.jsxs)(gn.$,{onClick:r,variant:"outline",size:"sm",className:"gap-2",children:[(0,Tt.jsx)(rT,{className:"w-4 h-4"}),"Return to Overview"]})]})},pL=(e,t)=>{if(!e)return null;if("admin"===t)return(0,s.A)((0,s.A)({},e),{},{_redacted:!1});const n=e.privacy||{showAge:!1,showHeightWeight:!1,showEducation:!0,showMedical:!1,showLocation:!1};return(0,s.A)((0,s.A)({},e),{},{_redacted:!0,age:n.showAge?e.age:null,anthro:n.showHeightWeight?e.anthro:{heightIn:null,weightLb:null},educationLevel:!1!==n.showEducation?e.educationLevel:null,physical:n.showHeightWeight?e.physical:null,medical:n.showMedical?e.medical:null,location:n.showLocation?e.location:null})},fL=e=>e?"".concat(Math.floor(e/12),"'").concat(e%12,'"'):null,xL=e=>e?"".concat(e," lbs"):null,gL=e=>{let{role:t}=e;const n=WR[t];return n?(0,Tt.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium ".concat(n.bg," ").concat(n.color),children:["admin"===t&&(0,Tt.jsx)(aT,{className:"w-3 h-3"}),"member"===t&&(0,Tt.jsx)(sT,{className:"w-3 h-3"}),"guest"===t&&(0,Tt.jsx)(jn,{className:"w-3 h-3"}),n.name]}):null},vL=e=>{let{online:t}=e;return(0,Tt.jsx)("div",{className:"w-2.5 h-2.5 rounded-full ".concat(t?"bg-success animate-pulse":"bg-muted-foreground")})},bL=e=>{let{priority:t}=e;const n={P0:{bg:"bg-destructive/20",color:"text-destructive",label:"P0"},P1:{bg:"bg-orange-500/20",color:"text-orange-400",label:"P1"},P2:{bg:"bg-warning/20",color:"text-warning",label:"P2"},WARN:{bg:"bg-warning/20",color:"text-warning",label:"WARN"},OK:{bg:"bg-success/20",color:"text-success",label:"OK"}},r=n[t]||n.OK;return(0,Tt.jsx)("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold ".concat(r.bg," ").concat(r.color),children:r.label})},yL=e=>{let{domain:t,className:n="w-4 h-4"}=e;const r={Medical:iT,Comms:mn.A,Security:Wt.A,FoodWater:lT,Engineering:oT,Logistics:br}[t]||ra;return(0,Tt.jsx)(r,{className:n})},jL=e=>{let{tagKey:t,size:n="sm"}=e;const r=RR(t),a=TR[r],s="sm"===n?"text-[10px] px-1.5 py-0.5":"text-xs px-2 py-1";return(0,Tt.jsx)("span",{className:"inline-flex items-center gap-1 rounded ".concat(s," ").concat((null===a||void 0===a?void 0:a.bg)||"bg-secondary"," ").concat((null===a||void 0===a?void 0:a.color)||"text-foreground"),children:IR(t)})},wL=e=>{let{code:t}=e;const n=LR[t];return(0,Tt.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-secondary text-[10px]",children:[null===n||void 0===n?void 0:n.flag," ",(null===n||void 0===n?void 0:n.label)||t]})},NL=e=>{let{title:n,children:r,variant:a="default"}=e;const[s,i]=(0,t.useState)(!1);return(0,Tt.jsxs)("div",{className:"relative inline-block",children:[(0,Tt.jsx)("button",{onClick:()=>i(!s),className:"w-5 h-5 rounded-full bg-primary/20 hover:bg-primary/30 flex items-center justify-center transition-colors","aria-label":"Help",children:(0,Tt.jsx)(an.A,{className:"w-3 h-3 text-primary"})}),s&&(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),(0,Tt.jsxs)("div",{className:"absolute z-50 left-0 top-7 w-72 p-3 rounded-lg glass border ".concat({default:"border-primary/30 bg-primary/5",warning:"border-warning/30 bg-warning/5",success:"border-success/30 bg-success/5"}[a]," shadow-lg"),children:[n&&(0,Tt.jsx)("p",{className:"font-semibold text-sm mb-1",children:n}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed",children:r}),(0,Tt.jsx)("button",{onClick:()=>i(!1),className:"absolute top-2 right-2 text-muted-foreground hover:text-foreground",children:(0,Tt.jsx)(Bt.A,{className:"w-3 h-3"})})]})]})]})},kL=e=>{let{children:t,className:n=""}=e;return(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-4 leading-relaxed ".concat(n),children:t})},AL=e=>{let{isOpen:t,onClose:n,onStartTour:r}=e;return t?(0,Tt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-6 max-w-lg w-full border border-primary/30 shadow-2xl",children:[(0,Tt.jsxs)("div",{className:"text-center mb-6",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-violet-500/30 to-fuchsia-500/30 flex items-center justify-center",children:(0,Tt.jsx)(Lt.A,{className:"w-8 h-8 text-violet-400"})}),(0,Tt.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to the Community Hub!"}),(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"This is your family's coordination center. Here's what you can do:"})]}),(0,Tt.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,Tt.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/50",children:[(0,Tt.jsx)(cT,{className:"w-5 h-5 text-primary mt-0.5"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"font-medium text-sm",children:"Overview"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"See who's online and check if we have enough people with important skills"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/50",children:[(0,Tt.jsx)(Lt.A,{className:"w-5 h-5 text-primary mt-0.5"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"font-medium text-sm",children:"Directory"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Find family members by name or skills. See who can help with what"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/50",children:[(0,Tt.jsx)(dT,{className:"w-5 h-5 text-violet-400 mt-0.5"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"font-medium text-sm",children:"Team Builder"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Quickly assemble the right people for emergencies or tasks"})]})]})]}),(0,Tt.jsxs)("div",{className:"flex gap-3",children:[(0,Tt.jsx)(gn.$,{variant:"outline",className:"flex-1",onClick:n,children:"Got it, thanks!"}),(0,Tt.jsxs)(gn.$,{className:"flex-1 gap-2",onClick:r,children:[(0,Tt.jsx)(cr,{className:"w-4 h-4"}),"Try a Practice Drill"]})]}),(0,Tt.jsxs)("p",{className:"text-center text-xs text-muted-foreground mt-4",children:["Tip: Look for the ",(0,Tt.jsx)("span",{className:"inline-flex items-center",children:(0,Tt.jsx)(an.A,{className:"w-3 h-3 mx-1 text-primary"})})," icons for helpful explanations"]})]})}):null},_L=[{id:"medical-emergency",name:"Medical Emergency",icon:iT,color:"text-rose-400",bg:"bg-rose-500/20",description:"Someone is injured and needs immediate medical attention!",urgency:"CRITICAL",requiredSkills:["Medical.FirstAid","Medical.CPR"],optionalSkills:["Medical.Trauma","Medical.EMT"],targetTime:30,targetTeamSize:2},{id:"power-outage",name:"Power Outage",icon:cr,color:"text-amber-400",bg:"bg-amber-500/20",description:"The power is out! We need to restore electricity.",urgency:"HIGH",requiredSkills:["Engineering.Electrical","Engineering.SolarSystems"],optionalSkills:["Engineering.Electronics"],targetTime:45,targetTeamSize:2},{id:"water-contamination",name:"Water Contamination",icon:lT,color:"text-cyan-400",bg:"bg-cyan-500/20",description:"Our water supply may be unsafe. We need to purify it.",urgency:"HIGH",requiredSkills:["FoodWater.WaterPurification"],optionalSkills:["FoodWater.FoodPreservation","Medical.FirstAid"],targetTime:60,targetTeamSize:2},{id:"security-breach",name:"Perimeter Alert",icon:Wt.A,color:"text-orange-400",bg:"bg-orange-500/20",description:"Unknown activity detected at the perimeter!",urgency:"CRITICAL",requiredSkills:["Security.Perimeter","Comms.HAM"],optionalSkills:["Security.SelfDefense","Logistics.Navigation"],targetTime:20,targetTeamSize:3},{id:"comms-down",name:"Communications Down",icon:mn.A,color:"text-cyan-400",bg:"bg-cyan-500/20",description:"We&apos;ve lost contact with the outside. Need to restore comms.",urgency:"MEDIUM",requiredSkills:["Comms.HAM","Comms.Networking"],optionalSkills:["Engineering.Electronics"],targetTime:90,targetTeamSize:2}],CL=e=>{let{isOpen:n,onClose:r,profiles:a,memberScores:s,onOpenTeamBuilder:i}=e;const[l,o]=(0,t.useState)("ready"),[c,d]=(0,t.useState)(null),[u,m]=(0,t.useState)(0),[h,p]=(0,t.useState)([]),[f,x]=(0,t.useState)([]),g=(0,t.useRef)(null),v=(0,t.useCallback)(()=>{const e=Math.floor(Math.random()*_L.length);return _L[e]},[]),b=(0,t.useCallback)(e=>{const t=e||v();d(t),o("active"),m(0),p([]),g.current=setInterval(()=>{m(e=>e+1)},1e3)},[v]),y=(0,t.useCallback)(()=>{clearInterval(g.current),o("complete");const e=Math.max(0,c.targetTime-u),t=h.length>=c.targetTeamSize?50:25,n=c.requiredSkills.filter(e=>h.some(t=>t.skills.includes(e))).length/c.requiredSkills.length*100,r=Math.round(2*e+t+n);x(e=>[...e,{scenario:c.name,time:u,score:r,date:(new Date).toISOString()}])},[c,u,h]),j=(0,t.useCallback)(e=>{p(t=>t.find(t=>t.userId===e.userId)?t.filter(t=>t.userId!==e.userId):[...t,e])},[]),w=(0,t.useCallback)(()=>{clearInterval(g.current),o("ready"),d(null),m(0),p([])},[]);if((0,t.useEffect)(()=>()=>clearInterval(g.current),[]),!n)return null;const N=e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))};return(0,Tt.jsx)(AR,{open:n,onOpenChange:r,children:(0,Tt.jsxs)(ER,{className:"w-full sm:max-w-xl overflow-y-auto",children:[(0,Tt.jsx)(OR,{children:(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-xl bg-gradient-to-br from-orange-500/20 to-red-500/20",children:(0,Tt.jsx)(uT,{className:"w-5 h-5 text-orange-400"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)(MR,{className:"flex items-center gap-2",children:["Drill Mode",(0,Tt.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-orange-500/20 text-orange-400",children:"PRACTICE"})]}),(0,Tt.jsx)(PR,{children:"Practice assembling teams for emergency scenarios"})]})]})}),"ready"===l&&(0,Tt.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,Tt.jsx)(kL,{children:"Drill Mode helps you practice responding to emergencies. Select a scenario and try to assemble the right team as quickly as possible!"}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsx)("h3",{className:"font-semibold text-sm",children:"Choose a Scenario:"}),_L.map(e=>(0,Tt.jsx)("button",{onClick:()=>b(e),className:"w-full p-4 rounded-xl glass hover:bg-white/5 transition-colors text-left group",children:(0,Tt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-lg ".concat(e.bg),children:(0,Tt.jsx)(e.icon,{className:"w-5 h-5 ".concat(e.color)})}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("h4",{className:"font-medium",children:e.name}),(0,Tt.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded ".concat("CRITICAL"===e.urgency?"bg-destructive/20 text-destructive":"HIGH"===e.urgency?"bg-orange-500/20 text-orange-400":"bg-warning/20 text-warning"),children:e.urgency})]}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Target: ",e.targetTime,"s \u2022 Team size: ",e.targetTeamSize,"+"]})]}),(0,Tt.jsx)(Pn,{className:"w-5 h-5 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]})},e.id))]}),(0,Tt.jsxs)(gn.$,{variant:"outline",className:"w-full gap-2",onClick:()=>b(null),children:[(0,Tt.jsx)(Ft,{className:"w-4 h-4"}),"Random Scenario"]}),f.length>0&&(0,Tt.jsxs)("div",{className:"pt-4 border-t border-border",children:[(0,Tt.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Recent Drills"}),(0,Tt.jsx)("div",{className:"space-y-2",children:f.slice(-3).reverse().map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 rounded bg-secondary/50 text-sm",children:[(0,Tt.jsx)("span",{children:e.scenario}),(0,Tt.jsx)("span",{className:"text-muted-foreground",children:N(e.time)})]},t))})]})]}),"active"===l&&c&&(0,Tt.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,Tt.jsxs)("div",{className:"p-4 rounded-xl ".concat(c.bg," border ").concat(c.bg.replace("/20","/30")),children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)(c.icon,{className:"w-5 h-5 ".concat(c.color)}),(0,Tt.jsxs)("span",{className:"font-bold ".concat(c.color),children:[c.urgency,"!"]})]}),(0,Tt.jsx)("h3",{className:"font-bold text-lg",children:c.name}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:c.description})]}),(0,Tt.jsxs)("div",{className:"text-center py-4",children:[(0,Tt.jsx)("p",{className:"text-5xl font-mono font-bold",children:N(u)}),(0,Tt.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Target: ",c.targetTime,"s"]})]}),(0,Tt.jsxs)("div",{className:"p-3 rounded-lg bg-secondary/50",children:[(0,Tt.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"We need people with:"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1",children:c.requiredSkills.map(e=>{const t=h.some(t=>t.skills.includes(e));return(0,Tt.jsxs)("span",{className:"px-2 py-1 rounded text-xs ".concat(t?"bg-success/20 text-success":"bg-destructive/20 text-destructive"),children:[t&&(0,Tt.jsx)(Vt.A,{className:"w-3 h-3 inline mr-1"}),IR(e)]},e)})})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Tt.jsxs)("p",{className:"text-sm font-medium",children:["Select team members (",h.length,"/",c.targetTeamSize,"+):"]})}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:a.filter(e=>e.stats.online).map(e=>{const t=h.find(t=>t.userId===e.userId),n=c.requiredSkills.some(t=>e.skills.includes(t));return(0,Tt.jsx)("button",{onClick:()=>j(e),className:"p-2 rounded-lg text-left transition-colors ".concat(t?"bg-primary/20 border border-primary":n?"bg-success/10 border border-success/30 hover:bg-success/20":"glass hover:bg-white/5"),children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500/50 to-fuchsia-500/50 flex items-center justify-center text-xs font-bold",children:e.displayName.split(" ").map(e=>e[0]).join("")}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("p",{className:"text-xs font-medium truncate",children:e.displayName}),n&&(0,Tt.jsx)("p",{className:"text-[10px] text-success",children:"Has needed skills!"})]}),t&&(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-primary"})]})},e.userId)})})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)(gn.$,{variant:"outline",onClick:w,children:"Cancel"}),(0,Tt.jsxs)(gn.$,{className:"flex-1 gap-2",onClick:y,disabled:0===h.length,children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4"}),"Team Assembled!"]})]})]}),"complete"===l&&c&&(0,Tt.jsx)("div",{className:"mt-6 space-y-6",children:(()=>{const e=((e,t)=>e<=.5*t?{grade:"A+",color:"text-success",message:"Outstanding! Lightning fast response!"}:e<=.75*t?{grade:"A",color:"text-success",message:"Excellent! Well under target time."}:e<=t?{grade:"B",color:"text-primary",message:"Good job! You met the target."}:e<=1.5*t?{grade:"C",color:"text-warning",message:"Okay, but could be faster."}:{grade:"D",color:"text-destructive",message:"Needs practice. Try again!"})(u,c.targetTime),t=c.requiredSkills.filter(e=>h.some(t=>t.skills.includes(e))).length,n=t===c.requiredSkills.length;return(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)("div",{className:"text-center py-6",children:[(0,Tt.jsx)("div",{className:"text-6xl font-bold ".concat(e.color),children:e.grade}),(0,Tt.jsx)("p",{className:"text-lg mt-2",children:e.message})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Tt.jsxs)("div",{className:"p-4 rounded-xl glass text-center",children:[(0,Tt.jsx)("p",{className:"text-3xl font-bold font-mono",children:N(u)}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Your Time"}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:["(Target: ",c.targetTime,"s)"]})]}),(0,Tt.jsxs)("div",{className:"p-4 rounded-xl glass text-center",children:[(0,Tt.jsx)("p",{className:"text-3xl font-bold",children:h.length}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Team Members"}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:["(Need: ",c.targetTeamSize,"+)"]})]})]}),(0,Tt.jsxs)("div",{className:"p-4 rounded-xl ".concat(n?"bg-success/10 border border-success/30":"bg-warning/10 border border-warning/30"),children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[n?(0,Tt.jsx)(Vt.A,{className:"w-5 h-5 text-success"}):(0,Tt.jsx)(Gt.A,{className:"w-5 h-5 text-warning"}),(0,Tt.jsx)("span",{className:"font-medium",children:n?"All required skills covered!":"Some skills missing"})]}),(0,Tt.jsxs)("p",{className:"text-sm text-muted-foreground",children:[t," of ",c.requiredSkills.length," required skills covered"]})]}),(0,Tt.jsxs)("div",{className:"p-4 rounded-xl bg-secondary/50",children:[(0,Tt.jsx)("h4",{className:"font-medium mb-2",children:"Your Team:"}),(0,Tt.jsx)("div",{className:"space-y-2",children:h.map(e=>(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-violet-500/50 to-fuchsia-500/50 flex items-center justify-center text-[10px] font-bold",children:e.displayName.split(" ").map(e=>e[0]).join("")}),(0,Tt.jsx)("span",{className:"text-sm",children:e.displayName})]},e.userId))})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)(gn.$,{variant:"outline",className:"flex-1",onClick:w,children:"Try Another"}),(0,Tt.jsxs)(gn.$,{className:"flex-1 gap-2",onClick:()=>{w(),b(c)},children:[(0,Tt.jsx)(tn,{className:"w-4 h-4"}),"Retry Same"]})]})]})})()})]})})},SL=()=>{const[e,n]=(0,t.useState)(()=>"undefined"!==typeof window&&"true"===sessionStorage.getItem("community-privacy-banner-collapsed"));return(0,Tt.jsxs)("div",{className:"glass rounded-xl border border-primary/30 mb-6 overflow-hidden",children:[(0,Tt.jsxs)("button",{onClick:()=>{const t=!e;n(t),sessionStorage.setItem("community-privacy-banner-collapsed",String(t))},className:"w-full flex items-center justify-between p-3 hover:bg-white/5 transition-colors",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Rn.A,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"font-semibold text-sm",children:"Privacy & Data Use"})]}),e?(0,Tt.jsx)(On.A,{className:"w-4 h-4"}):(0,Tt.jsx)(En.A,{className:"w-4 h-4"})]}),!e&&(0,Tt.jsx)("div",{className:"px-4 pb-4 text-xs text-muted-foreground",children:"Analytics show aggregated data only. Height/weight and age are visible only with member opt-in. Incident tracking is admin-only with strict approval workflows. All actions are audited."})]})},EL=e=>{let{profiles:n,analytics:r,incidents:a,commsPreview:i,memberScores:l,scoreConfig:o,onNavigate:c,onFilterDirectory:d,onOpenDrill:u}=e;const{isAdmin:m,currentUser:h,onUpdatePrivacy:p}=dL(),[f,x]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[b,y]=(0,t.useState)(new Set),j=a.filter(e=>"Closed"!==e.status).length,w=(0,t.useMemo)(()=>{const e=new Date;return e.setDate(e.getDate()-7),a.filter(t=>new Date(t.createdAt)>e).length},[a]),N=(0,t.useMemo)(()=>Object.entries(l).filter(e=>{let[,t]=e;return t.flag}).map(e=>{let[t,r]=e;const a=n.find(e=>e.userId===t);return(0,s.A)((0,s.A)({},a),r)}).sort((e,t)=>e.score-t.score).slice(0,3),[l,n]),k=(0,t.useMemo)(()=>{const e={monitor:0,restricted:0,intervention:0};return Object.values(l).forEach(t=>{t.flag&&e[t.flag]++}),e},[l]);return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)(SL,{}),(0,Tt.jsx)("div",{className:"glass rounded-xl p-4 border border-violet-500/30 bg-gradient-to-r from-violet-500/5 to-fuchsia-500/5 mb-6",children:(0,Tt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-lg bg-violet-500/20 flex-shrink-0",children:(0,Tt.jsx)(Lt.A,{className:"w-5 h-5 text-violet-400"})}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("h3",{className:"font-semibold text-sm",children:"Welcome to the Community Hub"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1 leading-relaxed",children:"This is your family's coordination center. Here you can see who's online, check if we have enough people with important skills (like first aid or radio operation), and quickly find the right people when you need help."})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,Tt.jsx)(kr,{pageTitle:"Community Hub",quickHelp:"Your family's coordination center for skills, teams, and readiness.",variant:"compact",legendItems:[..._r.statusDots,{icon:ra,label:"Readiness Snapshot",description:"Shows coverage for 6 critical skill domains",color:"text-primary",bgColor:"bg-primary/20"},{icon:Lt.A,label:"Skill Coverage",description:"Visual bars showing qualified members per domain",color:"text-violet-400",bgColor:"bg-violet-500/20"}],troubleshootingItems:[Cr.noData,{problem:"Domain shows P0 (red)",solution:"Critical skill gap - no one is qualified. Consider training or recruiting."},{problem:"Low redundancy warning",solution:"Only 1-2 people cover this skill. Cross-train others for backup."}],whatItDoes:"The Community Hub helps you manage your group's preparedness. The Overview shows real-time readiness across Medical, Comms, Security, Food & Water, Engineering, and Logistics. Use the Directory to find specific skills, and Team Builder to assemble response teams quickly."}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",onClick:u,className:"gap-1 border-orange-500/30 hover:border-orange-500/50",children:[(0,Tt.jsx)(uT,{className:"w-4 h-4 text-orange-400"}),"Practice Drill"]})]})]})}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsxs)("h2",{className:"text-lg font-bold flex items-center gap-2",children:[(0,Tt.jsx)(ra,{className:"w-5 h-5 text-primary"}),"Readiness Snapshot",(0,Tt.jsx)(Or,{panelId:"readiness-snapshot"})]}),(0,Tt.jsx)(NL,{title:"What is this?",children:'This shows how prepared we are in 6 key areas. Green "OK" means we have enough people. Yellow "WARN" means we\'re low. Red "P0" means we have a critical gap that needs attention.'})]}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"At a glance: do we have enough trained people in each critical area?"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:Object.entries(r.coverage.domains).map(e=>{var t,n,r;let[a,s]=e;return(0,Tt.jsxs)("button",{onClick:()=>c("analytics",{domain:a}),className:"glass rounded-lg p-3 text-left hover:bg-white/5 transition-colors group","data-testid":"domain-tile-".concat(a),children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)("div",{className:"p-1.5 rounded ".concat(null===(t=TR[a])||void 0===t?void 0:t.bg),children:(0,Tt.jsx)(yL,{domain:a,className:"w-4 h-4 ".concat(null===(n=TR[a])||void 0===n?void 0:n.color)})}),(0,Tt.jsx)(bL,{priority:s.status})]}),(0,Tt.jsx)("h4",{className:"text-xs font-semibold truncate",children:(null===(r=TR[a])||void 0===r?void 0:r.label)||a}),(0,Tt.jsxs)("p",{className:"text-[10px] text-muted-foreground mt-1",children:["Qualified: ",(0,Tt.jsx)("span",{className:"font-medium text-foreground",children:s.qualifiedCount}),(0,Tt.jsxs)("span",{className:"text-success",children:[" (",s.onlineQualifiedCount," online)"]})]}),(0,Tt.jsxs)("p",{className:"text-[10px] text-muted-foreground",children:["Redundancy: ",(0,Tt.jsx)("span",{className:"Low"===s.redundancy?"text-warning":"text-foreground",children:s.redundancy})]})]},a)})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(mT.A,{className:"w-4 h-4 text-violet-400"}),"Skill Coverage Overview",(0,Tt.jsx)(Or,{panelId:"skill-coverage"})]}),(0,Tt.jsx)(NL,{children:"The colored bars show how well-covered each area is. Taller bars = more people with those skills. We want all bars to be at least halfway full."})]}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Visual view of how many people we have trained in each area."}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:Object.entries(r.coverage.domains).map(e=>{var t,n,a,s,i;let[l,o]=e;const c=Math.min(100,Math.round(o.qualifiedCount/Math.max(.3*r.population.membersTotal,3)*100));return(0,Tt.jsx)("div",{className:"relative",children:(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 overflow-hidden",children:[(0,Tt.jsx)("div",{className:"absolute inset-0 ".concat(null===(t=TR[l])||void 0===t?void 0:t.bg," opacity-30"),style:{clipPath:"inset(".concat(100-c,"% 0 0 0)"),transition:"clip-path 0.5s ease-out"}}),(0,Tt.jsxs)("div",{className:"relative z-10",children:[(0,Tt.jsx)(yL,{domain:l,className:"w-5 h-5 ".concat(null===(n=TR[l])||void 0===n?void 0:n.color," mx-auto mb-1")}),(0,Tt.jsx)("p",{className:"text-xs text-center font-medium",children:l}),(0,Tt.jsx)("p",{className:"text-lg font-bold text-center ".concat(null===(a=TR[l])||void 0===a?void 0:a.color),children:o.qualifiedCount}),(0,Tt.jsx)("div",{className:"h-1 bg-secondary rounded-full mt-2 overflow-hidden",children:(0,Tt.jsx)("div",{className:"h-full ".concat(null===(s=TR[l])||void 0===s||null===(i=s.bg)||void 0===i?void 0:i.replace("/20","")),style:{width:"".concat(c,"%"),transition:"width 0.5s ease-out"}})})]})]})},l)})})]}),(0,Tt.jsx)(oL,{profiles:n,isAdmin:m}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Tt.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(ln.A,{className:"w-5 h-5 text-primary"}),"Community Pulse"]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-success",children:r.population.onlineNow}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Online"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold",children:r.population.membersTotal-r.population.onlineNow}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Offline"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-primary",children:r.population.newMembersWeek}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"New Members (7d)"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-cyan-400",children:i.stats.messagesLast24h}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Comms Activity (24h)"})]})]}),(0,Tt.jsxs)("button",{onClick:()=>{m?c("incidents"):Pt.oR.error("Access denied",{description:"Incident Reports are admin-only."})},className:"mt-4 w-full p-3 rounded-lg flex items-center justify-between transition-colors ".concat(m?"bg-amber-500/10 border border-amber-500/30 hover:bg-amber-500/20":"bg-muted/20 border border-border"),"data-testid":"open-incidents-row",children:[(0,Tt.jsxs)("span",{className:"text-sm flex items-center gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 ".concat(m?"text-amber-400":"text-muted-foreground")}),"Open Incidents",!m&&(0,Tt.jsx)(Nn,{className:"w-3 h-3 text-muted-foreground"})]}),(0,Tt.jsx)("span",{className:"text-lg font-bold ".concat(m?"text-amber-400":"text-muted-foreground"),children:m?j:"\u2014"})]})]}),r.singlePointsOfFailure.length>0&&(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 border border-destructive/30",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(aa,{className:"w-4 h-4 text-destructive"}),"Single Points of Failure",(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground ml-auto",children:"Skills with 0-1 qualified members"})]}),(0,Tt.jsx)("div",{className:"space-y-2",children:r.singlePointsOfFailure.slice(0,4).map(e=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-background/50",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(bL,{priority:e.priority}),(0,Tt.jsx)("span",{className:"text-sm font-medium",children:e.label}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",e.holdersTotal," total, ",e.holdersOnline," online)"]})]}),(0,Tt.jsxs)("div",{className:"flex gap-1",children:[(0,Tt.jsxs)(gn.$,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:()=>{Pt.oR.success("Training task created",{description:"Task for ".concat(e.label," training added.")})},children:[(0,Tt.jsx)(hT,{className:"w-3 h-3 mr-1"}),"Task"]}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:()=>d({skills:[e.tagKey]}),children:"Candidates"})]})]},e.tagKey))})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(Xr,{className:"w-4 h-4 text-success"}),"Top Strengths"]}),(0,Tt.jsxs)("button",{onClick:()=>c("analytics"),className:"text-xs text-primary hover:underline flex items-center gap-1",children:["Full breakdown ",(0,Tt.jsx)(Pn,{className:"w-3 h-3"})]})]}),(0,Tt.jsx)("div",{className:"space-y-2",children:r.topStrengths.map(e=>(0,Tt.jsxs)("button",{onClick:()=>d({skills:[e.tagKey]}),className:"w-full flex items-center justify-between p-2 rounded-lg hover:bg-white/5 transition-colors",children:[(0,Tt.jsx)("span",{className:"text-sm",children:e.label}),(0,Tt.jsxs)("span",{className:"text-xs",children:[(0,Tt.jsx)("span",{className:"font-medium",children:e.countTotal}),(0,Tt.jsxs)("span",{className:"text-success",children:[" / ",e.countOnline," online"]})]})]},e.tagKey))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 text-warning"}),"Skill Gaps"]}),(0,Tt.jsxs)("button",{onClick:()=>c("analytics"),className:"text-xs text-primary hover:underline flex items-center gap-1",children:["Full breakdown ",(0,Tt.jsx)(Pn,{className:"w-3 h-3"})]})]}),(0,Tt.jsx)("div",{className:"space-y-2",children:r.topGaps.map(e=>(0,Tt.jsxs)("button",{onClick:()=>d({skills:[e.tagKey]}),className:"w-full flex items-center justify-between p-2 rounded-lg hover:bg-white/5 transition-colors",children:[(0,Tt.jsx)("span",{className:"text-sm",children:e.label}),(0,Tt.jsxs)("span",{className:"text-xs ".concat(0===e.countTotal?"text-destructive":1===e.countTotal?"text-warning":""),children:[(0,Tt.jsx)("span",{className:"font-medium",children:e.countTotal}),(0,Tt.jsxs)("span",{className:"text-success",children:[" / ",e.countOnline," online"]})]})]},e.tagKey))})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(wr,{className:"w-4 h-4 text-primary"}),"System Recommendations"]}),(0,Tt.jsx)("div",{className:"space-y-2",children:r.recommendations.filter(e=>!b.has(e.id)).slice(0,4).map(e=>{var t,n;return(0,Tt.jsxs)("div",{className:"p-3 rounded-lg bg-background/50 border border-border/50",children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Tt.jsx)(bL,{priority:e.priority}),(0,Tt.jsx)("span",{className:"text-sm font-medium",children:e.title})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:e.detail})]}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"ghost",className:"h-6 text-[10px]",onClick:()=>y(t=>new Set([...t,e.id])),children:(0,Tt.jsx)(pT,{className:"w-3 h-3"})})]}),(0,Tt.jsxs)("div",{className:"flex gap-1 mt-2",children:[(null===(t=e.actions)||void 0===t?void 0:t.includes("Create Training Task"))&&(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",className:"h-6 text-[10px]",onClick:()=>Pt.oR.success("Task created"),children:[(0,Tt.jsx)(fn,{className:"w-3 h-3 mr-1"}),"Task"]}),(null===(n=e.actions)||void 0===n?void 0:n.includes("Start Discussion"))&&(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",className:"h-6 text-[10px]",onClick:()=>Pt.oR.success("Discussion started"),children:[(0,Tt.jsx)(fT,{className:"w-3 h-3 mr-1"}),"Discuss"]}),e.filterSkill&&(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",className:"h-6 text-[10px]",onClick:()=>d({skills:[e.filterSkill]}),children:[(0,Tt.jsx)(Lt.A,{className:"w-3 h-3 mr-1"}),"Members"]})]})]},e.id)})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(Lt.A,{className:"w-4 h-4 text-primary"}),"Member Roster"]}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"ghost",onClick:()=>c("directory"),className:"text-xs",children:["View All ",(0,Tt.jsx)(Pn,{className:"w-3 h-3 ml-1"})]})]}),(0,Tt.jsxs)("div",{className:"relative mb-3",children:[(0,Tt.jsx)(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,Tt.jsx)(yn,{placeholder:"Search members...",className:"pl-9 h-9",onFocus:()=>c("directory"),"data-testid":"roster-search"})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:n.slice(0,8).map(e=>{pL(e,null===h||void 0===h?void 0:h.role);return(0,Tt.jsxs)("button",{onClick:()=>d({q:e.displayName}),className:"glass rounded-lg p-2 text-left hover:bg-white/5 transition-colors",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500/50 to-fuchsia-500/50 flex items-center justify-center text-xs font-bold",children:e.displayName.split(" ").map(e=>e[0]).join("")}),(0,Tt.jsx)(vL,{online:e.stats.online})]}),(0,Tt.jsx)("p",{className:"text-xs font-medium truncate",children:e.displayName}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground truncate",children:e.class||"Member"})]},e.userId)})})]})]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(xT,{className:"w-4 h-4 text-cyan-400"}),"Pinned Bulletins"]}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"ghost",onClick:()=>c("comms"),className:"text-xs",children:["View all ",(0,Tt.jsx)(Pn,{className:"w-3 h-3 ml-1"})]})]}),(0,Tt.jsx)("div",{className:"space-y-2",children:i.pinnedBulletins.map(e=>(0,Tt.jsx)("div",{className:"p-2 rounded-lg bg-background/50 hover:bg-white/5 transition-colors cursor-pointer",children:(0,Tt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full mt-1.5 ".concat("warning"===e.severity?"bg-warning":"bg-primary")}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,Tt.jsxs)("p",{className:"text-[10px] text-muted-foreground",children:[e.author," \u2022 ",new Date(e.createdAt).toLocaleDateString()]})]})]})},e.id))}),(0,Tt.jsxs)("div",{className:"mt-4 pt-3 border-t border-border/50",children:[(0,Tt.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Recent Activity"}),(0,Tt.jsx)("div",{className:"space-y-1",children:i.recentActivity.slice(0,3).map((e,t)=>(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.label},t))})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(gT,{className:"w-4 h-4 text-violet-400"}),"Data Quality"]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Profile Completeness"}),(0,Tt.jsxs)("span",{className:"font-medium",children:[r.dataQuality.avgCompleteness,"%"]})]}),(0,Tt.jsx)("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:(0,Tt.jsx)("div",{className:"h-full bg-gradient-to-r from-primary to-accent",style:{width:"".concat(r.dataQuality.avgCompleteness,"%")}})})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,Tt.jsxs)("div",{className:"p-2 rounded bg-background/50",children:[(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"Incomplete"}),(0,Tt.jsx)("p",{className:"font-bold text-warning",children:r.dataQuality.incompleteProfiles})]}),(0,Tt.jsxs)("div",{className:"p-2 rounded bg-background/50",children:[(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"Missing Skills"}),(0,Tt.jsx)("p",{className:"font-bold text-warning",children:r.dataQuality.missingSkills})]})]}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",className:"w-full text-xs",onClick:()=>v(!0),children:[(0,Tt.jsx)(rn,{className:"w-3 h-3 mr-1"}),"Ask members to complete profiles"]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(vT,{className:"w-4 h-4 text-emerald-400"}),"Languages"]}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1",children:r.languages.slice(0,8).map(e=>{var t;return(0,Tt.jsxs)("button",{onClick:()=>d({languages:[e.code]}),className:"px-2 py-1 rounded bg-secondary hover:bg-secondary/80 text-xs",children:[null===(t=LR[e.code])||void 0===t?void 0:t.flag," ",e.label," (",e.count,")"]},e.code)})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(Nn,{className:"w-4 h-4 text-amber-400"}),"My Privacy Settings"]}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",className:"w-full",onClick:()=>x(!0),children:[(0,Tt.jsx)(kn,{className:"w-3 h-3 mr-1"}),"Manage my privacy"]})]}),m&&(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 border border-amber-500/30",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(aT,{className:"w-4 h-4 text-amber-400"}),"Admin Governance"]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,Tt.jsxs)("div",{className:"p-2 rounded bg-amber-500/10",children:[(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"Open Incidents"}),(0,Tt.jsx)("p",{className:"font-bold text-amber-400",children:j})]}),(0,Tt.jsxs)("div",{className:"p-2 rounded bg-amber-500/10",children:[(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"Last 7 Days"}),(0,Tt.jsx)("p",{className:"font-bold text-amber-400",children:w})]})]}),(0,Tt.jsxs)("div",{className:"text-xs",children:[(0,Tt.jsx)("p",{className:"text-muted-foreground mb-1",children:"Members Below Thresholds:"}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded bg-warning/20 text-warning",children:["Monitor: ",k.monitor]}),(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded bg-orange-500/20 text-orange-400",children:["Restricted: ",k.restricted]}),(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded bg-destructive/20 text-destructive",children:["Critical: ",k.intervention]})]})]}),N.length>0&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"At-Risk Members:"}),(0,Tt.jsx)("div",{className:"space-y-1",children:N.map(e=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 rounded bg-background/50",children:[(0,Tt.jsx)("span",{className:"text-xs",children:e.displayName}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xs font-bold ".concat("intervention"===e.flag?"text-destructive":"restricted"===e.flag?"text-orange-400":"text-warning"),children:e.score}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"ghost",className:"h-6 text-[10px]",onClick:()=>c("incidents"),children:"Review"})]})]},e.userId))})]})]})]})]})]}),(0,Tt.jsx)(AR,{open:f,onOpenChange:x,children:(0,Tt.jsxs)(ER,{children:[(0,Tt.jsxs)(OR,{children:[(0,Tt.jsx)(MR,{children:"Privacy Settings"}),(0,Tt.jsx)(PR,{children:"Control what information is visible to other members"})]}),(0,Tt.jsx)(OL,{currentUser:h,onUpdate:p,onClose:()=>x(!1)})]})}),(0,Tt.jsx)(AR,{open:g,onOpenChange:v,children:(0,Tt.jsxs)(ER,{children:[(0,Tt.jsxs)(OR,{children:[(0,Tt.jsx)(MR,{children:"Profile Completion Reminder"}),(0,Tt.jsx)(PR,{children:"Copy this announcement to encourage profile updates"})]}),(0,Tt.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,Tt.jsxs)("div",{className:"p-4 rounded-lg bg-secondary text-sm",children:[(0,Tt.jsx)("p",{className:"font-medium mb-2",children:"\ud83d\udccb Action Needed: Complete Your Profile"}),(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"Hey team! We noticed some profiles are missing key information. Please take a moment to update your skills, languages, and availability status. Complete profiles help us coordinate better during emergencies."})]}),(0,Tt.jsxs)(gn.$,{className:"w-full",onClick:()=>{navigator.clipboard.writeText("\ud83d\udccb Action Needed: Complete Your Profile\n\nHey team! We noticed some profiles are missing key information. Please take a moment to update your skills, languages, and availability status. Complete profiles help us coordinate better during emergencies."),Pt.oR.success("Copied to clipboard")},children:[(0,Tt.jsx)(fr.A,{className:"w-4 h-4 mr-2"}),"Copy Announcement"]})]})]})})]})},OL=e=>{let{currentUser:n,onUpdate:r,onClose:a}=e;const[i,l]=(0,t.useState)((null===n||void 0===n?void 0:n.privacy)||{showAge:!1,showHeightWeight:!1,showEducation:!0});return(0,Tt.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,Tt.jsx)("div",{className:"space-y-3",children:[{key:"showAge",label:"Share my age",desc:"Allow members to see your age"},{key:"showHeightWeight",label:"Share height & weight",desc:"Allow members to see physical stats"},{key:"showEducation",label:"Share education level",desc:"Allow members to see your education"}].map(e=>(0,Tt.jsxs)("label",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-secondary cursor-pointer",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:i[e.key],onChange:t=>l((0,s.A)((0,s.A)({},i),{},{[e.key]:t.target.checked})),className:"mt-1"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"font-medium text-sm",children:e.label}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:e.desc})]})]},e.key))}),(0,Tt.jsx)(gn.$,{onClick:()=>{null===r||void 0===r||r(i),Pt.oR.success("Privacy settings updated"),a()},className:"w-full",children:"Save Privacy Settings"})]})},ML=e=>{let{profiles:n,memberScores:r,scoreConfig:a,initialFilters:s,onOpenProfile:i}=e;const{currentUser:l,isAdmin:o}=dL(),c=(null===l||void 0===l?void 0:l.role)||"guest",[d,u]=(0,t.useState)((null===s||void 0===s?void 0:s.q)||""),[m,h]=(0,t.useState)((null===s||void 0===s?void 0:s.online)||!1),[p,f]=(0,t.useState)((null===s||void 0===s?void 0:s.skills)||[]),[x,g]=(0,t.useState)((null===s||void 0===s?void 0:s.languages)||[]),[v,b]=(0,t.useState)(""),[y,j]=(0,t.useState)(""),[w,N]=(0,t.useState)("online"),[k,A]=(0,t.useState)(!1),[_,C]=(0,t.useState)(!1),S=(0,t.useMemo)(()=>Object.keys(DR),[]),E=(0,t.useMemo)(()=>Object.keys(LR),[]),O=(0,t.useMemo)(()=>[...new Set(n.map(e=>e.class).filter(Boolean))],[n]),M=(0,t.useMemo)(()=>{let e=n.map(e=>pL(e,c));if(d){const t=d.toLowerCase();e=e.filter(e=>e.displayName.toLowerCase().includes(t)||e.skills.some(e=>IR(e).toLowerCase().includes(t))||e.languages.some(e=>zR(e).toLowerCase().includes(t)))}return m&&(e=e.filter(e=>e.stats.online)),p.length>0&&(e=e.filter(e=>p.some(t=>e.skills.includes(t)))),x.length>0&&(e=e.filter(e=>x.some(t=>e.languages.includes(t)))),v&&(e=e.filter(e=>e.educationLevel===v)),y&&(e=e.filter(e=>e.class===y)),"online"===w?e.sort((e,t)=>(t.stats.online?1:0)-(e.stats.online?1:0)):"name"===w?e.sort((e,t)=>e.displayName.localeCompare(t.displayName)):"skills"===w&&e.sort((e,t)=>t.skills.length-e.skills.length),e},[n,c,d,m,p,x,v,y,w]),P=()=>{u(""),h(!1),f([]),g([]),b(""),j("")},T=d||m||p.length>0||x.length>0||v||y;return(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Tt.jsxs)("div",{className:"relative flex-1",children:[(0,Tt.jsx)(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,Tt.jsx)(yn,{placeholder:"Search name, skills, or languages...",value:d,onChange:e=>u(e.target.value),className:"pl-9","data-testid":"directory-search"})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsxs)(gn.$,{variant:m?"default":"outline",size:"sm",onClick:()=>h(!m),className:"gap-1",children:[(0,Tt.jsx)(vL,{online:!0}),"Online Only"]}),(0,Tt.jsxs)(gn.$,{variant:k?"default":"outline",size:"sm",onClick:()=>A(!k),className:"gap-1",children:[(0,Tt.jsx)(Sn,{className:"w-4 h-4"}),"Filters",T&&(0,Tt.jsx)("span",{className:"w-2 h-2 rounded-full bg-primary"})]}),(0,Tt.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"bg-secondary rounded-lg px-3 text-sm",children:[(0,Tt.jsx)("option",{value:"online",children:"Online First"}),(0,Tt.jsx)("option",{value:"name",children:"Name A-Z"}),(0,Tt.jsx)("option",{value:"skills",children:"Most Skilled"})]})]})]}),k&&(0,Tt.jsxs)("div",{className:"mt-4 pt-4 border-t border-border space-y-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Skills"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:S.slice(0,20).map(e=>(0,Tt.jsx)("button",{onClick:()=>f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),className:"px-2 py-1 rounded text-xs transition-colors ".concat(p.includes(e)?"bg-primary text-white":"bg-secondary hover:bg-secondary/80"),children:IR(e)},e))})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Languages"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1",children:E.map(e=>{var t,n;return(0,Tt.jsxs)("button",{onClick:()=>g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),className:"px-2 py-1 rounded text-xs transition-colors ".concat(x.includes(e)?"bg-primary text-white":"bg-secondary hover:bg-secondary/80"),children:[null===(t=LR[e])||void 0===t?void 0:t.flag," ",null===(n=LR[e])||void 0===n?void 0:n.label]},e)})})]}),(0,Tt.jsxs)("div",{className:"flex gap-3",children:[(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Education"}),(0,Tt.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"w-full bg-secondary rounded-lg px-3 py-2 text-sm",children:[(0,Tt.jsx)("option",{value:"",children:"Any"}),Object.entries(FR).map(e=>{let[t,n]=e;return(0,Tt.jsx)("option",{value:t,children:n.label},t)})]})]}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Role/Class"}),(0,Tt.jsxs)("select",{value:y,onChange:e=>j(e.target.value),className:"w-full bg-secondary rounded-lg px-3 py-2 text-sm",children:[(0,Tt.jsx)("option",{value:"",children:"Any"}),O.map(e=>(0,Tt.jsx)("option",{value:e,children:e},e))]})]})]}),T&&(0,Tt.jsxs)(gn.$,{variant:"ghost",size:"sm",onClick:P,className:"text-xs",children:[(0,Tt.jsx)(Yt.A,{className:"w-3 h-3 mr-1"}),"Clear all filters"]})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Tt.jsxs)("span",{className:"text-muted-foreground",children:["Showing ",(0,Tt.jsx)("span",{className:"font-medium text-foreground",children:M.length})," of ",n.length," members"]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[T&&(0,Tt.jsx)("span",{className:"text-xs text-primary",children:"Filtered results"}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",onClick:()=>C(!0),className:"gap-1.5 bg-gradient-to-r from-violet-500/10 to-fuchsia-500/10 border-violet-500/30 hover:border-violet-500/50","data-testid":"team-builder-btn",children:[(0,Tt.jsx)(dT,{className:"w-4 h-4 text-violet-400"}),"Team Builder",(0,Tt.jsx)(Ft,{className:"w-3 h-3 text-fuchsia-400"})]})]})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:M.map(e=>(0,Tt.jsx)(DL,{profile:e,score:r[e.userId],scoreConfig:a,onOpen:()=>i(e),isAdmin:o},e.userId))}),0===M.length&&(0,Tt.jsxs)("div",{className:"text-center py-12 glass rounded-xl",children:[(0,Tt.jsx)(Lt.A,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground/50"}),(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"No members match your filters"}),(0,Tt.jsx)(gn.$,{variant:"link",onClick:P,className:"mt-2",children:"Clear filters"})]}),(0,Tt.jsx)(TL,{isOpen:_,onClose:()=>C(!1),profiles:n,memberScores:r})]})},PL=[{id:"emergency-response",name:"Emergency Response",icon:Gt.A,color:"text-destructive",bg:"bg-destructive/20",description:"Quick deployment for urgent situations",requiredSkills:["Medical.FirstAid","Medical.Trauma","Security.Perimeter","Comms.HAM"],optionalSkills:["Medical.EMT","Logistics.Navigation"],minSize:3,maxSize:6},{id:"supply-run",name:"Supply Run",icon:br,color:"text-emerald-400",bg:"bg-emerald-500/20",description:"Procurement and logistics mission",requiredSkills:["Logistics.Navigation","Security.SelfDefense","Logistics.Transport"],optionalSkills:["Logistics.Inventory","FoodWater.Foraging"],minSize:2,maxSize:4},{id:"infrastructure",name:"Infrastructure Repair",icon:oT,color:"text-orange-400",bg:"bg-orange-500/20",description:"Building and maintenance tasks",requiredSkills:["Engineering.Electrical","Engineering.Plumbing"],optionalSkills:["Engineering.Carpentry","Engineering.Welding","Engineering.SolarSystems"],minSize:2,maxSize:5},{id:"medical-team",name:"Medical Team",icon:iT,color:"text-rose-400",bg:"bg-rose-500/20",description:"Healthcare and wellness support",requiredSkills:["Medical.FirstAid","Medical.CPR"],optionalSkills:["Medical.Trauma","Medical.Nursing","Medical.EMT"],minSize:2,maxSize:4},{id:"comms-setup",name:"Communications Setup",icon:mn.A,color:"text-cyan-400",bg:"bg-cyan-500/20",description:"Establish or maintain comms network",requiredSkills:["Comms.HAM","Comms.Networking"],optionalSkills:["Engineering.Electronics","Comms.SignalProcessing"],minSize:2,maxSize:3},{id:"custom",name:"Custom Team",icon:bT,color:"text-violet-400",bg:"bg-violet-500/20",description:"Build your own team requirements",requiredSkills:[],optionalSkills:[],minSize:1,maxSize:10}],TL=e=>{var n,r,a,i;let{isOpen:l,onClose:o,profiles:c,memberScores:d}=e;const[u,m]=(0,t.useState)(1),[h,p]=(0,t.useState)(null),[f,x]=(0,t.useState)([]),[g,v]=(0,t.useState)([]),[b,y]=(0,t.useState)(!0),[j,w]=(0,t.useState)(4),[N,k]=(0,t.useState)(null),[A,_]=(0,t.useState)(!1),[C,S]=(0,t.useState)([]),[E,O]=(0,t.useState)(""),[M,P]=(0,t.useState)("Users"),[T,D]=(0,t.useState)("violet"),[I,R]=(0,t.useState)(!1),[L,z]=(0,t.useState)(0),F=(0,t.useMemo)(()=>c.length,[c]),B=(0,t.useMemo)(()=>Math.min(F,12),[F]),U=(0,t.useMemo)(()=>Object.keys(DR),[]),W=[{id:"Users",icon:Lt.A,label:"Team"},{id:"Shield",icon:Wt.A,label:"Security"},{id:"Stethoscope",icon:iT,label:"Medical"},{id:"Radio",icon:mn.A,label:"Comms"},{id:"Wrench",icon:oT,label:"Engineering"},{id:"Compass",icon:br,label:"Logistics"},{id:"Utensils",icon:lT,label:"Food/Water"},{id:"Target",icon:ra,label:"Mission"}],H=[{id:"violet",bg:"bg-violet-500/20",text:"text-violet-400",border:"border-violet-500/30"},{id:"cyan",bg:"bg-cyan-500/20",text:"text-cyan-400",border:"border-cyan-500/30"},{id:"rose",bg:"bg-rose-500/20",text:"text-rose-400",border:"border-rose-500/30"},{id:"amber",bg:"bg-amber-500/20",text:"text-amber-400",border:"border-amber-500/30"},{id:"emerald",bg:"bg-emerald-500/20",text:"text-emerald-400",border:"border-emerald-500/30"},{id:"blue",bg:"bg-blue-500/20",text:"text-blue-400",border:"border-blue-500/30"}],q=(0,t.useCallback)(()=>{_(!0),setTimeout(()=>{const e=c.map(e=>{let t=0,n=0,r=0;f.forEach(r=>{e.skills.includes(r)&&(t+=100,n++)}),g.forEach(n=>{e.skills.includes(n)&&(t+=30,r++)}),b&&e.stats.online&&(t+=50);const a=[...new Set([...f,...g].map(RR))];e.skills.forEach(e=>{a.includes(RR(e))&&(t+=5)});const i=d[e.userId];return"intervention"===(null===i||void 0===i?void 0:i.flag)&&(t-=30),"restricted"===(null===i||void 0===i?void 0:i.flag)&&(t-=15),(0,s.A)((0,s.A)({},e),{},{teamScore:t,matchedRequired:n,matchedOptional:r,requiredCoverage:f.length>0?n/f.length:1,isPlaceholder:!1})});e.sort((e,t)=>t.teamScore-e.teamScore);const t=[],n=new Set,r=new Set,a=Math.min(j,B);for(const s of e){if(t.length>=a)break;const e=f.some(e=>s.skills.includes(e)&&!n.has(e));(e||n.size>=f.length)&&(t.push(s),s.skills.forEach(e=>{f.includes(e)&&n.add(e),g.includes(e)&&r.add(e)}))}for(const s of e){if(t.length>=a)break;t.find(e=>e.userId===s.userId)||(t.push(s),s.skills.forEach(e=>{f.includes(e)&&n.add(e),g.includes(e)&&r.add(e)}))}const i=[];if(I&&L>0)for(let s=0;s<L;s++)i.push({userId:"placeholder-".concat(s),displayName:"TBD Slot ".concat(s+1),class:"Placeholder",skills:[],stats:{online:!1},isPlaceholder:!0,teamScore:0,requiredCoverage:0});const l=f.map(e=>({skill:e,label:IR(e),isCovered:n.has(e),membersCovering:t.filter(t=>{var n;return null===(n=t.skills)||void 0===n?void 0:n.includes(e)}).length})),o={totalMembers:t.length,totalWithPlaceholders:t.length+i.length,onlineMembers:t.filter(e=>e.stats.online).length,requiredCoverage:f.length>0?Math.round(n.size/f.length*100):100,optionalCoverage:g.length>0?Math.round(r.size/g.length*100):100,missingRequired:f.filter(e=>!n.has(e)),coveredOptional:[...r],uniqueSkills:[...new Set(t.flatMap(e=>e.skills||[]))].length,rolesCoverage:l,placeholderCount:i.length,coverageGrade:n.size===f.length?"COMPLETE":n.size>=.75*f.length?"GOOD":n.size>=.5*f.length?"PARTIAL":"INSUFFICIENT"},u=H.find(e=>e.id===T)||H[0],p=W.find(e=>e.id===M)||W[0];k({members:[...t,...i],stats:o,name:E||"".concat((null===h||void 0===h?void 0:h.name)||"Custom"," Team"),icon:p,color:u}),_(!1),m(3)},800)},[c,d,f,g,b,j,B,I,L,E,M,T,h]);return(0,Tt.jsx)(AR,{open:l,onOpenChange:o,children:(0,Tt.jsxs)(ER,{className:"w-full sm:max-w-xl overflow-y-auto",children:[(0,Tt.jsx)(OR,{children:(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-xl bg-gradient-to-br from-violet-500/20 to-fuchsia-500/20",children:(0,Tt.jsx)(dT,{className:"w-5 h-5 text-violet-400"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)(MR,{className:"flex items-center gap-2",children:["Team Builder",(0,Tt.jsx)(Ft,{className:"w-4 h-4 text-fuchsia-400"})]}),(0,Tt.jsx)(PR,{children:"Build optimal teams based on skill requirements"})]})]})}),(0,Tt.jsx)("div",{className:"flex items-center justify-center gap-2 my-6",children:[1,2,3].map(e=>(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-colors ".concat(u>=e?"bg-primary text-white":"bg-secondary text-muted-foreground"),children:e}),e<3&&(0,Tt.jsx)("div",{className:"w-8 h-0.5 ".concat(u>e?"bg-primary":"bg-secondary")})]},e))}),1===u&&(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold",children:"Select Team Type"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 gap-3",children:PL.map(e=>(0,Tt.jsxs)("button",{onClick:()=>(e=>{p(e),x(e.requiredSkills||[]),v(e.optionalSkills||[]),w(Math.min(e.maxSize,Math.max(e.minSize,4))),O(e.name),m(2)})(e),className:"p-4 rounded-xl glass hover:bg-white/5 transition-colors text-left group",children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-lg ".concat(e.bg," flex items-center justify-center mb-2"),children:(0,Tt.jsx)(e.icon,{className:"w-5 h-5 ".concat(e.color)})}),(0,Tt.jsx)("h4",{className:"font-medium text-sm",children:e.name}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.description}),(0,Tt.jsx)(Pn,{className:"w-4 h-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity absolute top-4 right-4"})]},e.id))}),C.length>0&&(0,Tt.jsxs)("div",{className:"mt-6",children:[(0,Tt.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Saved Teams"}),(0,Tt.jsx)("div",{className:"space-y-2",children:C.slice(-3).map((e,t)=>(0,Tt.jsxs)("div",{className:"p-3 rounded-lg bg-secondary/50 flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.stats.totalMembers," members"]})]}),(0,Tt.jsx)(sa,{className:"w-4 h-4 text-primary"})]},t))})]})]}),2===u&&(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)(gn.$,{variant:"ghost",size:"sm",onClick:()=>m(1),className:"gap-1",children:[(0,Tt.jsx)(yT,{className:"w-4 h-4"}),"Back"]}),(0,Tt.jsx)("h3",{className:"font-semibold",children:(null===h||void 0===h?void 0:h.name)||"Custom Team"}),(0,Tt.jsx)("div",{})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Team Name"}),(0,Tt.jsx)(yn,{value:E,onChange:e=>O(e.target.value),placeholder:"Enter custom team name...",className:"w-full"})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Team Icon"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-2",children:W.map(e=>{const t=e.icon,n=H.find(e=>e.id===T);return(0,Tt.jsx)("button",{onClick:()=>P(e.id),className:"p-2 rounded-lg transition-colors ".concat(M===e.id?"".concat(null===n||void 0===n?void 0:n.bg," ").concat(null===n||void 0===n?void 0:n.border," border"):"bg-secondary hover:bg-secondary/80"),title:e.label,children:(0,Tt.jsx)(t,{className:"w-4 h-4 ".concat(M===e.id?null===n||void 0===n?void 0:n.text:"")})},e.id)})})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Team Color"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-2",children:H.map(e=>(0,Tt.jsx)("button",{onClick:()=>D(e.id),className:"w-8 h-8 rounded-lg ".concat(e.bg," border-2 transition-all ").concat(T===e.id?"".concat(e.border," scale-110"):"border-transparent")},e.id))})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"text-sm font-medium mb-2 block flex items-center justify-between",children:[(0,Tt.jsxs)("span",{children:["Team Size: ",j]}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Max: ",B," (connected devices)"]})]}),(0,Tt.jsx)("input",{type:"range",min:(null===h||void 0===h?void 0:h.minSize)||1,max:Math.min((null===h||void 0===h?void 0:h.maxSize)||10,B),value:j,onChange:e=>w(parseInt(e.target.value)),className:"w-full accent-primary"}),(0,Tt.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,Tt.jsx)("span",{children:(null===h||void 0===h?void 0:h.minSize)||1}),(0,Tt.jsx)("span",{children:Math.min((null===h||void 0===h?void 0:h.maxSize)||10,B)})]})]}),(0,Tt.jsxs)("label",{className:"flex items-center gap-3 p-3 rounded-lg bg-secondary/50 cursor-pointer",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:b,onChange:e=>y(e.target.checked),className:"accent-primary"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-sm font-medium",children:"Prefer online members"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Prioritize members who are currently online"})]})]}),(0,Tt.jsxs)("div",{className:"p-3 rounded-lg bg-secondary/30 border border-dashed border-border",children:[(0,Tt.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:I,onChange:e=>R(e.target.checked),className:"accent-primary"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("p",{className:"text-sm font-medium flex items-center gap-2",children:["Include Placeholder Slots",(0,Tt.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-amber-500/20 text-amber-400",children:"SIMULATION"})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Add TBD slots for planning future recruitment"})]})]}),I&&(0,Tt.jsxs)("div",{className:"mt-3 pl-7",children:[(0,Tt.jsxs)("label",{className:"text-xs text-muted-foreground mb-1 block",children:["Placeholder slots: ",L]}),(0,Tt.jsx)("input",{type:"range",min:0,max:Math.max(0,B-j),value:L,onChange:e=>z(parseInt(e.target.value)),className:"w-full accent-amber-500"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"text-sm font-medium mb-2 block flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-destructive",children:"*"})," Required Skills"]}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1 max-h-32 overflow-y-auto p-2 rounded-lg bg-secondary/30",children:U.map(e=>(0,Tt.jsx)("button",{onClick:()=>x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),className:"px-2 py-1 rounded text-xs transition-colors ".concat(f.includes(e)?"bg-destructive/20 text-destructive border border-destructive/30":"bg-secondary hover:bg-secondary/80"),children:IR(e)},e))}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[f.length," required"]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Nice-to-have Skills"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1 max-h-32 overflow-y-auto p-2 rounded-lg bg-secondary/30",children:U.filter(e=>!f.includes(e)).map(e=>(0,Tt.jsx)("button",{onClick:()=>v(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),className:"px-2 py-1 rounded text-xs transition-colors ".concat(g.includes(e)?"bg-primary/20 text-primary border border-primary/30":"bg-secondary hover:bg-secondary/80"),children:IR(e)},e))}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[g.length," optional"]})]}),(0,Tt.jsxs)(gn.$,{className:"w-full gap-2",onClick:q,disabled:0===f.length&&0===g.length,children:[(0,Tt.jsx)(Ft,{className:"w-4 h-4"}),"Generate Optimal Team"]})]}),3===u&&(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)(gn.$,{variant:"ghost",size:"sm",onClick:()=>m(2),className:"gap-1",children:[(0,Tt.jsx)(yT,{className:"w-4 h-4"}),"Adjust"]}),(0,Tt.jsx)("h3",{className:"font-semibold",children:"Generated Team"}),(0,Tt.jsxs)(gn.$,{variant:"ghost",size:"sm",onClick:()=>{m(1),p(null),x([]),v([]),k(null),O(""),P("Users"),D("violet"),R(!1),z(0)},className:"gap-1",children:[(0,Tt.jsx)(tn,{className:"w-4 h-4"}),"New"]})]}),A?(0,Tt.jsxs)("div",{className:"py-12 text-center",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-gradient-to-r from-violet-500 to-fuchsia-500 animate-spin flex items-center justify-center",children:(0,Tt.jsx)(Ft,{className:"w-6 h-6 text-white"})}),(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"Building optimal team..."})]}):N&&(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"p-4 rounded-xl ".concat(null===(n=N.color)||void 0===n?void 0:n.bg," border ").concat(null===(r=N.color)||void 0===r?void 0:r.border),children:(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-3 rounded-xl ".concat(null===(a=N.color)||void 0===a?void 0:a.bg),children:N.icon&&(0,Tt.jsx)(N.icon.icon,{className:"w-6 h-6 ".concat(null===(i=N.color)||void 0===i?void 0:i.text)})}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("h3",{className:"font-bold text-lg",children:N.name}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,Tt.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-bold ".concat("COMPLETE"===N.stats.coverageGrade?"bg-success/20 text-success":"GOOD"===N.stats.coverageGrade?"bg-primary/20 text-primary":"PARTIAL"===N.stats.coverageGrade?"bg-warning/20 text-warning":"bg-destructive/20 text-destructive"),children:N.stats.coverageGrade}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[N.stats.totalWithPlaceholders," members",N.stats.placeholderCount>0&&" (".concat(N.stats.placeholderCount," TBD)")]})]})]})]})}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Tt.jsxs)("div",{className:"p-3 rounded-lg glass text-center",children:[(0,Tt.jsx)("p",{className:"text-2xl font-bold text-primary",children:N.stats.totalMembers}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active Members"})]}),(0,Tt.jsxs)("div",{className:"p-3 rounded-lg glass text-center",children:[(0,Tt.jsx)("p",{className:"text-2xl font-bold text-success",children:N.stats.onlineMembers}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Online Now"})]}),(0,Tt.jsxs)("div",{className:"p-3 rounded-lg glass text-center",children:[(0,Tt.jsxs)("p",{className:"text-2xl font-bold ".concat(100===N.stats.requiredCoverage?"text-success":"text-warning"),children:[N.stats.requiredCoverage,"%"]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Required Coverage"})]}),(0,Tt.jsxs)("div",{className:"p-3 rounded-lg glass text-center",children:[(0,Tt.jsx)("p",{className:"text-2xl font-bold",children:N.stats.uniqueSkills}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Unique Skills"})]})]}),N.stats.rolesCoverage&&N.stats.rolesCoverage.length>0&&(0,Tt.jsxs)("div",{className:"p-3 rounded-lg bg-secondary/30",children:[(0,Tt.jsx)("h4",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Role Coverage"}),(0,Tt.jsx)("div",{className:"space-y-1",children:N.stats.rolesCoverage.map(e=>(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.isCovered?"bg-success":"bg-destructive")}),(0,Tt.jsx)("span",{className:"text-xs flex-1",children:e.label}),(0,Tt.jsx)("span",{className:"text-xs font-medium ".concat(e.isCovered?"text-success":"text-destructive"),children:e.membersCovering>0?"".concat(e.membersCovering,"x"):"MISSING"})]},e.skill))})]}),N.stats.missingRequired.length>0&&(0,Tt.jsx)("div",{className:"p-3 rounded-lg bg-warning/10 border border-warning/30",children:(0,Tt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 text-warning mt-0.5"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-sm font-medium text-warning",children:"Missing Required Skills"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:N.stats.missingRequired.map(e=>(0,Tt.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded bg-warning/20",children:IR(e)},e))})]})]})}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsx)("h4",{className:"text-sm font-medium",children:"Team Members"}),N.members.map((e,t)=>{var n;return(0,Tt.jsxs)("div",{className:"p-3 rounded-lg flex items-center gap-3 ".concat(e.isPlaceholder?"bg-amber-500/10 border border-dashed border-amber-500/30":"glass"),children:[(0,Tt.jsxs)("div",{className:"relative",children:[0===t&&!e.isPlaceholder&&(0,Tt.jsx)(Mn,{className:"w-4 h-4 text-amber-400 absolute -top-2 -right-1"}),e.isPlaceholder?(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-full bg-amber-500/20 border-2 border-dashed border-amber-500/50 flex items-center justify-center",children:(0,Tt.jsx)(hT,{className:"w-4 h-4 text-amber-400"})}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ".concat(null===(n=N.color)||void 0===n?void 0:n.bg),children:e.displayName.split(" ").map(e=>e[0]).join("")}),(0,Tt.jsx)(vL,{online:e.stats.online})]})]}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("p",{className:"font-medium text-sm truncate ".concat(e.isPlaceholder?"text-amber-400":""),children:e.displayName}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:e.isPlaceholder?"To Be Assigned":e.class||"Member"})]}),!e.isPlaceholder&&(0,Tt.jsxs)("div",{className:"text-right",children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Match"}),(0,Tt.jsxs)("p",{className:"text-sm font-bold ".concat(e.requiredCoverage>=.5?"text-success":"text-warning"),children:[Math.round(100*e.requiredCoverage),"%"]})]})]},e.userId)})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsxs)(gn.$,{variant:"outline",className:"flex-1 gap-1",onClick:()=>{if(!N)return;const e=N.members.filter(e=>!e.isPlaceholder).map(e=>"".concat(e.displayName," (").concat(e.class||"Member",")")).join("\n");N.stats.placeholderCount>0&&(e+="\n\n+ ".concat(N.stats.placeholderCount," placeholder slot(s) to be filled")),navigator.clipboard.writeText(e),Pt.oR.success("Team list copied to clipboard")},children:[(0,Tt.jsx)(fr.A,{className:"w-4 h-4"}),"Copy List"]}),(0,Tt.jsxs)(gn.$,{variant:"outline",className:"flex-1 gap-1",onClick:()=>{if(!N)return;const e=N.name||"".concat((null===h||void 0===h?void 0:h.name)||"Custom"," Team - ").concat((new Date).toLocaleDateString());S(t=>[...t,(0,s.A)((0,s.A)({name:e},N),{},{savedAt:(new Date).toISOString()})]),Pt.oR.success("Team saved!",{description:e})},children:[(0,Tt.jsx)(sa,{className:"w-4 h-4"}),"Save Team"]}),(0,Tt.jsxs)(gn.$,{className:"flex-1 gap-1",onClick:()=>{Pt.oR.success("Team notified!",{description:"Members have been alerted of their assignment."})},children:[(0,Tt.jsx)(rn,{className:"w-4 h-4"}),"Notify"]})]})]})]})]})})},DL=e=>{var t,n,r,a,s,i,l,o,c,d,u;let{profile:m,score:h,scoreConfig:p,onOpen:f,isAdmin:x}=e;const g=m._redacted,v=BR[m.userStatus]||BR.OFFLINE,b=UR[null===(t=m.connection)||void 0===t?void 0:t.type]||UR.OFFLINE;return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 hover:bg-white/5 transition-colors cursor-pointer group",onClick:f,"data-testid":"profile-card-".concat(m.userId),children:[(0,Tt.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-violet-500/50 to-fuchsia-500/50 flex items-center justify-center font-bold text-sm",children:null===(n=m.displayName)||void 0===n?void 0:n.split(" ").map(e=>e[0]).join("").slice(0,2)}),(0,Tt.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-background ".concat(m.stats.online?"bg-success":"bg-muted-foreground")})]}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("h3",{className:"font-semibold truncate",children:m.displayName}),m.callsign&&(0,Tt.jsxs)("span",{className:"text-[10px] text-primary/70 font-mono",children:["\u201c",m.callsign,"\u201d"]})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:m.class||"Member"})]}),(0,Tt.jsx)("div",{className:"px-2 py-0.5 rounded text-[10px] font-bold ".concat(v.color),children:v.label})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3 mb-3 text-[10px]",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)("span",{className:b.color,children:"\u25cf"}),(0,Tt.jsx)("span",{className:"text-muted-foreground",children:b.label}),(null===(r=m.connection)||void 0===r?void 0:r.strength)>0&&(0,Tt.jsxs)("span",{className:"text-foreground font-medium",children:[m.connection.strength,"%"]})]}),(null===(a=m.device)||void 0===a?void 0:a.battery)>0&&(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)("span",{className:m.device.battery>50?"text-success":m.device.battery>20?"text-warning":"text-destructive",children:"\u26a1"}),(0,Tt.jsxs)("span",{children:[m.device.battery,"%"]})]}),(null===(s=m.medical)||void 0===s?void 0:s.bloodType)&&x&&(0,Tt.jsxs)("div",{className:"flex items-center gap-1 text-rose-400",children:[(0,Tt.jsx)("span",{children:"\ud83e\ude78"}),(0,Tt.jsx)("span",{children:m.medical.bloodType})]})]}),(0,Tt.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[m.skills.slice(0,3).map(e=>(0,Tt.jsx)(jL,{tagKey:e},e)),m.skills.length>3&&(0,Tt.jsxs)("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-secondary text-muted-foreground",children:["+",m.skills.length-3]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1 mb-3",children:[(0,Tt.jsx)(vT,{className:"w-3 h-3 text-muted-foreground"}),(0,Tt.jsxs)("div",{className:"flex gap-1 overflow-hidden",children:[m.languages.slice(0,3).map(e=>{var t;return(0,Tt.jsx)("span",{className:"text-[10px]",children:null===(t=LR[e])||void 0===t?void 0:t.flag},e)}),(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:m.languages.map(e=>zR(e)).join(", ")})]})]}),(null===(i=m.equipment)||void 0===i?void 0:i.length)>0&&(0,Tt.jsxs)("div",{className:"flex items-center gap-1 mb-3 text-[10px] text-muted-foreground",children:[(0,Tt.jsx)("span",{children:"\ud83c\udf92"}),(0,Tt.jsxs)("span",{children:[m.equipment.length," equipment items"]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-[10px] border-t border-border/50 pt-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Age: "}),null!==m.age?(0,Tt.jsxs)("span",{children:[m.age,"y"]}):(0,Tt.jsxs)("span",{className:"text-amber-400 flex items-center gap-0.5 inline-flex",children:[(0,Tt.jsx)(oa,{className:"w-2.5 h-2.5"}),"Hidden"]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Height: "}),null!==(null===(l=m.anthro)||void 0===l?void 0:l.heightIn)?(0,Tt.jsx)("span",{children:fL(null===(o=m.anthro)||void 0===o?void 0:o.heightIn)}):(0,Tt.jsxs)("span",{className:"text-amber-400 flex items-center gap-0.5 inline-flex",children:[(0,Tt.jsx)(oa,{className:"w-2.5 h-2.5"}),"Hidden"]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Weight: "}),null!==(null===(c=m.anthro)||void 0===c?void 0:c.weightLb)?(0,Tt.jsx)("span",{children:xL(null===(d=m.anthro)||void 0===d?void 0:d.weightLb)}):(0,Tt.jsxs)("span",{className:"text-amber-400 flex items-center gap-0.5 inline-flex",children:[(0,Tt.jsx)(oa,{className:"w-2.5 h-2.5"}),"Hidden"]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Edu: "}),null!==m.educationLevel?(0,Tt.jsx)("span",{children:(null===(u=FR[m.educationLevel])||void 0===u?void 0:u.label)||m.educationLevel}):(0,Tt.jsxs)("span",{className:"text-amber-400 flex items-center gap-0.5 inline-flex",children:[(0,Tt.jsx)(oa,{className:"w-2.5 h-2.5"}),"Hidden"]})]})]}),x&&h&&(0,Tt.jsxs)("div",{className:"mt-3 p-2 rounded-lg text-center ".concat("intervention"===h.flag?"bg-destructive/20 text-destructive":"restricted"===h.flag?"bg-orange-500/20 text-orange-400":"monitor"===h.flag?"bg-warning/20 text-warning":"bg-success/20 text-success"),children:[(0,Tt.jsx)("span",{className:"text-[10px]",children:"Community Score: "}),(0,Tt.jsx)("span",{className:"font-bold",children:h.score})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-border/50",children:[g&&!x?(0,Tt.jsxs)("p",{className:"text-[10px] text-muted-foreground flex items-center gap-1",children:[(0,Tt.jsx)(Nn,{className:"w-3 h-3"}),"Some fields hidden"]}):x?(0,Tt.jsxs)("p",{className:"text-[10px] text-amber-400 flex items-center gap-1",children:[(0,Tt.jsx)(aT,{className:"w-3 h-3"}),"Full profile"]}):(0,Tt.jsx)("div",{}),(0,Tt.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Tt.jsx)(gn.$,{size:"sm",variant:"ghost",className:"h-6 text-[10px]",onClick:e=>{e.stopPropagation(),f()},children:"View"}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"ghost",className:"h-6 text-[10px]",onClick:e=>{e.stopPropagation(),Pt.oR.info("DM feature coming soon")},children:"DM"})]})]})]})},IL=e=>{var n,r,a,s,i,l,o,c,d,u,m,h,p;let{profile:f,isOpen:x,onClose:g,memberScores:v,scoreConfig:b}=e;const{isAdmin:y}=dL(),j=null===v||void 0===v?void 0:v[null===f||void 0===f?void 0:f.userId],[w,N]=(0,t.useState)("profile");if(!f)return null;const k=BR[f.userStatus]||BR.OFFLINE,A=UR[null===(n=f.connection)||void 0===n?void 0:n.type]||UR.OFFLINE;return(0,Tt.jsx)(AR,{open:x,onOpenChange:g,children:(0,Tt.jsxs)(ER,{className:"w-full sm:max-w-xl overflow-y-auto",children:[(0,Tt.jsxs)("div",{className:"relative -mx-6 -mt-6 mb-6",children:[(0,Tt.jsx)("div",{className:"h-24 bg-gradient-to-br from-violet-500/30 to-fuchsia-500/30"}),(0,Tt.jsxs)("div",{className:"absolute inset-x-0 bottom-0 translate-y-1/2 flex items-end px-6",children:[(0,Tt.jsx)("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-violet-500/50 to-fuchsia-500/50 flex items-center justify-center font-bold text-2xl border-4 border-background shadow-xl",children:null===(r=f.displayName)||void 0===r?void 0:r.split(" ").map(e=>e[0]).join("").slice(0,2)}),(0,Tt.jsxs)("div",{className:"flex-1 ml-4 pb-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("h2",{className:"text-xl font-bold",children:f.displayName}),(0,Tt.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-bold ".concat(k.color),children:k.label})]}),f.callsign&&(0,Tt.jsxs)("p",{className:"text-primary font-mono font-bold",children:["\u201c",f.callsign,"\u201d"]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:f.class||"Community Member"})]})]})]}),(0,Tt.jsxs)("div",{className:"mt-14 space-y-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg glass",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(f.stats.online?"bg-success animate-pulse":"bg-muted-foreground")}),(0,Tt.jsx)("span",{className:A.color,children:A.label}),(null===(a=f.connection)||void 0===a?void 0:a.strength)>0&&(0,Tt.jsxs)("span",{className:"text-sm",children:[f.connection.strength,"% signal"]})]}),(null===(s=f.device)||void 0===s?void 0:s.battery)>0&&(0,Tt.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,Tt.jsxs)("span",{className:f.device.battery>50?"text-success":f.device.battery>20?"text-warning":"text-destructive",children:["\u26a1 ",f.device.battery,"%"]})})]}),(0,Tt.jsx)("div",{className:"flex border-b border-border/50",children:[{id:"profile",label:"Profile",icon:jn},{id:"medical",label:"Medical",icon:wn},{id:"equipment",label:"Equipment",icon:jT},{id:"device",label:"Device",icon:ln.A}].map(e=>(0,Tt.jsxs)("button",{onClick:()=>N(e.id),className:"flex-1 py-2 text-xs font-medium transition-colors relative flex items-center justify-center gap-1 ".concat(w===e.id?"text-primary":"text-muted-foreground hover:text-foreground"),children:[(0,Tt.jsx)(e.icon,{className:"w-3 h-3"}),e.label,w===e.id&&(0,Tt.jsx)("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]},e.id))}),"profile"===w&&(0,Tt.jsxs)("div",{className:"space-y-4",children:[y&&j&&(0,Tt.jsxs)("div",{className:"p-3 rounded-lg ".concat("intervention"===j.flag?"bg-destructive/10 border border-destructive/30":"restricted"===j.flag?"bg-orange-500/10 border border-orange-500/30":"monitor"===j.flag?"bg-warning/10 border border-warning/30":"bg-success/10 border border-success/30"),children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm font-medium",children:"Community Score"}),(0,Tt.jsx)("span",{className:"text-2xl font-bold ".concat("intervention"===j.flag?"text-destructive":"restricted"===j.flag?"text-orange-400":"monitor"===j.flag?"text-warning":"text-success"),children:j.score})]}),j.flag&&(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Status: ",j.flag]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-4",children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(jn,{className:"w-4 h-4 text-primary"}),"Physical Description"]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Tt.jsx)(RL,{label:"Age",value:null!==f.age?"".concat(f.age," years"):null}),(0,Tt.jsx)(RL,{label:"Height",value:fL(null===(i=f.anthro)||void 0===i?void 0:i.heightIn)}),(0,Tt.jsx)(RL,{label:"Weight",value:xL(null===(l=f.anthro)||void 0===l?void 0:l.weightLb)}),(0,Tt.jsx)(RL,{label:"Education",value:null!==f.educationLevel?null===(o=FR[f.educationLevel])||void 0===o?void 0:o.label:null})]}),f.physical&&(0,Tt.jsxs)("div",{className:"mt-3 pt-3 border-t border-border/50 grid grid-cols-2 gap-3 text-sm",children:[(0,Tt.jsx)(RL,{label:"Hair",value:f.physical.hairColor}),(0,Tt.jsx)(RL,{label:"Eyes",value:f.physical.eyeColor}),f.physical.distinguishingFeatures&&"None"!==f.physical.distinguishingFeatures&&(0,Tt.jsx)("div",{className:"col-span-2",children:(0,Tt.jsx)(RL,{label:"Features",value:f.physical.distinguishingFeatures})})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-4",children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(wT,{className:"w-4 h-4 text-amber-400"}),"Skills (",f.skills.length,")"]}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1",children:f.skills.map(e=>(0,Tt.jsx)(jL,{tagKey:e,size:"md"},e))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-4",children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(vT,{className:"w-4 h-4 text-cyan-400"}),"Languages"]}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1",children:f.languages.map(e=>(0,Tt.jsx)(wL,{code:e},e))})]}),(null===(c=f.certifications)||void 0===c?void 0:c.length)>0&&(0,Tt.jsxs)("div",{className:"glass rounded-lg p-4",children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(NT,{className:"w-4 h-4 text-violet-400"}),"Certifications"]}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1",children:f.certifications.map(e=>(0,Tt.jsx)("span",{className:"px-2 py-1 rounded bg-primary/20 text-primary text-xs",children:e},e))})]}),f.emergencyContact&&(0,Tt.jsxs)("div",{className:"glass rounded-lg p-4 border border-destructive/30",children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2 text-destructive",children:[(0,Tt.jsx)(aa,{className:"w-4 h-4"}),"Emergency Contact"]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Name: "}),f.emergencyContact.name]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Relation: "}),f.emergencyContact.relation]}),(0,Tt.jsxs)("div",{className:"col-span-2",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Contact: "}),f.emergencyContact.method]})]})]}),f.notes&&(0,Tt.jsxs)("div",{className:"glass rounded-lg p-4",children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(nn.A,{className:"w-4 h-4 text-muted-foreground"}),"Notes"]}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:f.notes})]})]}),"medical"===w&&(0,Tt.jsx)("div",{className:"space-y-4",children:f.medical?(0,Tt.jsx)(Tt.Fragment,{children:(0,Tt.jsxs)("div",{className:"glass rounded-lg p-4 border border-rose-500/30",children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2 text-rose-400",children:[(0,Tt.jsx)(wn,{className:"w-4 h-4"}),"Medical Information"]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Tt.jsxs)("div",{className:"p-2 rounded bg-rose-500/10",children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Blood Type"}),(0,Tt.jsx)("p",{className:"font-bold text-rose-400 text-lg",children:f.medical.bloodType||"Unknown"})]}),(0,Tt.jsxs)("div",{className:"p-2 rounded bg-secondary/50",children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Allergies"}),(0,Tt.jsx)("p",{className:"font-medium",children:(null===(d=f.medical.allergies)||void 0===d?void 0:d.length)>0?f.medical.allergies.join(", "):"None"})]})]}),(null===(u=f.medical.conditions)||void 0===u?void 0:u.length)>0&&"None"!==f.medical.conditions[0]&&(0,Tt.jsxs)("div",{className:"mt-3",children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Conditions"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1",children:f.medical.conditions.map((e,t)=>(0,Tt.jsx)("span",{className:"px-2 py-1 rounded bg-amber-500/20 text-amber-400 text-xs",children:e},t))})]}),(null===(m=f.medical.medications)||void 0===m?void 0:m.length)>0&&(0,Tt.jsxs)("div",{className:"mt-3",children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Medications"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1",children:f.medical.medications.map((e,t)=>(0,Tt.jsx)("span",{className:"px-2 py-1 rounded bg-blue-500/20 text-blue-400 text-xs",children:e},t))})]})]})}):(0,Tt.jsxs)("div",{className:"glass rounded-lg p-8 text-center",children:[(0,Tt.jsx)(oa,{className:"w-12 h-12 mx-auto mb-3 text-amber-400/50"}),(0,Tt.jsx)("p",{className:"text-amber-400 font-medium",children:"Medical Information Hidden"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"This member has chosen not to share medical details"})]})}),"equipment"===w&&(0,Tt.jsx)("div",{className:"space-y-4",children:(null===(h=f.equipment)||void 0===h?void 0:h.length)>0?(0,Tt.jsxs)("div",{className:"glass rounded-lg p-4",children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(jT,{className:"w-4 h-4 text-orange-400"}),"Equipment Loadout (",f.equipment.length," items)"]}),(0,Tt.jsx)("div",{className:"space-y-2",children:f.equipment.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded bg-secondary/50",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded flex items-center justify-center ".concat("Medical"===e.category?"bg-rose-500/20":"Security"===e.category?"bg-amber-500/20":"Comms"===e.category?"bg-cyan-500/20":"Power"===e.category?"bg-emerald-500/20":"bg-primary/20"),children:"Medical"===e.category?"\ud83e\ude7a":"Security"===e.category?"\ud83d\udee1\ufe0f":"Comms"===e.category?"\ud83d\udcfb":"Power"===e.category?"\u26a1":"Navigation"===e.category?"\ud83e\udded":"FoodWater"===e.category?"\ud83c\udf3e":"\ud83d\udce6"}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:e.category})]})]},t))})]}):(0,Tt.jsxs)("div",{className:"glass rounded-lg p-8 text-center",children:[(0,Tt.jsx)(jT,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground/50"}),(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"No equipment registered"})]})}),"device"===w&&(0,Tt.jsx)("div",{className:"space-y-4",children:f.device?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-4",children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(ln.A,{className:"w-4 h-4 text-cyan-400"}),"Device Status"]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Tt.jsxs)("div",{className:"p-3 rounded bg-secondary/50",children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Model"}),(0,Tt.jsx)("p",{className:"font-medium",children:f.device.model||"Unknown"})]}),(0,Tt.jsxs)("div",{className:"p-3 rounded bg-secondary/50",children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Battery"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"flex-1 h-2 bg-background rounded-full overflow-hidden",children:(0,Tt.jsx)("div",{className:"h-full ".concat(f.device.battery>50?"bg-success":f.device.battery>20?"bg-warning":"bg-destructive"),style:{width:"".concat(f.device.battery,"%")}})}),(0,Tt.jsxs)("span",{className:"text-sm font-medium",children:[f.device.battery,"%"]})]})]}),(0,Tt.jsxs)("div",{className:"p-3 rounded bg-secondary/50",children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"CPU"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"flex-1 h-2 bg-background rounded-full overflow-hidden",children:(0,Tt.jsx)("div",{className:"h-full bg-primary",style:{width:"".concat(f.device.cpu,"%")}})}),(0,Tt.jsxs)("span",{className:"text-sm font-medium",children:[f.device.cpu,"%"]})]})]}),(0,Tt.jsxs)("div",{className:"p-3 rounded bg-secondary/50",children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"RAM"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"flex-1 h-2 bg-background rounded-full overflow-hidden",children:(0,Tt.jsx)("div",{className:"h-full bg-violet-500",style:{width:"".concat(f.device.ram,"%")}})}),(0,Tt.jsxs)("span",{className:"text-sm font-medium",children:[f.device.ram,"%"]})]})]}),(0,Tt.jsxs)("div",{className:"p-3 rounded bg-secondary/50 col-span-2",children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Temperature"}),(0,Tt.jsxs)("p",{className:"font-medium",children:[f.device.temp,"\xb0C / ",Math.round(9*f.device.temp/5+32),"\xb0F"]})]})]})]}),(null===(p=f.location)||void 0===p?void 0:p.lat)&&(0,Tt.jsxs)("div",{className:"glass rounded-lg p-4",children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(mr.A,{className:"w-4 h-4 text-emerald-400"}),"Last Known Location"]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Lat: "}),f.location.lat.toFixed(6)]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Lon: "}),f.location.lon.toFixed(6)]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Grid: "}),f.location.grid]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Accuracy: "}),"\xb1",f.location.accuracy,"m"]})]}),(0,Tt.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",className:"flex-1 text-xs",onClick:()=>{navigator.clipboard.writeText("".concat(f.location.lat,", ").concat(f.location.lon)),Pt.oR.success("Coordinates copied!")},children:[(0,Tt.jsx)(fr.A,{className:"w-3 h-3 mr-1"}),"Copy"]}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",className:"flex-1 text-xs",onClick:()=>{window.open("https://www.google.com/maps?q=".concat(f.location.lat,",").concat(f.location.lon),"_blank")},children:[(0,Tt.jsx)(Nr.A,{className:"w-3 h-3 mr-1"}),"Open Maps"]})]})]})]}):(0,Tt.jsxs)("div",{className:"glass rounded-lg p-8 text-center",children:[(0,Tt.jsx)(ln.A,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground/50"}),(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"Device offline or not connected"})]})}),(0,Tt.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-border",children:[(0,Tt.jsxs)(gn.$,{className:"flex-1",onClick:()=>Pt.oR.info("DM feature coming soon"),children:[(0,Tt.jsx)(rn,{className:"w-4 h-4 mr-2"}),"Send Message"]}),(0,Tt.jsx)(gn.$,{variant:"outline",onClick:()=>Pt.oR.info("Help request feature coming soon"),children:"Request Help"})]})]})]})})},RL=e=>{let{label:t,value:n}=e;return(0,Tt.jsxs)("div",{className:"p-2 rounded bg-secondary/50",children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:t}),null!==n?(0,Tt.jsx)("p",{className:"font-medium",children:n}):(0,Tt.jsxs)("p",{className:"text-amber-400 flex items-center gap-1 text-sm",children:[(0,Tt.jsx)(oa,{className:"w-3 h-3"}),"Hidden"]})]})},LL=e=>{var t;let{filterDomain:n}=e;const{can:r,currentUser:a}=dL();return r("viewAnalytics")?(0,Tt.jsxs)("div",{className:"space-y-6",children:[n&&(0,Tt.jsx)("div",{className:"glass rounded-xl p-4 border border-primary/30",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Sn,{className:"w-4 h-4 text-primary"}),(0,Tt.jsxs)("span",{className:"text-sm",children:["Filtered by domain: ",(0,Tt.jsx)("span",{className:"font-semibold",children:(null===(t=TR[n])||void 0===t?void 0:t.label)||n})]}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"ghost",className:"ml-auto text-xs",children:"Clear filter"})]})}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-8 text-center border-2 border-dashed border-border",children:[(0,Tt.jsx)(gT,{className:"w-16 h-16 mx-auto mb-4 text-primary/50"}),(0,Tt.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Analytics Dashboard"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Coming in Phase 3"}),(0,Tt.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1 text-left max-w-md mx-auto",children:[(0,Tt.jsx)("li",{children:"\u2022 Skills coverage matrix by domain"}),(0,Tt.jsx)("li",{children:"\u2022 Gap analysis with recommendations"}),(0,Tt.jsx)("li",{children:"\u2022 Member activity trends"}),(0,Tt.jsx)("li",{children:"\u2022 Downloadable reports (redacted by role)"})]})]})]}):(0,Tt.jsx)(hL,{minRole:"member",currentRole:null===a||void 0===a?void 0:a.role})},zL=e=>{let{commsPreview:t}=e;const{can:n,currentUser:r}=dL();return n("viewComms")?(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(xT,{className:"w-4 h-4 text-cyan-400"}),"Pinned Bulletins"]}),(0,Tt.jsx)("div",{className:"space-y-3",children:t.pinnedBulletins.map(e=>(0,Tt.jsx)("div",{className:"p-4 rounded-lg bg-background/50 hover:bg-white/5 transition-colors",children:(0,Tt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full mt-1 ".concat("warning"===e.severity?"bg-warning":"bg-primary")}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("h4",{className:"font-medium",children:e.title}),(0,Tt.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Posted by ",e.author," on ",new Date(e.createdAt).toLocaleDateString()]})]})]})},e.id))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-8 text-center border-2 border-dashed border-border",children:[(0,Tt.jsx)(fT,{className:"w-16 h-16 mx-auto mb-4 text-primary/50"}),(0,Tt.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Full Communications Hub"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Coming in Phase 5"}),(0,Tt.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1 text-left max-w-md mx-auto",children:[(0,Tt.jsx)("li",{children:"\u2022 Announcements & broadcasts"}),(0,Tt.jsx)("li",{children:"\u2022 Community polls"}),(0,Tt.jsx)("li",{children:"\u2022 Task management"}),(0,Tt.jsx)("li",{children:"\u2022 Role-gated channels"})]})]})]}):(0,Tt.jsx)(hL,{minRole:"member",currentRole:null===r||void 0===r?void 0:r.role})},FL=e=>{let{onNavigate:n}=e;const{isAdmin:r,currentUser:a}=dL();return(0,t.useEffect)(()=>{if(!r){Pt.oR.error("Access denied: Admin-only section",{description:"Redirecting to Overview..."});const e=setTimeout(()=>n("overview"),100);return()=>clearTimeout(e)}},[r,n]),(0,Tt.jsx)(mL,{minRole:"admin",fallback:(0,Tt.jsx)(hL,{minRole:"admin",currentRole:null===a||void 0===a?void 0:a.role,onReturn:()=>n("overview")}),children:(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("div",{className:"glass rounded-xl p-4 border border-amber-500/30 bg-amber-500/5",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)(aT,{className:"w-6 h-6 text-amber-400"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold text-sm text-amber-400",children:"Admin Access Verified"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Full access to incident reports and scoring management."})]})]})}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-8 text-center border-2 border-dashed border-amber-500/30",children:[(0,Tt.jsx)(nn.A,{className:"w-16 h-16 mx-auto mb-4 text-amber-400/50"}),(0,Tt.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Incident Reports Dashboard"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Coming in Phase 6"}),(0,Tt.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1 text-left max-w-md mx-auto",children:[(0,Tt.jsx)("li",{children:"\u2022 Incident log with filters & search"}),(0,Tt.jsx)("li",{children:"\u2022 Member scoreboard with trends"}),(0,Tt.jsx)("li",{children:"\u2022 Scoring policy configuration"}),(0,Tt.jsx)("li",{children:"\u2022 Two-admin approval workflows"}),(0,Tt.jsx)("li",{children:"\u2022 Full audit trail access"}),(0,Tt.jsx)("li",{children:"\u2022 Appeal management"})]})]})]})})},BL=e=>{let{currentRole:n,onRoleChange:r}=e;const[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)({}),c=[{id:"admin-tab",test:"Switch to admin: Incidents tab + Governance card visible",action:()=>r("admin")},{id:"member-tab",test:"Switch to member: Incidents tab hidden, Governance hidden",action:()=>r("member")},{id:"guest-limited",test:"Switch to guest: Only Overview + Directory tabs",action:()=>r("guest")},{id:"direct-nav",test:"Direct URL to incidents as member: redirect + toast",action:null},{id:"privacy-modal",test:"Privacy modal toggles update current user display",action:null},{id:"redaction",test:'Non-admin sees "Hidden" for non-opted fields in cards/drawer',action:null},{id:"deep-link",test:"Overview strength/gap clicks deep-link to Directory with filter",action:null}];return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 border border-cyan-500/30 bg-cyan-500/5","data-testid":"qa-checklist",children:[(0,Tt.jsxs)("button",{onClick:()=>i(!a),className:"w-full flex items-center justify-between",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm flex items-center gap-2 text-cyan-400",children:[(0,Tt.jsx)(kT,{className:"w-4 h-4"}),"QA Checklist (Dev Only)"]}),a?(0,Tt.jsx)(En.A,{className:"w-4 h-4 text-cyan-400"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4 text-cyan-400"})]}),a&&(0,Tt.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Current role: ",(0,Tt.jsx)("span",{className:"font-semibold text-primary",children:n})]}),c.map(e=>(0,Tt.jsx)("div",{className:"p-2 rounded-lg ".concat(l[e.id]?"bg-success/10 border border-success/30":"bg-secondary/50"),children:(0,Tt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>o(t=>(0,s.A)((0,s.A)({},t),{},{[e.id]:!t[e.id]})),className:"w-5 h-5 rounded border flex-shrink-0 flex items-center justify-center ".concat(l[e.id]?"bg-success border-success text-white":"border-border hover:border-primary"),children:l[e.id]&&(0,Tt.jsx)(pT,{className:"w-3 h-3"})}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("p",{className:"text-xs",children:e.test}),e.action&&(0,Tt.jsx)(gn.$,{size:"sm",variant:"ghost",onClick:e.action,className:"h-6 text-[10px] mt-1 px-2",children:"Run Test"})]})]})},e.id))]})]})};function UL(e){let{isOpen:n,onClose:r}=e;const[a,i]=(0,t.useState)("admin"),[l,o]=(0,t.useState)({showAge:!0,showHeightWeight:!0,showEducation:!0}),c=(0,s.A)((0,s.A)({},HR[a]),{},{privacy:l}),[d,u]=(0,t.useState)(()=>"undefined"===typeof window||"true"!==sessionStorage.getItem("community-welcome-seen")),[m,h]=(0,t.useState)(!1),p=()=>{u(!1),sessionStorage.setItem("community-welcome-seen","true")},[f,x]=(0,t.useState)(()=>{if("undefined"===typeof window)return"overview";const e=new URLSearchParams(window.location.search).get("tab");return["overview","analytics","directory","comms","incidents"].includes(e)?e:"overview"}),[g,v]=(0,t.useState)(()=>{var e,t;if("undefined"===typeof window)return{};const n=new URLSearchParams(window.location.search);return{q:n.get("q"),skills:null===(e=n.get("skills"))||void 0===e?void 0:e.split(",").filter(Boolean),languages:null===(t=n.get("languages"))||void 0===t?void 0:t.split(",").filter(Boolean),online:"true"===n.get("online")}}),[b,y]=(0,t.useState)(null),[j,w]=(0,t.useState)(null),[N]=(0,t.useState)(()=>[{userId:"user-001",displayName:"Sarah Chen",callsign:"PHOENIX",photoUrl:null,age:38,anthro:{heightIn:66,weightLb:140},educationLevel:"Bachelors",languages:["en","zh"],skills:["Medical.FirstAid","Medical.CPR","Medical.Trauma","Medical.Nursing"],certifications:["RN","BLS","ACLS"],privacy:{showAge:!0,showHeightWeight:!0,showEducation:!0,showMedical:!0,showLocation:!1},stats:{online:!0,lastSeen:(new Date).toISOString()},class:"Lead Medic",availability:"available",profileCompletenessScore:95,createdAt:"2025-06-15T10:00:00Z",userStatus:"GOOD",connection:{type:"WIFI",strength:85},physical:{hairColor:"Black",eyeColor:"Brown",distinguishingFeatures:"Small scar on left wrist"},medical:{conditions:["None"],allergies:["Penicillin"],bloodType:"O+",medications:[]},equipment:[{name:"Medical Kit (Full Trauma)",category:"Medical"},{name:"Handheld Radio: Baofeng UV-5R",category:"Comms"}],device:{model:"OMEGA Pi 4",cpu:32,ram:45,battery:87,temp:42},location:{lat:37.8044,lon:-122.2712,grid:"CM87vq",accuracy:5},emergencyContact:{name:"Marcus Johnson",relation:"Partner",method:"Node user-002"},notes:"Primary medical responder. Excellent bedside manner. Cross-trained in emergency triage."},{userId:"user-002",displayName:"Marcus Johnson",callsign:"GUARDIAN",photoUrl:null,age:52,anthro:{heightIn:73,weightLb:195},educationLevel:"Trade",languages:["en","es"],skills:["Security.Firearms","Security.Perimeter","Comms.HAM","Security.SelfDefense"],certifications:["HAM-Extra","CPL","Security Specialist"],privacy:{showAge:!0,showHeightWeight:!0,showEducation:!0,showMedical:!0,showLocation:!0},stats:{online:!0,lastSeen:(new Date).toISOString()},class:"Security Lead",availability:"available",profileCompletenessScore:100,createdAt:"2025-05-20T08:00:00Z",userStatus:"GOOD",connection:{type:"MESH",strength:72},physical:{hairColor:"Gray",eyeColor:"Brown",distinguishingFeatures:"Tattoo on right forearm"},medical:{conditions:["Mild hypertension (controlled)"],allergies:[],bloodType:"A+",medications:["Lisinopril"]},equipment:[{name:"Primary: AR-15",category:"Security"},{name:"Sidearm: Glock 19",category:"Security"},{name:"HAM Radio: Yaesu FT-70D",category:"Comms"},{name:"Night Vision Goggles",category:"Security"}],device:{model:"OMEGA Pi 4",cpu:28,ram:52,battery:92,temp:38},location:{lat:37.8055,lon:-122.2735,grid:"CM87vq",accuracy:3},emergencyContact:{name:"Sarah Chen",relation:"Partner",method:"Node user-001"},notes:"Group security lead. 20+ years military/security experience. Primary comms operator."},{userId:"user-003",displayName:"Elena Rodriguez",callsign:"SUPPLY",photoUrl:null,age:31,anthro:{heightIn:64,weightLb:135},educationLevel:"SomeCollege",languages:["en","es","pt"],skills:["Logistics.SupplyChain","Logistics.Inventory","FoodWater.FoodPreservation","FoodWater.Farming"],certifications:["ServSafe"],privacy:{showAge:!0,showHeightWeight:!1,showEducation:!0,showMedical:!1,showLocation:!0},stats:{online:!0,lastSeen:(new Date).toISOString()},class:"Logistics Coordinator",availability:"busy",profileCompletenessScore:85,createdAt:"2025-07-01T12:00:00Z",userStatus:"OKAY",connection:{type:"WIFI",strength:90},physical:{hairColor:"Brown",eyeColor:"Green",distinguishingFeatures:"None"},medical:{conditions:[],allergies:["Shellfish"],bloodType:"B+",medications:[]},equipment:[{name:"Inventory Scanner",category:"Logistics"},{name:"Handheld Radio: Baofeng UV-5R",category:"Comms"}],device:{model:"OMEGA Pi 4",cpu:45,ram:61,battery:78,temp:44},location:{lat:37.8032,lon:-122.2698,grid:"CM87vq",accuracy:8},emergencyContact:{name:"Rosa Martinez",relation:"Aunt",method:"Node user-015"},notes:"Manages all supply chain and inventory. Excellent organizational skills."},{userId:"user-004",displayName:"David Park",callsign:"SPARKS",photoUrl:null,age:29,anthro:{heightIn:69,weightLb:165},educationLevel:"Masters",languages:["en","ko"],skills:["Engineering.Electronics","Engineering.SolarSystems","Comms.Networking","Engineering.Electrical"],certifications:["CCNA","AWS-SA","Solar PV Installer"],privacy:{showAge:!0,showHeightWeight:!0,showEducation:!0,showMedical:!0,showLocation:!0},stats:{online:!0,lastSeen:(new Date).toISOString()},class:"Tech Lead",availability:"available",profileCompletenessScore:100,createdAt:"2025-06-10T09:30:00Z",userStatus:"GOOD",connection:{type:"WIFI",strength:95},physical:{hairColor:"Black",eyeColor:"Brown",distinguishingFeatures:"Glasses"},medical:{conditions:[],allergies:[],bloodType:"AB+",medications:[]},equipment:[{name:"Solar Panel Kit: 400W",category:"Power"},{name:"Multimeter",category:"Engineering"},{name:"Laptop: Toughbook",category:"Tech"},{name:"Handheld Radio: Baofeng UV-5R",category:"Comms"}],device:{model:"OMEGA Pi 5",cpu:18,ram:38,battery:95,temp:35},location:{lat:37.8048,lon:-122.2725,grid:"CM87vq",accuracy:2},emergencyContact:{name:"Jennifer Lee",relation:"Sister",method:"Node user-011"},notes:"Primary tech support. Manages all power systems and network infrastructure."},{userId:"user-005",displayName:"Amanda Foster",callsign:"TRACKER",photoUrl:null,age:34,anthro:{heightIn:68,weightLb:145},educationLevel:"Bachelors",languages:["en"],skills:["Security.Perimeter","Logistics.Navigation","FoodWater.Hunting","Security.SelfDefense"],certifications:["Wilderness First Responder","Tracking Certification"],privacy:{showAge:!0,showHeightWeight:!1,showEducation:!0,showMedical:!1,showLocation:!0},stats:{online:!1,lastSeen:"2025-12-08T14:30:00Z"},class:"Scout",availability:"away",profileCompletenessScore:80,createdAt:"2025-08-05T14:00:00Z",userStatus:"OFFLINE",connection:{type:"OFFLINE",strength:0},physical:{hairColor:"Blonde",eyeColor:"Blue",distinguishingFeatures:"Athletic build"},medical:{conditions:[],allergies:["Bee stings"],bloodType:"O-",medications:["Epi-pen (carried)"]},equipment:[{name:"Hunting Rifle: Remington 700",category:"Security"},{name:"GPS: Garmin eTrex",category:"Navigation"},{name:"Satellite Messenger: Garmin inReach",category:"Comms"}],device:{model:"OMEGA Pi 4",cpu:0,ram:0,battery:0,temp:0},location:{lat:null,lon:null,grid:null,accuracy:null},emergencyContact:{name:"Marcus Johnson",relation:"Team Lead",method:"Node user-002"},notes:"Primary scout and tracker. Currently on reconnaissance mission."},{userId:"user-006",displayName:"Robert Thompson",callsign:"BUILDER",photoUrl:null,age:61,anthro:{heightIn:71,weightLb:200},educationLevel:"Trade",languages:["en","de"],skills:["Engineering.Carpentry","Engineering.Plumbing","Engineering.Electrical","Engineering.Welding"],certifications:["Master Electrician","Master Plumber"],privacy:{showAge:!0,showHeightWeight:!0,showEducation:!0,showMedical:!0,showLocation:!0},stats:{online:!0,lastSeen:(new Date).toISOString()},class:"Builder",availability:"available",profileCompletenessScore:90,createdAt:"2025-05-15T07:00:00Z",userStatus:"GOOD",connection:{type:"WIFI",strength:78},physical:{hairColor:"Gray",eyeColor:"Blue",distinguishingFeatures:"Missing pinky finger on left hand"},medical:{conditions:["Type 2 Diabetes (diet-controlled)","Arthritis"],allergies:[],bloodType:"A-",medications:[]},equipment:[{name:"Full Tool Kit",category:"Engineering"},{name:"Welding Gear",category:"Engineering"},{name:"Handheld Radio: Baofeng UV-5R",category:"Comms"}],device:{model:"OMEGA Pi 4",cpu:22,ram:48,battery:85,temp:40},location:{lat:37.8038,lon:-122.2708,grid:"CM87vq",accuracy:6},emergencyContact:{name:"Lisa Wong",relation:"Neighbor",method:"Node user-007"},notes:"Master builder with 35+ years experience. Can build or fix anything."},{userId:"user-007",displayName:"Lisa Wong",callsign:"DOC",photoUrl:null,age:42,anthro:{heightIn:63,weightLb:120},educationLevel:"Doctorate",languages:["en","zh","ja"],skills:["Medical.Trauma","Medical.Surgery","Medical.EMT","Medical.FirstAid","Medical.CPR"],certifications:["MD","ACLS","ATLS","PALS","Board Certified Emergency Medicine"],privacy:{showAge:!0,showHeightWeight:!0,showEducation:!0,showMedical:!0,showLocation:!0},stats:{online:!0,lastSeen:(new Date).toISOString()},class:"Chief Medical Officer",availability:"available",profileCompletenessScore:100,createdAt:"2025-04-01T06:00:00Z",userStatus:"GOOD",connection:{type:"WIFI",strength:92},physical:{hairColor:"Black",eyeColor:"Brown",distinguishingFeatures:"None"},medical:{conditions:[],allergies:[],bloodType:"B-",medications:[]},equipment:[{name:"Full Surgical Kit",category:"Medical"},{name:"Trauma Bag",category:"Medical"},{name:"Portable Ultrasound",category:"Medical"},{name:"Handheld Radio: Baofeng UV-5R",category:"Comms"}],device:{model:"OMEGA Pi 5",cpu:15,ram:42,battery:98,temp:36},location:{lat:37.8042,lon:-122.2718,grid:"CM87vq",accuracy:3},emergencyContact:{name:"David Park",relation:"Friend",method:"Node user-004"},notes:"Chief Medical Officer. Former ER physician. Can perform field surgery if necessary."},{userId:"user-008",displayName:"James Miller",callsign:"RADIO",photoUrl:null,age:48,anthro:{heightIn:70,weightLb:175},educationLevel:"Bachelors",languages:["en","fr"],skills:["Comms.HAM","Comms.MorseCode","Comms.SignalProcessing","Engineering.Electronics"],certifications:["HAM-Amateur Extra","GROL"],privacy:{showAge:!0,showHeightWeight:!1,showEducation:!0,showMedical:!1,showLocation:!1},stats:{online:!1,lastSeen:"2025-12-08T10:00:00Z"},class:"Comms Specialist",availability:"busy",profileCompletenessScore:75,createdAt:"2025-06-20T11:00:00Z",userStatus:"OFFLINE",connection:{type:"LORA",strength:45},physical:{hairColor:"Brown",eyeColor:"Hazel",distinguishingFeatures:"Beard"},medical:{conditions:["Tinnitus"],allergies:["Sulfa drugs"],bloodType:"O+",medications:[]},equipment:[{name:"HAM Base Station: Icom IC-7300",category:"Comms"},{name:"Portable HAM: Yaesu FT-891",category:"Comms"},{name:"SDR: RTL-SDR Kit",category:"Comms"},{name:"Antenna Kit",category:"Comms"}],device:{model:"OMEGA Pi 4",cpu:0,ram:0,battery:12,temp:0},location:{lat:37.81,lon:-122.28,grid:"CM87vq",accuracy:15},emergencyContact:{name:"Marcus Johnson",relation:"Friend",method:"Node user-002"},notes:"Master radio operator. Can establish comms in any situation. Currently at backup comms site."},{userId:"user-009",displayName:"Maria Santos",callsign:"GARDEN",photoUrl:null,age:28,anthro:{heightIn:65,weightLb:140},educationLevel:"Bachelors",languages:["en","es","pt"],skills:["Medical.FirstAid","FoodWater.FoodPreservation","FoodWater.Farming","FoodWater.Gardening"],certifications:["First Aid","CPR","Master Gardener"],privacy:{showAge:!0,showHeightWeight:!1,showEducation:!1,showMedical:!1,showLocation:!0},stats:{online:!0,lastSeen:(new Date).toISOString()},class:null,availability:"available",profileCompletenessScore:65,createdAt:"2025-07-15T13:00:00Z",userStatus:"GOOD",connection:{type:"WIFI",strength:88},physical:{hairColor:"Black",eyeColor:"Brown",distinguishingFeatures:"None"},medical:{conditions:[],allergies:[],bloodType:"A+",medications:[]},equipment:[{name:"Garden Tools",category:"FoodWater"},{name:"Seed Bank",category:"FoodWater"}],device:{model:"OMEGA Pi 4",cpu:25,ram:50,battery:72,temp:41},location:{lat:37.8035,lon:-122.2695,grid:"CM87vq",accuracy:10},emergencyContact:{name:"Elena Rodriguez",relation:"Friend",method:"Node user-003"},notes:"Manages community garden. Expert in sustainable agriculture."},{userId:"user-010",displayName:"Kevin O'Brien",callsign:null,photoUrl:null,age:24,anthro:{heightIn:72,weightLb:180},educationLevel:"SomeCollege",languages:["en"],skills:["Security.SelfDefense"],certifications:[],privacy:{showAge:!0,showHeightWeight:!0,showEducation:!0,showMedical:!0,showLocation:!0},stats:{online:!1,lastSeen:"2025-12-01T12:00:00Z"},class:null,availability:"offline",profileCompletenessScore:40,createdAt:"2025-09-01T16:00:00Z",userStatus:"NEED_HELP",connection:{type:"OFFLINE",strength:0},physical:{hairColor:"Red",eyeColor:"Green",distinguishingFeatures:"Freckles"},medical:{conditions:["Asthma"],allergies:["Peanuts"],bloodType:"B+",medications:["Albuterol inhaler"]},equipment:[],device:{model:"OMEGA Pi 4",cpu:0,ram:0,battery:0,temp:0},location:{lat:null,lon:null,grid:null,accuracy:null},emergencyContact:{name:"Marcus Johnson",relation:"Group Lead",method:"Node user-002"},notes:"New member. Needs training. Last status was distress signal."},{userId:"user-011",displayName:"Jennifer Lee",callsign:"LOGISTICS",photoUrl:null,age:39,anthro:{heightIn:66,weightLb:130},educationLevel:"Masters",languages:["en","ko"],skills:["Logistics.SupplyChain","Logistics.Inventory","Logistics.Navigation","Logistics.Transport"],certifications:["PMP","CSCP","CDL Class A"],privacy:{showAge:!0,showHeightWeight:!1,showEducation:!0,showMedical:!0,showLocation:!0},stats:{online:!0,lastSeen:(new Date).toISOString()},class:"Supply Chain Manager",availability:"available",profileCompletenessScore:95,createdAt:"2025-06-25T10:30:00Z",userStatus:"GOOD",connection:{type:"MESH",strength:68},physical:{hairColor:"Black",eyeColor:"Brown",distinguishingFeatures:"None"},medical:{conditions:[],allergies:[],bloodType:"O+",medications:[]},equipment:[{name:"Cargo Truck",category:"Transport"},{name:"GPS Navigator",category:"Navigation"},{name:"Handheld Radio: Baofeng UV-5R",category:"Comms"}],device:{model:"OMEGA Pi 4",cpu:30,ram:55,battery:82,temp:39},location:{lat:37.806,lon:-122.274,grid:"CM87vq",accuracy:4},emergencyContact:{name:"David Park",relation:"Brother",method:"Node user-004"},notes:"Manages all transport and logistics. Expert route planner."},{userId:"user-012",displayName:"Michael Brown",callsign:"HUNTER",photoUrl:null,age:44,anthro:{heightIn:71,weightLb:185},educationLevel:"HS",languages:["en"],skills:["FoodWater.Hunting","FoodWater.Farming","FoodWater.WaterPurification","Logistics.Navigation"],certifications:["Hunters Safety","Fishing License"],privacy:{showAge:!0,showHeightWeight:!0,showEducation:!0,showMedical:!0,showLocation:!0},stats:{online:!1,lastSeen:"2025-12-08T08:00:00Z"},class:"Forager",availability:"busy",profileCompletenessScore:70,createdAt:"2025-08-10T08:00:00Z",userStatus:"OKAY",connection:{type:"LORA",strength:32},physical:{hairColor:"Brown",eyeColor:"Brown",distinguishingFeatures:"Weathered skin, strong build"},medical:{conditions:[],allergies:[],bloodType:"A+",medications:[]},equipment:[{name:"Hunting Rifle: Winchester 30-06",category:"Security"},{name:"Fishing Gear",category:"FoodWater"},{name:"Water Purification System",category:"FoodWater"},{name:"LoRa Messenger",category:"Comms"}],device:{model:"OMEGA Pi Zero",cpu:55,ram:70,battery:45,temp:48},location:{lat:37.82,lon:-122.3,grid:"CM87vq",accuracy:25},emergencyContact:{name:"Robert Thompson",relation:"Friend",method:"Node user-006"},notes:"Expert hunter and forager. Currently on extended hunting trip."},{userId:"user-013",displayName:"Aisha Patel",callsign:"HEALER",photoUrl:null,age:33,anthro:{heightIn:62,weightLb:125},educationLevel:"Bachelors",languages:["en","hi","ar"],skills:["Medical.Nursing","Medical.FirstAid","FoodWater.FoodPreservation"],certifications:["RN","BLS","Herbal Medicine"],privacy:{showAge:!1,showHeightWeight:!1,showEducation:!0,showMedical:!1,showLocation:!1},stats:{online:!0,lastSeen:(new Date).toISOString()},class:"Medic",availability:"available",profileCompletenessScore:80,createdAt:"2025-07-20T09:00:00Z",userStatus:"GOOD",connection:{type:"WIFI",strength:85},physical:{hairColor:"Black",eyeColor:"Brown",distinguishingFeatures:"None"},medical:{conditions:[],allergies:[],bloodType:"AB+",medications:[]},equipment:[{name:"Medical Kit",category:"Medical"},{name:"Herbal Medicine Kit",category:"Medical"},{name:"Handheld Radio: Baofeng UV-5R",category:"Comms"}],device:{model:"OMEGA Pi 4",cpu:20,ram:45,battery:90,temp:37},location:{lat:37.804,lon:-122.271,grid:"CM87vq",accuracy:5},emergencyContact:{name:"Lisa Wong",relation:"Supervisor",method:"Node user-007"},notes:"Nursing assistant with herbal medicine knowledge. Excellent patient care."},{userId:"user-014",displayName:"Tom Nguyen",callsign:"SOLAR",photoUrl:null,age:36,anthro:{heightIn:67,weightLb:155},educationLevel:"Bachelors",languages:["en","vi"],skills:["Engineering.SolarSystems","Engineering.Electrical","Engineering.Electronics"],certifications:["Solar PV Installer","Electrician Journeyman"],privacy:{showAge:!0,showHeightWeight:!0,showEducation:!0,showMedical:!0,showLocation:!0},stats:{online:!0,lastSeen:(new Date).toISOString()},class:"Solar Tech",availability:"available",profileCompletenessScore:85,createdAt:"2025-08-15T11:00:00Z",userStatus:"GOOD",connection:{type:"WIFI",strength:91},physical:{hairColor:"Black",eyeColor:"Brown",distinguishingFeatures:"None"},medical:{conditions:[],allergies:[],bloodType:"O-",medications:[]},equipment:[{name:"Solar Panel Kit: 600W",category:"Power"},{name:"Battery Bank: 200Ah",category:"Power"},{name:"Electrical Tools",category:"Engineering"},{name:"Handheld Radio: Baofeng UV-5R",category:"Comms"}],device:{model:"OMEGA Pi 4",cpu:22,ram:48,battery:100,temp:38},location:{lat:37.8045,lon:-122.272,grid:"CM87vq",accuracy:3},emergencyContact:{name:"David Park",relation:"Colleague",method:"Node user-004"},notes:"Solar power specialist. Manages all renewable energy systems."},{userId:"user-015",displayName:"Rosa Martinez",callsign:"MAMA ROSA",photoUrl:null,age:55,anthro:{heightIn:60,weightLb:150},educationLevel:"Trade",languages:["en","es","tl"],skills:["FoodWater.Farming","FoodWater.Gardening","FoodWater.FoodPreservation","FoodWater.Foraging"],certifications:["Master Gardener","Food Preservation Specialist"],privacy:{showAge:!0,showHeightWeight:!1,showEducation:!0,showMedical:!0,showLocation:!0},stats:{online:!1,lastSeen:"2025-12-07T18:00:00Z"},class:"Agriculture Lead",availability:"away",profileCompletenessScore:90,createdAt:"2025-05-01T07:00:00Z",userStatus:"OKAY",connection:{type:"CELLULAR",strength:55},physical:{hairColor:"Gray",eyeColor:"Brown",distinguishingFeatures:"Warm smile"},medical:{conditions:["High blood pressure (controlled)"],allergies:[],bloodType:"A+",medications:["Amlodipine"]},equipment:[{name:"Seed Library",category:"FoodWater"},{name:"Canning Supplies",category:"FoodWater"},{name:"Satellite Phone",category:"Comms"}],device:{model:"OMEGA Pi 4",cpu:35,ram:58,battery:65,temp:43},location:{lat:37.795,lon:-122.265,grid:"CM87vq",accuracy:50},emergencyContact:{name:"Elena Rodriguez",relation:"Niece",method:"Node user-003"},notes:"Master gardener and food preservation expert. Currently visiting off-site greenhouse."}]),[k]=(0,t.useState)(()=>[{id:"INC-2025-001",userId:"user-010",type:"BAD",category:"violation",severity:3,points:-15,summary:"Unauthorized entry to restricted storage",status:"Closed",createdAt:"2025-10-15T14:30:00Z"},{id:"INC-2025-002",userId:"user-006",type:"BAD",category:"safety",severity:2,points:-10,summary:"Improper tool storage",status:"Closed",createdAt:"2025-11-02T10:15:00Z"},{id:"INC-2025-003",userId:"user-010",type:"BAD",category:"conduct",severity:3,points:0,summary:"Verbal altercation",status:"UnderReview",createdAt:"2025-12-01T16:45:00Z"},{id:"INC-2025-004",userId:"user-005",type:"GOOD",category:"leadership",severity:4,points:7,summary:"Exceptional evacuation leadership",status:"Closed",createdAt:"2025-11-20T08:00:00Z"},{id:"INC-2025-005",userId:"user-001",type:"GOOD",category:"contribution",severity:5,points:10,summary:"Life-saving medical response",status:"Closed",createdAt:"2025-11-15T19:30:00Z"}]),[A]=(0,t.useState)(()=>({pinnedBulletins:[{id:"bulletin-001",title:"Water System Maintenance - Dec 10",createdAt:"2025-12-08T09:00:00Z",author:"Lisa Wong",severity:"warning"},{id:"bulletin-002",title:"Weekly Supply Run - Sign Up",createdAt:"2025-12-07T14:00:00Z",author:"Elena Rodriguez",severity:"info"},{id:"bulletin-003",title:"Radio Check Schedule Updated",createdAt:"2025-12-05T10:00:00Z",author:"James Miller",severity:"info"}],recentActivity:[{type:"message",label:"New message in #general",createdAt:"2025-12-09T08:30:00Z"},{type:"poll",label:"Poll completed: Meeting time",createdAt:"2025-12-09T07:00:00Z"},{type:"task",label:"Task assigned: Perimeter check",createdAt:"2025-12-08T22:00:00Z"},{type:"announcement",label:"New announcement posted",createdAt:"2025-12-08T16:00:00Z"},{type:"message",label:"5 new messages in #medical",createdAt:"2025-12-08T14:00:00Z"}],stats:{messagesLast24h:47,activePollsCount:2,pendingTasksCount:8}})),[_]=(0,t.useState)(()=>({baseScore:100,thresholds:{monitor:70,restricted:50,intervention:30},lastUpdated:"2025-11-01T10:00:00Z"})),C=(0,t.useMemo)(()=>(e=>{const t=e.filter(e=>e.stats.online),n=e.length,r=t.length,a={};Object.keys(TR).forEach(t=>{const n=Object.entries(DR).filter(e=>{let[,n]=e;return n.domain===t}).map(e=>{let[t]=e;return t}),r=e.filter(e=>e.skills.some(e=>n.includes(e))),s=r.filter(e=>e.stats.online);a[t]={qualifiedCount:r.length,onlineQualifiedCount:s.length,redundancy:r.length>=3?"High":r.length>=2?"Medium":"Low",status:0===r.length?"P0":1===r.length?"WARN":"OK"}});const s=[];Object.entries(DR).filter(e=>{let[,t]=e;return t.critical}).forEach(t=>{let[n,r]=t;const a=e.filter(e=>e.skills.includes(n)),i=a.filter(e=>e.stats.online);a.length<=1&&s.push({tagKey:n,label:r.label,domain:r.domain,holdersTotal:a.length,holdersOnline:i.length,priority:0===a.length?"P0":"P1"})});const i={};e.forEach(e=>{e.skills.forEach(e=>{i[e]=(i[e]||0)+1})});const l=Object.entries(i).sort((e,t)=>t[1]-e[1]).slice(0,5).map(t=>{let[n,r]=t;const a=e.filter(e=>e.stats.online&&e.skills.includes(n)).length;return{tagKey:n,label:IR(n),countTotal:r,countOnline:a}}),o=Object.entries(DR).filter(e=>{let[,t]=e;return t.critical}).map(t=>{let[n,r]=t;const a=i[n]||0,s=e.filter(e=>e.stats.online&&e.skills.includes(n)).length;return{tagKey:n,label:r.label,countTotal:a,countOnline:s}}).sort((e,t)=>e.countTotal-t.countTotal).slice(0,5),c={};e.forEach(e=>{e.languages.forEach(e=>{c[e]=(c[e]||0)+1})});const d=Object.entries(c).map(e=>{let[t,n]=e;return{code:t,label:zR(t),count:n}}).sort((e,t)=>t.count-e.count),u=Math.round(e.reduce((e,t)=>e+t.profileCompletenessScore,0)/n),m=e.filter(e=>e.profileCompletenessScore<80).length,h=e.filter(e=>0===e.skills.length).length,p=e.filter(e=>e.languages.length<=1).length,f=[];return s.forEach(e=>{f.push({id:"rec-spof-".concat(e.tagKey),priority:e.priority,title:0===e.holdersTotal?"Critical: No ".concat(e.label," coverage"):"Warning: Only 1 person has ".concat(e.label),detail:0===e.holdersTotal?"The network has no one with ".concat(e.label," skills. This is a critical gap."):"".concat(e.label," is a single point of failure. Cross-train a backup."),actions:["Create Training Task","View Candidates","Start Discussion"],filterSkill:e.tagKey})}),m>3&&f.push({id:"rec-incomplete-profiles",priority:"P2",title:"".concat(m," members have incomplete profiles"),detail:"Encourage members to complete their profiles for better skill matching.",actions:["Send Reminder","View Incomplete"]}),{population:{membersTotal:n,onlineNow:r,profilesCompletePct:u,lastSyncAt:(new Date).toISOString(),newMembersWeek:2},coverage:{domains:a},singlePointsOfFailure:s.sort((e,t)=>"P0"===e.priority?-1:"P0"===t.priority?1:0),topStrengths:l,topGaps:o,languages:d,recommendations:f.slice(0,6),dataQuality:{avgCompleteness:u,incompleteProfiles:m,missingSkills:h,missingLanguages:p}}})(N),[N]),S=(0,t.useMemo)(()=>((e,t,n)=>{const r={};return e.forEach(e=>{const a=t.filter(t=>t.userId===e.userId&&"Closed"===t.status);let s=n.baseScore+a.reduce((e,t)=>e+t.points,0);s=Math.max(0,Math.min(100,s));let i=null;s<n.thresholds.intervention?i="intervention":s<n.thresholds.restricted?i="restricted":s<n.thresholds.monitor&&(i="monitor"),r[e.userId]={score:s,flag:i}}),r})(N,k,_),[N,k,_]),E=(0,t.useMemo)(()=>{const e=WR[c.role];return[{id:"overview",name:"Overview",icon:cT,visible:!0,desc:"See who is online and check our readiness"},{id:"analytics",name:"Analytics",icon:Rt,visible:e.permissions.viewAnalytics,desc:"View skill coverage charts and reports"},{id:"directory",name:"Directory",icon:Lt.A,visible:e.permissions.viewDirectory,desc:"Search and browse all family members"},{id:"comms",name:"Comms",icon:fT,visible:e.permissions.viewComms,desc:"Announcements and messages"},{id:"incidents",name:"Incident Reports",icon:nn.A,visible:e.permissions.viewIncidents,adminOnly:!0,desc:"Admin-only incident tracking"}].filter(e=>e.visible)},[c.role]),O=(0,t.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=WR[c.role];"incidents"!==e||n.permissions.viewIncidents?("directory"===e&&t&&v(t),"analytics"===e&&null!==t&&void 0!==t&&t.domain&&y(t.domain),x(e)):Pt.oR.error("Access denied: Admin-only section")},[c.role]),M=(0,t.useCallback)(e=>{v(e),x("directory")},[]),P=(0,t.useMemo)(()=>E.find(e=>e.id===f)?f:"overview",[E,f]),T=(0,t.useRef)(P);return(0,t.useEffect)(()=>{T.current!==P&&"incidents"===f&&Pt.oR.error("Access denied",{description:"Redirected due to role change."}),T.current=P},[P,f]),(0,t.useEffect)(()=>{if(n&&"undefined"!==typeof window){const e=new URL(window.location.href);e.searchParams.set("tab",P),window.history.replaceState({},"",e.toString())}},[P,n]),n?(0,Tt.jsx)(uL,{currentUser:c,onUpdatePrivacy:o,children:(0,Tt.jsxs)("div",{className:"fixed inset-0 z-50 bg-background overflow-y-auto","data-testid":"community-hub",children:[(0,Tt.jsx)("div",{className:"sticky top-0 z-10 glass border-b border-border",children:(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-xl bg-gradient-to-br from-violet-500/20 to-fuchsia-500/20",children:(0,Tt.jsx)(Lt.A,{className:"w-5 h-5 text-violet-400"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h1",{className:"text-lg font-bold",children:"Community Hub"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Operations \u2022 Roster \u2022 Comms \u2022 Governance"})]}),(0,Tt.jsxs)("div",{className:"hidden md:flex items-center gap-3 ml-4 pl-4 border-l border-border",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse"}),(0,Tt.jsx)("span",{className:"text-sm font-medium text-success",children:C.population.onlineNow}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"online"})]}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:"/"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("span",{className:"text-sm font-medium",children:C.population.membersTotal}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"total"})]})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsxs)("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 glass rounded-lg border border-cyan-500/30","data-testid":"role-switcher",children:[(0,Tt.jsx)("span",{className:"text-[10px] text-cyan-400",children:"DEV:"}),(0,Tt.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"bg-transparent text-xs font-medium focus:outline-none cursor-pointer","data-testid":"role-select",children:[(0,Tt.jsx)("option",{value:"admin",children:"Admin"}),(0,Tt.jsx)("option",{value:"member",children:"Member"}),(0,Tt.jsx)("option",{value:"guest",children:"Guest"})]}),(0,Tt.jsx)(gL,{role:a})]}),(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:r,className:"gap-2","data-testid":"community-close",children:[(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:"Back to Dashboard"})]})]})]}),(0,Tt.jsx)("div",{className:"flex gap-2 mt-3 overflow-x-auto pb-1",children:E.map(e=>(0,Tt.jsxs)("button",{onClick:()=>O(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ".concat(P===e.id?"bg-primary text-white":"glass hover:bg-secondary"," ").concat(e.adminOnly?"border border-amber-500/30":""),"data-testid":"tab-".concat(e.id),children:[(0,Tt.jsx)(e.icon,{className:"w-4 h-4 ".concat(e.adminOnly&&P!==e.id?"text-amber-400":"")}),e.name,e.adminOnly&&(0,Tt.jsx)(aT,{className:"w-3 h-3 text-amber-400"})]},e.id))})]})}),(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-6 pb-32 sm:pb-6",children:["overview"===P&&(0,Tt.jsx)(EL,{profiles:N,analytics:C,incidents:k,commsPreview:A,memberScores:S,scoreConfig:_,onNavigate:O,onFilterDirectory:M,onOpenDrill:()=>h(!0)}),"analytics"===P&&(0,Tt.jsx)(LL,{filterDomain:b}),"directory"===P&&(0,Tt.jsx)(ML,{profiles:N,memberScores:S,scoreConfig:_,initialFilters:g,onOpenProfile:w}),"comms"===P&&(0,Tt.jsx)(zL,{commsPreview:A}),"incidents"===P&&(0,Tt.jsx)(FL,{onNavigate:O}),(0,Tt.jsx)("div",{className:"mt-8",children:(0,Tt.jsx)(BL,{currentRole:a,onRoleChange:i})})]}),(0,Tt.jsx)("div",{className:"sm:hidden fixed bottom-4 left-4 right-4 z-20",children:(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3 flex items-center justify-between border border-cyan-500/30",children:[(0,Tt.jsx)("span",{className:"text-xs text-cyan-400",children:"DEV Role:"}),(0,Tt.jsx)("div",{className:"flex items-center gap-2",children:["guest","member","admin"].map(e=>(0,Tt.jsx)("button",{onClick:()=>i(e),className:"px-3 py-1 rounded-lg text-xs font-medium transition-colors ".concat(a===e?"bg-primary text-white":"bg-secondary"),"data-testid":"mobile-role-".concat(e),children:e},e))})]})}),(0,Tt.jsx)(IL,{profile:j,isOpen:!!j,onClose:()=>w(null),memberScores:S,scoreConfig:_}),(0,Tt.jsx)(AL,{isOpen:d,onClose:p,onStartTour:()=>{p(),h(!0)}}),(0,Tt.jsx)(CL,{isOpen:m,onClose:()=>h(!1),profiles:N,memberScores:S})]})}):null}const WL=(0,It.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),HL={en:{"nav.logs":"LOGS","nav.community":"Community","nav.helpCenter":"Help Center","nav.help":"Help","nav.adminConsole":"Admin Console","nav.settings":"Settings","nav.language":"Language","theme.light":"Light","theme.dark":"Dark","theme.switchToLight":"Switch to Light Mode","theme.switchToDark":"Switch to Dark Mode","header.subtitle":"Offline Modular Emergency Guidance Archive","connection.connected":"Connected","connection.degraded":"Degraded","connection.notConnected":"Not Connected","connection.tooltipConnected":"Live data from OMEGA backend.","connection.tooltipNotConnected":"Using mock data. Backend not connected yet.","connection.tooltipDegraded":"Backend reachable but some endpoints failing.","connection.lastPing":"Last ping","dataSource.mock":"MOCK DATA","dataSource.live":"LIVE","dataSource.loading":"Loading...","dataSource.error":"Error loading data","dataSource.empty":"No data available","dataSource.retry":"Retry","community.title":"Community Hub","community.overview":"Overview","community.directory":"Directory","community.analytics":"Analytics","community.comms":"Comms","community.incidents":"Incidents","community.members":"members","community.online":"online","community.offline":"offline","community.searchPlaceholder":"Search members by name, skills, or languages...","teams.title":"Official Teams & Updates","teams.subtitle":"Critical updates from official community teams","teams.latestUpdates":"Latest Updates","teams.teams":"Teams","teams.allBulletins":"All Bulletins","teams.searchBulletins":"Search bulletins...","teams.post":"Post","teams.new":"NEW","teams.lead":"Lead","teams.viewAll":"View all bulletins","teams.noBulletins":"No bulletins from this team yet.","teams.noUpdates":"No new updates. Check back later!","teams.noMatch":"No bulletins match your filters.","teams.readBy":"Read by","teams.acknowledge":"Acknowledge","teams.close":"Close","teams.postNewBulletin":"Post New Bulletin","teams.teamMembers":"Team Members","teams.recentBulletins":"Recent Bulletins","teams.teamLead":"Team Lead","teams.attachments":"Attachments","severity.critical":"CRITICAL","severity.warning":"WARNING","severity.info":"INFO","severity.resolved":"RESOLVED","severity.all":"All","status.ok":"OK","status.warn":"WARN","status.p0":"P0","status.good":"GOOD","status.needHelp":"NEED HELP","status.up":"Up","status.down":"Down","status.unknown":"Unknown","action.view":"View","action.edit":"Edit","action.delete":"Delete","action.save":"Save","action.cancel":"Cancel","action.confirm":"Confirm","action.copy":"Copy","action.copied":"Copied!","action.search":"Search","action.filter":"Filter","action.clear":"Clear","action.clearFilters":"Clear Filters","action.showAll":"Show All","action.showLess":"Show Less","action.viewAll":"View All","action.previous":"Previous","action.next":"Next","empty.noResults":"No results found","empty.noData":"No data available","empty.noMembers":"No members match your filters","empty.tryAgain":"Try adjusting your filters","help.quickHelp":"Quick Help","help.legend":"Legend","help.troubleshooting":"Troubleshooting","help.whatThisPageDoes":"What this page does","help.needMoreHelp":"Need more help?","help.visitHelpCenter":"Visit Help Center","time.ago":"ago","time.justNow":"Just now","time.minutes":"minutes","time.hours":"hours","time.days":"days","metrics.cpu":"CPU","metrics.ram":"RAM","metrics.disk":"Disk","metrics.temp":"Temp","metrics.battery":"Battery","domain.medical":"Medical","domain.comms":"Comms","domain.security":"Security","domain.foodWater":"Food & Water","domain.engineering":"Engineering","domain.logistics":"Logistics"},es:{"nav.logs":"REGISTROS","nav.community":"Comunidad","nav.helpCenter":"Centro de Ayuda","nav.help":"Ayuda","nav.adminConsole":"Consola Admin","nav.settings":"Configuraci\xf3n","nav.language":"Idioma","theme.light":"Claro","theme.dark":"Oscuro","theme.switchToLight":"Cambiar a modo claro","theme.switchToDark":"Cambiar a modo oscuro","header.subtitle":"Archivo de Gu\xeda de Emergencia Modular Sin Conexi\xf3n","connection.connected":"Conectado","connection.degraded":"Degradado","connection.notConnected":"No Conectado","connection.tooltipConnected":"Datos en vivo del backend OMEGA.","connection.tooltipNotConnected":"Usando datos simulados. Backend no conectado.","connection.tooltipDegraded":"Backend accesible pero algunos endpoints fallando.","connection.lastPing":"\xdaltimo ping","dataSource.mock":"DATOS SIMULADOS","dataSource.live":"EN VIVO","dataSource.loading":"Cargando...","dataSource.error":"Error al cargar datos","dataSource.empty":"Sin datos disponibles","dataSource.retry":"Reintentar","community.title":"Centro Comunitario","community.overview":"Resumen","community.directory":"Directorio","community.analytics":"An\xe1lisis","community.comms":"Comunicaciones","community.incidents":"Incidentes","community.members":"miembros","community.online":"en l\xednea","community.offline":"desconectado","community.searchPlaceholder":"Buscar miembros por nombre, habilidades o idiomas...","teams.title":"Equipos Oficiales y Actualizaciones","teams.subtitle":"Actualizaciones cr\xedticas de los equipos oficiales","teams.latestUpdates":"\xdaltimas Actualizaciones","teams.teams":"Equipos","teams.allBulletins":"Todos los Boletines","teams.searchBulletins":"Buscar boletines...","teams.post":"Publicar","teams.new":"NUEVO","teams.lead":"L\xedder","teams.viewAll":"Ver todos los boletines","teams.noBulletins":"No hay boletines de este equipo todav\xeda.","teams.noUpdates":"\xa1No hay nuevas actualizaciones. Vuelve m\xe1s tarde!","teams.noMatch":"Ning\xfan bolet\xedn coincide con tus filtros.","teams.readBy":"Le\xeddo por","teams.acknowledge":"Confirmar","teams.close":"Cerrar","teams.postNewBulletin":"Publicar Nuevo Bolet\xedn","teams.teamMembers":"Miembros del Equipo","teams.recentBulletins":"Boletines Recientes","teams.teamLead":"L\xedder del Equipo","teams.attachments":"Archivos Adjuntos","severity.critical":"CR\xcdTICO","severity.warning":"ADVERTENCIA","severity.info":"INFO","severity.resolved":"RESUELTO","severity.all":"Todos","status.ok":"OK","status.warn":"ALERTA","status.p0":"P0","status.good":"BIEN","status.needHelp":"NECESITA AYUDA","status.up":"Activo","status.down":"Ca\xeddo","status.unknown":"Desconocido","action.view":"Ver","action.edit":"Editar","action.delete":"Eliminar","action.save":"Guardar","action.cancel":"Cancelar","action.confirm":"Confirmar","action.copy":"Copiar","action.copied":"\xa1Copiado!","action.search":"Buscar","action.filter":"Filtrar","action.clear":"Limpiar","action.clearFilters":"Limpiar Filtros","action.showAll":"Mostrar Todo","action.showLess":"Mostrar Menos","action.viewAll":"Ver Todo","action.previous":"Anterior","action.next":"Siguiente","empty.noResults":"Sin resultados","empty.noData":"Sin datos disponibles","empty.noMembers":"Ning\xfan miembro coincide con tus filtros","empty.tryAgain":"Intenta ajustar tus filtros","help.quickHelp":"Ayuda R\xe1pida","help.legend":"Leyenda","help.troubleshooting":"Soluci\xf3n de Problemas","help.whatThisPageDoes":"Qu\xe9 hace esta p\xe1gina","help.needMoreHelp":"\xbfNecesitas m\xe1s ayuda?","help.visitHelpCenter":"Visitar Centro de Ayuda","time.ago":"hace","time.justNow":"Ahora mismo","time.minutes":"minutos","time.hours":"horas","time.days":"d\xedas","metrics.cpu":"CPU","metrics.ram":"RAM","metrics.disk":"Disco","metrics.temp":"Temp","metrics.battery":"Bater\xeda","domain.medical":"M\xe9dico","domain.comms":"Comunicaciones","domain.security":"Seguridad","domain.foodWater":"Comida y Agua","domain.engineering":"Ingenier\xeda","domain.logistics":"Log\xedstica"}},qL=[{code:"en",label:"English",flag:"\ud83c\uddfa\ud83c\uddf8"},{code:"es",label:"Espa\xf1ol",flag:"\ud83c\uddea\ud83c\uddf8"}],KL=(0,t.createContext)(),VL="omega-language";function GL(e){let{children:n}=e;const[r,a]=(0,t.useState)(()=>"undefined"!==typeof window&&localStorage.getItem(VL)||"en"),s=(0,t.useCallback)(e=>{HL[e]&&(a(e),localStorage.setItem(VL,e))},[]),i=(0,t.useCallback)((e,t)=>(HL[r]||HL.en)[e]||HL.en[e]||t||e,[r]),l=(0,t.useCallback)(()=>HL[r]||HL.en,[r]),o={language:r,setLanguage:s,t:i,getAllTranslations:l,availableLanguages:qL};return(0,Tt.jsx)(KL.Provider,{value:o,children:n})}function $L(){const e=(0,t.useContext)(KL);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e}function YL(e){let{className:n="",compact:r=!1}=e;const{language:a,setLanguage:s,t:i}=$L(),[l,o]=(0,t.useState)(!1),c=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const d=qL.find(e=>e.code===a)||qL[0],u=[...qL,{code:"more",label:"More soon...",flag:"\ud83c\udf10",disabled:!0}];return(0,Tt.jsxs)("div",{ref:c,className:"relative ".concat(n),children:[(0,Tt.jsxs)("button",{onClick:()=>o(!l),className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg bg-secondary/50 hover:bg-secondary border border-border/50 transition-colors ".concat(r?"text-xs":"text-sm"),title:i("nav.language"),"data-testid":"language-selector",children:[(0,Tt.jsx)(vT,{className:"".concat(r?"w-3.5 h-3.5":"w-4 h-4"," text-muted-foreground")}),!r&&(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)("span",{className:"text-muted-foreground hidden sm:inline",children:[i("nav.language"),":"]}),(0,Tt.jsxs)("span",{className:"font-medium",children:[d.flag," ",d.code.toUpperCase()]})]}),r&&(0,Tt.jsx)("span",{className:"font-medium",children:d.flag}),(0,Tt.jsx)(On.A,{className:"w-3 h-3 text-muted-foreground transition-transform ".concat(l?"rotate-180":"")})]}),l&&(0,Tt.jsx)("div",{className:"absolute top-full right-0 mt-1 w-44 glass rounded-xl border border-border shadow-xl z-50 overflow-hidden","data-testid":"language-dropdown",children:(0,Tt.jsx)("div",{className:"p-1",children:u.map(e=>(0,Tt.jsxs)("button",{onClick:()=>{e.disabled||(s(e.code),o(!1))},disabled:e.disabled,className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ".concat(e.disabled?"text-muted-foreground/50 cursor-not-allowed":a===e.code?"bg-primary/20 text-primary":"hover:bg-secondary text-foreground"),"data-testid":"language-option-".concat(e.code),children:[(0,Tt.jsx)("span",{className:"text-base",children:e.flag}),(0,Tt.jsx)("span",{className:"flex-1 text-left",children:e.label}),a===e.code&&!e.disabled&&(0,Tt.jsx)(WL,{className:"w-4 h-4 text-primary"})]},e.code))})})]})}const ZL=t.lazy(()=>__webpack_require__.e(11).then(__webpack_require__.bind(__webpack_require__,4011)));function QL(e){let{isOpen:n,onClose:r}=e;const{status:a,lastPing:s,lastPingTime:i,dataMode:l,endpoints:o,error:c,healthData:d,performHealthCheck:u,runSelfTest:m,getDebugInfo:h,config:p}=(0,Sr.w5)(),[f,x]=(0,t.useState)(!1),[g,v]=(0,t.useState)(null),[b,y]=(0,t.useState)(!1),[j,w]=(0,t.useState)(!1),N={[Sr.YZ.CONNECTED]:{icon:hn.A,label:"Connected",color:"text-success",bgColor:"bg-success/20",borderColor:"border-success/30"},[Sr.YZ.DEGRADED]:{icon:Gt.A,label:"Degraded",color:"text-warning",bgColor:"bg-warning/20",borderColor:"border-warning/30"},[Sr.YZ.NOT_CONNECTED]:{icon:Ln.A,label:"Not Connected",color:"text-muted-foreground",bgColor:"bg-muted/20",borderColor:"border-muted-foreground/30"}},k=N[a]||N[Sr.YZ.NOT_CONNECTED],A=k.icon,_=(0,t.useCallback)(async()=>{x(!0),v(null);try{const e=await m();v(e);const t=Object.values(e).filter(e=>"ok"===e.status).length,n=Object.keys(e).length;t===n?Pt.oR.success("Self Test Complete: ".concat(t,"/").concat(n," PASS")):Pt.oR.warning("Self Test Complete: ".concat(t,"/").concat(n," PASS"))}catch(kq){Pt.oR.error("Self test failed: "+kq.message)}finally{x(!1)}},[m]),C=(0,t.useCallback)(()=>{const e=h(),t="OMEGA Dashboard Debug Info\n============================\nBuild Version: ".concat(e.buildVersion,"\nBuild Timestamp: ").concat(e.buildTimestamp,"\nAPI Base URL: ").concat(e.apiBase,"\nKiwix Base URL: ").concat(e.kiwixBase,"\nUse Mock Data: ").concat(e.useMockData,"\nConnection Status: ").concat(e.connectionStatus,"\nData Mode: ").concat(e.dataMode,"\nLast Ping: ").concat(e.lastPing||"Never","\nLast Ping Time: ").concat(e.lastPingTime?e.lastPingTime+"ms":"N/A","\nError: ").concat(e.error||"None","\n\nEndpoints:\n").concat(Object.entries(e.endpoints).map(e=>{let[t,n]=e;return"  ".concat(t,": ").concat(n.status," (").concat(n.responseTime?n.responseTime+"ms":"N/A",")")}).join("\n"),"\n\nUser Agent: ").concat(e.userAgent,"\nCaptured: ").concat(e.timestamp);navigator.clipboard.writeText(t).then(()=>{Pt.oR.success("Debug info copied to clipboard")}).catch(()=>{Pt.oR.error("Failed to copy debug info")})},[h]),S=(0,t.useCallback)(async()=>{Pt.oR.info("Running health check..."),await u(),Pt.oR.success("Health check complete")},[u]);return n?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50",onClick:r,children:(0,Tt.jsxs)("div",{className:"w-full max-w-lg glass rounded-2xl border border-border shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Tt.jsxs)("div",{className:"p-4 border-b border-border bg-gradient-to-r from-primary/10 to-accent/10",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-xl bg-primary/20",children:(0,Tt.jsx)(Jt,{className:"w-5 h-5 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"font-bold text-lg",children:"System Status"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Install verification & diagnostics"})]})]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:r,children:(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"})})]}),(0,Tt.jsxs)("button",{onClick:()=>w(!0),className:"mt-3 flex items-center gap-1.5 text-xs text-amber-500 hover:underline","data-testid":"audit-link-btn",children:[(0,Tt.jsx)(xn.A,{className:"w-3.5 h-3.5"}),"View Audit Report"]})]}),(0,Tt.jsxs)("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[(0,Tt.jsxs)("div",{className:"p-3 rounded-xl bg-secondary/30",children:[(0,Tt.jsxs)("h3",{className:"text-xs font-semibold text-muted-foreground mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(cr,{className:"w-3 h-3"}),"BUILD INFO"]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Version:"}),(0,Tt.jsx)("span",{className:"ml-2 font-mono font-semibold",children:Kt.Ay.build.version})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Environment:"}),(0,Tt.jsx)("span",{className:"ml-2 font-mono",children:Kt.Ay.build.environment})]})]}),(0,Tt.jsxs)("div",{className:"mt-1 text-xs text-muted-foreground font-mono",children:["Built: ",new Date(Kt.Ay.build.timestamp).toLocaleString()]})]}),(0,Tt.jsxs)("div",{className:"p-3 rounded-xl ".concat(k.bgColor," border ").concat(k.borderColor),children:[(0,Tt.jsxs)("h3",{className:"text-xs font-semibold text-muted-foreground mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(ur.A,{className:"w-3 h-3"}),"CONNECTION STATUS"]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-lg ".concat(k.bgColor),children:(0,Tt.jsx)(A,{className:"w-5 h-5 ".concat(k.color)})}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("p",{className:"font-semibold ".concat(k.color),children:k.label}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:s?"Last ping: ".concat(new Date(s).toLocaleTimeString()).concat(i?" (".concat(i,"ms)"):""):"No successful connection yet"})]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:S,children:(0,Tt.jsx)(Zt.A,{className:"w-4 h-4"})})]}),c&&(0,Tt.jsxs)("div",{className:"mt-2 p-2 rounded bg-destructive/10 text-xs text-destructive",children:["Error: ",c]})]}),(0,Tt.jsxs)("div",{className:"p-3 rounded-xl bg-secondary/30",children:[(0,Tt.jsxs)("h3",{className:"text-xs font-semibold text-muted-foreground mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(pn.A,{className:"w-3 h-3"}),"CONFIGURATION"]}),(0,Tt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"API Base:"}),(0,Tt.jsx)("code",{className:"font-mono text-xs bg-secondary px-2 py-0.5 rounded",children:p.apiBase})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Kiwix Base:"}),(0,Tt.jsx)("code",{className:"font-mono text-xs bg-secondary px-2 py-0.5 rounded",children:p.kiwixBase})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Data Source:"}),(0,Tt.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-bold ".concat("live"===l?"bg-success/20 text-success":"bg-amber-500/20 text-amber-400"),children:"live"===l?"LIVE":"MOCK DATA"})]})]})]}),(0,Tt.jsxs)("div",{className:"p-3 rounded-xl bg-secondary/30",children:[(0,Tt.jsxs)("button",{className:"w-full flex items-center justify-between text-xs font-semibold text-muted-foreground",onClick:()=>y(!b),children:[(0,Tt.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Nr.A,{className:"w-3 h-3"}),"ENDPOINT STATUS"]}),b?(0,Tt.jsx)(En.A,{className:"w-4 h-4"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4"})]}),b&&(0,Tt.jsx)("div",{className:"mt-3 space-y-2",children:Object.entries(o).map(e=>{let[t,n]=e;const r=n.status===Sr.JL.OK,a=n.status===Sr.JL.FORBIDDEN,s=n.status===Sr.JL.DEGRADED,i=n.status===Sr.JL.NOT_CONFIGURED,l=n.status===Sr.JL.ERROR||n.status===Sr.JL.TIMEOUT;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Tt.jsx)("span",{className:"font-mono",children:t}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[n.responseTime&&(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[n.responseTime,"ms"]}),r?(0,Tt.jsxs)("span",{className:"flex items-center gap-1 text-success",children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"text-[10px] font-bold",children:"LIVE"})]}):a?(0,Tt.jsxs)("span",{className:"flex items-center gap-1 text-destructive",children:[(0,Tt.jsx)(Nn,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"text-[10px] font-bold",children:"LOCKED"})]}):s?(0,Tt.jsxs)("span",{className:"flex items-center gap-1 text-warning",children:[(0,Tt.jsx)(aa,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"text-[10px] font-bold",children:"DEGRADED"})]}):i?(0,Tt.jsxs)("span",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,Tt.jsx)(Jt,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"text-[10px] font-bold",children:"NOT SET"})]}):l?(0,Tt.jsxs)("span",{className:"flex items-center gap-1 text-destructive",children:[(0,Tt.jsx)(Yt.A,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"text-[10px] font-bold",children:"ERROR"})]}):(0,Tt.jsx)(Rn.A,{className:"w-4 h-4 text-muted-foreground"})]})]},t)})})]}),g&&(0,Tt.jsxs)("div",{className:"p-3 rounded-xl bg-secondary/30",children:[(0,Tt.jsx)("h3",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"SELF TEST RESULTS"}),(0,Tt.jsx)("div",{className:"space-y-1",children:Object.entries(g).map(e=>{let[t,n]=e;const r=n.status===Sr.JL.OK,a=n.status===Sr.JL.FORBIDDEN,s=n.status===Sr.JL.DEGRADED,i=n.status===Sr.JL.NOT_CONFIGURED;let l="FAIL",o="bg-destructive/20 text-destructive",c=Yt.A;return r?(l="PASS",o="bg-success/20 text-success",c=Vt.A):a?(l="LOCKED",o="bg-destructive/20 text-destructive",c=Nn):s?(l="DEGRADED",o="bg-warning/20 text-warning",c=aa):i&&(l="NOT SET",o="bg-muted/20 text-muted-foreground",c=Jt),(0,Tt.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Tt.jsx)("span",{className:"font-mono",children:t}),(0,Tt.jsxs)("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-xs font-bold ".concat(o),children:[(0,Tt.jsx)(c,{className:"w-3 h-3"})," ",l]})]},t)})})]})]}),(0,Tt.jsxs)("div",{className:"p-4 border-t border-border bg-secondary/20 space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)(gn.$,{onClick:_,disabled:f,className:"flex-1 gap-2","data-testid":"self-test-btn",children:f?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(Zt.A,{className:"w-4 h-4 animate-spin"})," Testing..."]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(gr.A,{className:"w-4 h-4"})," Run Self Test"]})}),(0,Tt.jsxs)(gn.$,{variant:"outline",onClick:C,className:"gap-2","data-testid":"copy-debug-btn",children:[(0,Tt.jsx)(fr.A,{className:"w-4 h-4"}),"Copy Debug Info"]})]}),(0,Tt.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[(0,Tt.jsx)(Xt,{className:"w-3 h-3"}),(0,Tt.jsx)("span",{children:"Debug bundle includes: build info, config, test results, network logs"})]})]})]})}),j&&(0,Tt.jsx)(t.Suspense,{fallback:(0,Tt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,Tt.jsx)("div",{className:"text-white",children:"Loading..."})}),children:(0,Tt.jsx)(ZL,{isOpen:j,onClose:()=>w(!1)})})]}):null}function JL(e){let{onClick:t}=e;const{status:n}=(0,Sr.w5)(),r={[Sr.YZ.CONNECTED]:"bg-success/20 text-success border-success/30",[Sr.YZ.DEGRADED]:"bg-warning/20 text-warning border-warning/30",[Sr.YZ.NOT_CONNECTED]:"bg-muted/20 text-muted-foreground border-muted-foreground/30"};return(0,Tt.jsxs)("button",{onClick:t,className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg border transition-colors hover:opacity-80 ".concat(r[n]),title:"Open System Status","data-testid":"system-status-btn",children:[(0,Tt.jsx)(Jt,{className:"w-3.5 h-3.5"}),(0,Tt.jsx)("span",{className:"text-xs font-medium hidden sm:inline",children:"Status"})]})}function XL(e){let{metrics:n,health:r,theme:a,onToggleTheme:s}=e;const[i,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),[x,g]=(0,t.useState)(!1),{t:v}=$L(),b=be(),y=xe(),j=(0,t.useMemo)(()=>r?"up"===r.status?{label:v("status.up"),color:"bg-success-light text-success",dotColor:"status-healthy"}:"degraded"===r.status?{label:"Degraded",color:"bg-warning-light text-warning",dotColor:"status-degraded"}:{label:v("status.down"),color:"bg-destructive-light text-destructive",dotColor:"status-down"}:{label:v("status.unknown"),color:"bg-muted text-muted-foreground",dotColor:"status-degraded"},[r,v]),[w,N]=t.useState(!1);return t.useEffect(()=>{const e=()=>{N(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 glass border-b border-border",children:(0,Tt.jsx)("div",{className:"container mx-auto px-3 sm:px-4 py-2 sm:py-3",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,Tt.jsxs)("div",{className:"flex flex-col",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[(0,Tt.jsx)("div",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"OMEGA"}),(0,Tt.jsx)("div",{className:"status-dot ".concat(j.dotColor),title:"System Status: ".concat(j.label)})]}),(0,Tt.jsx)("span",{className:"text-[9px] sm:text-[10px] text-muted-foreground tracking-wider uppercase leading-none hidden sm:block",children:v("header.subtitle")})]}),!w&&(0,Tt.jsx)(Er,{className:"hidden lg:flex"})]}),!w&&(0,Tt.jsxs)("div",{className:"hidden md:flex items-center gap-2 flex-wrap",children:[(0,Tt.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-3 py-2 rounded-full bg-gradient-to-r from-emerald-500/20 to-cyan-500/20 border border-emerald-500/30 hover:from-emerald-500/30 hover:to-cyan-500/30 hover:border-emerald-500/50 transition-all shadow-sm",title:"Open LOGS Analytics","data-testid":"logs-btn",children:[(0,Tt.jsx)(Rt,{className:"w-4 h-4 text-emerald-400"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:v("nav.logs")})]}),(0,Tt.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-3 py-2 rounded-full bg-gradient-to-r from-violet-500/20 to-fuchsia-500/20 border border-violet-500/30 hover:from-violet-500/30 hover:to-fuchsia-500/30 hover:border-violet-500/50 transition-all shadow-sm",title:"Open Community Hub","data-testid":"community-btn",children:[(0,Tt.jsx)(Lt.A,{className:"w-4 h-4 text-violet-400"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:v("nav.community")})]}),(0,Tt.jsxs)("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-3 py-2 rounded-full bg-gradient-to-r from-primary/20 to-accent/20 border border-primary/30 hover:from-primary/30 hover:to-accent/30 hover:border-primary/50 transition-all shadow-sm",title:"Open Help Center","data-testid":"help-center-btn",children:[(0,Tt.jsx)(zt.A,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:v("nav.helpCenter")})]}),(0,Tt.jsxs)("button",{onClick:()=>b("/entertainment"),className:"flex items-center gap-2 px-3 py-2 rounded-full bg-gradient-to-r from-pink-500/20 to-orange-500/20 border border-pink-500/30 hover:from-pink-500/30 hover:to-orange-500/30 hover:border-pink-500/50 transition-all shadow-sm ".concat("/entertainment"===y.pathname?"ring-2 ring-pink-500/50":""),title:"Entertainment Hub","data-testid":"entertainment-btn",children:[(0,Tt.jsx)(Ft,{className:"w-4 h-4 text-pink-400"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:"Entertainment"})]}),(0,Tt.jsxs)("div",{className:"hidden lg:flex items-center gap-2",children:[n&&null!==n.cpu&&(0,Tt.jsxs)("div",{className:"metric-pill hover:bg-secondary",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:v("metrics.cpu")}),(0,Tt.jsxs)("span",{className:"font-semibold",children:[n.cpu,"%"]})]}),n&&null!==n.temp&&(0,Tt.jsxs)("div",{className:"metric-pill hover:bg-secondary",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:v("metrics.temp")}),(0,Tt.jsxs)("span",{className:"font-semibold",children:[n.temp,"\xb0C"]})]})]})]}),w&&(0,Tt.jsxs)("div",{className:"flex md:hidden items-center gap-1.5 relative",children:[(0,Tt.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center gap-1 px-2.5 py-1.5 rounded-full bg-gradient-to-r from-emerald-500/20 to-cyan-500/20 border border-emerald-500/30 transition-all",title:"Open LOGS Analytics","data-testid":"logs-btn-mobile",children:[(0,Tt.jsx)(Rt,{className:"w-3.5 h-3.5 text-emerald-400"}),(0,Tt.jsx)("span",{className:"text-[11px] font-semibold",children:v("nav.logs")})]}),(0,Tt.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center gap-1 px-2.5 py-1.5 rounded-full bg-gradient-to-r from-violet-500/20 to-fuchsia-500/20 border border-violet-500/30 transition-all",title:"Open Community Hub","data-testid":"community-btn-mobile",children:[(0,Tt.jsx)(Lt.A,{className:"w-3.5 h-3.5 text-violet-400"}),(0,Tt.jsx)("span",{className:"text-[11px] font-semibold hidden xs:inline",children:v("nav.community")})]}),(0,Tt.jsxs)("button",{onClick:()=>b("/entertainment"),className:"flex items-center gap-1 px-2.5 py-1.5 rounded-full bg-gradient-to-r from-pink-500/20 to-orange-500/20 border border-pink-500/30 transition-all ".concat("/entertainment"===y.pathname?"ring-2 ring-pink-500/50":""),title:"Entertainment","data-testid":"entertainment-btn-mobile",children:[(0,Tt.jsx)(Ft,{className:"w-3.5 h-3.5 text-pink-400"}),(0,Tt.jsx)("span",{className:"text-[11px] font-semibold hidden xs:inline",children:"Fun"})]}),(0,Tt.jsx)("button",{onClick:()=>g(!x),className:"flex items-center justify-center w-8 h-8 rounded-full bg-secondary/50 border border-border hover:bg-secondary transition-all",title:"More options","data-testid":"overflow-menu-btn",children:x?(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"}):(0,Tt.jsx)(Ut,{className:"w-4 h-4"})}),x&&(0,Tt.jsx)("div",{className:"absolute top-full right-0 mt-2 w-48 bg-card border border-border rounded-xl shadow-xl z-50 overflow-hidden animate-fade-in","data-testid":"overflow-menu-dropdown",children:(0,Tt.jsxs)("div",{className:"p-1",children:[(0,Tt.jsxs)("button",{onClick:()=>{c(!0),g(!1)},className:"flex items-center gap-3 w-full px-3 py-2.5 rounded-lg hover:bg-secondary transition-colors text-left","data-testid":"overflow-help-center",children:[(0,Tt.jsx)(zt.A,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"text-sm font-medium",children:v("nav.helpCenter")})]}),(0,Tt.jsxs)("button",{onClick:()=>{l(!0),g(!1)},className:"flex items-center gap-3 w-full px-3 py-2.5 rounded-lg hover:bg-secondary transition-colors text-left","data-testid":"overflow-admin-console",children:[(0,Tt.jsx)(Wt.A,{className:"w-4 h-4 text-amber-400"}),(0,Tt.jsx)("span",{className:"text-sm font-medium",children:v("nav.adminConsole")})]}),(0,Tt.jsx)("div",{className:"h-px bg-border my-1"}),n&&(0,Tt.jsxs)("div",{className:"px-3 py-2 text-xs text-muted-foreground","data-testid":"overflow-metrics",children:[(0,Tt.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,Tt.jsx)("span",{children:"CPU"}),(0,Tt.jsxs)("span",{className:"font-medium text-foreground",children:[n.cpu,"%"]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,Tt.jsx)("span",{children:"Temp"}),(0,Tt.jsxs)("span",{className:"font-medium text-foreground",children:[n.temp,"\xb0C"]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"RAM"}),(0,Tt.jsxs)("span",{className:"font-medium text-foreground",children:[n.ram,"%"]})]})]})]})})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[(0,Tt.jsx)(YL,{compact:w}),w&&(0,Tt.jsx)(Er,{className:"hidden xs:flex"}),(0,Tt.jsx)(JL,{onClick:()=>f(!0)}),(0,Tt.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center gap-1.5 px-3 sm:px-4 py-2 rounded-full bg-gradient-to-r from-amber-500/20 to-orange-500/20 border border-amber-500/30 hover:from-amber-500/30 hover:to-orange-500/30 hover:border-amber-500/50 transition-all shadow-sm",title:"Open Admin Console - Manage fleet, broadcasts, and system settings","data-testid":"admin-console-btn",children:[(0,Tt.jsx)(Wt.A,{className:"w-4 h-4 text-amber-400"}),(0,Tt.jsx)("span",{className:"text-xs sm:text-sm font-semibold",children:v("nav.adminConsole")})]}),(0,Tt.jsx)("button",{onClick:s,className:"glass px-2.5 sm:px-3 py-2 rounded-lg hover:bg-secondary-hover transition-smooth text-sm font-medium shadow-sm flex items-center gap-1.5",title:v("dark"===a?"theme.switchToLight":"theme.switchToDark"),"data-testid":"theme-toggle-btn",children:"dark"===a?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(Ht,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"hidden sm:inline text-xs",children:v("theme.light")})]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(qt,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"hidden sm:inline text-xs",children:v("theme.dark")})]})})]})]})})}),(0,Tt.jsx)(or,{isOpen:i,onClose:()=>l(!1)}),(0,Tt.jsx)(Yr,{isOpen:o,onClose:()=>c(!1)}),(0,Tt.jsx)(tT,{isOpen:d,onClose:()=>u(!1)}),(0,Tt.jsx)(UL,{isOpen:m,onClose:()=>h(!1)}),(0,Tt.jsx)(QL,{isOpen:p,onClose:()=>f(!1)})]})}const ez=(0,It.A)("command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]),tz={kiwix:1,jellyfin:2,community:3,commands:4,files:5},nz=6,rz=6,az=4,sz=4,iz=3,lz="http://talon.local:8090",oz="http://127.0.0.1:8090",cz=["wikipedia_en","wikipedia_simple","wikimed","wikimedical","wiktionary_en","ifixit","wikem","archlinux","archwiki","openstreetmap","devdocs","wikivoyage"],dz={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"443",FAST_REFRESH:!0,REACT_APP_BUILD_TIMESTAMP:"2026-01-14T06:01:49Z",REACT_APP_USE_MOCK_DATA:"false",REACT_APP_BUILD_VERSION:"20260114060149",REACT_APP_BACKEND_URL:"https://global-search-hub-2.preview.emergentagent.com"}.REACT_APP_JELLYFIN_API_KEY||null,uz=()=>!!dz,mz=[{id:"global",label:"Global",icon:on,description:"Search all sources"},{id:"kiwix",label:"Knowledge",icon:cn.A,description:"Wikipedia, guides, references"},{id:"jellyfin",label:"Media",icon:dn,description:"Movies, TV, Music"},{id:"community",label:"Community",icon:Lt.A,description:"People, teams, skills"},{id:"files",label:"Files",icon:nn.A,description:"Documents, maps, shared files"},{id:"commands",label:"Tools",icon:un,description:"Commands and actions"}],hz=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"INDEXED";return{kiwix:{id:"kiwix",label:"Offline Knowledge",icon:cn.A,color:"text-emerald-500",bgColor:"bg-emerald-500/10",status:e,statusNote:"UNAVAILABLE"===e?"Kiwix server not responding":null,description:"Wikipedia, medical guides, how-to articles"},jellyfin:{id:"jellyfin",label:"Media Library",icon:dn,color:"text-violet-500",bgColor:"bg-violet-500/10",status:uz()?"INDEXED":"NOT_INDEXED",statusNote:uz()?null:"Jellyfin not indexed: missing API key",description:"Movies, TV shows, music"},community:{id:"community",label:"Community",icon:Lt.A,color:"text-blue-500",bgColor:"bg-blue-500/10",status:"INDEXED",description:"People, teams, skills directory"},commands:{id:"commands",label:"Commands & Actions",icon:un,color:"text-amber-500",bgColor:"bg-amber-500/10",status:"PLANNED",statusNote:"Executable commands planned for future release",description:"System commands and quick actions"},files:{id:"files",label:"Files & Documents",icon:nn.A,color:"text-cyan-500",bgColor:"bg-cyan-500/10",status:"INDEXED",description:"Shared files, maps, documents"}}};let pz=hz("INDEXED"),fz=null,xz=null;const gz=async()=>{const e=[lz,oz];for(const t of e)try{const e=new AbortController,n=setTimeout(()=>e.abort(),3e3),r=await fetch("".concat(t,"/catalog/v2/entries"),{signal:e.signal,mode:"cors"});if(clearTimeout(n),r.ok)return fz=!0,xz=t,pz=hz("INDEXED"),console.log("[Kiwix] API available at ".concat(t)),{available:!0,endpoint:t}}catch(kq){console.log("[Kiwix] ".concat(t," not available:"),kq.message)}return fz=!1,xz=null,pz=hz("UNAVAILABLE"),console.log("[Kiwix] API unavailable - using library-level only"),{available:!1,endpoint:null}},vz=e=>{const t=e.toLowerCase(),n=[];return t.includes("wiki")&&(n.push({id:"kiwix-lib-1",title:"Wikipedia (English)",subtitle:"The Free Encyclopedia - 6.7M articles",source:"kiwix",sourceLabel:"Wikipedia EN",matchType:"exact",matchReason:'Library match for "wiki"',trustBadge:"VERIFIED",freshness:Date.now()-864e5,isPinned:!0,isLibrary:!0,url:"".concat(Kt.Ay.KIWIX_BASE||lz,"/wikipedia_en")}),n.push({id:"kiwix-lib-2",title:"Wikipedia Simple English",subtitle:"Easy-to-read encyclopedia - 240K articles",source:"kiwix",sourceLabel:"Wikipedia Simple",matchType:"prefix",matchReason:'Library match for "wiki"',trustBadge:"VERIFIED",freshness:Date.now()-864e5,isPinned:!0,isLibrary:!0,url:"".concat(Kt.Ay.KIWIX_BASE||lz,"/wikipedia_simple")})),t.includes("wikipedia")&&n.unshift({id:"kiwix-lib-exact",title:"Wikipedia (English)",subtitle:"The Free Encyclopedia - Full offline copy",source:"kiwix",sourceLabel:"Wikipedia EN",matchType:"exact",matchReason:'Exact library match for "wikipedia"',trustBadge:"VERIFIED",freshness:Date.now()-36e5,isPinned:!0,isLibrary:!0,url:"".concat(Kt.Ay.KIWIX_BASE||lz,"/wikipedia_en")}),(t.includes("medical")||t.includes("health")||t.includes("emergency"))&&(n.push({id:"kiwix-lib-wikem",title:"WikEM - Emergency Medicine",subtitle:"Emergency medicine reference",source:"kiwix",sourceLabel:"WikEM",matchType:"fts",matchReason:"Library match in medical content",trustBadge:"VERIFIED",freshness:Date.now()-1728e5,isPinned:!0,isLibrary:!0,url:"".concat(Kt.Ay.KIWIX_BASE||lz,"/wikem")}),n.push({id:"kiwix-lib-wikimed",title:"WikiMed Medical Encyclopedia",subtitle:"Medical knowledge base",source:"kiwix",sourceLabel:"WikiMed",matchType:"fts",matchReason:"Library match for medical",trustBadge:"VERIFIED",freshness:Date.now()-1728e5,isPinned:!0,isLibrary:!0,url:"".concat(Kt.Ay.KIWIX_BASE||lz,"/wikimed")})),(t.includes("fix")||t.includes("repair")||t.includes("how"))&&n.push({id:"kiwix-lib-ifixit",title:"iFixit Repair Guides",subtitle:"Device repair manuals and guides",source:"kiwix",sourceLabel:"iFixit",matchType:"fts",matchReason:"Library match for repair content",trustBadge:"VERIFIED",freshness:Date.now()-2592e5,isPinned:!0,isLibrary:!0,url:"".concat(Kt.Ay.KIWIX_BASE||lz,"/ifixit")}),(t.includes("arch")||t.includes("linux"))&&n.push({id:"kiwix-lib-arch",title:"ArchWiki",subtitle:"Arch Linux documentation",source:"kiwix",sourceLabel:"ArchWiki",matchType:"fts",matchReason:"Library match for Linux",trustBadge:"VERIFIED",freshness:Date.now()-2592e5,isPinned:!0,isLibrary:!0,url:"".concat(Kt.Ay.KIWIX_BASE||lz,"/archlinux")}),(t.includes("python")||t.includes("documentation")||t.includes("dev"))&&n.push({id:"kiwix-lib-devdocs",title:"DevDocs",subtitle:"Developer documentation",source:"kiwix",sourceLabel:"DevDocs",matchType:"fts",matchReason:"Library match for docs",trustBadge:"VERIFIED",freshness:Date.now()-2592e5,isPinned:!0,isLibrary:!0,url:"".concat(Kt.Ay.KIWIX_BASE||lz,"/devdocs")}),(t.includes("travel")||t.includes("france")||t.includes("guide"))&&n.push({id:"kiwix-lib-wikivoyage",title:"Wikivoyage",subtitle:"Free travel guide",source:"kiwix",sourceLabel:"Wikivoyage",matchType:"fts",matchReason:"Library match for travel",trustBadge:"VERIFIED",freshness:Date.now()-2592e5,isPinned:!0,isLibrary:!0,url:"".concat(Kt.Ay.KIWIX_BASE||lz,"/wikivoyage")}),(t.includes("first aid")||t.includes("burns")||t.includes("aid"))&&n.push({id:"kiwix-lib-firstaid",title:"First Aid Quick Reference",subtitle:"Emergency first aid procedures",source:"kiwix",sourceLabel:"WikEM",matchType:"fts",matchReason:"Library match for first aid",trustBadge:"VERIFIED",freshness:Date.now()-1728e5,isPinned:!0,isLibrary:!0,url:"".concat(Kt.Ay.KIWIX_BASE||lz,"/wikem")}),0===n.length&&t.length>2&&n.push({id:"kiwix-lib-search",title:'Search "'.concat(e,'" in Knowledge Base'),subtitle:"Search across all offline libraries",source:"kiwix",sourceLabel:"Kiwix Search",matchType:"fts",matchReason:"Full-text search available",trustBadge:"DERIVED",freshness:Date.now(),isLibrary:!0,url:"".concat(Kt.Ay.KIWIX_BASE||lz,"/search?q=").concat(encodeURIComponent(e))}),n},bz=async e=>{const t=vz(e);if(null===fz&&await gz(),fz){const{results:n,error:r}=await(async e=>{if(!fz||!xz)return{results:[],error:"Kiwix API unavailable"};try{const t=new AbortController,n=setTimeout(()=>t.abort(),5e3),r="".concat(xz,"/search?pattern=").concat(encodeURIComponent(e),"&limit=20"),a=await fetch(r,{signal:t.signal,mode:"cors",headers:{Accept:"application/json"}});if(clearTimeout(n),!a.ok){const t="".concat(xz,"/suggest?term=").concat(encodeURIComponent(e)),n=await fetch(t,{mode:"cors"});if(n.ok)return{results:await n.json(),endpoint:"suggest"};throw new Error("Kiwix search returned ".concat(a.status))}return{results:await a.json(),endpoint:"search"}}catch(kq){return console.log("[Kiwix] Article search failed:",kq.message),{results:[],error:kq.message}}})(e);if(!r&&n.length>0){const r=((e,t)=>Array.isArray(e)?e.slice(0,10).map((e,n)=>{const r=e.title||e.label||e.name||"Untitled",a=e.snippet||e.description||"",s=e.book||e.zimFile||"Unknown",i=e.path||e.url||"",l=cz.some(e=>s.toLowerCase().includes(e)||i.toLowerCase().includes(e));let o="fts";return r.toLowerCase()===t.toLowerCase()?o="exact":r.toLowerCase().startsWith(t.toLowerCase())&&(o="prefix"),{id:"kiwix-article-".concat(n),title:r,subtitle:a||"From ".concat(s),source:"kiwix",sourceLabel:s,matchType:o,matchReason:"Article match in ".concat(s),trustBadge:"VERIFIED",freshness:Date.now()-864e5,isPinned:l,isArticle:!0,url:xz?"".concat(xz).concat(i):null}}):[])(n,e);return[...r,...t]}}return t},yz=e=>{if(uz())return[];const t=e.toLowerCase(),n=[];return["movie","film","watch","video","tv","series","music","playlist","stream","podcast","jellyfin","download"].some(e=>t.includes(e))&&n.push({id:"jellyfin-stub-1",title:"Media Library Search",subtitle:"Jellyfin not indexed: missing API key",source:"jellyfin",sourceLabel:"Jellyfin",matchType:"stub",matchReason:"Media search available when Jellyfin is configured",trustBadge:"UNKNOWN",freshness:null,isStub:!0,stubMessage:"Configure JELLYFIN_API_KEY environment variable to enable media search"}),n},jz=e=>{const t=e.toLowerCase(),n=[];return(t.includes("john")||t.includes("admin")||t.includes("user"))&&n.push({id:"community-1",title:"John Smith",subtitle:"Admin \u2022 Medical Team \u2022 Available",source:"community",sourceLabel:"Directory",matchType:"prefix",matchReason:"Name match",trustBadge:"VERIFIED",freshness:Date.now()-3e5}),(t.includes("team")||t.includes("group")||t.includes("medical"))&&n.push({id:"community-2",title:"Medical Response Team",subtitle:"5 members \u2022 Last active 2h ago",source:"community",sourceLabel:"Teams",matchType:"fts",matchReason:"Team name match",trustBadge:"VERIFIED",freshness:Date.now()-72e5}),n},wz=e=>{const t=e.toLowerCase(),n=[];return[{id:"cmd-hotspot",trigger:"hotspot",title:"Toggle Hotspot",desc:"Turn WiFi hotspot on/off"},{id:"cmd-selftest",trigger:"test",title:"Run Self-Test",desc:"Check all subsystems"},{id:"cmd-backup",trigger:"backup",title:"Start Backup",desc:"Backup system data"},{id:"cmd-movie",trigger:"movie",title:"Start Movie Night",desc:"Configure for movie viewing"},{id:"cmd-sos",trigger:"sos",title:"SOS Beacon",desc:"Activate emergency beacon"}].forEach(e=>{(t.includes(e.trigger)||e.title.toLowerCase().includes(t))&&n.push({id:e.id,title:e.title,subtitle:e.desc,source:"commands",sourceLabel:"Action",matchType:"exact",matchReason:"Command match",trustBadge:"UNKNOWN",freshness:null,isStub:!0,stubMessage:"Command execution planned for future release"})}),n},Nz=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.toLowerCase(),r=[];return[{name:"omega_manual.pdf",path:"/docs/omega_manual.pdf",size:"2.4 MB",modified:Date.now()-864e5},{name:"emergency_procedures.docx",path:"/docs/emergency_procedures.docx",size:"156 KB",modified:Date.now()-1728e5},{name:"team_roster.xlsx",path:"/shared/team_roster.xlsx",size:"45 KB",modified:Date.now()-36e5},{name:"local_map.jpg",path:"/maps/local_map.jpg",size:"1.2 MB",modified:Date.now()-6048e5},{name:"config.json.bak",path:"/system/config.json.bak",size:"12 KB",modified:Date.now()-2592e5,isNoise:!0},{name:"omega.log",path:"/logs/omega.log",size:"45 MB",modified:Date.now()-6e4,isNoise:!0},{name:".DS_Store",path:"/shared/.DS_Store",size:"6 KB",modified:Date.now()-864e5,isNoise:!0},{name:"bundle.min.js",path:"/assets/bundle.min.js",size:"892 KB",modified:Date.now()-6048e5,isNoise:!0}].forEach((a,s)=>{if(a.name.toLowerCase().includes(n)||a.path.toLowerCase().includes(n)){if(a.isNoise&&!t)return;r.push({id:"file-".concat(s),title:a.name,subtitle:"".concat(a.path," \u2022 ").concat(a.size),source:"files",sourceLabel:"File",matchType:a.name.toLowerCase().startsWith(n)?"prefix":"fts",matchReason:'Filename contains "'.concat(e,'"'),trustBadge:"VERIFIED",freshness:a.modified,isNoise:a.isNoise})}}),r},kz=e=>{const t={wikpedia:"wikipedia",wikipdia:"wikipedia",wikepedia:"wikipedia",kiwx:"kiwix",kiwixx:"kiwix",jllyfin:"jellyfin",jelyfin:"jellyfin",jelyfish:"jellyfin","sos becon":"sos beacon",emergncy:"emergency",medicl:"medical"},n=e.toLowerCase();for(const[r,a]of Object.entries(t))if(n.includes(r))return e.replace(new RegExp(r,"gi"),a);return null},Az="omega-recent-searches",_z=()=>{try{return JSON.parse(localStorage.getItem(Az)||"[]")}catch(e){return[]}},Cz=e=>{if(!e||e.length<2)return;const t=_z().filter(t=>t!==e);t.unshift(e),localStorage.setItem(Az,JSON.stringify(t.slice(0,10)))};function Sz(){var e;const[n,r]=(0,t.useState)(""),[a,s]=(0,t.useState)(!1),[i,l]=(0,t.useState)("global"),[o,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(-1),[p,f]=(0,t.useState)(_z),[x,g]=(0,t.useState)(!1),[v,b]=(0,t.useState)(null),[y,j]=(0,t.useState)(null),w=(0,t.useRef)(null),N=(0,t.useRef)(null),k=(0,t.useRef)(null);(0,t.useEffect)(()=>{gz().then(e=>{let{available:t}=e;j(t)})},[]);const A=(0,t.useMemo)(()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";if(!e||e.length<2)return{results:[],meta:{},kiwixStatus:fz};let n=[];const r={};("global"===t?["kiwix","jellyfin","community","commands","files"]:[t]).forEach(a=>{let s=[];switch(a){case"kiwix":s=vz(e);break;case"jellyfin":s=yz(e);break;case"community":s=jz(e);break;case"commands":s=wz(e);break;case"files":s=Nz(e,"files"===t)}r[a]=s.length,n=n.concat(s)});const a={exact:0,prefix:1,fts:2,fuzzy:3,stub:4};if(n.sort((e,t)=>{const n=tz[e.source]-tz[t.source];if(0!==n)return n;const r=a[e.matchType]-a[t.matchType];return 0!==r?r:e.isPinned&&!t.isPinned?-1:!e.isPinned&&t.isPinned?1:0}),"global"===t){const t=r.kiwix>0||r.jellyfin>0||r.community>0,a=t?{kiwix:nz,jellyfin:rz,community:az,commands:sz,files:t?2:iz}:{files:15},s=[],i={},l=[];return n.forEach(e=>{const t=e.source;i[t]=i[t]||0,!a[t]||i[t]<a[t]?(s.push(e),i[t]++):"files"===t&&l.push(e)}),{results:s,hiddenFiles:l,meta:{totalResults:n.length,shownResults:s.length,sourceCounts:r,didYouMean:kz(e),caps:a,hasHighValueResults:t},kiwixStatus:fz}}return{results:n,hiddenFiles:[],meta:{totalResults:n.length,shownResults:n.length,sourceCounts:r,didYouMean:kz(e)},kiwixStatus:fz}}(n,i),[n,i]);(0,t.useEffect)(()=>{if(n&&!(n.length<2))return k.current&&clearTimeout(k.current),k.current=setTimeout(async()=>{g(!0);try{const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";if(!e||e.length<2)return{results:[],meta:{},kiwixStatus:fz};let n=[];const r={},a="global"===t?["kiwix","jellyfin","community","commands","files"]:[t];for(const i of a){let a=[];switch(i){case"kiwix":a=await bz(e);break;case"jellyfin":a=yz(e);break;case"community":a=jz(e);break;case"commands":a=wz(e);break;case"files":a=Nz(e,"files"===t)}r[i]=a.length,n=n.concat(a)}const s={exact:0,prefix:1,fts:2,fuzzy:3,stub:4};if(n.sort((e,t)=>{if(e.isArticle&&!t.isArticle&&e.source===t.source)return-1;if(!e.isArticle&&t.isArticle&&e.source===t.source)return 1;const n=tz[e.source]-tz[t.source];if(0!==n)return n;const r=s[e.matchType]-s[t.matchType];return 0!==r?r:e.isPinned&&!t.isPinned?-1:!e.isPinned&&t.isPinned?1:0}),"global"===t){const t=r.kiwix>0||r.jellyfin>0||r.community>0,a=t?{kiwix:nz,jellyfin:rz,community:az,commands:sz,files:t?2:iz}:{files:15},s=[],i={},l=[];return n.forEach(e=>{const t=e.source;i[t]=i[t]||0,!a[t]||i[t]<a[t]?(s.push(e),i[t]++):"files"===t&&l.push(e)}),{results:s,hiddenFiles:l,meta:{totalResults:n.length,shownResults:s.length,sourceCounts:r,didYouMean:kz(e),caps:a,hasHighValueResults:t},kiwixStatus:fz}}return{results:n,hiddenFiles:[],meta:{totalResults:n.length,shownResults:n.length,sourceCounts:r,didYouMean:kz(e)},kiwixStatus:fz}}(n,i);b(e),j(e.kiwixStatus)}catch(kq){console.error("Async search failed:",kq)}finally{g(!1)}},300),()=>{k.current&&clearTimeout(k.current)};b(null)},[n,i]);const{results:_,hiddenFiles:C,meta:S}=v||A,E=(0,t.useMemo)(()=>hz(!1===y?"UNAVAILABLE":"INDEXED"),[y]);(0,t.useEffect)(()=>{const e=e=>{var t;if(!a){var r,i;if("/"===e.key&&"INPUT"!==(null===(r=document.activeElement)||void 0===r?void 0:r.tagName))e.preventDefault(),null===(i=w.current)||void 0===i||i.focus();return}const l=_.length+(d?C.length:0);switch(e.key){case"ArrowDown":e.preventDefault(),h(e=>Math.min(e+1,l-1));break;case"ArrowUp":e.preventDefault(),h(e=>Math.max(e-1,-1));break;case"Enter":e.preventDefault(),m>=0&&m<_.length?M(_[m]):n.length>0&&O();break;case"Escape":s(!1),null===(t=w.current)||void 0===t||t.blur()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[a,_,C,m,d,n]),(0,t.useEffect)(()=>{h(-1)},[n,i]);const O=(0,t.useCallback)(()=>{n.trim()&&(Cz(n),f(_z()))},[n]),M=(0,t.useCallback)(e=>{e.isStub||(e.url&&window.open(e.url,"_blank"),Cz(n),f(_z()),s(!1))},[n]),P=(0,t.useCallback)((e,t)=>{e.stopPropagation(),(e=>{const t=_z().filter(t=>t!==e);localStorage.setItem(Az,JSON.stringify(t))})(t),f(_z())},[]),T=(0,t.useCallback)(()=>{localStorage.removeItem(Az),f([])},[]),D=(0,t.useCallback)(e=>{var t;l(e),null===(t=w.current)||void 0===t||t.focus()},[]),I=a;return(0,Tt.jsxs)("div",{className:"relative max-w-3xl mx-auto px-1 sm:px-0","data-testid":"search-bar-container",children:[(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsx)("div",{className:"rounded-xl sm:rounded-2xl transition-all duration-300 bg-card border ".concat(a?"ring-2 ring-primary shadow-lg shadow-primary/20 border-primary":"border-border shadow-md"),children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 px-3 sm:px-5 py-3 sm:py-4",children:[(0,Tt.jsx)(on,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 transition-colors ".concat(a?"text-primary":"text-muted-foreground")}),(0,Tt.jsx)("input",{ref:w,type:"text",value:n,onChange:e=>r(e.target.value),onFocus:()=>s(!0),onBlur:()=>setTimeout(()=>s(!1),200),placeholder:"global"===i?"Search anything... (knowledge, media, people, files)":"Search ".concat(i,"..."),className:"flex-1 bg-transparent border-none outline-none text-sm sm:text-base text-foreground placeholder:text-muted-foreground/70 min-w-0","data-testid":"search-input","aria-label":"Search",autoComplete:"off"}),n&&(0,Tt.jsx)("button",{onClick:()=>r(""),className:"p-1 hover:bg-secondary rounded-full transition-colors","data-testid":"search-clear",children:(0,Tt.jsx)(Bt.A,{className:"w-4 h-4 text-muted-foreground"})}),(0,Tt.jsxs)("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium text-muted-foreground bg-secondary rounded-lg flex-shrink-0",children:[(0,Tt.jsx)(ez,{className:"w-3 h-3"}),"/"]})]})}),a&&!n&&(0,Tt.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground flex items-center gap-2","data-testid":"search-tips",children:[(0,Tt.jsx)(Ft,{className:"w-3 h-3"}),(0,Tt.jsxs)("span",{children:['Try: "wiki", "emergency", "medical", "john" \u2022 ',(0,Tt.jsx)("a",{href:"#",className:"text-primary hover:underline",children:"More tips"})]})]})]}),I&&(0,Tt.jsxs)("div",{ref:N,className:"absolute top-full mt-2 w-full bg-card border border-border rounded-xl sm:rounded-2xl shadow-xl z-50 animate-fade-in overflow-hidden max-h-[70vh] overflow-y-auto","data-testid":"search-dropdown",children:[(0,Tt.jsxs)("div",{className:"p-2 border-b border-border bg-secondary/30","data-testid":"search-scopes",children:[(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1.5",children:mz.map(e=>(0,Tt.jsxs)("button",{onClick:()=>D(e.id),className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-colors ".concat(i===e.id?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80 text-foreground"),"data-testid":"scope-".concat(e.id),children:[(0,Tt.jsx)(e.icon,{className:"w-3 h-3"}),e.label]},e.id))}),!1===y&&(0,Tt.jsxs)("div",{className:"mt-2 flex items-center gap-2 px-2 py-1.5 bg-amber-500/10 border border-amber-500/30 rounded-lg","data-testid":"kiwix-unavailable-badge",children:[(0,Tt.jsx)(Ln.A,{className:"w-3 h-3 text-amber-500"}),(0,Tt.jsx)("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Kiwix Search Unavailable"}),(0,Tt.jsx)("button",{className:"ml-auto text-xs text-amber-500 hover:text-amber-600 underline",onClick:()=>{gz().then(e=>{let{available:t}=e;return j(t)})},title:"Retry connecting to Kiwix",children:"Retry"})]}),x&&n&&(0,Tt.jsxs)("div",{className:"mt-2 flex items-center gap-2 px-2 py-1.5","data-testid":"search-loading",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 border-2 border-primary border-t-transparent rounded-full animate-spin"}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"Searching articles..."})]})]}),!n&&(0,Tt.jsxs)("div",{className:"p-3","data-testid":"search-empty-state",children:[p.length>0?(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsxs)("span",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[(0,Tt.jsx)(en.A,{className:"w-3 h-3"}),"Recent Searches"]}),(0,Tt.jsx)("button",{onClick:T,className:"text-xs text-muted-foreground hover:text-foreground","data-testid":"clear-all-recent",children:"Clear all"})]}),(0,Tt.jsx)("div",{className:"space-y-1",children:p.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-secondary cursor-pointer group",onClick:()=>r(e),"data-testid":"recent-search-".concat(t),children:[(0,Tt.jsx)("span",{className:"text-sm text-foreground",children:e}),(0,Tt.jsx)("button",{onClick:t=>P(t,e),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-secondary rounded",children:(0,Tt.jsx)(Bt.A,{className:"w-3 h-3 text-muted-foreground"})})]},t))})]}):(0,Tt.jsxs)("div",{className:"text-center py-4",children:[(0,Tt.jsx)(on,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground/50"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"Start typing to search"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Search knowledge bases, media, people, and files"})]}),(0,Tt.jsxs)("div",{className:"mt-4 pt-3 border-t border-border",children:[(0,Tt.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Quick Access"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:Object.values(E).slice(0,4).map(e=>(0,Tt.jsxs)("button",{onClick:()=>D(e.id),className:"flex items-center gap-2 p-2 rounded-lg ".concat(e.bgColor," hover:opacity-80 transition-opacity"),"data-testid":"quick-access-".concat(e.id),children:[(0,Tt.jsx)(e.icon,{className:"w-4 h-4 ".concat(e.color)}),(0,Tt.jsx)("span",{className:"text-xs font-medium text-foreground",children:e.label}),"INDEXED"!==e.status&&(0,Tt.jsx)("span",{className:"text-[8px] px-1 py-0.5 rounded ".concat("UNAVAILABLE"===e.status?"bg-red-500/20 text-red-500":"NOT_INDEXED"===e.status?"bg-blue-500/20 text-blue-500":"bg-amber-500/20 text-amber-500"),children:"NOT_INDEXED"===e.status?"N/A":"UNAVAILABLE"===e.status?"!":"\u23f3"})]},e.id))})]})]}),n&&S.didYouMean&&(0,Tt.jsx)("div",{className:"px-3 py-2 bg-amber-500/10 border-b border-amber-500/30","data-testid":"did-you-mean",children:(0,Tt.jsxs)("span",{className:"text-sm text-amber-600 dark:text-amber-400",children:["Did you mean: ",(0,Tt.jsx)("button",{onClick:()=>r(S.didYouMean),className:"font-medium underline hover:no-underline",children:S.didYouMean}),"?"]})}),n&&_.length>0&&(0,Tt.jsxs)("div",{className:"p-2","data-testid":"search-results",children:[["kiwix","jellyfin","community","commands","files"].map(e=>{const t=_.filter(t=>t.source===e);if(0===t.length)return null;const n=E[e];return(0,Tt.jsxs)("div",{className:"mb-3","data-testid":"results-group-".concat(e),children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1.5",children:[(0,Tt.jsx)(n.icon,{className:"w-3.5 h-3.5 ".concat(n.color)}),(0,Tt.jsx)("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:n.label}),"INDEXED"!==n.status&&(0,Tt.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded ".concat("PLANNED"===n.status?"bg-amber-500/20 text-amber-500":"UNAVAILABLE"===n.status?"bg-red-500/20 text-red-500":"bg-blue-500/20 text-blue-500"),children:n.status}),"kiwix"===e&&t.some(e=>e.isArticle)&&(0,Tt.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-500",children:"ARTICLES"})]}),(0,Tt.jsx)("div",{className:"space-y-1",children:t.map((e,t)=>{const r=_.indexOf(e),a=m===r;return(0,Tt.jsxs)("button",{onClick:()=>M(e),className:"w-full flex items-start gap-3 p-2.5 rounded-lg text-left transition-colors ".concat(a?"bg-primary/20":"hover:bg-secondary"," ").concat(e.isStub?"opacity-70":""),"data-testid":"search-result-".concat(e.id),children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ".concat(n.bgColor),children:(0,Tt.jsx)(n.icon,{className:"w-4 h-4 ".concat(n.color)})}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-sm font-medium text-foreground truncate",children:e.title}),e.isArticle&&(0,Tt.jsx)("span",{className:"text-[9px] px-1 py-0.5 rounded bg-emerald-500/10 text-emerald-500 border border-emerald-500/30",children:"Article"}),e.isLibrary&&(0,Tt.jsx)("span",{className:"text-[9px] px-1 py-0.5 rounded bg-blue-500/10 text-blue-500 border border-blue-500/30",children:"Library"}),(0,Tt.jsx)(qn,{type:e.trustBadge,showLabel:!1})]}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground truncate",children:e.subtitle}),e.isStub&&e.stubMessage&&(0,Tt.jsxs)("div",{className:"text-xs text-amber-500 mt-1 flex items-center gap-1",children:[(0,Tt.jsx)(Gt.A,{className:"w-3 h-3"}),e.stubMessage]}),!e.isStub&&(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-[10px] text-muted-foreground",children:[(0,Tt.jsx)("span",{className:"text-primary",children:e.matchReason}),e.freshness&&(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("span",{children:"\u2022"}),(0,Tt.jsx)("span",{className:Wn(e.freshness).color,children:Wn(e.freshness).label})]})]})]}),!e.isStub&&(0,Tt.jsx)(Pn,{className:"w-4 h-4 text-muted-foreground flex-shrink-0 mt-1"})]},e.id)})})]},e)}),C.length>0&&(0,Tt.jsxs)("div",{className:"mt-2 pt-2 border-t border-border","data-testid":"show-more-files",children:[(0,Tt.jsxs)("button",{onClick:()=>u(!d),className:"w-full flex items-center justify-center gap-2 p-2 rounded-lg hover:bg-secondary text-sm text-muted-foreground",children:[(0,Tt.jsx)(nn.A,{className:"w-4 h-4"}),d?"Hide":"Show"," ",C.length," more files",(0,Tt.jsx)(On.A,{className:"w-4 h-4 transition-transform ".concat(d?"rotate-180":"")})]}),d&&(0,Tt.jsx)("div",{className:"mt-2 space-y-1",children:C.map(e=>(0,Tt.jsxs)("button",{onClick:()=>M(e),className:"w-full flex items-start gap-3 p-2.5 rounded-lg text-left hover:bg-secondary",children:[(0,Tt.jsx)(nn.A,{className:"w-4 h-4 text-cyan-500 mt-0.5"}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium text-foreground truncate",children:e.title}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground truncate",children:e.subtitle})]})]},e.id))})]}),(0,Tt.jsxs)("div",{className:"mt-3 pt-2 border-t border-border",children:[(0,Tt.jsxs)("button",{onClick:()=>c(!o),className:"flex items-center gap-2 text-xs text-muted-foreground hover:text-foreground","data-testid":"explain-results-btn",children:[(0,Tt.jsx)(an.A,{className:"w-3 h-3"}),o?"Hide":"Explain"," results ranking"]}),o&&(0,Tt.jsxs)("div",{className:"mt-2 p-3 bg-secondary/50 rounded-lg text-xs text-muted-foreground","data-testid":"explain-results-panel",children:[(0,Tt.jsx)("p",{className:"font-medium text-foreground mb-2",children:"How results are ranked:"}),(0,Tt.jsxs)("ol",{className:"list-decimal list-inside space-y-1",children:[(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:"Source priority:"})," Knowledge \u2192 Media \u2192 Community \u2192 Commands \u2192 Files"]}),(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:"Match type:"})," Exact match \u2192 Prefix \u2192 Full-text \u2192 Fuzzy"]}),(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:"Pinned sources:"})," Wikipedia, WikEM, iFixit get a boost"]}),(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:"Files capped:"})," Max 2 files shown when higher-value results exist"]}),(0,Tt.jsxs)("li",{children:[(0,Tt.jsx)("strong",{children:"Noise filtered:"})," Backup files, logs, and artifacts hidden by default"]})]}),(0,Tt.jsxs)("p",{className:"mt-2 text-primary",children:['Query: "',n,'" \u2022 Scope: ',i," \u2022 ",S.totalResults," total, ",S.shownResults," shown"]})]})]})]}),n&&n.length>=2&&0===_.length&&(0,Tt.jsxs)("div",{className:"p-6 text-center","data-testid":"zero-results",children:[(0,Tt.jsx)(Yt.A,{className:"w-10 h-10 mx-auto mb-3 text-muted-foreground/50"}),(0,Tt.jsxs)("h4",{className:"font-medium text-foreground mb-1",children:['No results for "',n,'"']}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"global"===i?"No matches found in any source.":"No matches found in ".concat((null===(e=E[i])||void 0===e?void 0:e.label)||i,".")}),!1===y&&"kiwix"===i&&(0,Tt.jsx)("div",{className:"mb-4 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[(0,Tt.jsx)(Ln.A,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"text-sm",children:"Kiwix server not available - article search disabled"})]})}),(0,Tt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"Try:"}),(0,Tt.jsxs)("ul",{className:"text-muted-foreground space-y-1",children:[(0,Tt.jsx)("li",{children:"\u2022 Check spelling or try a different term"}),(0,Tt.jsx)("li",{children:'\u2022 Use broader keywords (e.g., "medical" instead of "emergency cardiology")'}),"global"!==i&&(0,Tt.jsxs)("li",{children:["\u2022 ",(0,Tt.jsx)("button",{onClick:()=>l("global"),className:"text-primary hover:underline",children:"Search globally"})," instead"]})]})]}),S.didYouMean&&(0,Tt.jsxs)("button",{onClick:()=>r(S.didYouMean),className:"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-medium",children:['Search for "',S.didYouMean,'" instead']})]})]})]})}const Ez=["className"],Oz=["className"],Mz=["className"],Pz=["className"],Tz=["className"],Dz=["className"],Iz=t.forwardRef((e,t)=>{let{className:n}=e,r=(0,a.A)(e,Ez);return(0,Tt.jsx)("div",(0,s.A)({ref:t,className:(0,vn.cn)("rounded-xl border bg-card text-card-foreground shadow",n)},r))});Iz.displayName="Card";const Rz=t.forwardRef((e,t)=>{let{className:n}=e,r=(0,a.A)(e,Oz);return(0,Tt.jsx)("div",(0,s.A)({ref:t,className:(0,vn.cn)("flex flex-col space-y-1.5 p-6",n)},r))});Rz.displayName="CardHeader";const Lz=t.forwardRef((e,t)=>{let{className:n}=e,r=(0,a.A)(e,Mz);return(0,Tt.jsx)("div",(0,s.A)({ref:t,className:(0,vn.cn)("font-semibold leading-none tracking-tight",n)},r))});Lz.displayName="CardTitle";t.forwardRef((e,t)=>{let{className:n}=e,r=(0,a.A)(e,Pz);return(0,Tt.jsx)("div",(0,s.A)({ref:t,className:(0,vn.cn)("text-sm text-muted-foreground",n)},r))}).displayName="CardDescription";const zz=t.forwardRef((e,t)=>{let{className:n}=e,r=(0,a.A)(e,Tz);return(0,Tt.jsx)("div",(0,s.A)({ref:t,className:(0,vn.cn)("p-6 pt-0",n)},r))});zz.displayName="CardContent";t.forwardRef((e,t)=>{let{className:n}=e,r=(0,a.A)(e,Dz);return(0,Tt.jsx)("div",(0,s.A)({ref:t,className:(0,vn.cn)("flex items-center p-6 pt-0",n)},r))}).displayName="CardFooter";const Fz=(0,It.A)("signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]),Bz=(0,It.A)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Uz=(0,It.A)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);const Wz=new class{constructor(){this.baseUrl=Kt.Ay.ally.apiBase,this.apiKey=Kt.Ay.api.apiKey,this.timeout=Kt.Ay.api.timeout||5e3,this.cache={nodes:null,nodesTimestamp:null,globalChat:[],globalChatTimestamp:null,dmChats:{},userStatus:null},this.messageQueue=[],this.isOnline=Kt.Ay.features.enableMockData,this.lastError=null,this.retryTimer=null}buildUrl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new URL(e,this.baseUrl);return this.apiKey&&n.searchParams.set("key",this.apiKey),Object.entries(t).forEach(e=>{let[t,r]=e;void 0!==r&&null!==r&&n.searchParams.set(t,r)}),n.toString()}buildHeaders(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,s.A)({"Content-Type":"application/json"},e);return this.apiKey&&(t["X-API-Key"]=this.apiKey),t}async fetchWithTimeout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new AbortController,r=setTimeout(()=>n.abort(),this.timeout);try{const a=await fetch(e,(0,s.A)((0,s.A)({},t),{},{headers:this.buildHeaders(t.headers),signal:n.signal}));if(clearTimeout(r),!a.ok)throw new Error("HTTP ".concat(a.status,": ").concat(a.statusText));return this.isOnline=!0,this.lastError=null,a}catch(a){throw clearTimeout(r),this.isOnline=!1,this.lastError="AbortError"===a.name?"Request timeout":a.message,a}}async retryFetch(e){var t,n;let r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(null===(t=Kt.Ay.retry)||void 0===t?void 0:t.maxAttempts)||3,i=(null===(n=Kt.Ay.retry)||void 0===n?void 0:n.baseDelay)||1e3;for(let d=0;d<s;d++)try{return await this.fetchWithTimeout(e,a)}catch(c){var l,o;if(r=c,d<s-1)await new Promise(e=>setTimeout(e,i)),i=Math.min(i*((null===(l=Kt.Ay.retry)||void 0===l?void 0:l.backoffFactor)||2),(null===(o=Kt.Ay.retry)||void 0===o?void 0:o.maxDelay)||1e4)}throw r}shouldUseMock(){return Kt.Ay.features.enableMockData||!this.isOnline}getConnectionStatus(){return{isOnline:this.isOnline,lastError:this.lastError,lastUpdated:this.cache.nodesTimestamp,queuedMessages:this.messageQueue.length}}async getNodes(){if(!Kt.Ay.features.enableMockData)try{const e=this.buildUrl("/api/ally/nodes"),t=await this.retryFetch(e),n=await t.json();return this.cache.nodes=n.nodes||n,this.cache.nodesTimestamp=new Date,this.cache.nodes}catch(e){console.warn("Failed to fetch nodes from backend, using cache/mock:",e.message)}return this.cache.nodes?this.cache.nodes:this.getMockNodes()}async getNodeStatus(e){if(!Kt.Ay.features.enableMockData)try{const t=this.buildUrl("/api/ally/node/".concat(e,"/status")),n=await this.retryFetch(t);return await n.json()}catch(t){console.warn("Failed to fetch node status, using mock:",t.message)}return this.getMockNodeStatus(e)}async getGlobalChat(){if(!Kt.Ay.features.enableMockData)try{const e=this.cache.globalChatTimestamp?{since:this.cache.globalChatTimestamp.toISOString()}:{},t=this.buildUrl("/api/ally/chat/global",e),n=await this.retryFetch(t),r=await n.json(),a=r.messages||r;if(a.length>0){const e=new Set(this.cache.globalChat.map(e=>e.id)),t=a.filter(t=>!e.has(t.id));this.cache.globalChat=[...this.cache.globalChat,...t]}return this.cache.globalChatTimestamp=new Date,this.cache.globalChat}catch(e){console.warn("Failed to fetch global chat, using cache/mock:",e.message)}return this.cache.globalChat.length>0?this.cache.globalChat:this.getMockGlobalChat()}async sendGlobalMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";const n={id:"temp-".concat(Date.now()),sender:"me",sender_name:"This Device",text:e,timestamp:(new Date).toISOString(),priority:t,status:"sending"};if(this.cache.globalChat.push(n),!Kt.Ay.features.enableMockData)try{const r=this.buildUrl("/api/ally/chat/global"),a=await this.fetchWithTimeout(r,{method:"POST",body:JSON.stringify({text:e,priority:t})}),i=await a.json(),l=this.cache.globalChat.findIndex(e=>e.id===n.id);return-1!==l&&(this.cache.globalChat[l]=(0,s.A)((0,s.A)({},n),{},{id:i.id||n.id,status:i.status||"sent"})),{queued:"queued"===i.status,id:i.id}}catch(r){console.warn("Failed to send global message, queuing:",r.message);const a=this.cache.globalChat.findIndex(e=>e.id===n.id);return-1!==a&&(this.cache.globalChat[a].status="queued"),this.messageQueue.push({type:"global",text:e,priority:t,tempId:n.id}),{queued:!0}}return setTimeout(()=>{const e=this.cache.globalChat.findIndex(e=>e.id===n.id);-1!==e&&(this.cache.globalChat[e].status="sent")},500),{queued:!1}}async getDM(e){var t;if(!Kt.Ay.features.enableMockData)try{var n;const t=null!==(n=this.cache.dmChats[e])&&void 0!==n&&n.timestamp?{since:this.cache.dmChats[e].timestamp.toISOString()}:{},r=this.buildUrl("/api/ally/chat/dm/".concat(e),t),a=await this.retryFetch(r),s=await a.json();this.cache.dmChats[e]||(this.cache.dmChats[e]={messages:[],timestamp:null});const i=s.messages||s;if(i.length>0){const t=new Set(this.cache.dmChats[e].messages.map(e=>e.id)),n=i.filter(e=>!t.has(e.id));this.cache.dmChats[e].messages=[...this.cache.dmChats[e].messages,...n]}return this.cache.dmChats[e].timestamp=new Date,this.cache.dmChats[e].messages}catch(r){console.warn("Failed to fetch DMs, using cache/mock:",r.message)}return(null===(t=this.cache.dmChats[e])||void 0===t?void 0:t.messages.length)>0?this.cache.dmChats[e].messages:this.getMockDM(e)}async sendDM(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"urgent":"normal",r={id:"temp-".concat(Date.now()),sender:"me",text:t,timestamp:(new Date).toISOString(),status:"sending",priority:n};if(this.cache.dmChats[e]||(this.cache.dmChats[e]={messages:[],timestamp:null}),this.cache.dmChats[e].messages.push(r),!Kt.Ay.features.enableMockData)try{const a=this.buildUrl("/api/ally/chat/dm/".concat(e)),i=await this.fetchWithTimeout(a,{method:"POST",body:JSON.stringify({text:t,priority:n})}),l=await i.json(),o=this.cache.dmChats[e].messages.findIndex(e=>e.id===r.id);return-1!==o&&(this.cache.dmChats[e].messages[o]=(0,s.A)((0,s.A)({},r),{},{id:l.id||r.id,status:l.status||"sent"})),{queued:"queued"===l.status,id:l.id}}catch(a){console.warn("Failed to send DM, queuing:",a.message);const s=this.cache.dmChats[e].messages.findIndex(e=>e.id===r.id);return-1!==s&&(this.cache.dmChats[e].messages[s].status="queued"),this.messageQueue.push({type:"dm",nodeId:e,text:t,priority:n,tempId:r.id}),{queued:!0}}return setTimeout(()=>{var t;const n=null===(t=this.cache.dmChats[e])||void 0===t?void 0:t.messages.findIndex(e=>e.id===r.id);-1!==n&&(this.cache.dmChats[e].messages[n].status="sent")},500),{queued:!1}}async broadcastAlert(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"warning";if(!Kt.Ay.features.enableMockData)try{const r=this.buildUrl("/api/ally/broadcast"),a=await this.fetchWithTimeout(r,{method:"POST",body:JSON.stringify({title:e,message:t,severity:n})}),s=await a.json();return{queued:"queued"===s.status,id:s.id}}catch(r){return console.warn("Failed to send broadcast, queuing:",r.message),this.messageQueue.push({type:"broadcast",title:e,message:t,severity:n}),{queued:!0}}return{queued:!1,id:"broadcast-".concat(Date.now())}}async getCurrentUserStatus(){if(!Kt.Ay.features.enableMockData)try{const e=this.buildUrl("/api/ally/status/me"),t=await this.retryFetch(e),n=await t.json();return this.cache.userStatus=n,localStorage.setItem("omega_user_status",JSON.stringify(n)),n}catch(t){console.warn("Failed to fetch user status, using cache:",t.message)}if(this.cache.userStatus)return this.cache.userStatus;const e=localStorage.getItem("omega_user_status");if(e)try{return JSON.parse(e)}catch(n){}return{status:"good",note:null,set_at:null}}async setCurrentUserStatus(e){const t={status:e,note:"need_help"===e?arguments.length>1&&void 0!==arguments[1]?arguments[1]:null:null,set_at:(new Date).toISOString()};if(this.cache.userStatus=t,localStorage.setItem("omega_user_status",JSON.stringify(t)),!Kt.Ay.features.enableMockData)try{const n=this.buildUrl("/api/ally/status/me"),r=await this.fetchWithTimeout(n,{method:"PUT",body:JSON.stringify({status:e,note:t.note})});return await r.json()}catch(n){console.warn("Failed to update user status on server:",n.message)}return t}async pingNode(e){if(!Kt.Ay.features.enableMockData)try{const t=this.buildUrl("/api/ally/node/".concat(e,"/ping")),n=await this.fetchWithTimeout(t,{method:"POST"});return await n.json()}catch(t){throw console.warn("Ping failed:",t.message),t}return{rtt_ms:Math.floor(50*Math.random())+10,status:"success"}}async refreshNode(e){if(!Kt.Ay.features.enableMockData)try{const t=this.buildUrl("/api/ally/node/".concat(e,"/refresh")),n=await this.fetchWithTimeout(t,{method:"POST"});return await n.json()}catch(t){throw console.warn("Refresh failed:",t.message),t}return{status:"requested",timestamp:(new Date).toISOString()}}async retryQueuedMessages(){if(0===this.messageQueue.length||Kt.Ay.features.enableMockData)return;const e=[...this.messageQueue];this.messageQueue=[];for(const n of e)try{"global"===n.type?await this.sendGlobalMessage(n.text,n.priority):"dm"===n.type?await this.sendDM(n.nodeId,n.text,"urgent"===n.priority):"broadcast"===n.type&&await this.broadcastAlert(n.title,n.message,n.severity)}catch(t){this.messageQueue.push(n)}}getMessageTemplates(){return[{id:"omw",text:"On my way!",icon:"\ud83d\udeb6"},{id:"ok",text:"All good here",icon:"\u2713"},{id:"help",text:"Need assistance",icon:"\ud83c\udd98"},{id:"wait",text:"Wait for me",icon:"\u23f3"},{id:"loc",text:"Share your location",icon:"\ud83d\udccd"},{id:"call",text:"Call when you can",icon:"\ud83d\udcde"}]}getMockNodes(){return[{node_id:"omega-01",name:"Dad's OMEGA",role:"Primary",ip:"192.168.4.2",url:"http://192.168.4.2:3000",status:"online",user_status:"good",user_status_note:null,user_status_set_at:null,last_seen:(new Date).toISOString(),link_type:"Hotspot",rssi:-45,alerts_count:0,gps:{lat:37.7749,lon:-122.4194,acc:5.2}},{node_id:"omega-02",name:"Mom's OMEGA",role:"Secondary",ip:"192.168.4.3",url:"http://192.168.4.3:3000",status:"online",user_status:"okay",user_status_note:null,user_status_set_at:new Date(Date.now()-6e5).toISOString(),last_seen:new Date(Date.now()-3e4).toISOString(),link_type:"LAN",rssi:-52,alerts_count:1,gps:{lat:37.7755,lon:-122.418,acc:3.8}},{node_id:"omega-03",name:"Kids' OMEGA",role:"Mobile",ip:"192.168.4.4",url:"http://192.168.4.4:3000",status:"degraded",user_status:"need_help",user_status_note:"Device running hot",user_status_set_at:new Date(Date.now()-3e5).toISOString(),last_seen:new Date(Date.now()-12e4).toISOString(),link_type:"Mesh",rssi:-68,alerts_count:2,gps:{lat:37.776,lon:-122.421,acc:8.5}},{node_id:"omega-04",name:"Backup Unit",role:"Backup",ip:null,url:null,status:"offline",user_status:null,user_status_note:null,user_status_set_at:null,last_seen:new Date(Date.now()-36e5).toISOString(),link_type:null,rssi:null,alerts_count:0,gps:null}]}getMockNodeStatus(e){return{node_id:e,identity:{hostname:"omega-primary",version:"1.0.0",uptime:86400,last_reboot:new Date(Date.now()-864e5).toISOString()},system:{cpu:Math.floor(40*Math.random())+20,ram:Math.floor(30*Math.random())+40,disk:Math.floor(20*Math.random())+50,temp:Math.floor(15*Math.random())+45,services:{backend:"up",kiwix:"up",jellyfin:"up",gps:"up",sensors:"up"}},power:{battery_pct:Math.floor(30*Math.random())+70,volts:12.4,amps:.8,watts:9.9,charge_state:"discharging",runtime_s:7200},gps:{fix:"3D",sats:12,lat:37.7749,lon:-122.4194,acc:3.2,speed:0},sensors:{temp:22.5,hum:45.2,pressure:1013.2,iaq:95},alerts:[{message:"Low battery warning",severity:"warning",timestamp:new Date(Date.now()-36e5).toISOString()}]}}getMockGlobalChat(){return[{id:"1",sender:"omega-01",sender_name:"Dad's OMEGA",sender_status:"good",text:"Everyone check in - heading to the north ridge",timestamp:new Date(Date.now()-3e5).toISOString(),priority:"normal",status:"delivered"},{id:"2",sender:"omega-02",sender_name:"Mom's OMEGA",sender_status:"okay",text:"Copy that, we're at base camp",timestamp:new Date(Date.now()-24e4).toISOString(),priority:"normal",status:"delivered"},{id:"3",sender:"broadcast",sender_name:"SYSTEM",text:"Weather alert: Storm approaching from west",timestamp:new Date(Date.now()-12e4).toISOString(),priority:"emergency",status:"delivered",broadcast_title:"EMERGENCY WEATHER ALERT",broadcast_severity:"emergency"},{id:"4",sender:"omega-03",sender_name:"Kids' OMEGA",sender_status:"need_help",text:"Need assistance - device overheating",timestamp:new Date(Date.now()-6e4).toISOString(),priority:"urgent",status:"delivered"}]}getMockDM(e){return[{id:"1",sender:e,text:"Hey, can you send me those coordinates?",timestamp:new Date(Date.now()-6e5).toISOString(),status:"delivered"},{id:"2",sender:"me",text:"Sure thing, sending now",timestamp:new Date(Date.now()-54e4).toISOString(),status:"delivered"},{id:"3",sender:"me",text:"GPS coordinates shared",timestamp:new Date(Date.now()-48e4).toISOString(),status:"sent"},{id:"4",sender:"me",text:"Let me know when you receive them",timestamp:new Date(Date.now()-42e4).toISOString(),status:"queued"}]}},Hz=Wz,qz=(0,It.A)("swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Kz=(0,It.A)("cross",[["path",{d:"M4 9a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h4a1 1 0 0 1 1 1v4a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-4a1 1 0 0 1 1-1h4a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-4a1 1 0 0 1-1-1V4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4a1 1 0 0 1-1 1z",key:"1xbrqy"}]]),Vz=(0,It.A)("tree-pine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]),Gz=(0,It.A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),$z=(0,It.A)("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),Yz=(0,It.A)("navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),Zz=(0,t.lazy)(()=>Promise.all([__webpack_require__.e(717),__webpack_require__.e(561)]).then(__webpack_require__.bind(__webpack_require__,1668))),Qz={combat:{name:"Combat",icon:qz,color:"text-red-500",bg:"bg-red-500/20",skills:["Firearms","Hand-to-Hand","Tactical","Archery","Knife Fighting","Security"]},medical:{name:"Medical",icon:Kz,color:"text-pink-500",bg:"bg-pink-500/20",skills:["First Aid","Trauma Care","Surgery","Pharmacy","Mental Health","Veterinary"]},survival:{name:"Survival",icon:Vz,color:"text-green-500",bg:"bg-green-500/20",skills:["Foraging","Hunting","Trapping","Shelter Building","Fire Making","Water Purification"]},technical:{name:"Technical",icon:oT,color:"text-blue-500",bg:"bg-blue-500/20",skills:["Electronics","Mechanical","Welding","Carpentry","Plumbing","Solar/Power"]},communications:{name:"Comms",icon:mn.A,color:"text-cyan-500",bg:"bg-cyan-500/20",skills:["HAM Radio","Encryption","Signal Intelligence","Network Admin","Satellite Comms"]},navigation:{name:"Navigation",icon:br,color:"text-yellow-500",bg:"bg-yellow-500/20",skills:["Land Nav","Maritime","Driving","Piloting","GPS/Maps","Tracking"]},provisions:{name:"Provisions",icon:lT,color:"text-orange-500",bg:"bg-orange-500/20",skills:["Cooking","Food Preservation","Farming","Animal Husbandry","Brewing","Butchering"]},leadership:{name:"Leadership",icon:Lt.A,color:"text-purple-500",bg:"bg-purple-500/20",skills:["Command","Negotiation","Teaching","Morale","Planning","Conflict Resolution"]}},Jz=e=>{let{level:t}=e;const n=["bg-muted text-muted-foreground","bg-slate-500/30 text-slate-300","bg-blue-500/30 text-blue-300","bg-purple-500/30 text-purple-300","bg-yellow-500/30 text-yellow-300","bg-gradient-to-r from-yellow-500/50 to-orange-500/50 text-white"],r=["None","Basic","Competent","Proficient","Expert","Master"];return(0,Tt.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat(n[t]||n[0]),children:r[t]||r[0]})},Xz=e=>{let{title:n,icon:r,children:a,defaultOpen:s=!0}=e;const[i,l]=(0,t.useState)(s);return(0,Tt.jsxs)("div",{className:"border border-border/50 rounded-xl overflow-hidden",children:[(0,Tt.jsxs)("button",{onClick:()=>l(!i),className:"w-full px-4 py-3 flex items-center justify-between bg-secondary/30 hover:bg-secondary/50 transition-colors",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(r,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"font-semibold text-sm",children:n})]}),i?(0,Tt.jsx)(En.A,{className:"w-4 h-4"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4"})]}),i&&(0,Tt.jsx)("div",{className:"p-4",children:a})]})};function eF(e){var n,r,a,s,i,l,o,c,d,u,m,h,p,f,x,g,v,b,y,j,w,N,k;let{node:A,onClose:_,onMessage:C}=e;const[S,E]=(0,t.useState)(null),[O,M]=(0,t.useState)(!0),[P,T]=(0,t.useState)(null),[D,I]=(0,t.useState)("profile"),[R,L]=(0,t.useState)(null);(0,t.useEffect)(()=>{z(),L((e=>{const t={"omega-01":{fullName:'Michael "Dad" Rodriguez',callsign:"PAPA BEAR",age:52,bloodType:"O+",height:"6'1\"",weight:"195 lbs",hairColor:"Salt & Pepper",eyeColor:"Brown",distinguishingFeatures:"Scar on left forearm, tribal tattoo right shoulder",medicalConditions:["Mild hypertension (controlled)","Reading glasses required"],allergies:["Penicillin"],primaryClass:"leadership",secondaryClass:"technical",skillLevels:{combat:{Firearms:4,Tactical:3,"Hand-to-Hand":2},medical:{"First Aid":3,"Trauma Care":2},survival:{Hunting:3,"Fire Making":4,"Water Purification":3},technical:{Mechanical:5,Electronics:4,"Solar/Power":4,Welding:3},communications:{"HAM Radio":5,"Network Admin":3},navigation:{"Land Nav":4,Driving:4,"GPS/Maps":5},provisions:{Cooking:3,"Food Preservation":2},leadership:{Command:5,Planning:5,Teaching:4,Negotiation:3}},pastJobs:[{title:"Electrical Engineer",company:"Pacific Gas & Electric",years:"2005-2020"},{title:"Army Reserve - Staff Sergeant",company:"US Army",years:"1995-2015"},{title:"Volunteer Firefighter",company:"Marin County FD",years:"2010-Present"}],certifications:["HAM Extra Class","CPR/AED Instructor","CERT Trained","NRA RSO"],equipment:["Primary: AR-15","Sidearm: Glock 19","Handheld: Baofeng UV-5R","Solar: 200W Panel Kit"],notes:"Group leader. Primary comms operator. Responsible for power systems and network infrastructure.",emergencyContact:{name:"Sarah Rodriguez (Wife)",relation:"Spouse",method:"Node omega-02"}},"omega-02":{fullName:"Sarah Rodriguez",callsign:"MAMA BEAR",age:49,bloodType:"A+",height:"5'6\"",weight:"140 lbs",hairColor:"Auburn",eyeColor:"Green",distinguishingFeatures:"Freckles, small birthmark on neck",medicalConditions:["None"],allergies:["Shellfish","Latex"],primaryClass:"medical",secondaryClass:"provisions",skillLevels:{combat:{Firearms:2,"Hand-to-Hand":1},medical:{"First Aid":5,"Trauma Care":4,Surgery:3,Pharmacy:4,"Mental Health":3},survival:{Foraging:4,"Water Purification":3},technical:{Electronics:2},communications:{"HAM Radio":2},navigation:{"GPS/Maps":3,Driving:3},provisions:{Cooking:5,"Food Preservation":5,Farming:4,"Animal Husbandry":3},leadership:{Teaching:4,Morale:5,"Conflict Resolution":4}},pastJobs:[{title:"Registered Nurse (ER)",company:"UCSF Medical Center",years:"2000-2022"},{title:"School Nurse",company:"Mill Valley Elementary",years:"2022-Present"}],certifications:["RN License","ACLS","PALS","Wilderness First Responder","Master Gardener"],equipment:["Sidearm: S&W M&P Shield","Medical Kit: Full Trauma","Handheld: Baofeng UV-5R"],notes:"Primary medical provider. Manages food stores and meal planning. Excellent at keeping group morale high.",emergencyContact:{name:"Michael Rodriguez (Husband)",relation:"Spouse",method:"Node omega-01"}},"omega-03":{fullName:"Emma & Jake Rodriguez",callsign:"CUB PACK",age:"14 & 12",bloodType:"O+ / A+",height:"5'4\" / 4'11\"",weight:"115 lbs / 95 lbs",hairColor:"Brown / Brown",eyeColor:"Green / Brown",distinguishingFeatures:"Emma: braces. Jake: glasses",medicalConditions:["Jake: Mild asthma (inhaler carried)"],allergies:["None"],primaryClass:"navigation",secondaryClass:"communications",skillLevels:{combat:{"Hand-to-Hand":1},medical:{"First Aid":2},survival:{Foraging:2,"Fire Making":2},technical:{Electronics:3},communications:{"HAM Radio":2,"Network Admin":2},navigation:{"GPS/Maps":4,"Land Nav":3},provisions:{Cooking:2},leadership:{Morale:3}},pastJobs:[{title:"Students",company:"Mill Valley Middle School",years:"Current"}],certifications:["HAM Technician Class (Emma)","Junior Lifeguard (Both)"],equipment:["Handheld: Baofeng UV-5R (shared)","GPS: Garmin eTrex"],notes:"Learning critical skills. Emma excels at radio operation. Jake is the map/GPS expert. Both trained in basic first aid.",emergencyContact:{name:"Parents",relation:"Parents",method:"Nodes omega-01/02"}},"omega-04":{fullName:'Robert "Bob" Chen',callsign:"BACKUP",age:45,bloodType:"B+",height:"5'9\"",weight:"175 lbs",hairColor:"Black",eyeColor:"Brown",distinguishingFeatures:"Tattoo of dragon on back, missing pinky finger (left hand)",medicalConditions:["Type 2 Diabetes (managed with diet)"],allergies:["None"],primaryClass:"combat",secondaryClass:"survival",skillLevels:{combat:{Firearms:5,"Hand-to-Hand":5,Tactical:5,"Knife Fighting":4,Security:5},medical:{"First Aid":3,"Trauma Care":3},survival:{Hunting:5,Trapping:4,"Shelter Building":4,"Fire Making":4,Tracking:5},technical:{Mechanical:3,Welding:2},communications:{"HAM Radio":2},navigation:{"Land Nav":5,Tracking:5,Driving:4},provisions:{Butchering:4,Cooking:2},leadership:{Command:3,Teaching:3}},pastJobs:[{title:"Marine Corps - Gunnery Sergeant",company:"USMC",years:"1998-2018"},{title:"Security Consultant",company:"Self-employed",years:"2018-Present"},{title:"Hunting Guide",company:"Sierra Outfitters",years:"2019-Present"}],certifications:["Combat Lifesaver","Close Protection Specialist","NRA Instructor","Tracking Certification"],equipment:["Primary: M4 Carbine","Sidearm: Sig P320","Backup: Mossberg 500","Night Vision: PVS-14"],notes:"Security specialist. Currently at backup location establishing perimeter. Primary hunter for protein acquisition.",emergencyContact:{name:"Michael Rodriguez",relation:"Friend/Team Lead",method:"Node omega-01"}}};return t[e]||t["omega-01"]})(A.node_id))},[A.node_id]);const z=async()=>{M(!0),T(null);try{const e=await Hz.getNodeStatus(A.node_id);E(e)}catch(kq){console.error("Failed to fetch node details:",kq),T("Failed to load node details. Using cached data.")}finally{M(!1)}},F=e=>{const t=["from-blue-500 to-cyan-500","from-purple-500 to-pink-500","from-green-500 to-emerald-500","from-orange-500 to-red-500"],n=e.split("").reduce((e,t)=>e+t.charCodeAt(0),0);return t[n%t.length]},B=R?Qz[R.primaryClass]:null,U=R?Qz[R.secondaryClass]:null;return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-end",onClick:e=>e.target===e.currentTarget&&_(),"data-testid":"node-details-drawer",children:(0,Tt.jsxs)("div",{className:"w-full max-w-2xl h-full bg-background shadow-2xl overflow-hidden flex flex-col animate-fade-in",children:[(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsx)("div",{className:"h-32 bg-gradient-to-br ".concat(F(A.node_id)," opacity-30")}),(0,Tt.jsx)("div",{className:"absolute inset-0 flex items-end p-4",children:(0,Tt.jsxs)("div",{className:"flex items-end gap-4 w-full",children:[(0,Tt.jsx)("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br ".concat(F(A.node_id)," flex items-center justify-center text-white text-3xl font-bold shadow-xl border-4 border-background"),children:(null===R||void 0===R||null===(n=R.fullName)||void 0===n?void 0:n.charAt(0))||(null===(r=A.name)||void 0===r?void 0:r.charAt(0))||"?"}),(0,Tt.jsxs)("div",{className:"flex-1 pb-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,Tt.jsx)("h2",{className:"text-xl font-bold",children:(null===R||void 0===R?void 0:R.fullName)||A.name}),(0,Tt.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-bold ".concat((e=>{switch(e){case"good":return"bg-success text-white";case"okay":return"bg-warning text-black";case"need_help":return"bg-destructive text-white";default:return"bg-muted text-muted-foreground"}})(A.user_status)),children:(e=>{switch(e){case"good":return"GOOD";case"okay":return"OKAY";case"need_help":return"NEED HELP";default:return"OFFLINE"}})(A.user_status)})]}),(null===R||void 0===R?void 0:R.callsign)&&(0,Tt.jsxs)("p",{className:"text-primary font-mono font-bold text-sm",children:['"',R.callsign,'"']}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Node: ",A.node_id]})]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:_,className:"absolute top-2 right-2 text-white hover:bg-white/20",children:(0,Tt.jsx)(Bt.A,{className:"w-5 h-5"})})]})})]}),R&&(0,Tt.jsxs)("div",{className:"px-4 py-3 border-b border-border/50 flex items-center gap-3",children:[B&&(0,Tt.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full ".concat(B.bg),children:[(0,Tt.jsx)(B.icon,{className:"w-4 h-4 ".concat(B.color)}),(0,Tt.jsx)("span",{className:"text-sm font-bold ".concat(B.color),children:B.name}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"Primary"})]}),U&&(0,Tt.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full ".concat(U.bg),children:[(0,Tt.jsx)(U.icon,{className:"w-4 h-4 ".concat(U.color)}),(0,Tt.jsx)("span",{className:"text-sm font-bold ".concat(U.color),children:U.name}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"Secondary"})]})]}),(0,Tt.jsx)("div",{className:"flex border-b border-border/50",children:[{id:"profile",label:"Profile",icon:jn},{id:"skills",label:"Skills",icon:wT},{id:"device",label:"Device",icon:Zr},{id:"location",label:"Location",icon:mr.A}].map(e=>(0,Tt.jsxs)("button",{onClick:()=>I(e.id),className:"flex-1 py-3 text-sm font-medium transition-colors relative flex items-center justify-center gap-2 ".concat(D===e.id?"text-primary":"text-muted-foreground hover:text-foreground"),children:[(0,Tt.jsx)(e.icon,{className:"w-4 h-4"}),e.label,D===e.id&&(0,Tt.jsx)("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-primary rounded-full"})]},e.id))}),(0,Tt.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin",children:[P&&(0,Tt.jsxs)("div",{className:"bg-warning/20 border border-warning rounded-lg p-3 text-sm text-warning",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 inline mr-2"}),P]}),O?(0,Tt.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,Tt.jsx)("div",{className:"skeleton h-32 rounded-xl"},e))}):(0,Tt.jsxs)(Tt.Fragment,{children:["profile"===D&&R&&(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)(Xz,{title:"Physical Description",icon:jn,children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Age:"}),(0,Tt.jsx)("span",{className:"font-medium",children:R.age})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Height:"}),(0,Tt.jsx)("span",{className:"font-medium",children:R.height})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Weight:"}),(0,Tt.jsx)("span",{className:"font-medium",children:R.weight})]})]}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Hair:"}),(0,Tt.jsx)("span",{className:"font-medium",children:R.hairColor})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Eyes:"}),(0,Tt.jsx)("span",{className:"font-medium",children:R.eyeColor})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Blood Type:"}),(0,Tt.jsx)("span",{className:"font-bold text-destructive",children:R.bloodType})]})]})]}),R.distinguishingFeatures&&(0,Tt.jsxs)("div",{className:"mt-3 pt-3 border-t border-border/50",children:[(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"Distinguishing Features:"}),(0,Tt.jsx)("p",{className:"text-sm mt-1",children:R.distinguishingFeatures})]})]}),(0,Tt.jsx)(Xz,{title:"Medical Information",icon:wn,children:(0,Tt.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Conditions"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:(null===(a=R.medicalConditions)||void 0===a?void 0:a.length)>0?R.medicalConditions.map((e,t)=>(0,Tt.jsx)("span",{className:"px-2 py-1 bg-warning/20 text-warning rounded text-xs",children:e},t)):(0,Tt.jsx)("span",{className:"text-success text-xs",children:"None reported"})})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Allergies"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:(null===(s=R.allergies)||void 0===s?void 0:s.length)>0?R.allergies.map((e,t)=>(0,Tt.jsxs)("span",{className:"px-2 py-1 bg-destructive/20 text-destructive rounded text-xs font-medium",children:["\u26a0\ufe0f ",e]},t)):(0,Tt.jsx)("span",{className:"text-success text-xs",children:"No known allergies"})})]})]})}),(0,Tt.jsx)(Xz,{title:"Experience & Background",icon:jT,children:(0,Tt.jsx)("div",{className:"space-y-3",children:null===(i=R.pastJobs)||void 0===i?void 0:i.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex gap-3",children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:(0,Tt.jsx)(jT,{className:"w-5 h-5 text-muted-foreground"})}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("p",{className:"font-medium text-sm",children:e.title}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:e.company}),(0,Tt.jsx)("p",{className:"text-xs text-primary",children:e.years})]})]},t))})}),(0,Tt.jsx)(Xz,{title:"Certifications & Training",icon:NT,children:(0,Tt.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(l=R.certifications)||void 0===l?void 0:l.map((e,t)=>(0,Tt.jsxs)("span",{className:"px-3 py-1.5 bg-primary/20 text-primary rounded-full text-xs font-medium",children:["\u2713 ",e]},t))})}),(0,Tt.jsx)(Xz,{title:"Equipment Loadout",icon:Gz,children:(0,Tt.jsx)("div",{className:"space-y-2",children:null===(o=R.equipment)||void 0===o?void 0:o.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary"}),e]},t))})}),R.notes&&(0,Tt.jsx)(Xz,{title:"Notes",icon:$z,children:(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:R.notes})}),(0,Tt.jsx)(Xz,{title:"Emergency Contact",icon:Cn,children:(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("p",{className:"font-medium text-sm",children:null===(c=R.emergencyContact)||void 0===c?void 0:c.name}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:null===(d=R.emergencyContact)||void 0===d?void 0:d.relation}),(0,Tt.jsx)("p",{className:"text-xs text-primary mt-1",children:null===(u=R.emergencyContact)||void 0===u?void 0:u.method})]})})]}),"skills"===D&&R&&(0,Tt.jsx)("div",{className:"space-y-4",children:Object.entries(Qz).map(e=>{var t;let[n,r]=e;const a=(null===(t=R.skillLevels)||void 0===t?void 0:t[n])||{};return Object.keys(a).length>0?(0,Tt.jsx)(Xz,{title:r.name,icon:r.icon,defaultOpen:n===R.primaryClass||n===R.secondaryClass,children:(0,Tt.jsx)("div",{className:"space-y-2",children:Object.entries(a).map(e=>{let[t,n]=e;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",children:t}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(e=>(0,Tt.jsx)("div",{className:"w-4 h-2 rounded-sm ".concat(e<=n?r.bg.replace("/20",""):"bg-muted")},e))}),(0,Tt.jsx)(Jz,{level:n})]})]},t)})})},n):null})}),"device"===D&&S&&(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)(Xz,{title:"Connection",icon:hn.A,children:(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,Tt.jsx)("span",{className:"online"===A.status?"text-success":"text-warning",children:null===(m=A.status)||void 0===m?void 0:m.toUpperCase()})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Last Seen:"}),(0,Tt.jsx)("span",{children:(e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString()}catch(t){return"N/A"}})(A.last_seen)})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Link Type:"}),(0,Tt.jsx)("span",{children:A.link_type||"N/A"})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Signal:"}),(0,Tt.jsx)("span",{children:A.rssi?"".concat(A.rssi," dBm"):"N/A"})]})]})}),(0,Tt.jsx)(Xz,{title:"System Health",icon:ln.A,children:(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"CPU:"}),(0,Tt.jsxs)("span",{className:(null===(h=S.system)||void 0===h?void 0:h.cpu)>80?"text-warning":"",children:[null===(p=S.system)||void 0===p?void 0:p.cpu,"%"]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"RAM:"}),(0,Tt.jsxs)("span",{children:[null===(f=S.system)||void 0===f?void 0:f.ram,"%"]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Disk:"}),(0,Tt.jsxs)("span",{children:[null===(x=S.system)||void 0===x?void 0:x.disk,"%"]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Temp:"}),(0,Tt.jsxs)("span",{children:[null===(g=S.system)||void 0===g?void 0:g.temp,"\xb0C"]})]})]})}),(0,Tt.jsx)(Xz,{title:"Power",icon:pr,children:(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Battery:"}),(0,Tt.jsxs)("span",{className:(null===(v=S.power)||void 0===v?void 0:v.battery_pct)<20?"text-destructive":"text-success",children:[null===(b=S.power)||void 0===b?void 0:b.battery_pct,"%"]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"State:"}),(0,Tt.jsx)("span",{className:"capitalize",children:null===(y=S.power)||void 0===y?void 0:y.charge_state})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Voltage:"}),(0,Tt.jsxs)("span",{children:[null===(j=S.power)||void 0===j?void 0:j.volts,"V"]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Power:"}),(0,Tt.jsxs)("span",{children:[null===(w=S.power)||void 0===w?void 0:w.watts,"W"]})]})]})})]}),"location"===D&&(null===S||void 0===S?void 0:S.gps)&&(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)(Xz,{title:"GPS Status",icon:Yz,children:(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Fix:"}),(0,Tt.jsx)("span",{className:"3D"===S.gps.fix?"text-success":"text-warning",children:S.gps.fix||"No Fix"})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Satellites:"}),(0,Tt.jsx)("span",{children:S.gps.sats})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Latitude:"}),(0,Tt.jsx)("span",{children:null===(N=S.gps.lat)||void 0===N?void 0:N.toFixed(6)})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Longitude:"}),(0,Tt.jsx)("span",{children:null===(k=S.gps.lon)||void 0===k?void 0:k.toFixed(6)})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Accuracy:"}),(0,Tt.jsxs)("span",{children:["\xb1",Math.round(3.28084*S.gps.acc)," ft"]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Speed:"}),(0,Tt.jsxs)("span",{children:[Math.round(.621371*S.gps.speed)," mph"]})]})]})}),S.gps.lat&&S.gps.lon&&(0,Tt.jsxs)("div",{className:"rounded-xl overflow-hidden border border-border",children:[(0,Tt.jsx)(t.Suspense,{fallback:(0,Tt.jsx)("div",{className:"h-64 glass flex items-center justify-center",children:(0,Tt.jsx)($t.A,{className:"w-6 h-6 animate-spin text-primary"})}),children:(0,Tt.jsx)(Zz,{lat:S.gps.lat,lon:S.gps.lon,nodeName:A.name,nodeStatus:A.status,userStatus:A.user_status,accuracy:S.gps.acc,fixStatus:S.gps.fix})}),(0,Tt.jsxs)("div",{className:"bg-secondary/30 px-3 py-2 flex items-center justify-between text-xs",children:[(0,Tt.jsxs)("span",{className:"text-muted-foreground",children:[S.gps.fix," Fix \u2022 ",S.gps.sats," Satellites"]}),(0,Tt.jsxs)("div",{className:"flex gap-1",children:[(0,Tt.jsxs)(gn.$,{size:"sm",variant:"ghost",className:"h-7 px-2 text-xs",onClick:()=>{navigator.clipboard.writeText("".concat(S.gps.lat,", ").concat(S.gps.lon)),Pt.oR.success("Coordinates copied!")},children:[(0,Tt.jsx)(fr.A,{className:"w-3 h-3 mr-1"}),"Copy"]}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"ghost",className:"h-7 px-2 text-xs",onClick:()=>window.open("https://www.google.com/maps?q=".concat(S.gps.lat,",").concat(S.gps.lon),"_blank"),children:[(0,Tt.jsx)(Nr.A,{className:"w-3 h-3 mr-1"}),"Maps"]})]})]})]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-strong border-t border-border p-4 flex gap-2",children:[(0,Tt.jsxs)(gn.$,{onClick:()=>C(A.node_id),className:"flex-1",children:[(0,Tt.jsx)(fT,{className:"w-4 h-4 mr-2"}),"Message"]}),(0,Tt.jsxs)(gn.$,{variant:"outline",onClick:async()=>{try{await Hz.refreshNode(A.node_id),Pt.oR.success("Refresh requested"),setTimeout(z,2e3)}catch(kq){Pt.oR.error("Refresh failed")}},className:"flex-1",children:[(0,Tt.jsx)(Zt.A,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,Tt.jsx)(gn.$,{variant:"outline",onClick:()=>Pt.oR.success("Added to favorites"),children:(0,Tt.jsx)(ZR,{className:"w-4 h-4"})})]})]})})}function tF(e){let{type:n,nodeId:r,nodeName:a,onClose:i}=e;const[l,o]=(0,t.useState)([]),[c,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!0),[f,x]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!0),[j,w]=(0,t.useState)(!1),N=(0,t.useRef)(null),k=(0,t.useRef)(0),A=Hz.getMessageTemplates();(0,t.useEffect)(()=>{_();const e=setInterval(_,Kt.Ay.polling.allyChat);return()=>clearInterval(e)},[n,r]),(0,t.useEffect)(()=>{if(!N.current)return;const e=l.length,t=e>k.current;return 0===k.current&&e>0?(k.current=e,void setTimeout(()=>{N.current&&(N.current.scrollTop=N.current.scrollHeight)},0)):(k.current=e,g?(N.current.scrollTop=N.current.scrollHeight,v(!1),void w(!1)):void(t&&b?(N.current.scrollTop=N.current.scrollHeight,w(!1)):t&&!b&&w(!0)))},[l,g,b]);const _=async()=>{try{const e="group"===n?await Hz.getGlobalChat():await Hz.getDM(r);o(e)}catch(e){console.error("Failed to fetch messages:",e)}finally{p(!1)}},C=async()=>{if(!c.trim()||f)return;x(!0);const e="temp-".concat(Date.now()),t={id:e,sender:"me",text:c,timestamp:(new Date).toISOString(),status:"sending",priority:u?"urgent":"normal"};o(e=>[...e,t]),v(!0);const a=c,i=u;d(""),m(!1);try{const t="group"===n?await Hz.sendGlobalMessage(a,i?"urgent":"normal"):await Hz.sendDM(r,a,i);o(n=>n.map(n=>n.id===e?(0,s.A)((0,s.A)({},n),{},{status:t.queued?"queued":"sent"}):n)),t.queued&&Pt.oR.info("Message queued (will send when online)",{description:"The message will be sent automatically when connection is restored."})}catch(l){o(t=>t.map(t=>t.id===e?(0,s.A)((0,s.A)({},t),{},{status:"failed"}):t)),Pt.oR.error("Failed to send message")}finally{x(!1)}},S=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),E=e=>{switch(e){case"delivered":return(0,Tt.jsx)(Vt.A,{className:"w-3 h-3 text-success"});case"sent":return(0,Tt.jsx)(Vt.A,{className:"w-3 h-3 text-muted-foreground"});case"sending":return(0,Tt.jsx)(en.A,{className:"w-3 h-3 text-muted-foreground animate-pulse"});case"queued":return(0,Tt.jsx)(en.A,{className:"w-3 h-3 text-warning"});case"failed":return(0,Tt.jsx)(Yt.A,{className:"w-3 h-3 text-destructive"});default:return null}},O=e=>{switch(e){case"delivered":return"Delivered";case"sent":return"Sent";case"sending":return"Sending...";case"queued":return"Queued";case"failed":return"Failed";default:return""}},M=l.filter(e=>"emergency"===e.priority||"emergency"===e.broadcast_severity),P=l.filter(e=>"emergency"!==e.priority&&"emergency"!==e.broadcast_severity);return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e=>e.target===e.currentTarget&&i(),"data-testid":"messaging-modal",children:(0,Tt.jsxs)(Iz,{className:"glass-strong border-border max-w-2xl w-full max-h-[85vh] flex flex-col animate-fade-in",children:[(0,Tt.jsxs)("div",{className:"glass-strong border-b border-border p-4 flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-lg font-bold text-foreground",children:"group"===n?"Group Chat":"Message: ".concat(a||r)}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"group"===n?"All family nodes":"Direct conversation with ".concat(r)})]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:i,"data-testid":"close-modal-btn",children:(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"})})]}),M.length>0&&(0,Tt.jsx)("div",{className:"p-3 border-b border-border space-y-2 bg-destructive-light/30","data-testid":"emergency-broadcasts",children:M.map(e=>(0,Tt.jsx)("div",{className:"bg-destructive-light border border-destructive rounded-lg p-3 animate-critical-flash",children:(0,Tt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Tt.jsx)(GR,{className:"w-4 h-4 text-destructive flex-shrink-0 mt-0.5"}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("div",{className:"text-sm font-bold text-destructive",children:e.broadcast_title||"EMERGENCY BROADCAST"}),(0,Tt.jsx)("div",{className:"text-sm text-foreground mt-1",children:e.text}),(0,Tt.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[e.sender_name," \u2022 ",S(e.timestamp)]})]})]})},e.id))}),(0,Tt.jsxs)("div",{className:"flex-1 overflow-hidden relative min-h-[200px]",children:[(0,Tt.jsx)("div",{ref:N,onScroll:()=>{if(!N.current)return;const{scrollTop:e,scrollHeight:t,clientHeight:n}=N.current,r=t-e-n;y(r<50),r<50&&w(!1)},className:"h-full overflow-y-auto p-4 space-y-3 scrollbar-thin","data-testid":"message-list",children:h?(0,Tt.jsx)("div",{className:"space-y-2",children:[1,2,3].map(e=>(0,Tt.jsx)("div",{className:"skeleton h-16 rounded-lg"},e))}):0===P.length?(0,Tt.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,Tt.jsx)(rn,{className:"w-10 h-10 mx-auto mb-3 opacity-50"}),(0,Tt.jsx)("p",{className:"text-sm font-medium",children:"No messages yet"}),(0,Tt.jsx)("p",{className:"text-xs mt-1",children:"Start the conversation!"})]}):(0,Tt.jsx)(Tt.Fragment,{children:P.map(e=>{const t="me"===e.sender,r="broadcast"===e.sender;return(0,Tt.jsx)("div",{className:"flex ".concat(t?"justify-end":"justify-start"),"data-testid":"message-".concat(e.id),children:(0,Tt.jsxs)("div",{className:"max-w-[75%] ".concat(r?"bg-warning-light border border-warning":t?"bg-primary text-primary-foreground":"glass"," p-3 rounded-lg ").concat("failed"===e.status?"opacity-60":""),children:[!t&&"group"===n&&!r&&(0,Tt.jsxs)("div",{className:"text-xs font-semibold mb-1 flex items-center gap-1.5",children:[e.sender_name,e.sender_status&&(0,Tt.jsx)("span",{className:"px-1.5 py-0.5 rounded text-xs ".concat("need_help"===e.sender_status?"bg-destructive-light text-destructive":"okay"===e.sender_status?"bg-warning-light text-warning":"bg-success-light text-success"),children:"need_help"===e.sender_status?"HELP":e.sender_status.toUpperCase()})]}),r&&(0,Tt.jsxs)("div",{className:"text-xs font-bold text-warning mb-1 flex items-center gap-1",children:[(0,Tt.jsx)(Gt.A,{className:"w-3 h-3"}),e.broadcast_title||"BROADCAST"]}),(0,Tt.jsx)("div",{className:"text-sm",children:e.text}),(0,Tt.jsxs)("div",{className:"text-xs mt-1.5 flex items-center gap-2 ".concat(t?"text-primary-foreground/70":"text-muted-foreground"),children:[(0,Tt.jsx)("span",{children:S(e.timestamp)}),t&&e.status&&(0,Tt.jsxs)("span",{className:"flex items-center gap-1",children:[E(e.status),(0,Tt.jsx)("span",{className:"failed"===e.status?"text-destructive":"queued"===e.status?"text-warning":"",children:O(e.status)})]}),"urgent"===e.priority&&(0,Tt.jsxs)("span",{className:"flex items-center gap-0.5 text-warning font-medium",children:[(0,Tt.jsx)(cr,{className:"w-3 h-3"}),"URGENT"]})]}),"failed"===e.status&&t&&(0,Tt.jsxs)(gn.$,{size:"sm",variant:"ghost",onClick:()=>(async e=>{o(t=>t.filter(t=>t.id!==e.id)),d(e.text),"urgent"===e.priority&&m(!0)})(e),className:"mt-2 h-6 text-xs text-destructive hover:text-destructive",children:[(0,Tt.jsx)(Yt.A,{className:"w-3 h-3 mr-1"}),"Tap to retry"]})]})},e.id)})})}),j&&!b&&(0,Tt.jsxs)("button",{onClick:()=>{N.current&&(N.current.scrollTop=N.current.scrollHeight,w(!1),y(!0))},className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-medium shadow-lg hover:bg-primary-hover transition-colors flex items-center gap-1 z-10","data-testid":"jump-to-latest-btn",children:[(0,Tt.jsx)(On.A,{className:"w-3 h-3"}),"New messages"]})]}),(0,Tt.jsx)("div",{className:"border-t border-border px-4 py-2",children:(0,Tt.jsx)("div",{className:"flex items-center gap-1.5 overflow-x-auto scrollbar-thin pb-1","data-testid":"quick-templates",children:A.map(e=>(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",onClick:()=>(e=>{d(e.text)})(e),className:"h-7 text-xs whitespace-nowrap flex-shrink-0 border-border-strong","data-testid":"template-".concat(e.id),children:[(0,Tt.jsx)("span",{className:"mr-1",children:e.icon}),e.text]},e.id))})}),(0,Tt.jsxs)("div",{className:"glass-strong border-t border-border p-4 space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer select-none","data-testid":"urgent-toggle",children:[(0,Tt.jsxs)("div",{className:"relative w-10 h-5 rounded-full transition-colors ".concat(u?"bg-warning":"bg-muted"),children:[(0,Tt.jsx)("input",{type:"checkbox",checked:u,onChange:e=>m(e.target.checked),className:"sr-only"}),(0,Tt.jsx)("div",{className:"absolute top-0.5 w-4 h-4 rounded-full bg-white shadow transition-transform ".concat(u?"translate-x-5":"translate-x-0.5")})]}),(0,Tt.jsxs)("span",{className:"text-xs font-medium ".concat(u?"text-warning":"text-muted-foreground"),children:[(0,Tt.jsx)(cr,{className:"w-3 h-3 inline mr-1"}),"Mark as Urgent"]})]}),u&&(0,Tt.jsx)("span",{className:"text-xs text-warning",children:"Recipients will be notified immediately"})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)(yn,{value:c,onChange:e=>d(e.target.value),onKeyPress:e=>"Enter"===e.key&&!e.shiftKey&&C(),placeholder:"Type your message...",className:"flex-1",disabled:f,"data-testid":"message-input"}),(0,Tt.jsx)(gn.$,{onClick:C,disabled:!c.trim()||f,className:u?"bg-warning hover:bg-warning/90 text-warning-foreground":"","data-testid":"send-btn",children:f?(0,Tt.jsx)(en.A,{className:"w-4 h-4 animate-spin"}):(0,Tt.jsx)(rn,{className:"w-4 h-4"})})]})]})]})})}const nF=["className"],rF=t.forwardRef((e,t)=>{let{className:n}=e,r=(0,a.A)(e,nF);return(0,Tt.jsx)("textarea",(0,s.A)({className:(0,vn.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t},r))});function aF(e){let{onClose:n,onSent:r}=e;const[a,s]=(0,t.useState)(""),[i,l]=(0,t.useState)(""),[o,c]=(0,t.useState)("warning"),[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)("compose"),p=async()=>{u(!0);try{const e=await Hz.broadcastAlert(a,i,o);r&&r({title:a,message:i,severity:o}),e.queued?Pt.oR.warning("Broadcast queued (offline)",{description:"Will send when connection is restored"}):(h("success"),Pt.oR.success("Emergency broadcast sent!",{description:"All nodes have been notified"})),e.queued?n():setTimeout(n,2e3)}catch(e){Pt.oR.error("Failed to send broadcast"),h("compose")}finally{u(!1)}},f=e=>{switch(e){case"info":return{icon:Rn.A,color:"text-primary",bg:"bg-primary-light",border:"border-primary",label:"Information",description:"Non-urgent notice for all nodes"};case"warning":return{icon:aa,color:"text-warning",bg:"bg-warning-light",border:"border-warning",label:"Warning",description:"Important alert requiring attention"};case"emergency":return{icon:Gt.A,color:"text-destructive",bg:"bg-destructive-light",border:"border-destructive",label:"Emergency",description:"Critical alert - immediate action required"};default:return f("warning")}},x=f(o),g=x.icon;return"success"===m?(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4","data-testid":"broadcast-success",children:(0,Tt.jsxs)(Iz,{className:"glass-strong border-border max-w-md w-full p-8 text-center animate-fade-in",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 rounded-full bg-success-light mx-auto mb-4 flex items-center justify-center",children:(0,Tt.jsx)(Vt.A,{className:"w-8 h-8 text-success"})}),(0,Tt.jsx)("h2",{className:"text-xl font-bold text-foreground mb-2",children:"Broadcast Sent!"}),(0,Tt.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:["Your ",x.label.toLowerCase()," alert has been sent to all family nodes."]}),(0,Tt.jsx)(gn.$,{onClick:n,className:"w-full",children:"Close"})]})}):"confirm"===m?(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e=>e.target===e.currentTarget&&!d&&n(),"data-testid":"broadcast-confirm",children:(0,Tt.jsxs)(Iz,{className:"glass-strong border-border max-w-lg w-full animate-fade-in",children:[(0,Tt.jsxs)("div",{className:"glass-strong border-b border-border p-4 flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>h("compose"),disabled:d,children:(0,Tt.jsx)(yT,{className:"w-4 h-4"})}),(0,Tt.jsx)("h2",{className:"text-lg font-bold text-foreground",children:"Confirm Broadcast"})]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:n,disabled:d,children:(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"})})]}),(0,Tt.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Tt.jsx)("div",{className:"".concat(x.bg," border ").concat(x.border," rounded-lg p-4"),children:(0,Tt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Tt.jsx)(g,{className:"w-6 h-6 ".concat(x.color," flex-shrink-0 mt-0.5")}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsxs)("div",{className:"text-sm font-bold ".concat(x.color," uppercase mb-1"),children:[x.label," Alert"]}),(0,Tt.jsx)("div",{className:"text-base font-semibold text-foreground mb-2",children:a}),(0,Tt.jsx)("div",{className:"text-sm text-foreground",children:i})]})]})}),(0,Tt.jsxs)("div",{className:"bg-secondary/50 rounded-lg p-4 space-y-2",children:[(0,Tt.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"This will:"}),(0,Tt.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,Tt.jsxs)("li",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-success"}),"Send to all connected family nodes"]}),(0,Tt.jsxs)("li",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Vt.A,{className:"w-4 h-4 text-success"}),"Appear pinned at the top of Global Chat"]}),"emergency"===o&&(0,Tt.jsxs)("li",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 text-destructive"}),"Trigger emergency notifications on all devices"]})]})]}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground text-center",children:"Are you sure you want to send this broadcast?"})]}),(0,Tt.jsxs)("div",{className:"glass-strong border-t border-border p-4 flex gap-3",children:[(0,Tt.jsxs)(gn.$,{variant:"outline",onClick:()=>h("compose"),className:"flex-1",disabled:d,"data-testid":"back-btn",children:[(0,Tt.jsx)(yT,{className:"w-4 h-4 mr-1"}),"Edit"]}),(0,Tt.jsx)(gn.$,{onClick:p,disabled:d,className:"flex-1 ".concat("emergency"===o?"bg-destructive hover:bg-destructive/90":"warning"===o?"bg-warning hover:bg-warning/90 text-warning-foreground":""),"data-testid":"confirm-send-btn",children:d?(0,Tt.jsx)(Tt.Fragment,{children:"Sending..."}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(rn,{className:"w-4 h-4 mr-1"}),"Send Broadcast"]})})]})]})}):(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e=>e.target===e.currentTarget&&n(),"data-testid":"broadcast-modal",children:(0,Tt.jsxs)(Iz,{className:"glass-strong border-border max-w-lg w-full animate-fade-in",children:[(0,Tt.jsxs)("div",{className:"glass-strong border-b border-border p-4 flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-5 h-5 text-warning"}),(0,Tt.jsx)("h2",{className:"text-lg font-bold text-foreground",children:"Emergency Broadcast"})]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:n,"data-testid":"close-broadcast-btn",children:(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"})})]}),(0,Tt.jsxs)("div",{className:"p-4 space-y-4",children:[(0,Tt.jsx)("div",{className:"bg-warning-light border border-warning rounded-lg p-3",children:(0,Tt.jsxs)("p",{className:"text-sm text-foreground flex items-center gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 text-warning flex-shrink-0"}),"This will send an alert to all family nodes. Use only for important situations."]})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Severity Level"}),(0,Tt.jsx)("div",{className:"grid grid-cols-3 gap-2","data-testid":"severity-options",children:["info","warning","emergency"].map(e=>{const t=f(e),n=t.icon,r=o===e;return(0,Tt.jsxs)("button",{onClick:()=>c(e),className:"p-3 rounded-lg border-2 transition-all ".concat(r?"".concat(t.bg," ").concat(t.border):"border-border hover:border-border-strong"),"data-testid":"severity-".concat(e),children:[(0,Tt.jsx)(n,{className:"w-5 h-5 mx-auto mb-1 ".concat(r?t.color:"text-muted-foreground")}),(0,Tt.jsx)("div",{className:"text-xs font-medium ".concat(r?t.color:"text-muted-foreground"),children:t.label})]},e)})}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:x.description})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-sm font-medium text-foreground mb-1 block",children:"Broadcast Title"}),(0,Tt.jsx)(yn,{value:a,onChange:e=>s(e.target.value),placeholder:"e.g., Emergency Meeting Point",className:"w-full","data-testid":"broadcast-title-input"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-sm font-medium text-foreground mb-1 block",children:"Message"}),(0,Tt.jsx)(rF,{value:i,onChange:e=>l(e.target.value),placeholder:"Provide clear instructions or information...",className:"w-full min-h-[100px]","data-testid":"broadcast-message-input"})]}),(a||i)&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-2 block",children:"Preview"}),(0,Tt.jsx)("div",{className:"".concat(x.bg," border ").concat(x.border," rounded-lg p-3"),children:(0,Tt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Tt.jsx)(g,{className:"w-4 h-4 ".concat(x.color," flex-shrink-0 mt-0.5")}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("div",{className:"text-xs font-bold ".concat(x.color," uppercase"),children:a||"Broadcast Title"}),(0,Tt.jsx)("div",{className:"text-sm text-foreground mt-1",children:i||"Message content..."})]})]})})]})]}),(0,Tt.jsxs)("div",{className:"glass-strong border-t border-border p-4 flex gap-2",children:[(0,Tt.jsx)(gn.$,{variant:"outline",onClick:n,className:"flex-1","data-testid":"cancel-btn",children:"Cancel"}),(0,Tt.jsx)(gn.$,{onClick:()=>{a.trim()&&i.trim()?h("confirm"):Pt.oR.error("Title and message are required")},disabled:!a.trim()||!i.trim(),className:"flex-1 ".concat("emergency"===o?"bg-destructive hover:bg-destructive/90":"warning"===o?"bg-warning hover:bg-warning/90 text-warning-foreground":""),"data-testid":"next-btn",children:"Next: Review"})]})]})})}rF.displayName="Textarea";const sF=(0,It.A)("maximize-2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),iF=(0,It.A)("crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),lF=(0,It.A)("satellite",[["path",{d:"M13 7 9 3 5 7l4 4",key:"vyckw6"}],["path",{d:"m17 11 4 4-4 4-4-4",key:"rchckc"}],["path",{d:"m8 12 4 4 6-6-4-4Z",key:"1sshf7"}],["path",{d:"m16 8 3-3",key:"x428zp"}],["path",{d:"M9 21a6 6 0 0 0-6-6",key:"1iajcf"}]]),oF=(0,It.A)("signal-high",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}]]),cF=(0,It.A)("signal-low",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}]]),dF=(0,It.A)("mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]),uF=e=>{let{isOpen:t,onToggle:n}=e;return t?(0,Tt.jsxs)("div",{className:"mt-2 glass rounded-lg p-3 animate-fade-in","data-testid":"gps-quick-help",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)("span",{className:"text-xs font-semibold text-warning",children:"Quick Fix Checklist"}),(0,Tt.jsx)("button",{onClick:n,className:"text-muted-foreground hover:text-foreground","data-testid":"close-quick-help",children:(0,Tt.jsx)(Yt.A,{className:"w-4 h-4"})})]}),(0,Tt.jsxs)("ul",{className:"space-y-1.5 text-xs",children:[(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"text-warning font-bold",children:"1."}),(0,Tt.jsxs)("span",{children:[(0,Tt.jsx)("strong",{children:"Go outside"})," \u2014 GPS needs sky view"]})]}),(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"text-warning font-bold",children:"2."}),(0,Tt.jsxs)("span",{children:[(0,Tt.jsx)("strong",{children:"Stay still"})," \u2014 30-60 sec for cold start"]})]}),(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"text-warning font-bold",children:"3."}),(0,Tt.jsxs)("span",{children:[(0,Tt.jsx)("strong",{children:"Clear obstructions"})," \u2014 away from buildings/trees"]})]}),(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"text-warning font-bold",children:"4."}),(0,Tt.jsxs)("span",{children:[(0,Tt.jsx)("strong",{children:"Check antenna"})," \u2014 connected & unobstructed"]})]}),(0,Tt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"text-warning font-bold",children:"5."}),(0,Tt.jsxs)("span",{children:[(0,Tt.jsx)("strong",{children:"Restart GPS service"})," \u2014 if stuck >5 min"]})]})]}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground mt-2 pt-2 border-t border-border",children:["See ",(0,Tt.jsx)("strong",{children:"GPS Guide"})," tab for detailed troubleshooting"]})]}):null};function mF(e){let{gpsStatus:n}=e;const[r,a]=(0,t.useState)(!1),s=n||{hasFix:!0,lastUpdate:new Date,accuracy:13.8,satellites:9,altitude:171,hdop:1.2};return(0,Tt.jsx)("div",{className:"mb-3","data-testid":"gps-status-bar",children:(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2.5",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ".concat(s.hasFix?"bg-success-light text-success":"bg-warning-light text-warning animate-pulse"),"data-testid":"gps-fix-indicator",children:s.hasFix?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(lF,{className:"w-3.5 h-3.5"}),(0,Tt.jsx)("span",{children:"GPS Fix"}),(0,Tt.jsx)(Vt.A,{className:"w-3 h-3"})]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(lF,{className:"w-3.5 h-3.5"}),(0,Tt.jsx)("span",{children:"No Fix"}),(0,Tt.jsx)(Gt.A,{className:"w-3 h-3"})]})}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,Tt.jsx)(en.A,{className:"w-3 h-3"}),(0,Tt.jsxs)("span",{children:["Updated: ",(0,Tt.jsx)("strong",{children:(e=>{if(!e)return"\u2014";const t=Math.floor((new Date-new Date(e))/1e3);return t<60?"".concat(t,"s ago"):t<3600?"".concat(Math.floor(t/60),"m ago"):"".concat(Math.floor(t/3600),"h ago")})(s.lastUpdate)})]})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3 text-xs",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1",title:"Horizontal Accuracy",children:[(0,Tt.jsx)(ra,{className:"w-3 h-3 text-muted-foreground"}),(0,Tt.jsx)("span",{className:(i=s.accuracy,i?i<=10||i<=33?"text-success":i<=82?"text-warning":"text-destructive":"text-muted-foreground"),children:s.accuracy?"\xb1".concat(s.accuracy," ft"):"\u2014"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",title:"Satellites in View",children:[s.satellites>=6?(0,Tt.jsx)(oF,{className:"w-3 h-3 text-success"}):s.satellites>=3?(0,Tt.jsx)(cF,{className:"w-3 h-3 text-warning"}):(0,Tt.jsx)(mn.A,{className:"w-3 h-3 text-muted-foreground"}),(0,Tt.jsxs)("span",{className:s.satellites>=4?"text-foreground":"text-muted-foreground",children:[s.satellites||"\u2014"," sats"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",title:"Altitude",children:[(0,Tt.jsx)(dF,{className:"w-3 h-3 text-muted-foreground"}),(0,Tt.jsx)("span",{className:"text-muted-foreground",children:null!==s.altitude?"".concat(s.altitude," ft"):"\u2014"})]}),!s.hasFix&&(0,Tt.jsxs)("button",{onClick:()=>a(!r),className:"flex items-center gap-1 px-2 py-0.5 rounded bg-warning-light text-warning hover:bg-warning/20 transition-colors","data-testid":"toggle-quick-help",children:[(0,Tt.jsx)("span",{className:"font-medium",children:"Help"}),r?(0,Tt.jsx)(En.A,{className:"w-3 h-3"}):(0,Tt.jsx)(On.A,{className:"w-3 h-3"})]})]})]}),!s.hasFix&&(0,Tt.jsx)(uF,{isOpen:r,onToggle:()=>a(!1)})]})});var i}const hF="#22c55e",pF="#f59e0b",fF="#ef4444",xF="#6b7280",gF=()=>(0,Tt.jsx)("div",{className:"h-[320px] lg:h-[450px] xl:h-[550px] glass rounded-lg flex items-center justify-center","data-testid":"map-loading",children:(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)($t.A,{className:"w-8 h-8 animate-spin text-primary mx-auto mb-2"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading map..."})]})}),vF=e=>{let{nodes:t}=e;return 0===t.length?null:(0,Tt.jsxs)("div",{className:"mt-3 glass rounded-lg p-3","data-testid":"no-gps-panel",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)(mr.A,{className:"w-4 h-4 text-muted-foreground"}),(0,Tt.jsxs)("span",{className:"text-xs font-medium text-muted-foreground",children:["Nodes without GPS (",t.length,")"]})]}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>{const t=(e=>"offline"===e.status?Ln.A:"need_help"===e.user_status?an.A:"okay"===e.user_status?Gt.A:Vt.A)(e),n=(e=>"offline"===e.status?xF:"need_help"===e.user_status?fF:"okay"===e.user_status?pF:hF)(e);return(0,Tt.jsxs)("div",{className:"glass px-2 py-1 rounded text-xs flex items-center gap-1.5","data-testid":"no-gps-node-".concat(e.node_id),children:[(0,Tt.jsx)(t,{className:"w-3 h-3",style:{color:n}}),(0,Tt.jsx)("span",{children:e.name})]},e.node_id)})})]})},bF=e=>{let{onCenterAll:t,onCenterMe:n,nodesWithGps:r}=e;return(0,Tt.jsxs)("div",{className:"absolute top-2 right-2 z-[1000] flex flex-col gap-1","data-testid":"map-controls",children:[(0,Tt.jsxs)(gn.$,{size:"sm",variant:"secondary",onClick:t,className:"h-8 px-2 text-xs glass-strong shadow-lg",title:"Center on all nodes","data-testid":"center-all-btn",disabled:0===r.length,children:[(0,Tt.jsx)(sF,{className:"w-3.5 h-3.5 mr-1"}),"All Nodes"]}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"secondary",onClick:n,className:"h-8 px-2 text-xs glass-strong shadow-lg",title:"Center on my location","data-testid":"center-me-btn",children:[(0,Tt.jsx)(iF,{className:"w-3.5 h-3.5 mr-1"}),"My Location"]})]})},yF=t.lazy(()=>Promise.all([__webpack_require__.e(717),__webpack_require__.e(376)]).then(__webpack_require__.bind(__webpack_require__,8083)));function jF(e){let{nodes:n,gpsStatus:r}=e;const[a,s]=(0,t.useState)(!1),[i,l]=(0,t.useState)(null),o=n.filter(e=>e.gps&&e.gps.lat&&e.gps.lon),c=n.filter(e=>!e.gps||!e.gps.lat||!e.gps.lon),d=t.useMemo(()=>{if(0===o.length)return[37.7749,-122.4194];return[o.reduce((e,t)=>e+t.gps.lat,0)/o.length,o.reduce((e,t)=>e+t.gps.lon,0)/o.length]},[o]),u=t.useMemo(()=>0===o.length?null:1===o.length?[[o[0].gps.lat,o[0].gps.lon]]:o.map(e=>[e.gps.lat,e.gps.lon]),[o]),m=o.length<=1?14:12;(0,t.useEffect)(()=>{const e=setTimeout(()=>s(!0),100);return()=>clearTimeout(e)},[]);return(0,Tt.jsxs)("div",{className:"space-y-3","data-testid":"ally-map-view",children:[(0,Tt.jsx)(mF,{gpsStatus:r}),0===o.length?(0,Tt.jsx)("div",{className:"h-[320px] lg:h-[450px] xl:h-[550px] glass rounded-lg flex items-center justify-center","data-testid":"map-no-nodes",children:(0,Tt.jsxs)("div",{className:"text-center p-6",children:[(0,Tt.jsx)(mr.A,{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-3"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"No nodes with GPS data"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground/70",children:"Nodes will appear on the map once they report GPS coordinates"})]})}):a?(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsx)(t.Suspense,{fallback:(0,Tt.jsx)(gF,{}),children:(0,Tt.jsx)(yF,{nodesWithGps:o,defaultCenter:d,defaultZoom:m,onMapReady:l})}),(0,Tt.jsx)(bF,{onCenterAll:()=>{i&&u&&u.length>0&&(1===u.length?i.setView(u[0],14):i.fitBounds(u,{padding:[50,50]}))},onCenterMe:()=>{i&&d&&i.setView(d,14)},nodesWithGps:o})]}):(0,Tt.jsx)(gF,{}),(0,Tt.jsx)(vF,{nodes:c})]})}const wF=e=>{if(!e)return"?";const t=e.replace(/['']s?\s+/g," ").split(" ");return t.length>=2?(t[0][0]+t[t.length-1][0]).toUpperCase():e.slice(0,2).toUpperCase()},NF=["https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face","https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=100&h=100&fit=crop&crop=face"],kF=["bg-gradient-to-br from-blue-500 to-blue-600","bg-gradient-to-br from-purple-500 to-purple-600","bg-gradient-to-br from-pink-500 to-pink-600","bg-gradient-to-br from-indigo-500 to-indigo-600","bg-gradient-to-br from-cyan-500 to-cyan-600","bg-gradient-to-br from-teal-500 to-teal-600"],AF=e=>{const t=e.split("").reduce((e,t)=>e+t.charCodeAt(0),0);return kF[t%kF.length]},_F=e=>{const t=e.split("").reduce((e,t)=>e+t.charCodeAt(0),0);return NF[t%NF.length]},CF=e=>{var t;let{node:n}=e;if("offline"===n.status)return null;const r=null===(t=n.link_type)||void 0===t?void 0:t.toLowerCase();let a=hn.A,s="text-primary";"mesh"===r||"lora"===r?(a=mn.A,s="text-success"):"lan"!==r&&"hotspot"!==r||(a=hn.A,s="text-primary");const i=n.rssi;let l=3;return i&&(l=i>-50?4:i>-60?3:i>-70?2:1),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",title:"".concat(n.link_type||"Unknown"," connection"),children:[(0,Tt.jsx)(a,{className:"w-3 h-3 ".concat(s)}),(0,Tt.jsx)("div",{className:"flex items-end gap-0.5 h-3",children:[1,2,3,4].map(e=>(0,Tt.jsx)("div",{className:"w-1 rounded-sm ".concat(e<=l?s.replace("text-","bg-"):"bg-muted"),style:{height:"".concat(25*e,"%")}},e))})]})};function SF(e){let{nodes:t,onNodeClick:n,selectedNodeId:r}=e;return t&&0!==t.length?(0,Tt.jsxs)("div",{className:"space-y-5","data-testid":"node-avatar-strip",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("span",{className:"text-base font-bold",children:"Network"}),(0,Tt.jsxs)("span",{className:"text-sm px-4 py-1.5 rounded-full bg-primary/15 text-primary font-semibold border border-primary/20",children:[t.length," ",1===t.length?"node":"nodes"]})]}),(0,Tt.jsx)("span",{className:"text-sm text-muted-foreground",children:"Tap to view details"})]}),(0,Tt.jsx)("div",{className:"flex gap-5 overflow-x-auto pb-4 pt-4 scrollbar-thin","data-testid":"node-avatars",children:t.map(e=>{const t=(e=>"offline"===e.status?{color:"bg-muted-foreground",ringColor:"ring-muted-foreground/50",textColor:"text-muted-foreground",label:"OFFLINE",icon:Ln.A}:"need_help"===e.user_status?{color:"bg-destructive",ringColor:"ring-destructive/50",textColor:"text-destructive",label:"NEED HELP",icon:Gt.A}:"okay"===e.user_status?{color:"bg-warning",ringColor:"ring-warning/50",textColor:"text-warning",label:"OKAY",icon:Bz}:{color:"bg-success",ringColor:"ring-success/50",textColor:"text-success",label:"GOOD",icon:Vt.A})(e),a=t.icon,s=r===e.node_id,i=e.gps&&e.gps.lat&&e.gps.lon;return(0,Tt.jsxs)("button",{onClick:()=>n(e),className:"flex-shrink-0 relative group transition-all duration-300 ".concat(s?"scale-105":"hover:scale-[1.03]"),"data-testid":"node-avatar-".concat(e.node_id),children:[(0,Tt.jsxs)("div",{className:"w-36 node-glass-panel rounded-3xl p-5 flex flex-col items-center gap-4 transition-all duration-300 ".concat(s?"border-primary/50 ".concat(t.ringColor," ring-2 shadow-xl shadow-primary/20"):"border-white/10 hover:border-primary/30 hover:shadow-lg"),children:[(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsxs)("div",{className:"w-20 h-20 rounded-full overflow-hidden ".concat(AF(e.node_id)," flex items-center justify-center ring-4 ring-background shadow-2xl"),children:[e.avatar?(0,Tt.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):(0,Tt.jsx)("img",{src:_F(e.node_id),alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,Tt.jsx)("span",{className:"text-white text-2xl font-bold hidden items-center justify-center w-full h-full",children:wF(e.name)})]}),(0,Tt.jsx)("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 rounded-full ".concat(t.color," border-4 border-background flex items-center justify-center shadow-lg"),children:(0,Tt.jsx)(a,{className:"w-4 h-4 text-white"})})]}),(0,Tt.jsx)("span",{className:"text-base font-bold text-foreground truncate w-full text-center",children:e.name.split(" ")[0].replace("'s","")}),(0,Tt.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Tt.jsx)(CF,{node:e}),i&&(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full bg-success shadow-sm shadow-success/50"}),(0,Tt.jsx)("span",{className:"text-xs text-success font-semibold",children:"GPS"})]})]})]}),(0,Tt.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1.5 rounded-full text-xs font-bold ".concat(t.color," text-white shadow-lg z-10"),children:t.label})]},e.node_id)})}),(0,Tt.jsxs)("div",{className:"flex items-center justify-center gap-5 text-xs text-muted-foreground",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full bg-success shadow-sm shadow-success/50"}),(0,Tt.jsx)("span",{children:"Good"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full bg-warning shadow-sm shadow-warning/50"}),(0,Tt.jsx)("span",{children:"Okay"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full bg-destructive shadow-sm shadow-destructive/50"}),(0,Tt.jsx)("span",{children:"Need Help"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full bg-muted-foreground"}),(0,Tt.jsx)("span",{children:"Offline"})]})]})]}):(0,Tt.jsxs)("div",{className:"node-glass-panel rounded-2xl p-8 text-center text-muted-foreground",children:[(0,Tt.jsx)(jn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,Tt.jsx)("p",{className:"text-base font-medium",children:"No nodes found"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Nodes will appear when they connect to the network"})]})}let EF=0,OF=0;const MF=()=>{var e;0===OF&&(EF=null!==(e=window.__capturedScrollPosition)&&void 0!==e?e:window.scrollY,delete window.__capturedScrollPosition,document.body.style.position="fixed",document.body.style.top="-".concat(EF,"px"),document.body.style.width="100%",document.body.style.overflowY="scroll");OF++},PF=()=>{OF--,OF<=0&&(OF=0,document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflowY="",window.scrollTo(0,EF))},TF=[{id:"lan",name:"LAN / Wi-Fi",icon:hn.A,status:"available",description:"Standard network connection for high-speed data transfer within local network range.",capabilities:["Text messages","File transfer","Voice (future)","Video (future)"],range:"~300 ft indoors, ~1000 ft outdoors",requirements:"Wi-Fi network or ethernet connection",howToUse:"Automatically connects when in range of known networks. Best for base camp operations.",failureModes:["Router offline","Out of range","Network congestion"],priority:1},{id:"mesh",name:"Mesh / LoRa",icon:mn.A,status:"degraded",description:"Low-power long-range radio for text messages. Works when other methods fail.",capabilities:["Text messages (short)","Location sharing","Status updates"],range:"1-5 miles line of sight, 0.5-1 mile in terrain",requirements:"LoRa radio module, clear line of sight helps",howToUse:"Keep messages under 200 characters. Higher ground = better range. Patience required.",failureModes:["Antenna disconnected","Interference","Too far from other nodes"],priority:2},{id:"sdr",name:"Radio / SDR",icon:Fz,status:"available",description:"Software-defined radio for voice and data. Requires amateur radio license for transmit.",capabilities:["Voice communication","Data packets","Weather broadcasts (receive)","Emergency frequencies"],range:"Varies by band: 2m = 10-50 miles, HF = continental",requirements:"SDR hardware, antenna, license for TX",howToUse:"Tune to agreed frequency. PTT for voice. Digital modes for data. Monitor 146.52 MHz.",failureModes:["Wrong frequency","Antenna mismatch","Propagation conditions"],priority:3},{id:"sms",name:"SMS Gateway",icon:fT,status:"unavailable",description:"Send text messages to standard cell phones via cellular network.",capabilities:["SMS to any phone number","Receive SMS replies"],range:"Anywhere with cellular coverage",requirements:"Cellular modem, SIM card, cell signal",howToUse:"Enter phone number with country code. Messages limited to 160 characters.",failureModes:["No cellular signal","SIM not activated","Carrier outage"],priority:4},{id:"hf",name:"HF Radio Bridge",icon:cr,status:"unavailable",description:"Long-distance radio for continental range. Requires license and equipment.",capabilities:["Voice","Digital modes (JS8Call, Winlink)","Email via radio"],range:"100-3000+ miles depending on conditions",requirements:"HF transceiver, tuned antenna, amateur license",howToUse:"Check propagation forecasts. Use digital modes for reliability. Best at dawn/dusk.",failureModes:["Poor propagation","Antenna issues","Wrong time of day"],priority:5}],DF={available:{color:"text-success",bg:"bg-success/15",border:"border-success/30",label:"Available",dot:"bg-success"},degraded:{color:"text-warning",bg:"bg-warning/15",border:"border-warning/30",label:"Degraded",dot:"bg-warning animate-pulse"},unavailable:{color:"text-destructive",bg:"bg-destructive/15",border:"border-destructive/30",label:"Unavailable",dot:"bg-destructive"}},IF=e=>{let{method:t,isSelected:n,onSelect:r,isExpanded:a,onToggleExpand:s}=e;const i=t.icon,l=DF[t.status];return(0,Tt.jsxs)("div",{className:"glass rounded-2xl overflow-hidden transition-all duration-300 ".concat(n?"ring-2 ring-primary ".concat(l.bg):""),children:[(0,Tt.jsxs)("button",{onClick:()=>r(t.id),className:"w-full p-4 flex items-center gap-4 transition-all hover:bg-white/5","data-testid":"comm-method-".concat(t.id),children:[(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-xl ".concat(l.bg," flex items-center justify-center"),children:(0,Tt.jsx)(i,{className:"w-6 h-6 ".concat(l.color)})}),(0,Tt.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full ".concat(l.dot," border-2 border-background")})]}),(0,Tt.jsxs)("div",{className:"flex-1 text-left",children:[(0,Tt.jsx)("div",{className:"font-semibold text-foreground",children:t.name}),(0,Tt.jsx)("div",{className:"text-xs font-medium ".concat(l.color),children:l.label})]}),n&&(0,Tt.jsx)("div",{className:"px-3 py-1 rounded-full bg-primary text-primary-foreground text-xs font-bold",children:"ACTIVE"}),(0,Tt.jsx)("button",{onClick:e=>{e.stopPropagation(),s(t.id)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a?(0,Tt.jsx)(En.A,{className:"w-4 h-4"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4"})})]}),a&&(0,Tt.jsxs)("div",{className:"px-4 pb-4 space-y-4 border-t border-border/50 pt-4 animate-fade-in",children:[(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:t.description}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h5",{className:"text-xs font-bold text-foreground mb-2 flex items-center gap-1",children:[(0,Tt.jsx)(Vt.A,{className:"w-3 h-3 text-success"}),"CAPABILITIES"]}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1.5",children:t.capabilities.map((e,t)=>(0,Tt.jsx)("span",{className:"px-2 py-1 rounded-lg bg-success/10 text-success text-xs font-medium",children:e},t))})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Range:"}),(0,Tt.jsx)("p",{className:"font-medium text-foreground mt-0.5",children:t.range})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Requires:"}),(0,Tt.jsx)("p",{className:"font-medium text-foreground mt-0.5",children:t.requirements})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsxs)("h5",{className:"text-xs font-bold text-primary mb-1 flex items-center gap-1",children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3"}),"HOW TO USE"]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:t.howToUse})]}),"available"!==t.status&&(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3 bg-warning/5 border border-warning/20",children:[(0,Tt.jsxs)("h5",{className:"text-xs font-bold text-warning mb-1 flex items-center gap-1",children:[(0,Tt.jsx)(Gt.A,{className:"w-3 h-3"}),"COMMON ISSUES"]}),(0,Tt.jsx)("ul",{className:"text-xs text-muted-foreground space-y-0.5",children:t.failureModes.map((e,t)=>(0,Tt.jsxs)("li",{children:["\u2022 ",e]},t))})]})]})]})},RF=e=>{let{alerts:n}=e;const[r,a]=(0,t.useState)(!1),s=e=>{switch(e){case"critical":return(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 text-destructive"});case"warning":return(0,Tt.jsx)(aa,{className:"w-4 h-4 text-warning"});default:return(0,Tt.jsx)(Rn.A,{className:"w-4 h-4 text-primary"})}},i=e=>{switch(e){case"critical":return"bg-destructive/10 border-destructive/30";case"warning":return"bg-warning/10 border-warning/30";default:return"bg-primary/10 border-primary/30"}},l=e=>{const t=new Date,n=Math.floor((t-e)/1e3);return n<60?"Just now":n<3600?"".concat(Math.floor(n/60),"m ago"):n<86400?"".concat(Math.floor(n/3600),"h ago"):e.toLocaleDateString()};return(0,Tt.jsxs)("div",{className:"glass rounded-2xl overflow-hidden","data-testid":"alerts-log",children:[(0,Tt.jsxs)("button",{onClick:()=>a(!r),className:"w-full p-4 flex items-center justify-between hover:bg-white/5 transition-colors",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-xl bg-destructive/15 flex items-center justify-center",children:(0,Tt.jsx)(Gt.A,{className:"w-5 h-5 text-destructive"})}),(0,Tt.jsxs)("div",{className:"text-left",children:[(0,Tt.jsx)("div",{className:"font-semibold",children:"Alert Log"}),(0,Tt.jsxs)("div",{className:"text-xs text-muted-foreground",children:[n.length," alerts"]})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[n.filter(e=>"critical"===e.type).length>0&&(0,Tt.jsxs)("span",{className:"px-2 py-1 rounded-full bg-destructive text-white text-xs font-bold animate-pulse",children:[n.filter(e=>"critical"===e.type).length," Critical"]}),r?(0,Tt.jsx)(En.A,{className:"w-4 h-4"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4"})]})]}),r&&(0,Tt.jsx)("div",{className:"border-t border-border/50 max-h-64 overflow-y-auto scrollbar-thin",children:0===n.length?(0,Tt.jsx)("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"No alerts"}):n.map(e=>(0,Tt.jsx)("div",{className:"p-3 border-b border-border/30 last:border-b-0 ".concat(i(e.type)),children:(0,Tt.jsxs)("div",{className:"flex items-start gap-3",children:[s(e.type),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,Tt.jsx)("span",{className:"font-semibold text-sm",children:e.title}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,Tt.jsx)(en.A,{className:"w-3 h-3"}),l(e.timestamp)]})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:e.description}),(0,Tt.jsx)("span",{className:"text-xs text-primary",children:e.node})]})]})},e.id))})]})},LF=e=>{let{isExpanded:n,onToggle:r}=e;const[a,s]=(0,t.useState)("quick"),i=[{id:"quick",label:"Quick Start",icon:cr},{id:"legend",label:"Status Legend",icon:Bz},{id:"troubleshoot",label:"Troubleshooting",icon:an.A}];return(0,Tt.jsxs)("div",{className:"glass rounded-2xl overflow-hidden","data-testid":"help-section",children:[(0,Tt.jsxs)("button",{onClick:r,className:"w-full p-4 flex items-center justify-between hover:bg-white/5 transition-colors",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary/15 flex items-center justify-center",children:(0,Tt.jsx)(an.A,{className:"w-5 h-5 text-primary"})}),(0,Tt.jsxs)("div",{className:"text-left",children:[(0,Tt.jsx)("div",{className:"font-semibold",children:"Help & Guides"}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:"Quick start, legends, troubleshooting"})]})]}),n?(0,Tt.jsx)(En.A,{className:"w-4 h-4"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4"})]}),n&&(0,Tt.jsxs)("div",{className:"border-t border-border/50 p-4 space-y-4 animate-fade-in",children:[(0,Tt.jsx)("div",{className:"flex gap-1 p-1 rounded-xl bg-secondary/30",children:i.map(e=>{const t=e.icon;return(0,Tt.jsxs)("button",{onClick:()=>s(e.id),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium transition-all ".concat(a===e.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-white/5"),children:[(0,Tt.jsx)(t,{className:"w-3.5 h-3.5"}),e.label]},e.id)})}),"quick"===a&&(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsx)("h5",{className:"font-semibold text-sm mb-2",children:"Getting Started"}),(0,Tt.jsxs)("ol",{className:"text-xs text-muted-foreground space-y-2",children:[(0,Tt.jsxs)("li",{className:"flex gap-2",children:[(0,Tt.jsx)("span",{className:"w-5 h-5 rounded-full bg-primary/20 text-primary flex items-center justify-center font-bold flex-shrink-0",children:"1"}),(0,Tt.jsxs)("span",{children:["Check which communication methods are ",(0,Tt.jsx)("span",{className:"text-success font-medium",children:"Available"})," (green)"]})]}),(0,Tt.jsxs)("li",{className:"flex gap-2",children:[(0,Tt.jsx)("span",{className:"w-5 h-5 rounded-full bg-primary/20 text-primary flex items-center justify-center font-bold flex-shrink-0",children:"2"}),(0,Tt.jsx)("span",{children:"Select a method to use for sending messages"})]}),(0,Tt.jsxs)("li",{className:"flex gap-2",children:[(0,Tt.jsx)("span",{className:"w-5 h-5 rounded-full bg-primary/20 text-primary flex items-center justify-center font-bold flex-shrink-0",children:"3"}),(0,Tt.jsx)("span",{children:"Click on a node avatar to see details or send a direct message"})]}),(0,Tt.jsxs)("li",{className:"flex gap-2",children:[(0,Tt.jsx)("span",{className:"w-5 h-5 rounded-full bg-primary/20 text-primary flex items-center justify-center font-bold flex-shrink-0",children:"4"}),(0,Tt.jsxs)("span",{children:["Use ",(0,Tt.jsx)("span",{className:"text-destructive font-medium",children:"Broadcast"})," for urgent messages to all nodes"]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3 bg-warning/5 border border-warning/20",children:[(0,Tt.jsxs)("h5",{className:"font-semibold text-sm mb-1 text-warning flex items-center gap-1",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4"}),"Pro Tips"]}),(0,Tt.jsxs)("ul",{className:"text-xs text-muted-foreground space-y-1",children:[(0,Tt.jsx)("li",{children:"\u2022 Keep messages short on Mesh (<200 chars)"}),(0,Tt.jsx)("li",{children:"\u2022 LAN is fastest but shortest range"}),(0,Tt.jsx)("li",{children:"\u2022 Mesh works best with line of sight"}),(0,Tt.jsx)("li",{children:"\u2022 Check Alert Log regularly for issues"})]})]})]}),"legend"===a&&(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsx)("h5",{className:"font-semibold text-sm mb-3",children:"Communication Status"}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full bg-success"}),(0,Tt.jsx)("span",{className:"font-medium text-success",children:"Available"}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"\u2013 Ready to use, working normally"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full bg-warning animate-pulse"}),(0,Tt.jsx)("span",{className:"font-medium text-warning",children:"Degraded"}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"\u2013 Working but limited performance"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full bg-destructive"}),(0,Tt.jsx)("span",{className:"font-medium text-destructive",children:"Unavailable"}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"\u2013 Cannot connect, check hardware"})]})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsx)("h5",{className:"font-semibold text-sm mb-3",children:"Node Status"}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full bg-success"}),(0,Tt.jsx)("span",{className:"font-medium",children:"Good"}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"\u2013 Online, no issues"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full bg-warning"}),(0,Tt.jsx)("span",{className:"font-medium",children:"Okay"}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"\u2013 Online, minor issues"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full bg-destructive"}),(0,Tt.jsx)("span",{className:"font-medium",children:"Need Help"}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"\u2013 Requesting assistance"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full bg-muted-foreground"}),(0,Tt.jsx)("span",{className:"font-medium",children:"Offline"}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"\u2013 Not reachable"})]})]})]})]}),"troubleshoot"===a&&(0,Tt.jsx)("div",{className:"space-y-3",children:(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsx)("h5",{className:"font-semibold text-sm mb-2",children:"Common Issues"}),(0,Tt.jsxs)("div",{className:"space-y-3 text-xs",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"font-medium text-foreground",children:"Messages not sending?"}),(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"Check selected comm method is Available. Try a different method."})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"font-medium text-foreground",children:"Node showing offline?"}),(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"May be out of range or powered off. Check last seen time."})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"font-medium text-foreground",children:"Mesh degraded?"}),(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"Move to higher ground, check antenna connection, reduce distance."})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"font-medium text-foreground",children:"GPS not working?"}),(0,Tt.jsx)("p",{className:"text-muted-foreground",children:"Need clear sky view. Go outdoors, wait 1-2 minutes for fix."})]})]})]})})]})]})};function zF(){var e,n,r,a,s,i;const[l,o]=(0,t.useState)([]),[c,d]=(0,t.useState)(!0),[u,m]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),[f,x]=(0,t.useState)(!1),[g,v]=(0,t.useState)(null),[b,y]=(0,t.useState)(!1),[j,w]=(0,t.useState)("lan"),[N,k]=(0,t.useState)(null),[A,_]=(0,t.useState)([{id:1,type:"critical",title:"SOS Beacon Active",description:"Kids' OMEGA triggered SOS beacon",timestamp:new Date(Date.now()-3e5),node:"Kids' OMEGA"},{id:2,type:"warning",title:"Low Battery",description:"Mom's OMEGA battery below 25%",timestamp:new Date(Date.now()-18e5),node:"Mom's OMEGA"},{id:3,type:"info",title:"Node Offline",description:"Backup OMEGA went offline",timestamp:new Date(Date.now()-36e5),node:"Backup OMEGA"},{id:4,type:"warning",title:"Weak Signal",description:"Mesh connection degraded on Dad's OMEGA",timestamp:new Date(Date.now()-72e5),node:"Dad's OMEGA"}]),[C,S]=(0,t.useState)(!1),[E,O]=(0,t.useState)("comms"),[M,P]=(0,t.useState)([]),[T,D]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{const e=await Hz.getNodes();o(e);const t=await Hz.getGlobalChat();P(t)}catch(e){console.error("Failed to load data:",e)}finally{d(!1)}})()},[]);const I=()=>{p(!1),m(null),PF()},R=()=>{y(!0),MF()},L=()=>{y(!1),PF()},z=async()=>{if(T.trim())try{const e=await Hz.sendGlobalChat(T);P(t=>[...t,e]),D("")}catch(e){Pt.oR.error("Failed to send message")}},F=e=>{k(N===e?null:e)},B=l.filter(e=>"online"===e.status).length,U=l.filter(e=>"need_help"===e.user_status).length,W=A.filter(e=>"critical"===e.type).length;return c?(0,Tt.jsx)(Iz,{className:"glass-strong border-border-strong",children:(0,Tt.jsx)(zz,{className:"p-8",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Loading communications..."})]})})}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)(Iz,{className:"glass-strong border-border-strong","data-testid":"ally-communications-hub",children:[(0,Tt.jsx)(Rz,{className:"pb-3 sm:pb-4 px-4 sm:px-6",children:(0,Tt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,Tt.jsxs)(Lz,{className:"flex items-center gap-2 sm:gap-3",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-primary/15 flex items-center justify-center flex-shrink-0",children:(0,Tt.jsx)(mn.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-base sm:text-lg font-bold",children:"Ally Communications Hub"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,Tt.jsxs)("span",{className:"text-[10px] sm:text-xs text-success font-medium",children:[B," online"]}),U>0&&(0,Tt.jsxs)("span",{className:"text-[10px] sm:text-xs text-destructive font-medium",children:[U," need help"]})]})]})]}),(0,Tt.jsx)("div",{className:"hidden sm:flex items-center gap-2",children:(0,Tt.jsxs)(gn.$,{size:"sm",onClick:R,className:"btn-apple-primary relative text-sm h-9","data-testid":"broadcast-btn-desktop",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 mr-1.5"}),"Broadcast",W>0&&(0,Tt.jsx)("span",{className:"absolute -top-1.5 -right-1.5 w-5 h-5 bg-destructive text-white text-xs font-bold rounded-full flex items-center justify-center animate-pulse",children:W})]})})]})}),(0,Tt.jsxs)(zz,{className:"space-y-4 sm:space-y-6 px-4 sm:px-6",children:[(0,Tt.jsx)("div",{className:"sm:hidden",children:(0,Tt.jsx)("div",{className:"p-1 rounded-xl bg-secondary/30",children:(0,Tt.jsxs)(gn.$,{onClick:R,className:"btn-apple-primary relative w-full h-12 text-sm font-medium rounded-lg","data-testid":"broadcast-btn-mobile",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 mr-2"}),"Broadcast",W>0&&(0,Tt.jsx)("span",{className:"absolute top-1/2 -translate-y-1/2 right-4 w-5 h-5 bg-destructive text-white text-xs font-bold rounded-full flex items-center justify-center animate-pulse",children:W})]})})}),(0,Tt.jsx)("div",{className:"flex gap-0.5 sm:gap-1 p-1 sm:p-1.5 rounded-xl sm:rounded-2xl bg-secondary/30",children:[{id:"comms",label:"Comms",fullLabel:"Communications",icon:mn.A},{id:"map",label:"Map",fullLabel:"Map",icon:Uz},{id:"chat",label:"Chat",fullLabel:"Chat",icon:fT,badge:M.length}].map(e=>{const t=e.icon;return(0,Tt.jsxs)("button",{onClick:()=>O(e.id),className:"flex-1 flex items-center justify-center gap-1 sm:gap-2 px-2 sm:px-4 py-3 sm:py-4 rounded-lg sm:rounded-xl text-xs sm:text-sm font-medium transition-all ".concat(E===e.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-white/5"),"data-testid":"view-".concat(e.id),children:[(0,Tt.jsx)(t,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),(0,Tt.jsx)("span",{className:"sm:hidden",children:e.label}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:e.fullLabel}),e.badge>0&&(0,Tt.jsx)("span",{className:"text-[10px] sm:text-xs px-1 sm:px-1.5 rounded-full font-bold ".concat(E===e.id?"bg-white/20":"bg-primary/20 text-primary"),children:e.badge})]},e.id)})}),"comms"===E&&(0,Tt.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,Tt.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,Tt.jsxs)("h3",{className:"text-xs sm:text-sm font-bold text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[(0,Tt.jsx)(Fz,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"Select Communication Method"]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-2 sm:gap-3 items-start",children:TF.map(e=>(0,Tt.jsx)(IF,{method:e,isSelected:j===e.id,onSelect:w,isExpanded:N===e.id,onToggleExpand:F},e.id))})]}),j&&(0,Tt.jsx)("div",{className:"glass rounded-xl p-3 ".concat(DF[(null===(e=TF.find(e=>e.id===j))||void 0===e?void 0:e.status)||"available"].bg," border ").concat(DF[(null===(n=TF.find(e=>e.id===j))||void 0===n?void 0:n.status)||"available"].border),children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("span",{className:"text-sm",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Sending via:"})," ",(0,Tt.jsx)("span",{className:"font-bold",children:null===(r=TF.find(e=>e.id===j))||void 0===r?void 0:r.name})]}),(0,Tt.jsx)("span",{className:"text-xs font-bold ".concat(DF[(null===(a=TF.find(e=>e.id===j))||void 0===a?void 0:a.status)||"available"].color),children:DF[(null===(s=TF.find(e=>e.id===j))||void 0===s?void 0:s.status)||"available"].label})]})})]}),"map"===E&&(0,Tt.jsx)(jF,{nodes:l}),"chat"===E&&(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsx)("div",{className:"glass rounded-xl h-64 lg:h-[400px] xl:h-[500px] overflow-y-auto p-3 space-y-2 scrollbar-thin",children:0===M.length?(0,Tt.jsx)("div",{className:"h-full flex items-center justify-center text-muted-foreground text-sm",children:"No messages yet"}):M.map((e,t)=>(0,Tt.jsx)("div",{className:"flex gap-2 ".concat("self"===e.sender?"justify-end":""),children:(0,Tt.jsxs)("div",{className:"max-w-[80%] rounded-xl px-3 py-2 ".concat("self"===e.sender?"bg-primary text-primary-foreground":"glass"),children:["self"!==e.sender&&(0,Tt.jsx)("div",{className:"text-xs font-semibold mb-0.5",children:e.sender_name}),(0,Tt.jsx)("p",{className:"text-sm",children:e.text}),(0,Tt.jsx)("div",{className:"text-xs opacity-60 mt-0.5",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},t))}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)(yn,{value:T,onChange:e=>D(e.target.value),placeholder:"Type a message...",className:"flex-1",onKeyDown:e=>"Enter"===e.key&&z()}),(0,Tt.jsx)(gn.$,{onClick:z,className:"btn-apple-primary",children:(0,Tt.jsx)(rn,{className:"w-4 h-4"})})]})]}),(0,Tt.jsx)("div",{className:"pt-2 border-t border-border/50",children:(0,Tt.jsx)(SF,{nodes:l,onNodeClick:e=>{m(e),p(!0),MF()},selectedNodeId:null===u||void 0===u?void 0:u.node_id})}),(0,Tt.jsxs)("div",{className:"pt-4 border-t border-border/50 space-y-3",children:[(0,Tt.jsx)(RF,{alerts:A}),(0,Tt.jsx)(LF,{isExpanded:C,onToggle:()=>S(!C)})]}),(0,Tt.jsx)($n,{title:"Communications Statistics",helpText:"Network topology and connection data",children:(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h5",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Network Metrics"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsx)(Qn,{label:"Total Nodes",value:l.length,trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Online Nodes",value:l.filter(e=>"online"===e.status).length,trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Total Messages",value:M.length,trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Active Alerts",value:A.length,trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Critical Alerts",value:W,trustType:"DERIVED"}),(0,Tt.jsx)(Qn,{label:"Comm Methods",value:TF.filter(e=>"available"===e.status).length,trustType:"VERIFIED"})]})]}),(0,Tt.jsx)(Yn,{data:{nodes:l.length,messages:M.length,alerts:A},title:"Communications JSON"})]})}),(0,Tt.jsx)(Gn,{source:"OMEGA Mesh Network",endpoint:"/api/cgi-bin/mesh",lastUpdated:Date.now(),trustType:"DERIVED",status:"SIMULATED",refreshInterval:"5 seconds"})]})]}),h&&u&&(0,Tt.jsx)(eF,{node:u,onClose:I,onMessage:e=>{I(),(e=>{v(e),x(!0),MF()})(e)}}),f&&g&&(0,Tt.jsx)(tF,{nodeId:g,nodeName:(null===(i=l.find(e=>e.node_id===g))||void 0===i?void 0:i.name)||"Node",onClose:()=>{x(!1),v(null),PF()}}),b&&(0,Tt.jsx)(aF,{onClose:L,onSend:()=>{_(e=>[{id:Date.now(),type:"critical",title:"Broadcast Sent",description:"Your broadcast was sent to all nodes",timestamp:new Date,node:"You"},...e]),L()}})]})}const FF=(0,It.A)("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),BF=(0,It.A)("wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);function UF(e){if(!e)return{status:"down",statusColor:"destructive",services:{},lastCheck:null};const t=e.services||{},n=Object.values(t);let r="up";return n.some(e=>"down"===e||"failed"===e)?r="down":n.some(e=>"degraded"===e||"warning"===e)&&(r="degraded"),{status:r,statusColor:"up"===r?"success":"degraded"===r?"warning":"destructive",services:t,timers:e.timers||{},lastCheck:e.timestamp||(new Date).toISOString()}}function WF(e){return e?{cpu:GF(e.cpu||e.cpu_percent),ram:GF(e.ram||e.memory_percent||e.mem),disk:GF(e.disk||e.disk_percent||e.disk_usage),diskFree:e.disk_free||e.disk_free_gb,temp:GF(e.cpu_temp||e.temp||e.temperature),uptime:e.uptime,available:!0}:{cpu:null,ram:null,disk:null,temp:null,uptime:null,available:!1}}function HF(e){return!e||e.error?{temperature:null,humidity:null,pressure:null,gas:null,iaq:null,available:!1,offline:!0}:{temperature:GF(e.temperature||e.temp),humidity:GF(e.humidity),pressure:GF(e.pressure),gas:GF(e.gas||e.gas_resistance),iaq:GF(e.iaq||e.air_quality),available:!0,offline:!1}}function qF(e){return e&&e.backups?{backups:e.backups.map(e=>({id:e.id||e.name,name:e.name,date:e.date||e.timestamp,size:e.size,verified:e.verified||!1,path:e.path})),lastBackup:e.last_backup||e.lastBackup,available:!0}:{backups:[],lastBackup:null,available:!1}}function KF(e){return e?{keys:e.keys||[],syncStatus:e.sync_status||e.status,lastRotation:e.last_rotation||e.lastRotation,available:!0}:{keys:[],syncStatus:"unknown",available:!1}}function VF(e){return e&&e.messages?{messages:e.messages.map(e=>({id:e.id,from:e.from||e.sender,to:e.to||e.recipient,content:e.content||e.message,timestamp:e.timestamp||e.date,read:e.read||!1,encrypted:!1!==e.encrypted})),unread:e.unread_count||e.unread||0,available:!0}:{messages:[],unread:0,available:!1}}function GF(e){if(null===e||void 0===e)return null;if("number"===typeof e)return Math.round(10*e)/10;if("string"===typeof e){const t=parseFloat(e.replace(/[^0-9.-]/g,""));return isNaN(t)?null:Math.round(10*t)/10}return null}const $F=new class{constructor(){this.retryDelays=new Map,this.cache=new Map}buildUrl(e){const t=Kt.Ay.API_BASE||"";return"".concat(t).concat(e)}async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{retry:n=!0,timeout:r=5e3,useCache:a=!1,cacheTime:i=5e3}=t,l=this.buildUrl(e);if(a){const e=this.cache.get(l);if(e&&Date.now()-e.timestamp<i)return e.data}try{const e=new AbortController,n=setTimeout(()=>e.abort(),r),i=await fetch(l,(0,s.A)((0,s.A)({},t),{},{signal:e.signal}));if(clearTimeout(n),!i.ok){const e=new Error("HTTP ".concat(i.status,": ").concat(i.statusText));throw e.httpStatus=i.status,e}this.retryDelays.delete(l);const o=await i.json();return a&&this.cache.set(l,{data:o,timestamp:Date.now()}),o}catch(o){if(console.warn("API fetch failed for ".concat(l,":"),o.message),n&&this.shouldRetry(l))return await this.wait(this.getRetryDelay(l)),this.fetch(e,(0,s.A)((0,s.A)({},t),{},{retry:!1}));throw o}}async fetchWithStatus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{timeout:n=5e3}=t,r=this.buildUrl(e);try{const e=new AbortController,i=setTimeout(()=>e.abort(),n),l=await fetch(r,(0,s.A)((0,s.A)({},t),{},{signal:e.signal,headers:(0,s.A)({Accept:"application/json"},t.headers)}));clearTimeout(i);let o=null;try{o=await l.json()}catch(a){}return{ok:l.ok,status:l.status,data:o,error:l.ok?null:"HTTP ".concat(l.status)}}catch(i){return{ok:!1,status:"AbortError"===i.name?408:0,data:null,error:i.message}}}getRetryDelay(e){const t=this.retryDelays.get(e)||Kt.Ay.retry.baseDelay,n=Math.min(t*Kt.Ay.retry.backoffFactor,Kt.Ay.retry.maxDelay);return this.retryDelays.set(e,n),t}shouldRetry(e){return(this.retryDelays.get(e)||Kt.Ay.retry.baseDelay)/Kt.Ay.retry.baseDelay<Kt.Ay.retry.maxAttempts}wait(e){return new Promise(t=>setTimeout(t,e))}async getHealth(){try{return UF(await this.fetch(Kt.Ay.endpoints.health))}catch(e){return console.error("Health check failed:",e),UF(null)}}async getMetrics(){try{return WF(await this.fetch(Kt.Ay.endpoints.metrics,{useCache:!0,cacheTime:2e3}))}catch(e){return console.error("Metrics fetch failed:",e),WF(null)}}async getSensors(){try{var e;const t=await this.fetchWithStatus(Kt.Ay.endpoints.sensors);return t.ok&&"error"===(null===(e=t.data)||void 0===e?void 0:e.status)?(0,s.A)((0,s.A)({},HF(null)),{},{degraded:!0,degradedReason:t.data.error||"Sensor hardware not available"}):HF(t.data)}catch(t){return console.error("Sensors fetch failed:",t),HF(null)}}async getBackups(){try{return qF(await this.fetch(Kt.Ay.endpoints.backup))}catch(e){return console.error("Backups fetch failed:",e),qF(null)}}async triggerBackup(){try{return await this.fetch(Kt.Ay.endpoints.backup,{method:"POST"})}catch(e){return{success:!1,error:e.message}}}async getKeys(){try{return KF(await this.fetch(Kt.Ay.endpoints.keys))}catch(e){return console.error("Keys fetch failed:",e),KF(null)}}async getKeySync(){try{return await this.fetch(Kt.Ay.endpoints.keysync)}catch(e){return console.error("KeySync fetch failed:",e),{status:"unknown",available:!1}}}async getDMs(){try{const t=await this.fetchWithStatus(Kt.Ay.endpoints.dm);var e;return 403===t.status?(0,s.A)((0,s.A)({},VF(null)),{},{forbidden:!0,forbiddenReason:(null===(e=t.data)||void 0===e?void 0:e.err)||"Authentication required"}):VF(t.data)}catch(t){return console.error("DMs fetch failed:",t),VF(null)}}async sendDM(e,t){try{return await this.fetch(Kt.Ay.endpoints.dm,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:e,content:t,encrypted:!0})})}catch(n){return{success:!1,error:n.message}}}async getHotspotStatus(){try{const e=await this.fetch(Kt.Ay.endpoints.hotspotStatus);return{enabled:e.enabled||!1,ssid:e.ssid||Kt.Ay.hotspot.ssid,band:e.band||"2.4GHz",channel:e.channel||null,uptime:e.uptime_s||0,maxClients:e.max_clients||Kt.Ay.hotspot.maxClients,connectedCount:e.connected_count||0,available:!0}}catch(e){return console.error("Hotspot status fetch failed:",e),this.getMockHotspotStatus()}}async toggleHotspot(e){try{return await this.fetch(Kt.Ay.endpoints.hotspotToggle,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:e})})}catch(t){return console.error("Hotspot toggle failed:",t),{success:!1,error:t.message}}}async getHotspotClients(){try{return{clients:(await this.fetch(Kt.Ay.endpoints.hotspotClients)||[]).map(e=>({hostname:e.hostname||"Unknown Device",mac:e.mac||"Unknown",ip:e.ip||"Unknown",connectedAt:e.connected_at||e.last_seen,lastSeen:e.last_seen,rssi:e.rssi||null,rxBytes:e.rx_bytes||0,txBytes:e.tx_bytes||0})),available:!0}}catch(e){return console.error("Hotspot clients fetch failed:",e),this.getMockHotspotClients()}}async getHotspotUsage(){try{const e=await this.fetch(Kt.Ay.endpoints.hotspotUsage);return{rxBytesTotal:e.rx_bytes_total||0,txBytesTotal:e.tx_bytes_total||0,rxRateBps:e.rx_rate_bps||0,txRateBps:e.tx_rate_bps||0,available:!0}}catch(e){return console.error("Hotspot usage fetch failed:",e),this.getMockHotspotUsage()}}getMockHotspotStatus(){return{enabled:!0,ssid:Kt.Ay.hotspot.ssid,band:"2.4GHz",channel:6,uptime:7245,maxClients:Kt.Ay.hotspot.maxClients,connectedCount:3,available:!1}}getMockHotspotClients(){return{clients:[{hostname:"Phone-Android",mac:"AA:BB:CC:DD:EE:01",ip:"192.168.4.2",connectedAt:new Date(Date.now()-36e5).toISOString(),lastSeen:(new Date).toISOString(),rssi:-45,rxBytes:15728640,txBytes:8388608},{hostname:"Laptop-Ubuntu",mac:"AA:BB:CC:DD:EE:02",ip:"192.168.4.3",connectedAt:new Date(Date.now()-18e5).toISOString(),lastSeen:(new Date).toISOString(),rssi:-52,rxBytes:52428800,txBytes:26214400},{hostname:"Tablet-iPad",mac:"AA:BB:CC:DD:EE:03",ip:"192.168.4.4",connectedAt:new Date(Date.now()-9e5).toISOString(),lastSeen:(new Date).toISOString(),rssi:-38,rxBytes:10485760,txBytes:5242880}],available:!1}}getMockHotspotUsage(){return{rxBytesTotal:78643200,txBytesTotal:39845888,rxRateBps:524288,txRateBps:262144,available:!1}}},YF={overview:"The Environment tile displays readings from OMEGA's onboard sensors. These help you monitor local conditions, spot changes, and make informed decisions about comfort, safety, and activities.",legend:[{color:"bg-success",label:"Optimal",description:"Ideal conditions - no action needed"},{color:"bg-primary",label:"Good",description:"Acceptable range - normal operation"},{color:"bg-warning",label:"Caution",description:"Pay attention - may need action soon"},{color:"bg-destructive",label:"Alert",description:"Take action - outside safe range"}],tips:["Readings stabilize 1-2 minutes after opening OMEGA's case","Temperature + humidity together determine 'feels like' temperature","Rapid pressure changes (3+ hPa in 3 hours) indicate fast-moving weather","Sensors work best at moderate temperatures; extremes may affect accuracy"]},ZF=e=>{let{onClose:t}=e;return(0,Tt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:t,children:(0,Tt.jsxs)("div",{className:"glass-strong rounded-2xl w-full max-w-lg max-h-[85vh] overflow-hidden animate-fade-in flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,Tt.jsxs)("div",{className:"p-4 border-b border-border/50 flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-xl bg-emerald-500/20",children:(0,Tt.jsx)(FF,{className:"w-5 h-5 text-emerald-400"})}),(0,Tt.jsx)("div",{children:(0,Tt.jsx)("h3",{className:"font-bold text-lg",children:"Environment Sensors Guide"})})]}),(0,Tt.jsx)("button",{onClick:t,className:"p-2 hover:bg-secondary rounded-lg",children:(0,Tt.jsx)(Bt.A,{className:"w-5 h-5"})})]}),(0,Tt.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin",children:[(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:YF.overview}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(Rn.A,{className:"w-4 h-4 text-primary"}),"Status Indicator Legend"]}),(0,Tt.jsx)("div",{className:"space-y-2",children:YF.legend.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(e.color)}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-sm font-medium",children:e.label}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground ml-2",children:["\u2014 ",e.description]})]})]},t))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(cr,{className:"w-4 h-4 text-warning"})," Tips"]}),(0,Tt.jsx)("ul",{className:"space-y-1.5",children:YF.tips.map((e,t)=>(0,Tt.jsxs)("li",{className:"text-xs text-muted-foreground flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"text-primary mt-0.5",children:"\u2022"}),e]},t))})]})]})]})})},QF=e=>{let{icon:t,iconColor:n,iconBg:r,title:a,value:s,unit:i,secondaryValue:l,status:o,statusColor:c,statusBg:d,description:u,ranges:m,currentRangeIndex:h}=e;return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2.5 rounded-xl ".concat(r),children:(0,Tt.jsx)(t,{className:"w-6 h-6 ".concat(n)})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold text-base",children:a}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed max-w-xs",children:u})]})]}),(0,Tt.jsx)("div",{className:"px-3 py-1.5 rounded-full text-xs font-bold ".concat(d," ").concat(c),children:o})]}),(0,Tt.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,Tt.jsx)("span",{className:"text-4xl font-light tabular-nums",children:s}),(0,Tt.jsx)("span",{className:"text-lg text-muted-foreground",children:i}),l&&(0,Tt.jsxs)("span",{className:"text-sm text-muted-foreground ml-2",children:["(",l,")"]})]}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsx)("div",{className:"flex h-2 rounded-full overflow-hidden bg-secondary",children:m.map((e,t)=>(0,Tt.jsx)("div",{className:"flex-1 ".concat(e.barColor," ").concat(t===h?"ring-2 ring-white ring-offset-1 ring-offset-background":"opacity-40")},t))}),(0,Tt.jsx)("div",{className:"space-y-1",children:m.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between text-xs px-2 py-1.5 rounded-lg transition-all ".concat(t===h?"".concat(e.bgColor," ").concat(e.textColor," font-medium"):"text-muted-foreground hover:bg-white/5"),children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.barColor)}),(0,Tt.jsx)("span",{children:e.label})]}),(0,Tt.jsx)("span",{className:"font-mono text-[11px]",children:e.range})]},t))})]})]})};function JF(){const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=async()=>{try{const e=await $F.getSensors();n(e)}catch(e){console.error("Failed to fetch sensors:",e)}finally{a(!1)}};e();const t=setInterval(e,Kt.Ay.polling.sensors);return()=>clearInterval(t)},[]);const c=null!==e&&void 0!==e&&e.available?e:{temperature:22.5,humidity:45.2,pressure:1013.2,iaq:165,available:!1},d=e=>(9*e/5+32).toFixed(0),u=[{label:"Freezing",range:"< 32\xb0F",barColor:"bg-cyan-500",bgColor:"bg-cyan-500/20",textColor:"text-cyan-400"},{label:"Cold",range:"32-50\xb0F",barColor:"bg-blue-500",bgColor:"bg-blue-500/20",textColor:"text-blue-400"},{label:"Cool",range:"50-68\xb0F",barColor:"bg-emerald-500",bgColor:"bg-emerald-500/20",textColor:"text-emerald-400"},{label:"Ideal",range:"68-77\xb0F",barColor:"bg-success",bgColor:"bg-success/20",textColor:"text-success"},{label:"Warm",range:"77-90\xb0F",barColor:"bg-amber-500",bgColor:"bg-amber-500/20",textColor:"text-amber-400"},{label:"Hot",range:"> 90\xb0F",barColor:"bg-red-500",bgColor:"bg-red-500/20",textColor:"text-red-400"}],m=(e=>e<32?0:e<50?1:e<68?2:e<77?3:e<90?4:5)(parseFloat(d(c.temperature))),h=u[m],p=[{label:"Very Dry",range:"< 20%",barColor:"bg-amber-500",bgColor:"bg-amber-500/20",textColor:"text-amber-400"},{label:"Dry",range:"20-30%",barColor:"bg-yellow-500",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400"},{label:"Comfortable",range:"30-50%",barColor:"bg-success",bgColor:"bg-success/20",textColor:"text-success"},{label:"Humid",range:"50-70%",barColor:"bg-blue-500",bgColor:"bg-blue-500/20",textColor:"text-blue-400"},{label:"Very Humid",range:"> 70%",barColor:"bg-purple-500",bgColor:"bg-purple-500/20",textColor:"text-purple-400"}],f=(x=c.humidity)<20?0:x<30?1:x<50?2:x<70?3:4;var x;const g=p[f],v=[{label:"Very Low (Storms)",range:"< 1000 hPa",barColor:"bg-red-500",bgColor:"bg-red-500/20",textColor:"text-red-400"},{label:"Low (Unsettled)",range:"1000-1010 hPa",barColor:"bg-amber-500",bgColor:"bg-amber-500/20",textColor:"text-amber-400"},{label:"Normal (Fair)",range:"1010-1020 hPa",barColor:"bg-success",bgColor:"bg-success/20",textColor:"text-success"},{label:"High (Clear)",range:"> 1020 hPa",barColor:"bg-blue-500",bgColor:"bg-blue-500/20",textColor:"text-blue-400"}],b=(y=c.pressure)<1e3?0:y<1010?1:y<1020?2:3;var y;const j=v[b],w=[{label:"Poor",range:"0-50",barColor:"bg-red-500",bgColor:"bg-red-500/20",textColor:"text-red-400"},{label:"Fair",range:"51-100",barColor:"bg-amber-500",bgColor:"bg-amber-500/20",textColor:"text-amber-400"},{label:"Moderate",range:"101-150",barColor:"bg-yellow-500",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400"},{label:"Good",range:"151-200",barColor:"bg-success",bgColor:"bg-success/20",textColor:"text-success"},{label:"Excellent",range:"> 200",barColor:"bg-emerald-500",bgColor:"bg-emerald-500/20",textColor:"text-emerald-400"}],N=(k=c.iaq)<51?0:k<101?1:k<151?2:k<201?3:4;var k;const A=w[N];return r?(0,Tt.jsx)(Iz,{className:"glass-strong border-border h-full",children:(0,Tt.jsx)(zz,{className:"p-6",children:(0,Tt.jsx)("div",{className:"skeleton h-80 rounded-xl"})})}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)(Iz,{className:"glass-strong border-border h-full","data-testid":"environment-tile",children:[(0,Tt.jsxs)(Rz,{className:"pb-3 px-4 lg:px-6 pt-4 lg:pt-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)(Lz,{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-xl bg-emerald-500/20",children:(0,Tt.jsx)(FF,{className:"w-5 h-5 text-emerald-400"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-lg font-bold",children:"Environment"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground font-normal",children:"OMEGA sensor readings"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[!c.available&&(0,Tt.jsx)("span",{className:"text-[10px] px-2 py-1 rounded-full bg-amber-500/20 text-amber-400 font-medium",children:"Simulated"}),(0,Tt.jsxs)(gn.$,{variant:"ghost",size:"sm",onClick:()=>o(!l),className:"h-8 px-3 text-xs ".concat(l?"bg-primary/20 text-primary":"text-muted-foreground"),children:[(0,Tt.jsx)(Rn.A,{className:"w-3.5 h-3.5 mr-1.5"}),"Legend"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>i(!0),className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",title:"Help Guide",children:(0,Tt.jsx)(an.A,{className:"w-4 h-4"})})]})]}),l&&(0,Tt.jsx)("div",{className:"mt-3 p-3 glass rounded-xl animate-fade-in",children:(0,Tt.jsx)("div",{className:"flex flex-wrap gap-4",children:YF.legend.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),(0,Tt.jsxs)("span",{className:"text-xs",children:[(0,Tt.jsx)("span",{className:"font-medium",children:e.label}),(0,Tt.jsxs)("span",{className:"text-muted-foreground",children:[" \u2014 ",e.description]})]})]},t))})})]}),(0,Tt.jsxs)(zz,{className:"px-4 lg:px-6 pb-4 lg:pb-6",children:[(0,Tt.jsxs)("div",{className:"hidden lg:block space-y-4",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tt.jsx)(QF,{icon:hr,iconColor:"text-red-400",iconBg:"bg-red-500/20",title:"Temperature",value:d(c.temperature),unit:"\xb0F",secondaryValue:"".concat(c.temperature.toFixed(1),"\xb0C"),status:h.label,statusColor:h.textColor,statusBg:h.bgColor,description:"Ambient air temperature for comfort and safety.",ranges:u,currentRangeIndex:m}),(0,Tt.jsx)(QF,{icon:An,iconColor:"text-blue-400",iconBg:"bg-blue-500/20",title:"Humidity",value:c.humidity.toFixed(0),unit:"%",status:g.label,statusColor:g.textColor,statusBg:g.bgColor,description:"Moisture in air. Affects comfort and weather.",ranges:p,currentRangeIndex:f})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tt.jsx)(QF,{icon:Jr,iconColor:"text-purple-400",iconBg:"bg-purple-500/20",title:"Barometric Pressure",value:c.pressure.toFixed(0),unit:"hPa",status:j.label,statusColor:j.textColor,statusBg:j.bgColor,description:"Key weather predictor. Watch the trend.",ranges:v,currentRangeIndex:b}),(0,Tt.jsx)(QF,{icon:BF,iconColor:"text-green-400",iconBg:"bg-green-500/20",title:"Air Quality (IAQ)",value:c.iaq,unit:"index",status:A.label,statusColor:A.textColor,statusBg:A.bgColor,description:"Detects smoke, VOCs, CO2. Higher = better.",ranges:w,currentRangeIndex:N})]})]}),(0,Tt.jsxs)("div",{className:"lg:hidden space-y-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-lg bg-red-500/20",children:(0,Tt.jsx)(hr,{className:"w-5 h-5 text-red-400"})}),(0,Tt.jsx)("span",{className:"text-sm font-medium",children:"Temperature"})]}),(0,Tt.jsx)("div",{className:"px-2 py-1 rounded-full text-[10px] font-bold ".concat(h.bgColor," ").concat(h.textColor),children:h.label})]}),(0,Tt.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,Tt.jsx)("span",{className:"text-4xl font-light tabular-nums",children:d(c.temperature)}),(0,Tt.jsx)("span",{className:"text-lg text-muted-foreground",children:"\xb0F"})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-2.5",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsx)(An,{className:"w-4 h-4 text-blue-400"}),(0,Tt.jsx)("span",{className:"text-[9px] font-semibold ".concat(g.textColor),children:g.label})]}),(0,Tt.jsxs)("div",{className:"text-xl font-semibold tabular-nums",children:[c.humidity.toFixed(0),"%"]}),(0,Tt.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"Humidity"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-2.5",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsx)(Jr,{className:"w-4 h-4 text-purple-400"}),(0,Tt.jsx)("span",{className:"text-[9px] font-semibold ".concat(j.textColor),children:j.label.split(" ")[0]})]}),(0,Tt.jsx)("div",{className:"text-xl font-semibold tabular-nums",children:c.pressure.toFixed(0)}),(0,Tt.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"hPa"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-2.5",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsx)(BF,{className:"w-4 h-4 text-green-400"}),(0,Tt.jsx)("span",{className:"text-[9px] font-semibold ".concat(A.textColor),children:A.label})]}),(0,Tt.jsx)("div",{className:"text-xl font-semibold tabular-nums",children:c.iaq}),(0,Tt.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"IAQ"})]})]})]}),(0,Tt.jsx)($n,{title:"Raw Sensor Data",helpText:"Technical metrics and timestamps",children:(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h5",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Raw Sensor Values"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsx)(Qn,{label:"Temperature (raw)",value:c.temperature.toFixed(2),unit:"\xb0C",trustType:"VERIFIED",helpTerm:"TEMP"}),(0,Tt.jsx)(Qn,{label:"Humidity (raw)",value:c.humidity.toFixed(2),unit:"%",trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Pressure (raw)",value:c.pressure.toFixed(2),unit:"hPa",trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"IAQ Index",value:c.iaq,trustType:"DERIVED"})]})]}),(0,Tt.jsx)(Zn,{notes:["Temperature converted to Fahrenheit: (\xb0C \xd7 9/5) + 32","IAQ Index derived from gas resistance + humidity compensation","Status thresholds based on health/comfort standards","Sensor readings taken every 5 seconds"]}),(0,Tt.jsx)(Yn,{data:c,title:"Sensor JSON Response"})]})}),(0,Tt.jsx)(Gn,{source:"OMEGA BME688 Sensor",endpoint:"/api/cgi-bin/sensors",lastUpdated:Date.now(),trustType:"VERIFIED",status:c.available?"INDEXED":"SIMULATED",refreshInterval:"5 seconds"})]})]}),s&&(0,Tt.jsx)(ZF,{onClose:()=>i(!1)})]})}const XF=(0,It.A)("memory-stick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]),eB={overview:"The Device Info tile monitors your OMEGA's internal health and performance. Keep an eye on these metrics to ensure smooth operation, prevent overheating, and catch issues before they become problems.",legend:[{color:"bg-success",label:"Good",description:"Optimal range - system healthy"},{color:"bg-primary",label:"Normal",description:"Acceptable - typical operation"},{color:"bg-warning",label:"High",description:"Elevated - monitor closely"},{color:"bg-destructive",label:"Critical",description:"Action required immediately"}],tips:["High CPU + High Temp together = reduce workload or improve cooling","If RAM stays above 80%, close unused applications or restart","Keep storage below 85% for optimal performance","Occasional restarts (every 1-2 weeks) help clear memory leaks"]},tB=e=>{let{onClose:t}=e;return(0,Tt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:t,children:(0,Tt.jsxs)("div",{className:"glass-strong rounded-2xl w-full max-w-lg max-h-[85vh] overflow-hidden animate-fade-in flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,Tt.jsxs)("div",{className:"p-4 border-b border-border/50 flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-xl bg-primary/20",children:(0,Tt.jsx)(ln.A,{className:"w-5 h-5 text-primary"})}),(0,Tt.jsx)("div",{children:(0,Tt.jsx)("h3",{className:"font-bold text-lg",children:"Device Metrics Guide"})})]}),(0,Tt.jsx)("button",{onClick:t,className:"p-2 hover:bg-secondary rounded-lg",children:(0,Tt.jsx)(Bt.A,{className:"w-5 h-5"})})]}),(0,Tt.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin",children:[(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:eB.overview}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(Rn.A,{className:"w-4 h-4 text-primary"}),"Status Indicator Legend"]}),(0,Tt.jsx)("div",{className:"space-y-2",children:eB.legend.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(e.color)}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-sm font-medium",children:e.label}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground ml-2",children:["\u2014 ",e.description]})]})]},t))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(cr,{className:"w-4 h-4 text-warning"})," Tips"]}),(0,Tt.jsx)("ul",{className:"space-y-1.5",children:eB.tips.map((e,t)=>(0,Tt.jsxs)("li",{className:"text-xs text-muted-foreground flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"text-primary mt-0.5",children:"\u2022"}),e]},t))})]})]})]})})},nB=e=>{let{icon:t,iconColor:n,iconBg:r,title:a,value:s,unit:i,secondaryValue:l,status:o,statusColor:c,statusBg:d,description:u,ranges:m,currentRangeIndex:h,showProgressBar:p=!0}=e;const f=m[h];return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2.5 rounded-xl ".concat(r),children:(0,Tt.jsx)(t,{className:"w-6 h-6 ".concat(n)})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold text-base",children:a}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed max-w-xs",children:u})]})]}),(0,Tt.jsx)("div",{className:"px-3 py-1.5 rounded-full text-xs font-bold ".concat(d," ").concat(c),children:o})]}),(0,Tt.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,Tt.jsx)("span",{className:"text-4xl font-light tabular-nums",children:s}),(0,Tt.jsx)("span",{className:"text-lg text-muted-foreground",children:i}),l&&(0,Tt.jsxs)("span",{className:"text-sm text-muted-foreground ml-2",children:["(",l,")"]})]}),p&&(0,Tt.jsx)("div",{className:"h-3 bg-secondary rounded-full overflow-hidden",children:(0,Tt.jsx)("div",{className:"h-full transition-all duration-500 ".concat(f.barColor),style:{width:"".concat(Math.min(parseFloat(s),100),"%")}})}),(0,Tt.jsx)("div",{className:"space-y-1",children:m.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between text-xs px-2 py-1.5 rounded-lg transition-all ".concat(t===h?"".concat(e.bgColor," ").concat(e.textColor," font-medium"):"text-muted-foreground hover:bg-white/5"),children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.barColor)}),(0,Tt.jsx)("span",{children:e.label})]}),(0,Tt.jsx)("span",{className:"font-mono text-[11px]",children:e.range})]},t))})]})};function rB(){const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)(null),[s,i]=(0,t.useState)(!0),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=async()=>{try{const[e,t]=await Promise.all([$F.getMetrics(),$F.getHealth()]);n(e),a(t)}catch(e){console.error("Failed to fetch device info:",e)}finally{i(!1)}};e();const t=setInterval(e,Kt.Ay.polling.metrics);return()=>clearInterval(t)},[]);const u=null!==e&&void 0!==e&&e.available?e:{cpu:24,ram:38,disk:52,temp:48,uptime:345678,available:!1},m=null!==r&&void 0!==r&&r.services?r:{services:{kiwix:"up",backend:"up",mesh:"degraded",gps:"up",sensors:"up"},available:!1},h=e=>{if(!e)return"N/A";const t=Math.floor(e/86400),n=Math.floor(e%86400/3600),r=Math.floor(e%3600/60);return t>0?"".concat(t,"d ").concat(n,"h ").concat(r,"m"):n>0?"".concat(n,"h ").concat(r,"m"):"".concat(r,"m")},p=[{label:"Idle",range:"0-30%",barColor:"bg-success",bgColor:"bg-success/20",textColor:"text-success"},{label:"Moderate",range:"30-60%",barColor:"bg-primary",bgColor:"bg-primary/20",textColor:"text-primary"},{label:"High",range:"60-80%",barColor:"bg-warning",bgColor:"bg-warning/20",textColor:"text-warning"},{label:"Critical",range:"80-100%",barColor:"bg-destructive",bgColor:"bg-destructive/20",textColor:"text-destructive"}],f=(x=u.cpu)<=30?0:x<=60?1:x<=80?2:3;var x;const g=[{label:"Light",range:"0-50%",barColor:"bg-success",bgColor:"bg-success/20",textColor:"text-success"},{label:"Moderate",range:"50-70%",barColor:"bg-primary",bgColor:"bg-primary/20",textColor:"text-primary"},{label:"High",range:"70-85%",barColor:"bg-warning",bgColor:"bg-warning/20",textColor:"text-warning"},{label:"Critical",range:"85-100%",barColor:"bg-destructive",bgColor:"bg-destructive/20",textColor:"text-destructive"}],v=(e=>e<=50?0:e<=70?1:e<=85?2:3)(u.ram),b=[{label:"Plenty of Space",range:"0-60%",barColor:"bg-success",bgColor:"bg-success/20",textColor:"text-success"},{label:"Moderate Use",range:"60-75%",barColor:"bg-primary",bgColor:"bg-primary/20",textColor:"text-primary"},{label:"Getting Full",range:"75-85%",barColor:"bg-warning",bgColor:"bg-warning/20",textColor:"text-warning"},{label:"Nearly Full",range:"85-100%",barColor:"bg-destructive",bgColor:"bg-destructive/20",textColor:"text-destructive"}],y=(e=>e<=60?0:e<=75?1:e<=85?2:3)(u.disk),j=[{label:"Cool",range:"< 45\xb0C",barColor:"bg-success",bgColor:"bg-success/20",textColor:"text-success"},{label:"Normal",range:"45-60\xb0C",barColor:"bg-primary",bgColor:"bg-primary/20",textColor:"text-primary"},{label:"Warm",range:"60-75\xb0C",barColor:"bg-warning",bgColor:"bg-warning/20",textColor:"text-warning"},{label:"Hot",range:"> 75\xb0C",barColor:"bg-destructive",bgColor:"bg-destructive/20",textColor:"text-destructive"}],w=(e=>e<45?0:e<60?1:e<75?2:3)(u.temp),N=m.services?Object.keys(m.services).length:0,k=m.services?Object.values(m.services).filter(e=>"up"===e||"running"===e).length:0;m.services&&Object.values(m.services).filter(e=>"degraded"===e).length;return s?(0,Tt.jsx)(Iz,{className:"glass-strong border-border h-full",children:(0,Tt.jsx)(zz,{className:"p-6",children:(0,Tt.jsx)("div",{className:"skeleton h-80 rounded-xl"})})}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)(Iz,{className:"glass-strong border-border h-full","data-testid":"device-info-tile",children:[(0,Tt.jsxs)(Rz,{className:"pb-3 px-4 lg:px-6 pt-4 lg:pt-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)(Lz,{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-xl bg-primary/20",children:(0,Tt.jsx)(ln.A,{className:"w-5 h-5 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-lg font-bold",children:"Device Info"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground font-normal",children:"System health & performance"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[!(null!==e&&void 0!==e&&e.available)&&(0,Tt.jsx)("span",{className:"text-[10px] px-2 py-1 rounded-full bg-amber-500/20 text-amber-400 font-medium",children:"Simulated"}),(0,Tt.jsxs)(gn.$,{variant:"ghost",size:"sm",onClick:()=>d(!c),className:"h-8 px-3 text-xs ".concat(c?"bg-primary/20 text-primary":"text-muted-foreground"),children:[(0,Tt.jsx)(Rn.A,{className:"w-3.5 h-3.5 mr-1.5"}),"Legend"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",title:"Help Guide",children:(0,Tt.jsx)(an.A,{className:"w-4 h-4"})})]})]}),c&&(0,Tt.jsx)("div",{className:"mt-3 p-3 glass rounded-xl animate-fade-in",children:(0,Tt.jsx)("div",{className:"flex flex-wrap gap-4",children:eB.legend.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),(0,Tt.jsxs)("span",{className:"text-xs",children:[(0,Tt.jsx)("span",{className:"font-medium",children:e.label}),(0,Tt.jsxs)("span",{className:"text-muted-foreground",children:[" \u2014 ",e.description]})]})]},t))})})]}),(0,Tt.jsxs)(zz,{className:"px-4 lg:px-6 pb-4 lg:pb-6",children:[(0,Tt.jsxs)("div",{className:"hidden lg:block space-y-4",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tt.jsx)(nB,{icon:Zr,iconColor:"text-blue-400",iconBg:"bg-blue-500/20",title:"CPU Usage",value:u.cpu,unit:"%",status:p[f].label,statusColor:p[f].textColor,statusBg:p[f].bgColor,description:"Processor load. High usage = slower system.",ranges:p,currentRangeIndex:f}),(0,Tt.jsx)(nB,{icon:XF,iconColor:"text-purple-400",iconBg:"bg-purple-500/20",title:"Memory (RAM)",value:u.ram,unit:"%",status:g[v].label,statusColor:g[v].textColor,statusBg:g[v].bgColor,description:"Working memory. When full, apps may crash.",ranges:g,currentRangeIndex:v})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tt.jsx)(nB,{icon:Qr,iconColor:"text-orange-400",iconBg:"bg-orange-500/20",title:"Storage",value:u.disk,unit:"%",status:b[y].label,statusColor:b[y].textColor,statusBg:b[y].bgColor,description:"Disk space. Keep 15% free for best performance.",ranges:b,currentRangeIndex:y}),(0,Tt.jsx)(nB,{icon:hr,iconColor:"text-red-400",iconBg:"bg-red-500/20",title:"CPU Temperature",value:u.temp,unit:"\xb0C",secondaryValue:"".concat((9*u.temp/5+32).toFixed(0),"\xb0F"),status:j[w].label,statusColor:j[w].textColor,statusBg:j[w].bgColor,description:"Processor heat. High temp = throttling.",ranges:j,currentRangeIndex:w,showProgressBar:!1})]}),(0,Tt.jsx)("div",{className:"glass rounded-xl p-4",children:(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Tt.jsx)("div",{className:"p-2.5 rounded-xl bg-cyan-500/20",children:(0,Tt.jsx)(en.A,{className:"w-6 h-6 text-cyan-400"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold text-base",children:"Uptime"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Since last restart"})]})]}),(0,Tt.jsx)("div",{className:"text-3xl font-light tabular-nums",children:h(u.uptime)}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Restart weekly for best performance."})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Tt.jsx)("div",{className:"p-2.5 rounded-xl bg-emerald-500/20",children:(0,Tt.jsx)(ur.A,{className:"w-6 h-6 text-emerald-400"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold text-base",children:"Services"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Background processes"})]})]}),(0,Tt.jsxs)("div",{className:"text-3xl font-light ".concat(k===N?"text-success":"text-warning"),children:[k,"/",N," ",(0,Tt.jsx)("span",{className:"text-base",children:"up"})]}),(0,Tt.jsx)("div",{className:"flex items-center gap-2 mt-2",children:m.services&&Object.entries(m.services).map(e=>{let[t,n]=e;return(0,Tt.jsx)("div",{className:"px-2 py-1 rounded text-[10px] font-medium ".concat("up"===n||"running"===n?"bg-success/20 text-success":"degraded"===n?"bg-warning/20 text-warning":"bg-destructive/20 text-destructive"),title:"".concat(t,": ").concat(n),children:t},t)})})]})]})})]}),(0,Tt.jsxs)("div",{className:"lg:hidden space-y-3",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)(Zr,{className:"w-4 h-4 text-blue-400"}),(0,Tt.jsx)("span",{className:"text-xs font-medium",children:"CPU"})]}),(0,Tt.jsx)("span",{className:"text-[9px] font-semibold ".concat(p[f].textColor),children:p[f].label})]}),(0,Tt.jsxs)("div",{className:"text-2xl font-bold tabular-nums",children:[u.cpu,"%"]}),(0,Tt.jsx)("div",{className:"h-1.5 bg-secondary rounded-full mt-2 overflow-hidden",children:(0,Tt.jsx)("div",{className:"h-full ".concat(p[f].barColor," transition-all"),style:{width:"".concat(u.cpu,"%")}})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)(XF,{className:"w-4 h-4 text-purple-400"}),(0,Tt.jsx)("span",{className:"text-xs font-medium",children:"RAM"})]}),(0,Tt.jsx)("span",{className:"text-[9px] font-semibold ".concat(g[v].textColor),children:g[v].label})]}),(0,Tt.jsxs)("div",{className:"text-2xl font-bold tabular-nums",children:[u.ram,"%"]}),(0,Tt.jsx)("div",{className:"h-1.5 bg-secondary rounded-full mt-2 overflow-hidden",children:(0,Tt.jsx)("div",{className:"h-full ".concat(g[v].barColor," transition-all"),style:{width:"".concat(u.ram,"%")}})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)(Qr,{className:"w-4 h-4 text-orange-400"}),(0,Tt.jsx)("span",{className:"text-xs font-medium",children:"Storage"})]}),(0,Tt.jsx)("span",{className:"text-[9px] font-semibold ".concat(b[y].textColor),children:b[y].label.split(" ")[0]})]}),(0,Tt.jsxs)("div",{className:"text-2xl font-bold tabular-nums",children:[u.disk,"%"]}),(0,Tt.jsx)("div",{className:"h-1.5 bg-secondary rounded-full mt-2 overflow-hidden",children:(0,Tt.jsx)("div",{className:"h-full ".concat(b[y].barColor," transition-all"),style:{width:"".concat(u.disk,"%")}})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)(hr,{className:"w-4 h-4 text-red-400"}),(0,Tt.jsx)("span",{className:"text-xs font-medium",children:"Temp"})]}),(0,Tt.jsx)("span",{className:"text-[9px] font-semibold ".concat(j[w].textColor),children:j[w].label})]}),(0,Tt.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,Tt.jsx)("span",{className:"text-2xl font-bold tabular-nums",children:u.temp}),(0,Tt.jsx)("span",{className:"text-sm text-muted-foreground",children:"\xb0C"})]}),(0,Tt.jsxs)("p",{className:"text-[10px] text-muted-foreground mt-1",children:[(9*u.temp/5+32).toFixed(0),"\xb0F"]})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,Tt.jsx)(en.A,{className:"w-4 h-4 text-cyan-400"}),(0,Tt.jsx)("span",{className:"text-xs font-medium",children:"Uptime"})]}),(0,Tt.jsx)("div",{className:"text-xl font-bold tabular-nums",children:h(u.uptime)})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)(ur.A,{className:"w-4 h-4 text-emerald-400"}),(0,Tt.jsx)("span",{className:"text-xs font-medium",children:"Services"})]}),(0,Tt.jsxs)("span",{className:"text-[9px] font-semibold ".concat(k===N?"text-success":"text-warning"),children:[k,"/",N]})]}),(0,Tt.jsx)("div",{className:"flex items-center gap-1 mt-2",children:m.services&&Object.entries(m.services).map(e=>{let[t,n]=e;return(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("up"===n||"running"===n?"bg-success":"degraded"===n?"bg-warning":"bg-destructive"),title:"".concat(t,": ").concat(n)},t)})})]})]})]}),(0,Tt.jsx)($n,{title:"System Diagnostics",helpText:"Raw metrics and service status",children:(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h5",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"System Metrics"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsx)(Qn,{label:"CPU Usage",value:u.cpu,unit:"%",trustType:"VERIFIED",helpTerm:"CPU"}),(0,Tt.jsx)(Qn,{label:"RAM Usage",value:u.ram,unit:"%",trustType:"VERIFIED",helpTerm:"RAM"}),(0,Tt.jsx)(Qn,{label:"Disk Usage",value:u.disk,unit:"%",trustType:"VERIFIED",helpTerm:"DISK"}),(0,Tt.jsx)(Qn,{label:"CPU Temp",value:u.temp,unit:"\xb0C",trustType:"VERIFIED",helpTerm:"TEMP"}),(0,Tt.jsx)(Qn,{label:"Uptime (s)",value:u.uptime,trustType:"VERIFIED",helpTerm:"UPTIME"})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h5",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Service Status"}),(0,Tt.jsx)("div",{className:"space-y-1",children:m.services&&Object.entries(m.services).map(e=>{let[t,n]=e;return(0,Tt.jsx)(Qn,{label:t.charAt(0).toUpperCase()+t.slice(1),value:n.toUpperCase(),trustType:"up"===n||"running"===n?"VERIFIED":"ESTIMATED"},t)})})]}),(0,Tt.jsx)(Zn,{notes:["CPU usage averaged over 1-minute load","RAM includes buffers and cached memory","Temperature from thermal zone 0 (CPU)","Service status polled every 10 seconds"]}),(0,Tt.jsx)(Yn,{data:{metrics:u,health:m},title:"System JSON"})]})}),(0,Tt.jsx)(Gn,{source:"OMEGA System Monitor",endpoint:"/api/cgi-bin/metrics",lastUpdated:Date.now(),trustType:"VERIFIED",status:null!==e&&void 0!==e&&e.available?"INDEXED":"SIMULATED",refreshInterval:"10 seconds"})]})]}),l&&(0,Tt.jsx)(tB,{onClose:()=>o(!1)})]})}const aB=(0,It.A)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),sB=(0,It.A)("cloud-rain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),iB=(0,It.A)("cloud-snow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]),lB=(0,It.A)("cloud-lightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]),oB=(0,It.A)("sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),cB=(0,It.A)("sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),dB={overview:"The Weather tile displays current conditions and forecasts. OMEGA derives weather data from its onboard sensors (temperature, humidity, pressure) combined with offline weather models.",legend:[{color:"bg-success",label:"Clear/Good",description:"Favorable weather conditions"},{color:"bg-primary",label:"Fair",description:"Normal, acceptable conditions"},{color:"bg-warning",label:"Changing",description:"Weather may shift soon"},{color:"bg-destructive",label:"Severe",description:"Take precautions"}],tips:["Pressure trends are more useful than absolute values for predictions","Morning dew or frost suggests clear overnight skies","Rapidly changing conditions indicate unstable weather","In mountains, weather can change quickly - check frequently"]},uB={location:"Base Camp Alpha",current:{temp:68,feelsLike:65,condition:"Partly Cloudy",icon:"partly-cloudy",humidity:45,windSpeed:12,windDirection:"NW",visibility:10,uvIndex:4,pressure:30.12,pressureTrend:"rising"},sun:{sunrise:"6:42 AM",sunset:"7:18 PM"},forecast:[{day:"Today",high:72,low:58,icon:"partly-cloudy",precip:10},{day:"Tue",high:68,low:54,icon:"cloudy",precip:30},{day:"Wed",high:65,low:52,icon:"rain",precip:80},{day:"Thu",high:70,low:55,icon:"sunny",precip:5},{day:"Fri",high:74,low:58,icon:"sunny",precip:0}],alerts:[{type:"warning",message:"Rain expected Wednesday - secure outdoor gear"}],lastUpdated:"10 min ago",omegaSensors:{available:!0,pressure:1013.2,pressureInHg:29.92,pressureTrend:"falling",temperature:22.5,humidity:45}},mB=e=>{let{condition:t,className:n="w-6 h-6"}=e;const r={sunny:(0,Tt.jsx)(Ht,{className:"".concat(n," text-amber-400")}),"partly-cloudy":(0,Tt.jsx)(aB,{className:"".concat(n," text-slate-300")}),cloudy:(0,Tt.jsx)(aB,{className:"".concat(n," text-slate-400")}),rain:(0,Tt.jsx)(sB,{className:"".concat(n," text-blue-400")}),snow:(0,Tt.jsx)(iB,{className:"".concat(n," text-cyan-200")}),storm:(0,Tt.jsx)(lB,{className:"".concat(n," text-purple-400")})};return r[t]||r["partly-cloudy"]},hB=e=>{let{onClose:t}=e;return(0,Tt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:t,children:(0,Tt.jsxs)("div",{className:"glass-strong rounded-2xl w-full max-w-lg max-h-[85vh] overflow-hidden animate-fade-in flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,Tt.jsxs)("div",{className:"p-4 border-b border-border/50 flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-xl bg-sky-500/20",children:(0,Tt.jsx)(aB,{className:"w-5 h-5 text-sky-400"})}),(0,Tt.jsx)("div",{children:(0,Tt.jsx)("h3",{className:"font-bold text-lg",children:"Weather Guide"})})]}),(0,Tt.jsx)("button",{onClick:t,className:"p-2 hover:bg-secondary rounded-lg",children:(0,Tt.jsx)(Bt.A,{className:"w-5 h-5"})})]}),(0,Tt.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin",children:[(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:dB.overview}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[(0,Tt.jsx)(Rn.A,{className:"w-4 h-4 text-primary"}),"Status Legend"]}),(0,Tt.jsx)("div",{className:"space-y-2",children:dB.legend.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(e.color)}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-sm font-medium",children:e.label}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground ml-2",children:["\u2014 ",e.description]})]})]},t))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h4",{className:"font-semibold text-sm mb-3",children:"Weather Icons"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{icon:Ht,label:"Sunny/Clear",color:"text-amber-400"},{icon:aB,label:"Cloudy",color:"text-slate-400"},{icon:sB,label:"Rain",color:"text-blue-400"},{icon:iB,label:"Snow",color:"text-cyan-300"},{icon:lB,label:"Storm",color:"text-purple-400"},{icon:BF,label:"Windy",color:"text-slate-300"}].map((e,t)=>{const n=e.icon;return(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(n,{className:"w-5 h-5 ".concat(e.color)}),(0,Tt.jsx)("span",{className:"text-xs",children:e.label})]},t)})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[(0,Tt.jsx)(cr,{className:"w-4 h-4 text-warning"})," Tips"]}),(0,Tt.jsx)("ul",{className:"space-y-1.5",children:dB.tips.map((e,t)=>(0,Tt.jsxs)("li",{className:"text-xs text-muted-foreground flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"text-primary mt-0.5",children:"\u2022"}),e]},t))})]})]})]})})},pB=e=>{let{icon:t,iconColor:n,iconBg:r,title:a,value:s,unit:i,secondaryValue:l,status:o,statusColor:c,statusBg:d,description:u,ranges:m,currentRangeIndex:h}=e;return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2.5 rounded-xl ".concat(r),children:(0,Tt.jsx)(t,{className:"w-6 h-6 ".concat(n)})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold text-base",children:a}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed max-w-xs",children:u})]})]}),o&&(0,Tt.jsx)("div",{className:"px-3 py-1.5 rounded-full text-xs font-bold ".concat(d," ").concat(c),children:o})]}),(0,Tt.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,Tt.jsx)("span",{className:"text-4xl font-light tabular-nums",children:s}),(0,Tt.jsx)("span",{className:"text-lg text-muted-foreground",children:i}),l&&(0,Tt.jsxs)("span",{className:"text-sm text-muted-foreground ml-2",children:["(",l,")"]})]}),m&&(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsx)("div",{className:"flex h-2 rounded-full overflow-hidden bg-secondary",children:m.map((e,t)=>(0,Tt.jsx)("div",{className:"flex-1 ".concat(e.barColor," ").concat(t===h?"ring-2 ring-white ring-offset-1 ring-offset-background":"opacity-40")},t))}),(0,Tt.jsx)("div",{className:"space-y-1",children:m.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between text-xs px-2 py-1.5 rounded-lg transition-all ".concat(t===h?"".concat(e.bgColor," ").concat(e.textColor," font-medium"):"text-muted-foreground hover:bg-white/5"),children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.barColor)}),(0,Tt.jsx)("span",{children:e.label})]}),(0,Tt.jsx)("span",{className:"font-mono text-[11px]",children:e.range})]},t))})]})]})};function fB(){var e;const[n,r]=(0,t.useState)(!1),[a,s]=(0,t.useState)(!1),i=uB,l=[{label:"Freezing",range:"< 32\xb0F",barColor:"bg-cyan-500",bgColor:"bg-cyan-500/20",textColor:"text-cyan-400"},{label:"Cold",range:"32-50\xb0F",barColor:"bg-blue-500",bgColor:"bg-blue-500/20",textColor:"text-blue-400"},{label:"Cool",range:"50-65\xb0F",barColor:"bg-emerald-500",bgColor:"bg-emerald-500/20",textColor:"text-emerald-400"},{label:"Comfortable",range:"65-80\xb0F",barColor:"bg-success",bgColor:"bg-success/20",textColor:"text-success"},{label:"Hot",range:"> 80\xb0F",barColor:"bg-red-500",bgColor:"bg-red-500/20",textColor:"text-red-400"}],o=(e=>e<32?0:e<50?1:e<65?2:e<80?3:4)(i.current.temp),c=[{label:"Very Dry (Fire Risk)",range:"< 30%",barColor:"bg-amber-500",bgColor:"bg-amber-500/20",textColor:"text-amber-400"},{label:"Comfortable",range:"30-50%",barColor:"bg-success",bgColor:"bg-success/20",textColor:"text-success"},{label:"Humid",range:"50-70%",barColor:"bg-blue-500",bgColor:"bg-blue-500/20",textColor:"text-blue-400"},{label:"Very Humid (Rain Likely)",range:"> 70%",barColor:"bg-purple-500",bgColor:"bg-purple-500/20",textColor:"text-purple-400"}],d=(u=i.current.humidity)<30?0:u<50?1:u<70?2:3;var u;const m=[{label:"Calm",range:"0-5 mph",barColor:"bg-success",bgColor:"bg-success/20",textColor:"text-success"},{label:"Light Breeze",range:"5-15 mph",barColor:"bg-primary",bgColor:"bg-primary/20",textColor:"text-primary"},{label:"Moderate Wind",range:"15-25 mph",barColor:"bg-warning",bgColor:"bg-warning/20",textColor:"text-warning"},{label:"Strong Wind",range:"> 25 mph",barColor:"bg-destructive",bgColor:"bg-destructive/20",textColor:"text-destructive"}],h=(p=i.current.windSpeed)<5?0:p<15?1:p<25?2:3;var p;const f=[{label:"Low",range:"0-2",barColor:"bg-success",bgColor:"bg-success/20",textColor:"text-success"},{label:"Moderate",range:"3-5",barColor:"bg-yellow-500",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400"},{label:"High",range:"6-7",barColor:"bg-orange-500",bgColor:"bg-orange-500/20",textColor:"text-orange-400"},{label:"Very High",range:"8-10",barColor:"bg-red-500",bgColor:"bg-red-500/20",textColor:"text-red-400"},{label:"Extreme",range:"11+",barColor:"bg-purple-500",bgColor:"bg-purple-500/20",textColor:"text-purple-400"}],x=(g=i.current.uvIndex)<=2?0:g<=5?1:g<=7?2:g<=10?3:4;var g;const v="rising"===(b=i.omegaSensors.pressureTrend)?{label:"Rising - Clearing",color:"text-success",bg:"bg-success/20"}:"falling"===b?{label:"Falling - Storms",color:"text-warning",bg:"bg-warning/20"}:{label:"Steady",color:"text-muted-foreground",bg:"bg-secondary"};var b;return(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)(Iz,{className:"glass-strong border-border-strong h-full","data-testid":"weather-tile",children:[(0,Tt.jsxs)(Rz,{className:"pb-3 px-4 lg:px-6 pt-4 lg:pt-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)(Lz,{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-xl bg-sky-500/20",children:(0,Tt.jsx)(aB,{className:"w-5 h-5 text-sky-400"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"text-lg font-bold",children:"Weather"}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground font-normal flex items-center gap-1",children:[(0,Tt.jsx)(mr.A,{className:"w-3 h-3"}),i.location]})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-[10px] px-2 py-1 rounded-full bg-sky-500/20 text-sky-400 font-medium",children:"Simulated"}),(0,Tt.jsxs)(gn.$,{variant:"ghost",size:"sm",onClick:()=>s(!a),className:"h-8 px-3 text-xs ".concat(a?"bg-primary/20 text-primary":"text-muted-foreground"),children:[(0,Tt.jsx)(Rn.A,{className:"w-3.5 h-3.5 mr-1.5"}),"Legend"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",title:"Help Guide",children:(0,Tt.jsx)(an.A,{className:"w-4 h-4"})})]})]}),a&&(0,Tt.jsx)("div",{className:"mt-3 p-3 glass rounded-xl animate-fade-in",children:(0,Tt.jsx)("div",{className:"flex flex-wrap gap-4",children:dB.legend.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),(0,Tt.jsxs)("span",{className:"text-xs",children:[(0,Tt.jsx)("span",{className:"font-medium",children:e.label}),(0,Tt.jsxs)("span",{className:"text-muted-foreground",children:[" \u2014 ",e.description]})]})]},t))})})]}),(0,Tt.jsxs)(zz,{className:"px-4 lg:px-6 pb-4 lg:pb-6",children:[(0,Tt.jsxs)("div",{className:"hidden lg:block space-y-4",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tt.jsx)(pB,{icon:hr,iconColor:"text-red-400",iconBg:"bg-red-500/20",title:"Current Temperature",value:i.current.temp,unit:"\xb0F",secondaryValue:"Feels like ".concat(i.current.feelsLike,"\xb0F"),status:l[o].label,statusColor:l[o].textColor,statusBg:l[o].bgColor,description:"'Feels like' accounts for wind chill and humidity.",ranges:l,currentRangeIndex:o}),(0,Tt.jsx)(pB,{icon:An,iconColor:"text-blue-400",iconBg:"bg-blue-500/20",title:"Humidity",value:i.current.humidity,unit:"%",status:c[d].label,statusColor:c[d].textColor,statusBg:c[d].bgColor,description:"High humidity + falling pressure = rain likely.",ranges:c,currentRangeIndex:d})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tt.jsx)(pB,{icon:BF,iconColor:"text-slate-400",iconBg:"bg-slate-500/20",title:"Wind Speed",value:i.current.windSpeed,unit:"mph",secondaryValue:"From ".concat(i.current.windDirection),status:m[h].label,statusColor:m[h].textColor,statusBg:m[h].bgColor,description:"Affects outdoor activities and wind chill.",ranges:m,currentRangeIndex:h}),(0,Tt.jsx)(pB,{icon:Ht,iconColor:"text-amber-400",iconBg:"bg-amber-500/20",title:"UV Index",value:i.current.uvIndex,unit:"index",status:f[x].label,statusColor:f[x].textColor,statusBg:f[x].bgColor,description:"Use sunscreen when Moderate or higher.",ranges:f,currentRangeIndex:x})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"p-2.5 rounded-xl bg-purple-500/20",children:(0,Tt.jsx)(Jr,{className:"w-6 h-6 text-purple-400"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h4",{className:"font-semibold text-base flex items-center gap-2",children:["Barometric Pressure",(0,Tt.jsxs)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-primary/20 text-primary font-medium flex items-center gap-1",children:[(0,Tt.jsx)(mn.A,{className:"w-3 h-3"}),"OMEGA Sensor"]})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed max-w-xs",children:"Atmospheric pressure is the key weather predictor. Watch the trend: falling pressure indicates approaching storms, rising pressure means clearing weather."})]})]}),(0,Tt.jsx)("div",{className:"px-3 py-1.5 rounded-full text-xs font-bold ".concat(v.bg," ").concat(v.color),children:v.label})]}),(0,Tt.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,Tt.jsx)("span",{className:"text-4xl font-light tabular-nums",children:i.omegaSensors.pressure.toFixed(1)}),(0,Tt.jsx)("span",{className:"text-lg text-muted-foreground",children:"hPa"}),(0,Tt.jsx)("span",{className:"text-2xl ml-2 ".concat(v.color),children:(e=>"rising"===e?"\u2191":"falling"===e?"\u2193":"\u2192")(i.omegaSensors.pressureTrend)}),(0,Tt.jsxs)("span",{className:"text-sm text-muted-foreground ml-2",children:["(",i.omegaSensors.pressureInHg," inHg)"]})]}),(0,Tt.jsx)("div",{className:"space-y-1",children:[{label:"High (Clear, Stable)",range:"> 1020 hPa",barColor:"bg-success",bgColor:"bg-success/20",textColor:"text-success",min:1020,max:9999},{label:"Normal (Fair)",range:"1010-1020 hPa",barColor:"bg-primary",bgColor:"bg-primary/20",textColor:"text-primary",min:1010,max:1020},{label:"Low (Unsettled)",range:"1000-1010 hPa",barColor:"bg-warning",bgColor:"bg-warning/20",textColor:"text-warning",min:1e3,max:1010},{label:"Very Low (Storms)",range:"< 1000 hPa",barColor:"bg-destructive",bgColor:"bg-destructive/20",textColor:"text-destructive",min:0,max:1e3}].map((e,t)=>{const n=i.omegaSensors.pressure>=e.min&&i.omegaSensors.pressure<e.max;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between text-xs px-2 py-1.5 rounded-lg transition-all ".concat(n?"".concat(e.bgColor," ").concat(e.textColor," font-medium"):"text-muted-foreground hover:bg-white/5"),children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.barColor)}),(0,Tt.jsx)("span",{children:e.label})]}),(0,Tt.jsx)("span",{className:"font-mono text-[11px]",children:e.range})]},t)})})]}),(0,Tt.jsx)("div",{className:"glass rounded-xl p-4",children:(0,Tt.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-lg bg-amber-500/20",children:(0,Tt.jsx)(oB,{className:"w-5 h-5 text-amber-400"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold text-sm",children:"Sunrise"}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"First light"})]})]}),(0,Tt.jsx)("div",{className:"text-2xl font-light",children:i.sun.sunrise})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-lg bg-orange-500/20",children:(0,Tt.jsx)(cB,{className:"w-5 h-5 text-orange-400"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold text-sm",children:"Sunset"}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Last light"})]})]}),(0,Tt.jsx)("div",{className:"text-2xl font-light",children:i.sun.sunset})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)("div",{className:"p-2 rounded-lg bg-slate-500/20",children:(0,Tt.jsx)(kn,{className:"w-5 h-5 text-slate-400"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold text-sm",children:"Visibility"}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Clear distance"})]})]}),(0,Tt.jsxs)("div",{className:"text-2xl font-light",children:[i.current.visibility," ",(0,Tt.jsx)("span",{className:"text-sm text-muted-foreground",children:"miles"})]})]})]})}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,Tt.jsx)("h4",{className:"font-semibold text-sm mb-3",children:"5-Day Forecast"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"Extended outlook showing high/low temperatures and precipitation probability."}),(0,Tt.jsx)("div",{className:"grid grid-cols-5 gap-2",children:i.forecast.map((e,t)=>(0,Tt.jsxs)("div",{className:"text-center p-3 rounded-xl ".concat(0===t?"bg-primary/10 ring-1 ring-primary/30":"glass"),children:[(0,Tt.jsx)("p",{className:"text-xs font-semibold text-muted-foreground mb-1",children:e.day}),(0,Tt.jsx)(mB,{condition:e.icon,className:"w-8 h-8 mx-auto my-2"}),(0,Tt.jsxs)("p",{className:"text-lg font-semibold",children:[e.high,"\xb0"]}),(0,Tt.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.low,"\xb0"]}),e.precip>0&&(0,Tt.jsxs)("p",{className:"text-xs text-blue-400 mt-1 flex items-center justify-center gap-0.5",children:[(0,Tt.jsx)(An,{className:"w-3 h-3"}),e.precip,"%"]})]},t))})]}),i.alerts.length>0&&(0,Tt.jsx)("div",{className:"bg-warning/10 border border-warning/30 rounded-xl p-4",children:(0,Tt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Tt.jsx)(Gt.A,{className:"w-5 h-5 text-warning flex-shrink-0 mt-0.5"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-semibold text-sm text-warning",children:"Weather Alert"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:i.alerts[0].message})]})]})})]}),(0,Tt.jsxs)("div",{className:"lg:hidden space-y-3",children:[(0,Tt.jsx)("div",{className:"glass rounded-xl p-3",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex items-end gap-1",children:[(0,Tt.jsx)("span",{className:"text-4xl font-light",children:i.current.temp}),(0,Tt.jsx)("span",{className:"text-xl text-muted-foreground mb-1",children:"\xb0F"})]}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Feels like ",i.current.feelsLike,"\xb0F"]}),(0,Tt.jsx)("p",{className:"text-sm font-medium mt-1",children:i.current.condition})]}),(0,Tt.jsx)(mB,{condition:i.current.icon,className:"w-16 h-16"})]})}),(0,Tt.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2 text-center",children:[(0,Tt.jsx)(An,{className:"w-4 h-4 mx-auto mb-1 text-blue-400"}),(0,Tt.jsxs)("p",{className:"text-sm font-semibold",children:[i.current.humidity,"%"]}),(0,Tt.jsx)("p",{className:"text-[9px] text-muted-foreground",children:"Humidity"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2 text-center",children:[(0,Tt.jsx)(BF,{className:"w-4 h-4 mx-auto mb-1 text-slate-400"}),(0,Tt.jsx)("p",{className:"text-sm font-semibold",children:i.current.windSpeed}),(0,Tt.jsxs)("p",{className:"text-[9px] text-muted-foreground",children:["mph ",i.current.windDirection]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2 text-center",children:[(0,Tt.jsx)(Jr,{className:"w-4 h-4 mx-auto mb-1 text-purple-400"}),(0,Tt.jsx)("p",{className:"text-sm font-semibold",children:i.current.pressure}),(0,Tt.jsx)("p",{className:"text-[9px] text-muted-foreground",children:"inHg"})]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between items-center glass rounded-lg p-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(oB,{className:"w-4 h-4 text-amber-400"}),(0,Tt.jsx)("span",{className:"text-xs",children:i.sun.sunrise})]}),(0,Tt.jsx)("div",{className:"h-4 w-px bg-border"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(cB,{className:"w-4 h-4 text-orange-400"}),(0,Tt.jsx)("span",{className:"text-xs",children:i.sun.sunset})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-[10px] font-semibold text-muted-foreground mb-2",children:"5-DAY FORECAST"}),(0,Tt.jsx)("div",{className:"grid grid-cols-5 gap-1",children:i.forecast.map((e,t)=>(0,Tt.jsxs)("div",{className:"text-center p-2 rounded-lg ".concat(0===t?"bg-primary/10":"glass"),children:[(0,Tt.jsx)("p",{className:"text-[10px] font-medium text-muted-foreground",children:e.day}),(0,Tt.jsx)(mB,{condition:e.icon,className:"w-5 h-5 mx-auto my-1"}),(0,Tt.jsxs)("p",{className:"text-xs font-semibold",children:[e.high,"\xb0"]}),(0,Tt.jsxs)("p",{className:"text-[10px] text-muted-foreground",children:[e.low,"\xb0"]})]},t))})]}),i.alerts.length>0&&(0,Tt.jsx)("div",{className:"bg-warning/10 border border-warning/30 rounded-lg p-2",children:(0,Tt.jsxs)("p",{className:"text-xs text-warning font-medium flex items-center gap-1",children:[(0,Tt.jsx)(Gt.A,{className:"w-3 h-3"}),i.alerts[0].message]})})]}),(0,Tt.jsx)($n,{title:"Sensor Data & Sources",helpText:"Technical details and forecast methodology",children:(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h5",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Weather Metrics"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsx)(Qn,{label:"Temperature",value:i.current.temp,unit:"\xb0F",trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Feels Like",value:i.current.feelsLike,unit:"\xb0F",trustType:"DERIVED"}),(0,Tt.jsx)(Qn,{label:"Humidity",value:i.current.humidity,unit:"%",trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Wind Speed",value:i.current.wind,unit:"mph",trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Pressure",value:(null===(e=i.omegaSensors)||void 0===e?void 0:e.pressure)||"N/A",unit:"hPa",trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"UV Index",value:i.current.uv||"N/A",trustType:"ESTIMATED"})]})]}),(0,Tt.jsx)(Zn,{notes:['"Feels like" temperature factors in humidity and wind chill',"Pressure data from OMEGA BME688 sensor (high accuracy)","Pressure trend computed from 6-hour rolling average","Forecast data refreshes every 3 hours"]}),(0,Tt.jsx)(Yn,{data:i,title:"Weather JSON"})]})}),(0,Tt.jsx)(Gn,{source:"OMEGA Weather Integration",endpoint:"/api/cgi-bin/weather",lastUpdated:Date.now(),trustType:"DERIVED",status:"SIMULATED",refreshInterval:"3 hours"})]})]}),n&&(0,Tt.jsx)(hB,{onClose:()=>r(!1)})]})}const xB=(0,It.A)("ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),gB=(0,It.A)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const vB=["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"],bB=["__scopeSwitch"],yB=["__scopeSwitch","control","checked","bubbles"];var jB="Switch",[wB,NB]=ET(jB),[kB,AB]=wB(jB),_B=t.forwardRef((e,n)=>{const{__scopeSwitch:r,name:i,checked:l,defaultChecked:o,required:c,disabled:d,value:u="on",onCheckedChange:m,form:h}=e,p=(0,a.A)(e,vB),[f,x]=t.useState(null),g=(0,_T.s)(n,e=>x(e)),v=t.useRef(!1),b=!f||(h||!!f.closest("form")),[y,j]=RT({prop:l,defaultProp:null!==o&&void 0!==o&&o,onChange:m,caller:jB});return(0,Tt.jsxs)(kB,{scope:r,checked:y,disabled:d,children:[(0,Tt.jsx)(qT.button,(0,s.A)((0,s.A)({type:"button",role:"switch","aria-checked":y,"aria-required":c,"data-state":OB(y),"data-disabled":d?"":void 0,disabled:d,value:u},p),{},{ref:g,onClick:AT(e.onClick,e=>{j(e=>!e),b&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})),b&&(0,Tt.jsx)(EB,{control:f,bubbles:!v.current,name:i,value:u,checked:y,required:c,disabled:d,form:h,style:{transform:"translateX(-100%)"}})]})});_B.displayName=jB;var CB="SwitchThumb",SB=t.forwardRef((e,t)=>{const{__scopeSwitch:n}=e,r=(0,a.A)(e,bB),i=AB(CB,n);return(0,Tt.jsx)(qT.span,(0,s.A)((0,s.A)({"data-state":OB(i.checked),"data-disabled":i.disabled?"":void 0},r),{},{ref:t}))});SB.displayName=CB;var EB=t.forwardRef((e,n)=>{let{__scopeSwitch:r,control:i,checked:l,bubbles:o=!0}=e,c=(0,a.A)(e,yB);const d=t.useRef(null),u=(0,_T.s)(d,n),m=function(e){const n=t.useRef({value:e,previous:e});return t.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}(l),h=function(e){const[n,r]=t.useState(void 0);return MT(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let a,s;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,s=t.blockSize}else a=e.offsetWidth,s=e.offsetHeight;r({width:a,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),n}(i);return t.useEffect(()=>{const e=d.current;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(m!==l&&n){const t=new Event("click",{bubbles:o});n.call(e,l),e.dispatchEvent(t)}},[m,l,o]),(0,Tt.jsx)("input",(0,s.A)((0,s.A)({type:"checkbox","aria-hidden":!0,defaultChecked:l},c),{},{tabIndex:-1,ref:u,style:(0,s.A)((0,s.A)((0,s.A)({},c.style),h),{},{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))});function OB(e){return e?"checked":"unchecked"}EB.displayName="SwitchBubbleInput";var MB=_B,PB=SB;const TB=["className"],DB=t.forwardRef((e,t)=>{let{className:n}=e,r=(0,a.A)(e,TB);return(0,Tt.jsx)(MB,(0,s.A)((0,s.A)({className:(0,vn.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n)},r),{},{ref:t,children:(0,Tt.jsx)(PB,{className:(0,vn.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}))});function IB(){const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(null),[l,o]=(0,t.useState)(!0),[c,d]=(0,t.useState)(!1),[u,m]=(0,t.useState)(!1);(0,t.useEffect)(()=>{h();const t=setInterval(()=>{h()},null!==e&&void 0!==e&&e.enabled?Kt.Ay.polling.hotspotOn:Kt.Ay.polling.hotspotOff);return()=>clearInterval(t)},[null===e||void 0===e?void 0:e.enabled]);const h=async()=>{try{const[e,t,r]=await Promise.all([$F.getHotspotStatus(),$F.getHotspotClients(),$F.getHotspotUsage()]);n(e),a(t.clients||[]),i(r)}catch(e){console.error("Failed to fetch hotspot data:",e)}finally{o(!1)}},p=e=>{if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["B","KB","MB","GB"][t]},f=e=>{if(!e)return"N/A";const t=new Date,n=new Date(e),r=Math.floor((t-n)/6e4);if(r<1)return"Just now";if(r<60)return"".concat(r,"m ago");const a=Math.floor(r/60);return"".concat(a,"h ago")};if(l)return(0,Tt.jsxs)(Iz,{className:"glass-strong border-border",children:[(0,Tt.jsx)(Rz,{children:(0,Tt.jsxs)(Lz,{className:"flex items-center gap-2",children:[(0,Tt.jsx)(hn.A,{className:"w-5 h-5 text-primary"}),"Hotspot"]})}),(0,Tt.jsx)(zz,{children:(0,Tt.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,Tt.jsx)("div",{className:"skeleton h-16 rounded-lg"},e))})})]});const x=e.connectedCount>=.8*e.maxClients,g=u?r:r.slice(0,3),v=s.rxBytesTotal+s.txBytesTotal,b=(e=>{const t=e/1073741824;return t>5?{status:"critical",icon:aa,color:"text-destructive",bg:"bg-destructive-light",label:"Very High"}:t>2?{status:"warning",icon:Gt.A,color:"text-warning",bg:"bg-warning-light",label:"High"}:{status:"good",icon:Vt.A,color:"text-success",bg:"bg-success-light",label:"Normal"}})(v),y=(e=>{const t=e/1048576;return t>20?{status:"critical",icon:aa,color:"text-destructive",bg:"bg-destructive-light",label:"Overload"}:t>10?{status:"warning",icon:Gt.A,color:"text-warning",bg:"bg-warning-light",label:"High"}:{status:"good",icon:Vt.A,color:"text-success",bg:"bg-success-light",label:"Normal"}})(s.rxRateBps),j=(w=e.channel)?1===w||6===w||11===w?{status:"good",icon:Vt.A,color:"text-success",bg:"bg-success-light",label:"Optimal"}:{status:"warning",icon:Gt.A,color:"text-warning",bg:"bg-warning-light",label:"Interference"}:{status:"good",icon:Vt.A,color:"text-success",bg:"bg-success-light",label:"Auto"};var w;const N=b.icon,k=y.icon,A=j.icon;return(0,Tt.jsxs)(Iz,{className:"glass-strong border-border",children:[(0,Tt.jsx)(Rz,{children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)(Lz,{className:"flex items-center gap-2",children:[e.enabled?(0,Tt.jsx)(hn.A,{className:"w-5 h-5 text-primary"}):(0,Tt.jsx)(Ln.A,{className:"w-5 h-5 text-muted-foreground"}),"Hotspot"]}),!e.available&&(0,Tt.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-warning-light text-warning",children:"Simulated"})]})}),(0,Tt.jsxs)(zz,{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 glass rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Tt.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat(e.enabled?"bg-success-light text-success":"bg-destructive-light text-destructive"),children:e.enabled?"ON":"OFF"}),e.enabled&&(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.ssid," \u2022 ",e.band]})]}),e.enabled&&(0,Tt.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Uptime: ",(e=>{if(!e)return"0h 0m";const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return"".concat(t,"h ").concat(n,"m")})(e.uptime)]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[c&&(0,Tt.jsx)($t.A,{className:"w-4 h-4 animate-spin text-primary"}),(0,Tt.jsx)(DB,{checked:e.enabled,onCheckedChange:async()=>{if(!c){d(!0);try{const t=!e.enabled;!1!==(await $F.toggleHotspot(t)).success?(Pt.oR.success("Hotspot ".concat(t?"enabled":"disabled")),setTimeout(h,500)):Pt.oR.error("Unable to toggle hotspot",{description:"Try checking the system services or restart the device"})}catch(t){Pt.oR.error("Failed to toggle hotspot",{description:t.message||"Please try again or check system logs"})}finally{d(!1)}}},disabled:c,className:"data-[state=checked]:bg-primary"})]})]}),e.enabled&&(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)("div",{className:"glass p-3 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-xs font-semibold text-foreground mb-1",children:"How to Connect:"}),(0,Tt.jsxs)("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[(0,Tt.jsx)("p",{children:"1. On your device, go to WiFi settings"}),(0,Tt.jsxs)("p",{children:["2. Look for network: ",(0,Tt.jsx)("span",{className:"font-medium text-foreground",children:e.ssid})]}),(0,Tt.jsx)("p",{children:"3. Enter the password and connect"}),(0,Tt.jsx)("p",{className:"text-[10px] opacity-70 mt-1",children:"\ud83d\udca1 Use the QR Code button below for quick connection"})]})]}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"text-sm font-semibold text-foreground",children:["Connected Devices",(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground ml-2",children:[e.connectedCount," / ",e.maxClients]})]}),x&&(0,Tt.jsxs)("div",{className:"flex items-center gap-1 text-xs text-warning",children:[(0,Tt.jsx)(Gt.A,{className:"w-3 h-3"}),(0,Tt.jsx)("span",{children:"Near capacity"})]})]}),0===r.length?(0,Tt.jsx)("div",{className:"text-center py-6 text-muted-foreground text-sm",children:"No devices connected"}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"space-y-2",children:g.map(e=>(0,Tt.jsxs)("div",{className:"p-2.5 sm:p-3 glass rounded-lg hover:glass-strong transition-smooth",children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between mb-2 gap-2",children:[(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium text-foreground truncate",children:e.hostname}),(0,Tt.jsx)("div",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:e.ip}),(0,Tt.jsx)("div",{className:"text-[10px] sm:text-xs text-muted-foreground truncate opacity-70",children:e.mac}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mt-1 text-[10px] sm:text-xs text-muted-foreground flex-wrap",children:[(0,Tt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Tt.jsx)(en.A,{className:"w-3 h-3"}),f(e.connectedAt)]}),e.rssi&&(0,Tt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Tt.jsx)(Fz,{className:"w-3 h-3"}),e.rssi," dBm"]})]})]}),(0,Tt.jsxs)("div",{className:"text-right text-[10px] sm:text-xs text-muted-foreground flex-shrink-0",children:[(0,Tt.jsxs)("div",{children:["\u2193 ",p(e.rxBytes)]}),(0,Tt.jsxs)("div",{children:["\u2191 ",p(e.txBytes)]})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1 sm:gap-1.5 mt-2",children:[(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:()=>(e=>{Pt.oR.success("".concat(e.hostname," marked as favorite"))})(e),className:"text-[10px] sm:text-xs h-7 flex-1 border-border-strong bg-secondary/30 hover:bg-secondary px-1.5 sm:px-2",title:"Mark as favorite device",children:[(0,Tt.jsx)(ZR,{className:"w-3 h-3 sm:mr-1"}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:"Favorite"})]}),(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:()=>(e=>{Pt.oR.info("Data limit set for ".concat(e.hostname),{description:"Device will be throttled after limit"})})(e),className:"text-[10px] sm:text-xs h-7 flex-1 border-border-strong bg-secondary/30 hover:bg-secondary px-1.5 sm:px-2",title:"Set data usage limit",children:[(0,Tt.jsx)(Jr,{className:"w-3 h-3 sm:mr-1"}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:"Limit"})]}),(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:()=>(e=>{Pt.oR.warning("".concat(e.hostname," blocked"),{description:"This device can no longer connect"})})(e),className:"text-[10px] sm:text-xs h-7 flex-1 border-border-strong bg-secondary/30 hover:bg-destructive-light hover:text-destructive px-1.5 sm:px-2",title:"Block this device",children:[(0,Tt.jsx)(xB,{className:"w-3 h-3 sm:mr-1"}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:"Block"})]})]})]},e.mac))}),r.length>3&&(0,Tt.jsxs)("button",{onClick:()=>m(!u),className:"w-full text-xs text-primary hover:text-primary-hover flex items-center justify-center gap-1 py-2",children:[u?"Show less":"View all ".concat(r.length," devices"),(0,Tt.jsx)(Pn,{className:"w-3 h-3 transition-transform ".concat(u?"rotate-90":"")})]})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsxs)("div",{className:"glass p-2 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:"Total Data"}),(0,Tt.jsx)("div",{className:"flex items-center gap-0.5 px-1.5 py-1 rounded-full ".concat(b.bg," ").concat("critical"===b.status?"animate-critical-flash":""),children:(0,Tt.jsx)(N,{className:"w-3.5 h-3.5 ".concat(b.color," ").concat("critical"===b.status?"animate-critical-glow":"")})})]}),(0,Tt.jsx)("div",{className:"text-sm font-semibold text-foreground",children:p(v)})]}),(0,Tt.jsxs)("div",{className:"glass p-2 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:"Throughput"}),(0,Tt.jsx)("div",{className:"flex items-center gap-0.5 px-1.5 py-1 rounded-full ".concat(y.bg," ").concat("critical"===y.status?"animate-critical-flash":""),children:(0,Tt.jsx)(k,{className:"w-3.5 h-3.5 ".concat(y.color," ").concat("critical"===y.status?"animate-critical-glow":"")})})]}),(0,Tt.jsxs)("div",{className:"text-sm font-semibold text-foreground flex items-center gap-1",children:[(0,Tt.jsx)(Xr,{className:"w-3 h-3 text-primary"}),(e=>{if(!e)return"0 Mbps";const t=(e/1048576).toFixed(2);return"".concat(t," Mbps")})(s.rxRateBps)]})]}),(0,Tt.jsxs)("div",{className:"glass p-2 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:"Channel"}),(0,Tt.jsx)("div",{className:"flex items-center gap-0.5 px-1.5 py-1 rounded-full ".concat(j.bg," ").concat("critical"===j.status?"animate-critical-flash":""),children:(0,Tt.jsx)(A,{className:"w-3.5 h-3.5 ".concat(j.color," ").concat("critical"===j.status?"animate-critical-glow":"")})})]}),(0,Tt.jsx)("div",{className:"text-sm font-semibold text-foreground",children:e.channel||"Auto"})]}),(0,Tt.jsxs)("div",{className:"glass p-2 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:"Range"}),(0,Tt.jsx)("div",{className:"text-sm font-semibold text-foreground",title:"Varies by environment, device, and interference",children:"~100-165 ft"}),(0,Tt.jsx)("div",{className:"text-[10px] text-muted-foreground opacity-70",children:"estimate"})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-3 gap-1.5 sm:gap-2",children:[(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(Kt.Ay.hotspot.localUrl),Pt.oR.success("URL copied to clipboard")},className:"text-[10px] sm:text-xs border-border-strong bg-secondary/50 hover:bg-secondary transition-all px-1.5 sm:px-2",children:[(0,Tt.jsx)(fr.A,{className:"w-3 h-3 sm:mr-1"}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:"Copy URL"}),(0,Tt.jsx)("span",{className:"sm:hidden",children:"Copy"})]}),(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:()=>{Pt.oR.info("QR Code feature - Coming soon")},className:"text-[10px] sm:text-xs border-border-strong bg-secondary/50 hover:bg-secondary transition-all px-1.5 sm:px-2",children:[(0,Tt.jsx)(gB,{className:"w-3 h-3 sm:mr-1"}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:"QR Code"}),(0,Tt.jsx)("span",{className:"sm:hidden",children:"QR"})]}),(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:()=>{h(),Pt.oR.success("Refreshed hotspot data")},className:"text-[10px] sm:text-xs border-border-strong bg-secondary/50 hover:bg-secondary transition-all px-1.5 sm:px-2",children:[(0,Tt.jsx)(Zt.A,{className:"w-3 h-3 sm:mr-1"}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),(0,Tt.jsxs)("div",{className:"pt-4 border-t border-border",children:[(0,Tt.jsx)("div",{className:"text-[10px] sm:text-xs font-semibold text-muted-foreground mb-2",children:"Performance Guide:"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)(Vt.A,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-success"}),(0,Tt.jsx)("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Normal"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)(Gt.A,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-warning"}),(0,Tt.jsx)("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"High"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)(aa,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-destructive"}),(0,Tt.jsx)("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Critical"})]})]})]})]}),!e.enabled&&(0,Tt.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,Tt.jsx)(Ln.A,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,Tt.jsx)("p",{className:"text-sm",children:"Hotspot is currently off"}),(0,Tt.jsx)("p",{className:"text-xs mt-1",children:"Toggle on to share your connection"})]}),!e.available&&(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground text-center p-2 glass rounded",children:"Waiting for hotspot API integration"}),e.enabled&&(0,Tt.jsx)($n,{title:"Network Statistics",helpText:"Raw metrics and connection data",children:(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h5",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Connection Metrics"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsx)(Qn,{label:"Signal Strength",value:e.signalStrength,unit:"dBm",trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Connected Clients",value:e.connectedDevices,trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Max Clients",value:e.maxClients,trustType:"DERIVED"}),(0,Tt.jsx)(Qn,{label:"Channel",value:e.channel,trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Bandwidth Mode",value:e.mode,trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Uptime",value:e.uptime,trustType:"VERIFIED"})]})]}),(0,Tt.jsx)(Zn,{notes:["Signal strength measured in dBm (higher is better)","Client list refreshes every 30 seconds","Bandwidth calculated from interface statistics"]}),(0,Tt.jsx)(Yn,{data:e,title:"Hotspot Status JSON"})]})}),(0,Tt.jsx)(Gn,{source:"OMEGA Network Manager",endpoint:"/api/cgi-bin/hotspot",lastUpdated:Date.now(),trustType:"VERIFIED",status:e.available?"INDEXED":"PLANNED",refreshInterval:"30 seconds"})]})]})}function RB(e){let{data:t,onClose:n}=e;const r=e=>JSON.stringify(e,null,2),a=e=>{var n;return null!==(n=t[e])&&void 0!==n&&n.timestamp?new Date(t[e].timestamp).toLocaleTimeString():"N/A"};return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:n,children:(0,Tt.jsxs)(Iz,{className:"glass-strong border-border max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,Tt.jsx)(Rz,{className:"border-b border-border",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)(Lz,{className:"flex items-center gap-2",children:[(0,Tt.jsx)(ln.A,{className:"w-5 h-5 text-primary"}),"System Diagnostics"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:n,className:"hover:bg-muted",children:(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"})})]})}),(0,Tt.jsxs)(zz,{className:"flex-1 overflow-y-auto scrollbar-thin p-6 space-y-6",children:[(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"Health Status"}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Last: ",a("health")]})]}),(0,Tt.jsx)("pre",{className:"glass p-4 rounded-lg text-xs font-mono text-foreground overflow-x-auto",children:t.health?r(t.health):"No data available"})]}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"System Metrics"}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Last: ",a("metrics")]})]}),(0,Tt.jsx)("pre",{className:"glass p-4 rounded-lg text-xs font-mono text-foreground overflow-x-auto",children:t.metrics?r(t.metrics):"No data available"})]}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"GPS Data"}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Last: ",a("gps")]})]}),(0,Tt.jsx)("pre",{className:"glass p-4 rounded-lg text-xs font-mono text-foreground overflow-x-auto",children:t.gps?r(t.gps):"No data available"})]}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"Configuration"}),(0,Tt.jsxs)("div",{className:"glass p-4 rounded-lg space-y-1",children:[(0,Tt.jsxs)("div",{className:"text-xs",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Kiwix:"})," ",(0,Tt.jsx)("span",{className:"font-mono text-foreground",children:"http://127.0.0.1:8090"})]}),(0,Tt.jsxs)("div",{className:"text-xs",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Backend:"})," ",(0,Tt.jsx)("span",{className:"font-mono text-foreground",children:"http://127.0.0.1:8093"})]}),(0,Tt.jsxs)("div",{className:"text-xs",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Polling Interval:"})," ",(0,Tt.jsx)("span",{className:"font-mono text-foreground",children:"5s (metrics), 3s (gps)"})]})]})]})]})]})})}DB.displayName=MB.displayName;const LB=(0,It.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),zB=(0,It.A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),FB=(0,It.A)("mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),BB=(0,It.A)("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),UB=(0,It.A)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),WB=(0,It.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),HB=(0,It.A)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);function qB(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function KB(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function VB(e,t){return e.get(KB(e,t))}function GB(e,t,n){return e.set(KB(e,t),n),n}const $B=["children"],YB=["children"];function ZB(e){const n=QB(e),r=t.forwardRef((e,r)=>{const{children:i}=e,l=(0,a.A)(e,$B),o=t.Children.toArray(i),c=o.find(eU);if(c){const e=c.props.children,a=o.map(n=>n===c?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:n);return(0,Tt.jsx)(n,(0,s.A)((0,s.A)({},l),{},{ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,Tt.jsx)(n,(0,s.A)((0,s.A)({},l),{},{ref:r,children:i}))});return r.displayName="".concat(e,".Slot"),r}function QB(e){const n=t.forwardRef((e,n)=>{const{children:r}=e,i=(0,a.A)(e,YB);if(t.isValidElement(r)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),a=function(e,t){const n=(0,s.A)({},t);for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=function(){const e=i(...arguments);return a(...arguments),e}:a&&(n[r]=a):"style"===r?n[r]=(0,s.A)((0,s.A)({},a),i):"className"===r&&(n[r]=[a,i].filter(Boolean).join(" "))}return(0,s.A)((0,s.A)({},e),n)}(i,r.props);return r.type!==t.Fragment&&(a.ref=n?(0,_T.t)(n,e):e),t.cloneElement(r,a)}return t.Children.count(r)>1?t.Children.only(null):null});return n.displayName="".concat(e,".SlotClone"),n}var JB=Symbol("radix.slottable");var XB;function eU(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===JB}const tU=["scope","children"];var nU=new WeakMap;XB=new WeakMap,Map;function rU(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=aU(t),a=r>=0?r:n+r;return a<0||a>=n?-1:a}(e,t);return-1===n?void 0:e[n]}function aU(e){return e!==e||0===e?0:Math.trunc(e)}const sU=["__scopeCollapsible","open","defaultOpen","disabled","onOpenChange"],iU=["__scopeCollapsible"],lU=["forceMount"],oU=["__scopeCollapsible","present","children"];var cU="Collapsible",[dU,uU]=ET(cU),[mU,hU]=dU(cU),pU=t.forwardRef((e,n)=>{const{__scopeCollapsible:r,open:i,defaultOpen:l,disabled:o,onOpenChange:c}=e,d=(0,a.A)(e,sU),[u,m]=RT({prop:i,defaultProp:null!==l&&void 0!==l&&l,onChange:c,caller:cU});return(0,Tt.jsx)(mU,{scope:r,disabled:o,contentId:DT(),open:u,onOpenToggle:t.useCallback(()=>m(e=>!e),[m]),children:(0,Tt.jsx)(qT.div,(0,s.A)((0,s.A)({"data-state":yU(u),"data-disabled":o?"":void 0},d),{},{ref:n}))})});pU.displayName=cU;var fU="CollapsibleTrigger",xU=t.forwardRef((e,t)=>{const{__scopeCollapsible:n}=e,r=(0,a.A)(e,iU),i=hU(fU,n);return(0,Tt.jsx)(qT.button,(0,s.A)((0,s.A)({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":yU(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},r),{},{ref:t,onClick:AT(e.onClick,i.onOpenToggle)}))});xU.displayName=fU;var gU="CollapsibleContent",vU=t.forwardRef((e,t)=>{const{forceMount:n}=e,r=(0,a.A)(e,lU),i=hU(gU,e.__scopeCollapsible);return(0,Tt.jsx)(fD,{present:n||i.open,children:e=>{let{present:n}=e;return(0,Tt.jsx)(bU,(0,s.A)((0,s.A)({},r),{},{ref:t,present:n}))}})});vU.displayName=gU;var bU=t.forwardRef((e,n)=>{const{__scopeCollapsible:r,present:i,children:l}=e,o=(0,a.A)(e,oU),c=hU(gU,r),[d,u]=t.useState(i),m=t.useRef(null),h=(0,_T.s)(n,m),p=t.useRef(0),f=p.current,x=t.useRef(0),g=x.current,v=c.open||d,b=t.useRef(v),y=t.useRef(void 0);return t.useEffect(()=>{const e=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(e)},[]),MT(()=>{const e=m.current;if(e){y.current=y.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();p.current=t.height,x.current=t.width,b.current||(e.style.transitionDuration=y.current.transitionDuration,e.style.animationName=y.current.animationName),u(i)}},[c.open,i]),(0,Tt.jsx)(qT.div,(0,s.A)((0,s.A)({"data-state":yU(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!v},o),{},{ref:h,style:(0,s.A)({"--radix-collapsible-content-height":f?"".concat(f,"px"):void 0,"--radix-collapsible-content-width":g?"".concat(g,"px"):void 0},e.style),children:v&&l}))});function yU(e){return e?"open":"closed"}var jU=pU,wU=xU,NU=vU,kU=t.createContext(void 0);const AU=["type"],_U=["value","defaultValue","onValueChange","collapsible"],CU=["value","defaultValue","onValueChange"],SU=["__scopeAccordion","disabled","dir","orientation"],EU=["__scopeAccordion","value"],OU=["__scopeAccordion"],MU=["__scopeAccordion"],PU=["__scopeAccordion"];var TU="Accordion",DU=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[IU,RU,LU]=function(e){const n=e+"CollectionProvider",[r,i]=ET(n),[l,o]=r(n,{collectionRef:{current:null},itemMap:new Map}),c=e=>{const{scope:n,children:r}=e,a=t.useRef(null),s=t.useRef(new Map).current;return(0,Tt.jsx)(l,{scope:n,itemMap:s,collectionRef:a,children:r})};c.displayName=n;const d=e+"CollectionSlot",u=ZB(d),m=t.forwardRef((e,t)=>{const{scope:n,children:r}=e,a=o(d,n),s=(0,_T.s)(t,a.collectionRef);return(0,Tt.jsx)(u,{ref:s,children:r})});m.displayName=d;const h=e+"CollectionItemSlot",p="data-radix-collection-item",f=ZB(h),x=t.forwardRef((e,n)=>{const{scope:r,children:i}=e,l=(0,a.A)(e,tU),c=t.useRef(null),d=(0,_T.s)(n,c),u=o(h,r);return t.useEffect(()=>(u.itemMap.set(c,(0,s.A)({ref:c},l)),()=>{u.itemMap.delete(c)})),(0,Tt.jsx)(f,(0,s.A)((0,s.A)({},{[p]:""}),{},{ref:d,children:i}))});return x.displayName=h,[{Provider:c,Slot:m,ItemSlot:x},function(n){const r=o(e+"CollectionConsumer",n),a=t.useCallback(()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(p,"]"))),n=Array.from(r.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current));return n},[r.collectionRef,r.itemMap]);return a},i]}(TU),[zU,FU]=ET(TU,[LU,uU]),BU=uU(),UU=t.forwardRef((e,t)=>{const{type:n}=e,r=(0,a.A)(e,AU),i=r,l=r;return(0,Tt.jsx)(IU.Provider,{scope:e.__scopeAccordion,children:"multiple"===n?(0,Tt.jsx)(GU,(0,s.A)((0,s.A)({},l),{},{ref:t})):(0,Tt.jsx)(VU,(0,s.A)((0,s.A)({},i),{},{ref:t}))})});UU.displayName=TU;var[WU,HU]=zU(TU),[qU,KU]=zU(TU,{collapsible:!1}),VU=t.forwardRef((e,n)=>{const{value:r,defaultValue:i,onValueChange:l=()=>{},collapsible:o=!1}=e,c=(0,a.A)(e,_U),[d,u]=RT({prop:r,defaultProp:null!==i&&void 0!==i?i:"",onChange:l,caller:TU});return(0,Tt.jsx)(WU,{scope:e.__scopeAccordion,value:t.useMemo(()=>d?[d]:[],[d]),onItemOpen:u,onItemClose:t.useCallback(()=>o&&u(""),[o,u]),children:(0,Tt.jsx)(qU,{scope:e.__scopeAccordion,collapsible:o,children:(0,Tt.jsx)(ZU,(0,s.A)((0,s.A)({},c),{},{ref:n}))})})}),GU=t.forwardRef((e,n)=>{const{value:r,defaultValue:i,onValueChange:l=()=>{}}=e,o=(0,a.A)(e,CU),[c,d]=RT({prop:r,defaultProp:null!==i&&void 0!==i?i:[],onChange:l,caller:TU}),u=t.useCallback(e=>d(function(){return[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e]}),[d]),m=t.useCallback(e=>d(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(t=>t!==e)}),[d]);return(0,Tt.jsx)(WU,{scope:e.__scopeAccordion,value:c,onItemOpen:u,onItemClose:m,children:(0,Tt.jsx)(qU,{scope:e.__scopeAccordion,collapsible:!0,children:(0,Tt.jsx)(ZU,(0,s.A)((0,s.A)({},o),{},{ref:n}))})})}),[$U,YU]=zU(TU),ZU=t.forwardRef((e,n)=>{const{__scopeAccordion:r,disabled:i,dir:l,orientation:o="vertical"}=e,c=(0,a.A)(e,SU),d=t.useRef(null),u=(0,_T.s)(d,n),m=RU(r),h="ltr"===function(e){const n=t.useContext(kU);return e||n||"ltr"}(l),p=AT(e.onKeyDown,e=>{var t;if(!DU.includes(e.key))return;const n=e.target,r=m().filter(e=>{var t;return!(null!==(t=e.ref.current)&&void 0!==t&&t.disabled)}),a=r.findIndex(e=>e.ref.current===n),s=r.length;if(-1===a)return;e.preventDefault();let i=a;const l=s-1,c=()=>{i=a+1,i>l&&(i=0)},d=()=>{i=a-1,i<0&&(i=l)};switch(e.key){case"Home":i=0;break;case"End":i=l;break;case"ArrowRight":"horizontal"===o&&(h?c():d());break;case"ArrowDown":"vertical"===o&&c();break;case"ArrowLeft":"horizontal"===o&&(h?d():c());break;case"ArrowUp":"vertical"===o&&d()}null===(t=r[i%s].ref.current)||void 0===t||t.focus()});return(0,Tt.jsx)($U,{scope:r,disabled:i,direction:l,orientation:o,children:(0,Tt.jsx)(IU.Slot,{scope:r,children:(0,Tt.jsx)(qT.div,(0,s.A)((0,s.A)({},c),{},{"data-orientation":o,ref:u,onKeyDown:i?void 0:p}))})})}),QU="AccordionItem",[JU,XU]=zU(QU),eW=t.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r}=e,i=(0,a.A)(e,EU),l=YU(QU,n),o=HU(QU,n),c=BU(n),d=DT(),u=r&&o.value.includes(r)||!1,m=l.disabled||e.disabled;return(0,Tt.jsx)(JU,{scope:n,open:u,disabled:m,triggerId:d,children:(0,Tt.jsx)(jU,(0,s.A)((0,s.A)((0,s.A)({"data-orientation":l.orientation,"data-state":lW(u)},c),i),{},{ref:t,disabled:m,open:u,onOpenChange:e=>{e?o.onItemOpen(r):o.onItemClose(r)}}))})});eW.displayName=QU;var tW="AccordionHeader",nW=t.forwardRef((e,t)=>{const{__scopeAccordion:n}=e,r=(0,a.A)(e,OU),i=YU(TU,n),l=XU(tW,n);return(0,Tt.jsx)(qT.h3,(0,s.A)((0,s.A)({"data-orientation":i.orientation,"data-state":lW(l.open),"data-disabled":l.disabled?"":void 0},r),{},{ref:t}))});nW.displayName=tW;var rW="AccordionTrigger",aW=t.forwardRef((e,t)=>{const{__scopeAccordion:n}=e,r=(0,a.A)(e,MU),i=YU(TU,n),l=XU(rW,n),o=KU(rW,n),c=BU(n);return(0,Tt.jsx)(IU.ItemSlot,{scope:n,children:(0,Tt.jsx)(wU,(0,s.A)((0,s.A)((0,s.A)({"aria-disabled":l.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:l.triggerId},c),r),{},{ref:t}))})});aW.displayName=rW;var sW="AccordionContent",iW=t.forwardRef((e,t)=>{const{__scopeAccordion:n}=e,r=(0,a.A)(e,PU),i=YU(TU,n),l=XU(sW,n),o=BU(n);return(0,Tt.jsx)(NU,(0,s.A)((0,s.A)((0,s.A)({role:"region","aria-labelledby":l.triggerId,"data-orientation":i.orientation},o),r),{},{ref:t,style:(0,s.A)({"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)"},e.style)}))});function lW(e){return e?"open":"closed"}iW.displayName=sW;var oW=eW,cW=nW,dW=aW,uW=iW;const mW=["className"],hW=["className","children"],pW=["className","children"],fW=UU,xW=t.forwardRef((e,t)=>{let{className:n}=e,r=(0,a.A)(e,mW);return(0,Tt.jsx)(oW,(0,s.A)({ref:t,className:(0,vn.cn)("border-b",n)},r))});xW.displayName="AccordionItem";const gW=t.forwardRef((e,t)=>{let{className:n,children:r}=e,i=(0,a.A)(e,hW);return(0,Tt.jsx)(cW,{className:"flex",children:(0,Tt.jsxs)(dW,(0,s.A)((0,s.A)({ref:t,className:(0,vn.cn)("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",n)},i),{},{children:[r,(0,Tt.jsx)(On.A,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]}))})});gW.displayName=dW.displayName;const vW=t.forwardRef((e,t)=>{let{className:n,children:r}=e,i=(0,a.A)(e,pW);return(0,Tt.jsx)(uW,(0,s.A)((0,s.A)({ref:t,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"},i),{},{children:(0,Tt.jsx)("div",{className:(0,vn.cn)("pb-4 pt-0",n),children:r})}))});vW.displayName=uW.displayName;const bW=(0,It.A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),yW=e=>{let{number:t,children:n}=e;return(0,Tt.jsxs)("div",{className:"flex items-start gap-2 mb-1.5",children:[(0,Tt.jsx)("span",{className:"w-5 h-5 rounded-full bg-primary/20 text-primary text-xs font-bold flex items-center justify-center flex-shrink-0",children:t}),(0,Tt.jsx)("span",{className:"text-xs",children:n})]})},jW=e=>{let{children:t}=e;return(0,Tt.jsxs)("div",{className:"flex items-start gap-2 mb-1",children:[(0,Tt.jsx)(bW,{className:"w-3 h-3 text-success flex-shrink-0 mt-0.5"}),(0,Tt.jsx)("span",{className:"text-xs",children:t})]})},wW=e=>{let{children:t}=e;return(0,Tt.jsxs)("div",{className:"flex items-start gap-2 mb-1",children:[(0,Tt.jsx)(Gt.A,{className:"w-3 h-3 text-warning flex-shrink-0 mt-0.5"}),(0,Tt.jsx)("span",{className:"text-xs",children:t})]})},NW=e=>{let{color:t,label:n,meaning:r,action:a}=e;return(0,Tt.jsxs)("div",{className:"flex items-start gap-2 p-2 glass rounded-lg",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(t," flex-shrink-0 mt-0.5")}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("div",{className:"text-xs font-medium",children:n}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:r}),a&&(0,Tt.jsxs)("div",{className:"text-xs text-primary mt-0.5",children:["\u2192 ",a]})]})]})};function kW(e){let{whatItDoes:t,quickStart:n,controls:r,bestPractices:a}=e;return(0,Tt.jsxs)("div",{className:"space-y-4","data-testid":"help-tab-content",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)(Rn.A,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:"What This Does"})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:t})]}),n&&n.length>0&&(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)(cr,{className:"w-4 h-4 text-success"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:"Quick Start"})]}),(0,Tt.jsx)("div",{className:"text-muted-foreground",children:n.map((e,t)=>(0,Tt.jsx)(yW,{number:t+1,children:e},t))})]}),r&&r.length>0&&(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)(dr,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:"Controls & Indicators"})]}),(0,Tt.jsx)("div",{className:"space-y-2",children:r.map((e,t)=>(0,Tt.jsxs)("div",{className:"text-xs",children:[(0,Tt.jsxs)("span",{className:"font-medium text-foreground",children:[e.name,":"]}),(0,Tt.jsx)("span",{className:"text-muted-foreground ml-1",children:e.description}),e.states&&(0,Tt.jsx)("div",{className:"ml-4 mt-1 space-y-0.5",children:e.states.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.color)}),(0,Tt.jsxs)("span",{className:"text-muted-foreground",children:[e.label,": ",e.meaning]})]},t))})]},t))})]}),a&&a.length>0&&(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)(wr,{className:"w-4 h-4 text-warning"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:"Best Practices"})]}),(0,Tt.jsx)("div",{className:"text-muted-foreground",children:a.map((e,t)=>(0,Tt.jsx)(jW,{children:e},t))})]})]})}function AW(e){let{issues:t,safetyNotes:n}=e;return(0,Tt.jsxs)("div",{className:"space-y-4","data-testid":"troubleshooting-tab-content",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)(oT,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:"Common Issues & Fixes"})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"Click an issue to see causes and step-by-step fixes."}),(0,Tt.jsx)(fW,{type:"multiple",className:"space-y-2",children:t.map((e,t)=>(0,Tt.jsxs)(xW,{value:"issue-".concat(t),className:"glass rounded-lg border-0",children:[(0,Tt.jsx)(gW,{className:"px-3 py-2 hover:no-underline text-sm",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 text-warning"}),(0,Tt.jsx)("span",{children:e.symptom})]})}),(0,Tt.jsx)(vW,{className:"px-3 pb-3",children:(0,Tt.jsxs)("div",{className:"space-y-3 text-xs text-muted-foreground",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"font-medium text-foreground",children:"Likely causes:"}),(0,Tt.jsx)("ul",{className:"mt-1 space-y-0.5 pl-2",children:e.causes.map((e,t)=>(0,Tt.jsxs)("li",{children:["\u2022 ",e]},t))})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"font-medium text-foreground",children:"Fix steps:"}),(0,Tt.jsx)("ol",{className:"mt-1 space-y-1",children:e.fixes.map((e,t)=>(0,Tt.jsx)(yW,{number:t+1,children:e},t))})]}),e.fallback&&(0,Tt.jsxs)("div",{className:"pt-2 border-t border-border/50",children:[(0,Tt.jsx)("span",{className:"font-medium text-warning",children:"If all else fails:"}),(0,Tt.jsx)("p",{className:"mt-1",children:e.fallback})]})]})})]},t))})]}),n&&n.length>0&&(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 border border-warning/30",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)(Wt.A,{className:"w-4 h-4 text-warning"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:"Safety & Data Notes"})]}),(0,Tt.jsx)("div",{className:"text-muted-foreground",children:n.map((e,t)=>(0,Tt.jsx)(wW,{children:e},t))})]})]})}function _W(e){let{items:t,title:n="Status Legend"}=e;return(0,Tt.jsxs)("div",{className:"space-y-2","data-testid":"legend-content",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(dr,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:n})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.map((e,t)=>(0,Tt.jsx)(NW,(0,s.A)({},e),t))})]})}function CW(e){let{helpContent:n,troubleshootingContent:r,legendItems:a,defaultTab:i="help"}=e;const[l,o]=(0,t.useState)(i);return(0,Tt.jsxs)("div",{"data-testid":"tile-help-tabs",children:[(0,Tt.jsxs)("div",{className:"flex gap-1 glass rounded-lg p-1 mb-4",children:[(0,Tt.jsxs)("button",{onClick:()=>o("help"),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-md text-sm font-medium transition-all ".concat("help"===l?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-secondary/50"),"data-testid":"tile-tab-help",children:[(0,Tt.jsx)(an.A,{className:"w-4 h-4"}),"Help"]}),(0,Tt.jsxs)("button",{onClick:()=>o("troubleshoot"),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-md text-sm font-medium transition-all ".concat("troubleshoot"===l?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-secondary/50"),"data-testid":"tile-tab-troubleshoot",children:[(0,Tt.jsx)(oT,{className:"w-4 h-4"}),"Troubleshoot"]}),a&&(0,Tt.jsxs)("button",{onClick:()=>o("legend"),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-md text-sm font-medium transition-all ".concat("legend"===l?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-secondary/50"),"data-testid":"tile-tab-legend",children:[(0,Tt.jsx)(dr,{className:"w-4 h-4"}),"Legend"]})]}),"help"===l&&n&&(0,Tt.jsx)(kW,(0,s.A)({},n)),"troubleshoot"===l&&r&&(0,Tt.jsx)(AW,(0,s.A)({},r)),"legend"===l&&a&&(0,Tt.jsx)(_W,{items:a})]})}function SW(e){let{tips:n,title:r="Quick Tips"}=e;const[a,s]=(0,t.useState)(!1);return n&&0!==n.length?(0,Tt.jsxs)("div",{className:"glass rounded-lg p-2 mb-3","data-testid":"quick-help-tips",children:[(0,Tt.jsxs)("button",{onClick:()=>s(!a),className:"w-full flex items-center justify-between text-xs",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)(wr,{className:"w-3.5 h-3.5 text-warning"}),(0,Tt.jsx)("span",{className:"font-medium text-muted-foreground",children:r})]}),(0,Tt.jsx)(Pn,{className:"w-3.5 h-3.5 text-muted-foreground transition-transform ".concat(a?"rotate-90":"")})]}),a&&(0,Tt.jsx)("div",{className:"mt-2 pt-2 border-t border-border/50 space-y-1 animate-fade-in",children:n.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-start gap-2 text-xs text-muted-foreground",children:[(0,Tt.jsx)("span",{className:"text-primary font-bold",children:"\u2022"}),(0,Tt.jsx)("span",{children:e})]},t))})]}):null}const EW={whatItDoes:"Record video diaries, capture photos, and create voice memos. All media is stored locally with timestamps and optional metric overlays for documentation.",quickStart:["Tap a capture mode (Diary, Photo, Video, Voice)","Configure overlay options before recording","Tap record/capture to activate camera","Review media with timestamps in gallery","Tag people to organize your media"],controls:[{name:"Capture Button",description:"Activates camera and starts capture"},{name:"Overlay Options",description:"Add date, time, location, metrics to media"},{name:"Tag Person",description:"Associate media with a person"}],bestPractices:["Keep daily diary entries brief (1-3 minutes)","Enable all overlays for documentation purposes","Use voice memos for quick notes hands-free","Review storage periodically to manage space"]},OW={issues:[{symptom:"Camera not activating",causes:["Device not connected to Pi","Camera service not running","Camera hardware issue"],fixes:["Verify Pi connection status","Check backend services in Health tile","Reconnect USB camera if external"],fallback:"Use voice memos as alternative until camera is restored"},{symptom:"Recording stops unexpectedly",causes:["Low storage space","Device overheating","Battery critically low"],fixes:["Check available storage in Device Info","Let device cool down","Connect to power source"]},{symptom:"Audio not recording",causes:["Microphone disabled","Audio permissions not granted","Hardware issue"],fixes:["Check microphone settings","Grant audio permissions in system settings","Test with voice memo to isolate issue"]}],safetyNotes:["Recordings are stored locally - not automatically backed up","Large video files may fill storage quickly","Delete unwanted recordings to free space"]},MW=[{color:"bg-destructive",label:"Recording",meaning:"Currently recording video/audio",action:"Tap stop to end"},{color:"bg-primary",label:"Ready",meaning:"Ready to capture",action:"Tap to start"},{color:"bg-success",label:"Saved",meaning:"Media saved successfully"},{color:"bg-muted-foreground",label:"Offline",meaning:"Camera not connected"}],PW=["Camera activates only when you tap capture","Enable overlays to document date, time, location & metrics","All media includes automatic timestamps"],TW=[{id:1,type:"video",name:"Daily Diary",timestamp:new Date(Date.now()-864e5),duration:"2:34",hasOverlay:!0,person:"John"},{id:2,type:"photo",name:"Camp Setup",timestamp:new Date(Date.now()-1728e5),hasOverlay:!0,person:null},{id:3,type:"video",name:"Perimeter Check",timestamp:new Date(Date.now()-2592e5),duration:"1:15",hasOverlay:!1,person:"Sarah"},{id:4,type:"voice",name:"Supply Notes",timestamp:new Date(Date.now()-3456e5),duration:"0:45",hasOverlay:!1,person:null}],DW=e=>{let{options:t,onChange:n}=e;const r=e=>{n((0,s.A)((0,s.A)({},t),{},{[e]:!t[e]}))},a={temperature:"72\xb0F",humidity:"45%",battery:"72%",location:"34.0522\xb0N, 118.2437\xb0W",pressure:"1013 hPa",signal:"Strong"};return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 space-y-3","data-testid":"overlay-options",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h4",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide",children:"Data Overlay Options"}),(0,Tt.jsxs)("span",{className:"text-[10px] text-muted-foreground",children:[Object.values(t).filter(Boolean).length," selected"]})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Select data to overlay on your recording or photo"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsxs)("button",{onClick:()=>r("date"),className:"flex items-center gap-2 p-2.5 rounded-lg text-left transition-all ".concat(t.date?"bg-primary/20 ring-1 ring-primary":"glass hover:bg-secondary/50"),children:[(0,Tt.jsx)(LB,{className:"w-4 h-4 ".concat(t.date?"text-primary":"text-muted-foreground")}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("div",{className:"text-xs font-medium",children:"Date"}),(0,Tt.jsx)("div",{className:"text-[10px] text-muted-foreground truncate",children:(new Date).toLocaleDateString()})]}),t.date&&(0,Tt.jsx)(WL,{className:"w-3 h-3 text-primary"})]}),(0,Tt.jsxs)("button",{onClick:()=>r("time"),className:"flex items-center gap-2 p-2.5 rounded-lg text-left transition-all ".concat(t.time?"bg-primary/20 ring-1 ring-primary":"glass hover:bg-secondary/50"),children:[(0,Tt.jsx)(en.A,{className:"w-4 h-4 ".concat(t.time?"text-primary":"text-muted-foreground")}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("div",{className:"text-xs font-medium",children:"Time"}),(0,Tt.jsx)("div",{className:"text-[10px] text-muted-foreground truncate",children:(new Date).toLocaleTimeString()})]}),t.time&&(0,Tt.jsx)(WL,{className:"w-3 h-3 text-primary"})]}),(0,Tt.jsxs)("button",{onClick:()=>r("location"),className:"flex items-center gap-2 p-2.5 rounded-lg text-left transition-all ".concat(t.location?"bg-success/20 ring-1 ring-success":"glass hover:bg-secondary/50"),children:[(0,Tt.jsx)(mr.A,{className:"w-4 h-4 ".concat(t.location?"text-success":"text-muted-foreground")}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("div",{className:"text-xs font-medium",children:"Location"}),(0,Tt.jsx)("div",{className:"text-[10px] text-muted-foreground truncate",children:a.location})]}),t.location&&(0,Tt.jsx)(WL,{className:"w-3 h-3 text-success"})]}),(0,Tt.jsxs)("button",{onClick:()=>r("temperature"),className:"flex items-center gap-2 p-2.5 rounded-lg text-left transition-all ".concat(t.temperature?"bg-red-500/20 ring-1 ring-red-500":"glass hover:bg-secondary/50"),children:[(0,Tt.jsx)(hr,{className:"w-4 h-4 ".concat(t.temperature?"text-red-400":"text-muted-foreground")}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("div",{className:"text-xs font-medium",children:"Temp"}),(0,Tt.jsx)("div",{className:"text-[10px] text-muted-foreground",children:a.temperature})]}),t.temperature&&(0,Tt.jsx)(WL,{className:"w-3 h-3 text-red-400"})]}),(0,Tt.jsxs)("button",{onClick:()=>r("battery"),className:"flex items-center gap-2 p-2.5 rounded-lg text-left transition-all ".concat(t.battery?"bg-warning/20 ring-1 ring-warning":"glass hover:bg-secondary/50"),children:[(0,Tt.jsx)(pr,{className:"w-4 h-4 ".concat(t.battery?"text-warning":"text-muted-foreground")}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("div",{className:"text-xs font-medium",children:"Battery"}),(0,Tt.jsx)("div",{className:"text-[10px] text-muted-foreground",children:a.battery})]}),t.battery&&(0,Tt.jsx)(WL,{className:"w-3 h-3 text-warning"})]}),(0,Tt.jsxs)("button",{onClick:()=>r("allMetrics"),className:"flex items-center gap-2 p-2.5 rounded-lg text-left transition-all ".concat(t.allMetrics?"bg-cyan-500/20 ring-1 ring-cyan-500":"glass hover:bg-secondary/50"),children:[(0,Tt.jsx)(ln.A,{className:"w-4 h-4 ".concat(t.allMetrics?"text-cyan-400":"text-muted-foreground")}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("div",{className:"text-xs font-medium",children:"All Metrics"}),(0,Tt.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"Full sensor data"})]}),t.allMetrics&&(0,Tt.jsx)(WL,{className:"w-3 h-3 text-cyan-400"})]})]}),(0,Tt.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,Tt.jsx)(gn.$,{size:"sm",variant:"outline",className:"flex-1 text-xs h-8",onClick:()=>n({date:!0,time:!0,location:!0,temperature:!0,battery:!0,allMetrics:!0}),children:"Select All"}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"outline",className:"flex-1 text-xs h-8",onClick:()=>n({date:!1,time:!1,location:!1,temperature:!1,battery:!1,allMetrics:!1}),children:"Clear All"})]})]})},IW=e=>{let{item:t,viewMode:n}=e;const r="video"===t.type?zB:"photo"===t.type?YR:FB,a="video"===t.type?"text-primary":"photo"===t.type?"text-success":"text-cyan-400",s="video"===t.type?"bg-primary/20":"photo"===t.type?"bg-success/20":"bg-cyan-500/20";return"grid"===n?(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3 hover:bg-secondary/50 transition-all cursor-pointer group","data-testid":"media-item-".concat(t.id),children:[(0,Tt.jsxs)("div",{className:"aspect-square rounded-lg ".concat(s," flex items-center justify-center mb-2 relative overflow-hidden"),children:[(0,Tt.jsx)(r,{className:"w-8 h-8 ".concat(a," opacity-50")}),t.duration&&(0,Tt.jsx)("span",{className:"absolute bottom-1 right-1 text-[10px] bg-black/70 text-white px-1 rounded",children:t.duration}),t.hasOverlay&&(0,Tt.jsx)("span",{className:"absolute top-1 left-1 text-[10px] bg-primary/80 text-white px-1 rounded",children:"DATA"}),(0,Tt.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all flex items-center justify-center",children:(0,Tt.jsx)(kn,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),(0,Tt.jsx)("p",{className:"text-xs font-medium truncate",children:t.name}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:t.timestamp.toLocaleDateString()})]}):(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 flex items-center gap-3 hover:bg-secondary/50 transition-all cursor-pointer","data-testid":"media-item-".concat(t.id),children:[(0,Tt.jsxs)("div",{className:"w-12 h-12 rounded-lg ".concat(s," flex items-center justify-center flex-shrink-0 relative"),children:[(0,Tt.jsx)(r,{className:"w-6 h-6 ".concat(a)}),t.hasOverlay&&(0,Tt.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:(0,Tt.jsx)(ln.A,{className:"w-2.5 h-2.5 text-white"})})]}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("p",{className:"text-sm font-medium truncate",children:t.name}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[(0,Tt.jsx)("span",{children:t.timestamp.toLocaleDateString()}),(0,Tt.jsx)("span",{children:t.timestamp.toLocaleTimeString()}),t.duration&&(0,Tt.jsxs)("span",{children:["\u2022 ",t.duration]})]}),t.person&&(0,Tt.jsxs)("span",{className:"text-[10px] text-primary",children:["Tagged: ",t.person]})]}),(0,Tt.jsx)(Pn,{className:"w-4 h-4 text-muted-foreground"})]})},RW=e=>{let{mode:n,onBack:r,overlayOptions:a,setOverlayOptions:s}=e;const[i,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(0),m={diary:{title:"Daily Diary",icon:zB,color:"primary",description:"Record video diary with optional data overlays"},photo:{title:"Photo Capture",icon:YR,color:"success",description:"Take photos with timestamp and data overlays"},video:{title:"Video Recording",icon:zB,color:"warning",description:"Record videos with optional overlays"},voice:{title:"Voice Memo",icon:FB,color:"cyan-500",description:"Record audio notes with timestamps"}}[n],h=m.icon,p="diary"===n||"video"===n,f="voice"===n;t.useEffect(()=>{let e;return i&&(p||f)&&(e=setInterval(()=>{u(e=>e+1)},1e3)),()=>clearInterval(e)},[i,p,f]);const x=()=>Object.values(a).filter(Boolean).length;return(0,Tt.jsxs)("div",{className:"space-y-4","data-testid":"".concat(n,"-capture-view"),children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:r,children:"\u2190 Back"}),(0,Tt.jsx)("h3",{className:"text-sm font-semibold",children:m.title}),(0,Tt.jsx)("div",{className:"w-16"})]}),o?(0,Tt.jsxs)("div",{className:"glass rounded-xl aspect-video flex items-center justify-center relative overflow-hidden border-2 border-primary/50",children:[(0,Tt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800 to-slate-900 flex items-center justify-center",children:(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)(h,{className:"w-16 h-16 mx-auto mb-3 text-white/30"}),(0,Tt.jsx)("p",{className:"text-white/50 text-sm",children:"Camera Preview"}),(0,Tt.jsx)("p",{className:"text-white/30 text-xs",children:"Connect to Pi for live feed"})]})}),i&&(0,Tt.jsxs)("div",{className:"absolute top-3 left-3 flex items-center gap-2 bg-destructive text-white px-2.5 py-1 rounded-full text-xs font-bold",children:[(0,Tt.jsx)(Bz,{className:"w-2.5 h-2.5 fill-current animate-pulse"}),"REC ",(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))})(d)]}),x()>0&&(0,Tt.jsxs)("div",{className:"absolute bottom-3 right-3 glass-strong px-3 py-2 rounded-lg text-[10px] font-mono space-y-0.5 max-w-[200px]",children:[a.date&&(0,Tt.jsx)("div",{className:"text-white/90",children:(new Date).toLocaleDateString()}),a.time&&(0,Tt.jsx)("div",{className:"text-white/90",children:(new Date).toLocaleTimeString()}),a.location&&(0,Tt.jsx)("div",{className:"text-green-400 truncate",children:"34.0522\xb0N, 118.2437\xb0W"}),a.temperature&&(0,Tt.jsx)("div",{className:"text-red-400",children:"72\xb0F | 45% RH"}),a.battery&&(0,Tt.jsx)("div",{className:"text-yellow-400",children:"Battery: 72%"}),a.allMetrics&&(0,Tt.jsx)("div",{className:"text-cyan-400",children:"1013 hPa | Good Signal"})]})]}):(0,Tt.jsx)("button",{onClick:()=>c(!0),className:"w-full glass rounded-xl aspect-video flex items-center justify-center relative overflow-hidden hover:bg-secondary/50 transition-all group border-2 border-dashed border-muted-foreground/30 hover:border-primary/50","data-testid":"activate-camera-btn",children:(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"w-20 h-20 mx-auto rounded-full bg-".concat(m.color,"/20 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform"),children:(0,Tt.jsx)(h,{className:"w-10 h-10 text-".concat(m.color)})}),(0,Tt.jsx)("p",{className:"text-sm font-semibold mb-1",children:"Tap to Activate Camera"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:m.description}),x()>0&&(0,Tt.jsxs)("div",{className:"flex items-center justify-center gap-1 mt-2 text-xs text-primary",children:[(0,Tt.jsx)(ln.A,{className:"w-3 h-3"}),x()," overlays enabled"]})]})}),o&&(0,Tt.jsx)("div",{className:"flex items-center justify-center gap-4",children:"photo"===n?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(gn.$,{size:"lg",variant:"outline",onClick:()=>c(!1),className:"h-14 px-6",children:"Cancel"}),(0,Tt.jsx)(gn.$,{size:"lg",onClick:()=>{c(!1)},className:"h-16 w-16 rounded-full bg-white hover:bg-white/90 shadow-lg","data-testid":"capture-photo-btn",children:(0,Tt.jsx)(BB,{className:"w-7 h-7 text-slate-900"})})]}):(0,Tt.jsx)(gn.$,{size:"lg",variant:i?"destructive":"default",onClick:()=>{i?(l(!1),c(!1),u(0)):(c(!0),"photo"!==n&&l(!0))},className:"h-16 w-16 rounded-full shadow-lg ".concat(i?"":"bg-".concat(m.color," hover:bg-").concat(m.color,"/90")),"data-testid":"capture-btn",children:i?(0,Tt.jsx)(UB,{className:"w-7 h-7"}):(0,Tt.jsx)(Bz,{className:"w-7 h-7 fill-current"})})}),(0,Tt.jsx)(DW,{options:a,onChange:s}),(0,Tt.jsx)("div",{className:"glass rounded-lg p-3",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(jn,{className:"w-4 h-4 text-muted-foreground"}),(0,Tt.jsx)("span",{className:"text-sm",children:"Tag person"})]}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"outline",className:"h-7 text-xs",children:"Select..."})]})})]})},LW=e=>{let{onBack:n}=e;const[r,a]=(0,t.useState)("list"),[s,i]=(0,t.useState)("all"),l=TW.filter(e=>"all"===s||("photos"===s?"photo"===e.type:"videos"===s?"video"===e.type:"voice"!==s||"voice"===e.type));return(0,Tt.jsxs)("div",{className:"space-y-4","data-testid":"gallery-view",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:n,children:"\u2190 Back"}),(0,Tt.jsx)("h3",{className:"text-sm font-semibold",children:"Media Gallery"}),(0,Tt.jsxs)("div",{className:"flex gap-1",children:[(0,Tt.jsx)(gn.$,{variant:"grid"===r?"secondary":"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>a("grid"),children:(0,Tt.jsx)(WB,{className:"w-4 h-4"})}),(0,Tt.jsx)(gn.$,{variant:"list"===r?"secondary":"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>a("list"),children:(0,Tt.jsx)(dr,{className:"w-4 h-4"})})]})]}),(0,Tt.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","photos","videos","voice"].map(e=>(0,Tt.jsxs)("button",{onClick:()=>i(e),className:"px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ".concat(s===e?"bg-primary text-white":"glass hover:bg-secondary/50"),children:["all"===e?"All":"photos"===e?"Photos":"videos"===e?"Videos":"Voice",(0,Tt.jsxs)("span",{className:"ml-1 opacity-70",children:["(","all"===e?TW.length:TW.filter(t=>t.type===("photos"===e?"photo":"videos"===e?"video":"voice")).length,")"]})]},e))}),l.length>0?(0,Tt.jsx)("div",{className:"grid"===r?"grid grid-cols-2 sm:grid-cols-3 gap-2":"space-y-2",children:l.map(e=>(0,Tt.jsx)(IW,{item:e,viewMode:r},e.id))}):(0,Tt.jsxs)("div",{className:"text-center py-12 glass rounded-lg",children:[(0,Tt.jsx)(HB,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground/50"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"No media found"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Storage used"}),(0,Tt.jsx)("span",{className:"font-medium",children:"2.4 GB / 32 GB"})]}),(0,Tt.jsx)("div",{className:"mt-2 h-2 rounded-full bg-secondary overflow-hidden",children:(0,Tt.jsx)("div",{className:"h-full bg-primary rounded-full",style:{width:"7.5%"}})})]})]})},zW=[{id:"diary",name:"Daily Diary",icon:zB,description:"Record video diaries with data overlays",color:"text-primary",bgColor:"bg-primary/10",gradient:"from-primary/20 to-primary/5"},{id:"photo",name:"Photo",icon:YR,description:"Capture photos with timestamps",color:"text-success",bgColor:"bg-success/10",gradient:"from-success/20 to-success/5"},{id:"video",name:"Video",icon:zB,description:"Record videos with overlays",color:"text-warning",bgColor:"bg-warning/10",gradient:"from-warning/20 to-warning/5"},{id:"voice",name:"Voice Memo",icon:FB,description:"Quick audio notes",color:"text-cyan-500",bgColor:"bg-cyan-500/10",gradient:"from-cyan-500/20 to-cyan-500/5"}],FW=e=>{let{mode:t,onSelect:n,overlayCount:r}=e;const a=t.icon;return(0,Tt.jsxs)("button",{onClick:()=>n(t.id),className:"glass rounded-xl p-4 text-left hover:bg-secondary/50 transition-all group relative overflow-hidden","data-testid":"camera-mode-".concat(t.id),children:[(0,Tt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(t.gradient," opacity-50")}),(0,Tt.jsxs)("div",{className:"relative z-10",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-xl ".concat(t.bgColor," flex items-center justify-center mb-3 group-hover:scale-110 transition-transform"),children:(0,Tt.jsx)(a,{className:"w-6 h-6 ".concat(t.color)})}),(0,Tt.jsx)("h3",{className:"text-sm font-bold mb-1",children:t.name}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:t.description}),r>0&&(0,Tt.jsxs)("div",{className:"flex items-center gap-1 mt-2 text-[10px] text-primary",children:[(0,Tt.jsx)(ln.A,{className:"w-3 h-3"}),r," overlays"]})]}),(0,Tt.jsx)(Pn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground group-hover:translate-x-1 transition-transform"})]})};function BW(){const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)({date:!0,time:!0,location:!1,temperature:!1,battery:!1,allMetrics:!1}),c=Object.values(l).filter(Boolean).length;return r?(0,Tt.jsxs)(Iz,{className:"glass-strong border-border-strong","data-testid":"camera-tile",children:[(0,Tt.jsx)(Rz,{className:"pb-3",children:(0,Tt.jsxs)(Lz,{className:"flex items-center justify-between text-base",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(BB,{className:"w-5 h-5 text-primary"}),"Camera Help"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>a(!1),children:"\u2190 Back"})]})}),(0,Tt.jsx)(zz,{children:(0,Tt.jsx)(CW,{helpContent:EW,troubleshootingContent:OW,legendItems:MW})})]}):s?(0,Tt.jsxs)(Iz,{className:"glass-strong border-border-strong","data-testid":"camera-tile",children:[(0,Tt.jsx)(Rz,{className:"pb-3",children:(0,Tt.jsxs)(Lz,{className:"flex items-center justify-between text-base",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(BB,{className:"w-5 h-5 text-primary"}),"Camera"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground",title:"Help & Troubleshooting","data-testid":"camera-help-btn",children:(0,Tt.jsx)(an.A,{className:"w-4 h-4"})})]})}),(0,Tt.jsx)(zz,{children:(0,Tt.jsx)(LW,{onBack:()=>i(!1)})})]}):e?(0,Tt.jsxs)(Iz,{className:"glass-strong border-border-strong","data-testid":"camera-tile",children:[(0,Tt.jsx)(Rz,{className:"pb-3",children:(0,Tt.jsxs)(Lz,{className:"flex items-center justify-between text-base",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(BB,{className:"w-5 h-5 text-primary"}),"Camera"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground",title:"Help & Troubleshooting","data-testid":"camera-help-btn",children:(0,Tt.jsx)(an.A,{className:"w-4 h-4"})})]})}),(0,Tt.jsx)(zz,{children:(0,Tt.jsx)(RW,{mode:e,onBack:()=>n(null),overlayOptions:l,setOverlayOptions:o})})]}):(0,Tt.jsxs)(Iz,{className:"glass-strong border-border-strong","data-testid":"camera-tile",children:[(0,Tt.jsx)(Rz,{className:"pb-3",children:(0,Tt.jsxs)(Lz,{className:"flex items-center justify-between text-base",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(BB,{className:"w-5 h-5 text-primary"}),"Camera"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground",title:"Help & Troubleshooting","data-testid":"camera-help-btn",children:(0,Tt.jsx)(an.A,{className:"w-4 h-4"})})]})}),(0,Tt.jsxs)(zz,{className:"space-y-4",children:[(0,Tt.jsx)(SW,{tips:PW}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 gap-3","data-testid":"camera-modes",children:zW.map(e=>(0,Tt.jsx)(FW,{mode:e,onSelect:n,overlayCount:c},e.id))}),(0,Tt.jsxs)(gn.$,{variant:"outline",className:"w-full gap-2",onClick:()=>i(!0),"data-testid":"open-gallery-btn",children:[(0,Tt.jsx)(HB,{className:"w-4 h-4"}),"View Gallery",(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground ml-auto",children:[TW.length," items"]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(ln.A,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"text-xs font-semibold",children:"Data Overlays"})]}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[c," active"]})]}),(0,Tt.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[l.date&&(0,Tt.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-primary/20 text-primary",children:"Date"}),l.time&&(0,Tt.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-primary/20 text-primary",children:"Time"}),l.location&&(0,Tt.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-success/20 text-success",children:"Location"}),l.temperature&&(0,Tt.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-red-500/20 text-red-400",children:"Temp"}),l.battery&&(0,Tt.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-warning/20 text-warning",children:"Battery"}),l.allMetrics&&(0,Tt.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-cyan-500/20 text-cyan-400",children:"All Metrics"}),0===c&&(0,Tt.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"No overlays enabled"})]})]})]})]})}const UW=(0,It.A)("fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]),WW=(0,It.A)("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),HW=(0,It.A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),qW=(0,It.A)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),KW=(0,It.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),VW=["Unknown","A+","A-","B+","B-","AB+","AB-","O+","O-"],GW={food:["Peanuts","Tree Nuts","Shellfish","Fish","Eggs","Milk/Dairy","Wheat/Gluten","Soy"],medication:["Penicillin","Sulfa Drugs","Aspirin","NSAIDs","Codeine","Morphine","Latex"],environment:["Bee Stings","Pollen","Dust","Mold","Pet Dander"]},$W=[{id:"private",label:"Private (only me)",icon:Nn,description:"Only you can see this information"},{id:"admin",label:"Share with Admin (Micah)",icon:Wt.A,description:"Admin can view in emergency"},{id:"household",label:"Share with Admin + Household",icon:Lt.A,description:"Your household group can also view"}],YW=e=>{let{title:n,icon:r,children:a,defaultOpen:s=!1,privacyBadge:i=null,infoTooltip:l=null}=e;const[o,c]=(0,t.useState)(s);return(0,Tt.jsxs)("div",{className:"border border-border/50 rounded-xl overflow-hidden",children:[(0,Tt.jsxs)("button",{onClick:()=>c(!o),className:"w-full px-4 py-3 flex items-center justify-between bg-secondary/30 hover:bg-secondary/50 transition-colors",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(r,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"font-semibold text-sm",children:n}),i&&(0,Tt.jsxs)("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium flex items-center gap-1 ".concat("private"===i?"bg-muted text-muted-foreground":"admin"===i?"bg-warning/20 text-warning":"bg-primary/20 text-primary"),children:[(0,Tt.jsx)(Nn,{className:"w-3 h-3"}),"private"===i?"Private":"admin"===i?"Admin Only":"Household"]}),l&&(0,Tt.jsxs)("div",{className:"relative group",children:[(0,Tt.jsx)(an.A,{className:"w-4 h-4 text-muted-foreground cursor-help"}),(0,Tt.jsx)("div",{className:"absolute left-0 bottom-full mb-2 w-48 p-2 bg-popover border border-border rounded-lg text-xs text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 shadow-lg",children:l})]})]}),o?(0,Tt.jsx)(En.A,{className:"w-4 h-4"}):(0,Tt.jsx)(On.A,{className:"w-4 h-4"})]}),o&&(0,Tt.jsx)("div",{className:"p-4 space-y-4",children:a})]})},ZW=e=>{let{category:n,label:r,selected:a,onToggle:s}=e;const[i,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(""),d=()=>{o.trim()&&(s(o.trim()),c(""),l(!1))};return(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:r}),(0,Tt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[GW[n].map(e=>(0,Tt.jsxs)("button",{onClick:()=>s(e),className:"px-3 py-1.5 rounded-full text-xs font-medium transition-all ".concat(a.includes(e)?"bg-destructive/20 text-destructive border border-destructive/30":"bg-secondary/50 text-muted-foreground hover:bg-secondary"),children:[a.includes(e)&&"\u26a0\ufe0f ",e]},e)),a.filter(e=>!GW[n].includes(e)).map(e=>(0,Tt.jsxs)("button",{onClick:()=>s(e),className:"px-3 py-1.5 rounded-full text-xs font-medium bg-destructive/20 text-destructive border border-destructive/30 flex items-center gap-1",children:["\u26a0\ufe0f ",e,(0,Tt.jsx)(Bt.A,{className:"w-3 h-3"})]},e)),i?(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)(yn,{value:o,onChange:e=>c(e.target.value),placeholder:"Other...",className:"h-7 w-24 text-xs",onKeyDown:e=>"Enter"===e.key&&d()}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:d,children:(0,Tt.jsx)(hT,{className:"w-3 h-3"})}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:()=>l(!1),children:(0,Tt.jsx)(Bt.A,{className:"w-3 h-3"})})]}):(0,Tt.jsx)("button",{onClick:()=>l(!0),className:"px-3 py-1.5 rounded-full text-xs font-medium bg-secondary/50 text-muted-foreground hover:bg-secondary border border-dashed border-border",children:"+ Other"})]})]})},QW=e=>{let{value:t,onChange:n}=e;return(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[(0,Tt.jsx)(Wt.A,{className:"w-3 h-3"}),"Visibility"]}),(0,Tt.jsx)("div",{className:"space-y-2",children:$W.map(e=>{const r=e.icon;return(0,Tt.jsxs)("button",{onClick:()=>n(e.id),className:"w-full flex items-center gap-3 p-3 rounded-lg transition-all text-left ".concat(t===e.id?"bg-primary/10 border border-primary/30":"bg-secondary/30 hover:bg-secondary/50 border border-transparent"),children:[(0,Tt.jsx)(r,{className:"w-4 h-4 ".concat(t===e.id?"text-primary":"text-muted-foreground")}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("p",{className:"text-sm font-medium",children:e.label}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]}),t===e.id&&(0,Tt.jsx)("div",{className:"w-4 h-4 rounded-full bg-primary flex items-center justify-center",children:(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})})]},e.id)})})]})};function JW(e){var n,r,a;let{isOpen:i,onClose:l,user:o,onSave:c,isDependent:d=!1}=e;const[u,m]=(0,t.useState)((null===o||void 0===o?void 0:o.bio)||""),[h,p]=(0,t.useState)((null===o||void 0===o?void 0:o.roleLine)||""),[f,x]=(0,t.useState)((null===o||void 0===o?void 0:o.medicalVisibility)||"private"),[g,v]=(0,t.useState)((null===o||void 0===o||null===(n=o.allergies)||void 0===n?void 0:n.food)||[]),[b,y]=(0,t.useState)((null===o||void 0===o||null===(r=o.allergies)||void 0===r?void 0:r.medication)||[]),[j,w]=(0,t.useState)((null===o||void 0===o||null===(a=o.allergies)||void 0===a?void 0:a.environment)||[]),[N,k]=(0,t.useState)((null===o||void 0===o?void 0:o.medicalConditions)||""),[A,_]=(0,t.useState)((null===o||void 0===o?void 0:o.medications)||""),[C,S]=(0,t.useState)((null===o||void 0===o?void 0:o.bloodType)||"Unknown"),[E,O]=(0,t.useState)((null===o||void 0===o?void 0:o.emergencyContact)||{name:"",relationship:"",phone:""}),[M,P]=(0,t.useState)((null===o||void 0===o?void 0:o.responderNotes)||""),T=(e,t)=>{const n={food:v,medication:y,environment:w},r={food:g,medication:b,environment:j}[e];r.includes(t)?n[e](r.filter(e=>e!==t)):n[e]([...r,t])},D=u.length,I=D>=200&&D<=400,R=D>800;return i?(0,Tt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm overflow-y-auto py-8",onClick:e=>e.target===e.currentTarget&&l(),children:(0,Tt.jsxs)("div",{className:"glass-strong rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-hidden mx-4 animate-fade-in flex flex-col",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border/50",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:(0,Tt.jsx)(qW,{className:"w-6 h-6 text-primary"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-xl font-bold",children:d?"Edit Dependent Profile":"Edit Profile"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:(null===o||void 0===o?void 0:o.name)||"Your profile"})]})]}),(0,Tt.jsx)("button",{onClick:l,className:"p-2 hover:bg-secondary rounded-xl transition-colors",children:(0,Tt.jsx)(Bt.A,{className:"w-5 h-5"})})]}),(0,Tt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,Tt.jsx)(YW,{title:"Bio",icon:jn,defaultOpen:!0,children:(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:"Role / Identity Line (optional)"}),(0,Tt.jsx)(yn,{value:h,onChange:e=>p(e.target.value),placeholder:"e.g., EMT \u2022 Radio Ops \u2022 Builder",className:"input-apple",maxLength:100}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1",children:"A short tagline describing your roles or skills"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:"Short Bio"}),(0,Tt.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),placeholder:"Tell others a bit about yourself, your background, and what you bring to the group...",className:"input-apple min-h-[120px] resize-none",maxLength:800}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Recommended: 200-400 characters"}),(0,Tt.jsxs)("p",{className:"text-[10px] font-medium ".concat(R?"text-destructive":I?"text-success":"text-muted-foreground"),children:[D,"/800"]})]})]})]})}),(0,Tt.jsxs)(YW,{title:"Medical & Allergies",icon:wn,defaultOpen:!1,privacyBadge:f,infoTooltip:"To help in emergencies and avoid medical mistakes.",children:[(0,Tt.jsx)("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3 mb-4",children:(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground flex items-start gap-2",children:[(0,Tt.jsx)(Rn.A,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),(0,Tt.jsxs)("span",{children:[(0,Tt.jsx)("strong",{children:"This is optional."})," Use only what you're comfortable sharing. Medical information can help responders in an emergency."]})]})}),(0,Tt.jsx)(QW,{value:f,onChange:x}),(0,Tt.jsxs)("div",{className:"border-t border-border/50 pt-4 mt-4 space-y-4",children:[(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 text-warning"}),"Allergies"]}),(0,Tt.jsx)(ZW,{category:"food",label:"Food Allergies",selected:g,onToggle:e=>T("food",e)}),(0,Tt.jsx)(ZW,{category:"medication",label:"Medication Allergies",selected:b,onToggle:e=>T("medication",e)}),(0,Tt.jsx)(ZW,{category:"environment",label:"Environmental Allergies",selected:j,onToggle:e=>T("environment",e)})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:"Medical Conditions (optional)"}),(0,Tt.jsx)("textarea",{value:N,onChange:e=>k(e.target.value),placeholder:"e.g., Diabetes Type 2, Asthma, High blood pressure...",className:"input-apple min-h-[80px] resize-none"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:"Current Medications (optional)"}),(0,Tt.jsx)("textarea",{value:A,onChange:e=>_(e.target.value),placeholder:"e.g., Metformin 500mg twice daily, Lisinopril 10mg daily...",className:"input-apple min-h-[80px] resize-none"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:"Blood Type (optional)"}),(0,Tt.jsx)("select",{value:C,onChange:e=>S(e.target.value),className:"input-apple w-full",children:VW.map(e=>(0,Tt.jsx)("option",{value:e,children:e},e))})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block flex items-center gap-2",children:[(0,Tt.jsx)(Cn,{className:"w-3 h-3"}),"Emergency Contact (optional)"]}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsx)(yn,{value:E.name,onChange:e=>O((0,s.A)((0,s.A)({},E),{},{name:e.target.value})),placeholder:"Contact name",className:"input-apple"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsx)(yn,{value:E.relationship,onChange:e=>O((0,s.A)((0,s.A)({},E),{},{relationship:e.target.value})),placeholder:"Relationship (e.g., Spouse)",className:"input-apple"}),(0,Tt.jsx)(yn,{value:E.phone,onChange:e=>O((0,s.A)((0,s.A)({},E),{},{phone:e.target.value})),placeholder:"Phone or 'none'",className:"input-apple"})]})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:"Notes for Responders (optional)"}),(0,Tt.jsx)("textarea",{value:M,onChange:e=>P(e.target.value),placeholder:"Any additional info that could help in an emergency...",className:"input-apple min-h-[60px] resize-none",maxLength:300}),(0,Tt.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Keep it short - this is for quick reference"})]})]})]})]}),(0,Tt.jsxs)("div",{className:"p-4 border-t border-border/50 flex gap-3",children:[(0,Tt.jsx)(gn.$,{variant:"outline",onClick:l,className:"flex-1",children:"Cancel"}),(0,Tt.jsxs)(gn.$,{onClick:()=>{const e={bio:u,roleLine:h,medicalVisibility:f,allergies:{food:g,medication:b,environment:j},medicalConditions:N,medications:A,bloodType:C,emergencyContact:E.name?E:null,responderNotes:M};null===c||void 0===c||c(e),Pt.oR.success("Profile updated successfully"),l()},className:"flex-1 btn-apple-primary",children:[(0,Tt.jsx)(KW,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}):null}const XW={whatItDoes:"Manage people, permission levels, and fingerprint authentication for your OMEGA device. Control who can access what features.",quickStart:["Review existing people and their permissions","Select a person to view/edit their details","Add fingerprints for biometric authentication","Adjust permission levels as needed","Add new people with 'Add Person' button"],controls:[{name:"Permission Levels",description:"Control access to features",states:[{color:"bg-warning",label:"Admin",meaning:"Full access to all features"},{color:"bg-primary",label:"Member",meaning:"Standard access, most features"},{color:"bg-muted-foreground",label:"Guest",meaning:"View only, limited actions"}]},{name:"Fingerprint Badge",description:"Number next to fingerprint icon shows enrolled prints"},{name:"You Badge",description:"Indicates your account (cannot be removed)"}],bestPractices:["Enroll 2+ fingerprints per person for reliability","Keep at least one Admin account at all times","Use Guest for temporary or limited access","Clean fingers before enrollment for best results"]},eH={issues:[{symptom:"Fingerprint not recognized",causes:["Dirty or wet finger","Poor enrollment quality","Sensor needs cleaning"],fixes:["Clean and dry your finger","Re-enroll the fingerprint","Wipe sensor with dry cloth"],fallback:"Use password/PIN as backup authentication"},{symptom:"Sensor not responding",causes:["USB disconnected","Service not running","Hardware failure"],fixes:["Check USB connection to sensor","Restart fingerprint service via Health tile","Try different USB port"]},{symptom:"Cannot change permissions",causes:["Not logged in as Admin","Trying to modify own Admin status","System error"],fixes:["Log in with Admin account","Have another Admin change your permissions","Restart the device"]},{symptom:"Cannot add new person",causes:["Not Admin permission","Storage full","Max users reached"],fixes:["Get Admin to add person","Free up device storage","Remove unused accounts"]}],safetyNotes:["Always keep at least one Admin account","Fingerprint data is stored locally only","Removing a person deletes all their data"]},tH=[{color:"bg-warning",label:"Admin",meaning:"Full control of device",action:"Can manage all users"},{color:"bg-primary",label:"Member",meaning:"Standard user",action:"Most features available"},{color:"bg-muted-foreground",label:"Guest",meaning:"Limited access",action:"View only"},{color:"bg-success",label:"Fingerprint",meaning:"Biometric enrolled"}],nH=["Tap a person card to manage their fingerprints & permissions","Enroll multiple fingerprints for better recognition","Admin required to add/remove people"],rH=[{id:"admin",name:"Admin",icon:Mn,color:"text-warning",description:"Full access to all features"},{id:"member",name:"Member",icon:Lt.A,color:"text-primary",description:"Standard access, can use most features"},{id:"guest",name:"Guest",icon:kn,color:"text-muted-foreground",description:"View only, limited actions"}],aH=[{id:"1",name:"John (You)",avatar:null,fingerprints:2,permission:"admin",isCurrentUser:!0,bio:"Group leader and primary communications operator. 20 years experience in electrical engineering.",roleLine:"EMT \u2022 Radio Ops \u2022 Leader",medicalVisibility:"admin",bloodType:"O+",allergies:{food:[],medication:["Penicillin"],environment:[]},medicalConditions:"Mild hypertension (controlled)",medications:"Lisinopril 10mg daily",emergencyContact:{name:"Sarah (Wife)",relationship:"Spouse",phone:"Node omega-02"},responderNotes:"Reading glasses in left pocket."},{id:"2",name:"Sarah",avatar:null,fingerprints:1,permission:"member",bio:"Registered nurse with 20+ years ER experience. Master gardener.",roleLine:"RN \u2022 Medical Lead \u2022 Gardener",medicalVisibility:"household",bloodType:"A+",allergies:{food:["Shellfish"],medication:[],environment:["Latex"]}},{id:"3",name:"Kids",avatar:null,fingerprints:0,permission:"guest",bio:"Emma (14) and Jake (12). Both trained in basic first aid.",roleLine:"Students \u2022 Junior Operators",medicalVisibility:"admin",bloodType:"O+/A+",allergies:{food:[],medication:[],environment:[]},medicalConditions:"Jake: Mild asthma",isDependent:!0}],sH=e=>{let{person:t,onSelect:n,isSelected:r}=e;const a=rH.find(e=>e.id===t.permission),s=(null===a||void 0===a?void 0:a.icon)||Lt.A;return(0,Tt.jsx)("button",{onClick:()=>n(t),className:"w-full glass rounded-lg p-2.5 sm:p-3 text-left transition-all ".concat(r?"ring-2 ring-primary bg-primary/10":"hover:bg-secondary/50"),"data-testid":"person-card-".concat(t.id),children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2.5 sm:gap-3",children:[(0,Tt.jsx)("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:t.avatar?(0,Tt.jsx)("img",{src:t.avatar,alt:t.name,className:"w-full h-full rounded-full object-cover"}):(0,Tt.jsx)(jn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[(0,Tt.jsx)("span",{className:"text-sm font-medium truncate",children:t.name}),t.isCurrentUser&&(0,Tt.jsx)("span",{className:"text-[10px] sm:text-xs px-1 sm:px-1.5 py-0.5 bg-primary/20 text-primary rounded flex-shrink-0",children:"You"})]}),t.roleLine&&(0,Tt.jsx)("p",{className:"text-[10px] sm:text-xs text-primary truncate",children:t.roleLine}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-0.5 flex-wrap",children:[(0,Tt.jsx)(s,{className:"w-3 h-3 ".concat(null===a||void 0===a?void 0:a.color)}),(0,Tt.jsx)("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:null===a||void 0===a?void 0:a.name}),(0,Tt.jsx)("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"\u2022"}),(0,Tt.jsx)(UW,{className:"w-3 h-3 ".concat(t.fingerprints>0?"text-success":"text-muted-foreground")}),(0,Tt.jsx)("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:t.fingerprints})]})]}),(0,Tt.jsx)(Pn,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"})]})})},iH=e=>{var n,r;let{person:a,onBack:s,onUpdate:i,onEditProfile:l}=e;const[o,c]=(0,t.useState)(a.permission),[d,u]=(0,t.useState)(!1);return(0,Tt.jsxs)("div",{className:"space-y-4","data-testid":"person-detail",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:s,children:"\u2190 Back"}),(0,Tt.jsx)("h3",{className:"text-sm font-semibold",children:a.name}),(0,Tt.jsx)("div",{className:"w-16"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"w-20 h-20 mx-auto rounded-full bg-primary/20 flex items-center justify-center mb-2",children:(0,Tt.jsx)(jn,{className:"w-10 h-10 text-primary"})}),a.roleLine&&(0,Tt.jsx)("p",{className:"text-xs text-primary font-medium mb-2",children:a.roleLine}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"outline",className:"text-xs",children:"Change Photo"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground",children:"BIO"}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"ghost",className:"h-6 px-2 text-xs",onClick:()=>l(a),children:[(0,Tt.jsx)($z,{className:"w-3 h-3 mr-1"})," Edit Profile"]})]}),(0,Tt.jsx)("p",{className:"text-sm text-foreground",children:a.bio||(0,Tt.jsx)("span",{className:"text-muted-foreground italic",children:"No bio provided"})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("h4",{className:"text-xs font-semibold text-muted-foreground flex items-center gap-1",children:[(0,Tt.jsx)(wn,{className:"w-3 h-3"})," MEDICAL"]}),(0,Tt.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded flex items-center gap-0.5 ".concat("private"===a.medicalVisibility?"bg-muted text-muted-foreground":"bg-primary/20 text-primary"),children:"private"===a.medicalVisibility?"Private":"Shared"})]}),a.bloodType&&"Unknown"!==a.bloodType&&(0,Tt.jsxs)("p",{className:"text-sm",children:["Blood Type: ",(0,Tt.jsx)("span",{className:"font-bold text-destructive",children:a.bloodType})]}),a.allergies&&((null===(n=a.allergies.food)||void 0===n?void 0:n.length)>0||(null===(r=a.allergies.medication)||void 0===r?void 0:r.length)>0)&&(0,Tt.jsx)("div",{className:"flex flex-wrap gap-1",children:[...a.allergies.food||[],...a.allergies.medication||[]].map((e,t)=>(0,Tt.jsxs)("span",{className:"text-[10px] px-1.5 py-0.5 bg-destructive/20 text-destructive rounded",children:["\u26a0\ufe0f ",e]},t))}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"ghost",className:"w-full h-7 text-xs",onClick:()=>l(a),children:"View & Edit Medical Info"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 space-y-2",children:[(0,Tt.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground",children:"PERMISSION LEVEL"}),(0,Tt.jsx)("div",{className:"space-y-2",children:rH.map(e=>{const t=e.icon,n=o===e.id;return(0,Tt.jsxs)("button",{onClick:()=>c(e.id),className:"w-full flex items-center gap-3 p-2 rounded-lg transition-all ".concat(n?"bg-primary/10 ring-1 ring-primary":"hover:bg-secondary/50"),"data-testid":"permission-".concat(e.id),children:[(0,Tt.jsx)(t,{className:"w-4 h-4 ".concat(e.color)}),(0,Tt.jsxs)("div",{className:"flex-1 text-left",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium",children:e.name}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:e.description})]}),n&&(0,Tt.jsx)(WL,{className:"w-4 h-4 text-primary"})]},e.id)})})]}),(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground",children:"FINGERPRINTS"}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[a.fingerprints," enrolled"]})]}),a.fingerprints>0?(0,Tt.jsx)("div",{className:"space-y-2",children:[...Array(a.fingerprints)].map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-secondary/30 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(UW,{className:"w-4 h-4 text-success"}),(0,Tt.jsxs)("span",{className:"text-sm",children:["Finger ",t+1]})]}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"ghost",className:"h-7 text-destructive hover:text-destructive",children:(0,Tt.jsx)(ua,{className:"w-3 h-3"})})]},t))}):(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"No fingerprints enrolled"}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",className:"w-full",onClick:()=>u(!0),children:[(0,Tt.jsx)(hT,{className:"w-3 h-3 mr-1"})," Add Fingerprint"]}),d&&(0,Tt.jsx)("div",{className:"glass p-3 rounded-lg border border-primary/30 animate-fade-in",children:(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)(UW,{className:"w-12 h-12 mx-auto mb-2 text-primary animate-pulse"}),(0,Tt.jsx)("p",{className:"text-sm font-medium mb-1",children:"Place finger on sensor"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"Connect to Pi to enroll fingerprint"}),(0,Tt.jsx)(gn.$,{size:"sm",variant:"outline",onClick:()=>u(!1),children:"Cancel"})]})})]}),!a.isCurrentUser&&(0,Tt.jsx)("div",{className:"glass rounded-lg p-3 border border-destructive/30",children:(0,Tt.jsxs)(gn.$,{size:"sm",variant:"destructive",className:"w-full",children:[(0,Tt.jsx)(WW,{className:"w-3 h-3 mr-1"})," Remove Person"]})})]})};function lH(){const[e,n]=(0,t.useState)("people"),[r,a]=(0,t.useState)(null),[i,l]=(0,t.useState)(aH),[o,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(null);return"help"===e?(0,Tt.jsxs)(Iz,{className:"glass-strong border-border-strong","data-testid":"security-tile",children:[(0,Tt.jsx)(Rz,{className:"pb-3",children:(0,Tt.jsxs)(Lz,{className:"flex items-center justify-between text-base",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Wt.A,{className:"w-5 h-5 text-primary"}),"Security Help"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>n("people"),children:"\u2190 Back"})]})}),(0,Tt.jsx)(zz,{children:(0,Tt.jsx)(CW,{helpContent:XW,troubleshootingContent:eH,legendItems:tH})})]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)(Iz,{className:"glass-strong border-border-strong","data-testid":"security-tile",children:[(0,Tt.jsx)(Rz,{className:"pb-3",children:(0,Tt.jsxs)(Lz,{className:"flex items-center justify-between text-base",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Wt.A,{className:"w-5 h-5 text-primary"}),"Security"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>n("help"),className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground",title:"Help & Troubleshooting","data-testid":"security-help-btn",children:(0,Tt.jsx)(an.A,{className:"w-4 h-4"})})]})}),(0,Tt.jsxs)(zz,{children:[(0,Tt.jsx)(SW,{tips:nH}),"people"===e&&(r?(0,Tt.jsx)(iH,{person:r,onBack:()=>a(null),onUpdate:()=>{},onEditProfile:e=>{u(e),c(!0)}}):(0,Tt.jsxs)("div",{className:"space-y-3","data-testid":"people-list",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[i.length," people"]}),(0,Tt.jsxs)(gn.$,{size:"sm",variant:"outline",className:"h-7 text-xs",children:[(0,Tt.jsx)(HW,{className:"w-3 h-3 mr-1"})," Add Person"]})]}),(0,Tt.jsx)("div",{className:"space-y-2",children:i.map(e=>(0,Tt.jsx)(sH,{person:e,onSelect:a,isSelected:!1},e.id))})]})),(0,Tt.jsx)($n,{title:"Security Configuration",helpText:"Access control and user management",children:(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h5",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Access Stats"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsx)(Qn,{label:"Total Users",value:i.length,trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Admins",value:i.filter(e=>"admin"===e.permission).length,trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Members",value:i.filter(e=>"member"===e.permission).length,trustType:"DERIVED"}),(0,Tt.jsx)(Qn,{label:"Guests",value:i.filter(e=>"guest"===e.permission).length,trustType:"DERIVED"}),(0,Tt.jsx)(Qn,{label:"Dependents",value:i.filter(e=>e.isDependent).length,trustType:"DERIVED"})]})]}),(0,Tt.jsx)(Yn,{data:i,title:"User Profiles JSON"})]})}),(0,Tt.jsx)(Gn,{source:"OMEGA User Management",endpoint:"localStorage:omega_profiles",lastUpdated:Date.now(),trustType:"VERIFIED",status:"INDEXED",refreshInterval:"On change"})]})]}),(0,Tt.jsx)(JW,{isOpen:o,onClose:()=>{c(!1),u(null)},user:d,onSave:e=>{l(t=>t.map(t=>t.id===d.id?(0,s.A)((0,s.A)({},t),e):t)),(null===r||void 0===r?void 0:r.id)===d.id&&a(t=>(0,s.A)((0,s.A)({},t),e))},isDependent:null===d||void 0===d?void 0:d.isDependent})]})}const oH=(0,It.A)("battery-charging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]),cH=(0,It.A)("battery-full",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"13",key:"c6fn6x"}]]),dH=(0,It.A)("battery-medium",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}]]),uH=(0,It.A)("battery-low",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]]),mH=(0,It.A)("battery-warning",[["path",{d:"M10 17h.01",key:"nbq80n"}],["path",{d:"M10 7v6",key:"nne03l"}],["path",{d:"M14 7h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1x5o8m"}],["path",{d:"M22 11v2",key:"1wo06k"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"1mdjgh"}]]),hH=(0,It.A)("plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]),pH=(0,It.A)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),fH=(0,It.A)("cable",[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",key:"10bnsj"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",key:"1eqmu1"}],["path",{d:"M21 21v-2h-4",key:"14zm7j"}],["path",{d:"M3 5h4V3",key:"z442eg"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",key:"ebdjd7"}]]),xH={whatItDoes:"Monitor battery status, charging sources, and power consumption in real-time. Track runtime estimates and receive low-power alerts to keep your OMEGA running.",quickStart:["Check battery percentage at the top","View active charging sources (Solar, AC, Vehicle)","Monitor current draw and net power flow","See estimated runtime or time to full charge","Review alerts for any power issues"],controls:[{name:"Battery Level",description:"Current charge percentage",states:[{color:"bg-success",label:"75-100%",meaning:"Healthy charge"},{color:"bg-warning",label:"25-74%",meaning:"Monitor usage"},{color:"bg-destructive",label:"0-24%",meaning:"Charge soon"}]},{name:"Net Flow",description:"Positive = charging, Negative = discharging"},{name:"Runtime",description:"Estimated time until battery depleted at current draw"}],bestPractices:["Keep battery above 25% for reliable operation","Connect to charging when below 50% if possible","In SHTF, prioritize solar charging during daylight","Reduce screen brightness to extend runtime"]},gH={issues:[{symptom:"Battery not charging",causes:["Charger not connected properly","Faulty cable or adapter","Battery too hot/cold","Power source insufficient"],fixes:["Check all cable connections","Try a different charging cable","Let battery cool/warm to room temp","Use higher-output power source"],fallback:"Use vehicle 12V input as backup charging method"},{symptom:"Rapid battery drain",causes:["High CPU usage","Screen brightness too high","Multiple radios active","Faulty battery cell"],fixes:["Close unused apps","Reduce screen brightness","Disable unused radios","Check battery health in diagnostics"]},{symptom:"Runtime estimate inaccurate",causes:["Variable power usage","Battery needs calibration","Temperature affecting capacity"],fixes:["Let device stabilize for accurate reading","Fully charge then discharge to calibrate","Keep device at moderate temperature"]},{symptom:"Runtime collapsing rapidly",causes:["Heavy radio/CPU activity","Cold temperature reducing capacity","Battery cell degradation","Parasitic drain from accessory"],fixes:["Disable non-essential radios","Keep device warm (body pocket)","Check for rogue processes in Health tile","Disconnect external accessories"],fallback:"Switch to minimum essential mode"},{symptom:"Solar not charging",causes:["Panel not in direct sunlight","Dirty panel surface","Charge controller issue","Wrong panel voltage"],fixes:["Angle panel toward sun","Clean panel with soft cloth","Check charge controller connections","Verify panel is 5V/12V compatible"]}],safetyNotes:["Do not charge in extreme temperatures","Use only approved chargers and cables","Battery may swell if damaged - do not use if bulging","Keep ventilation clear when charging"]},vH=[{color:"bg-success",label:"Charging",meaning:"Power input > consumption",action:"Battery filling"},{color:"bg-primary",label:"Full",meaning:"Battery at 100%",action:"Trickle charge"},{color:"bg-warning",label:"Discharging",meaning:"Using battery power",action:"Connect charger"},{color:"bg-destructive",label:"Critical",meaning:"Below 20%",action:"Charge immediately"}],bH=["Green battery = charging, Yellow = discharging","Net flow shows if you're gaining or losing power","Solar works best when panel faces the sun directly"],yH=["Reduce screen brightness to minimum","Disable Mesh/LoRa if not actively needed","Close GPS if position isn't critical","Switch to LAN-only comms if available","Check for runaway CPU processes in Health","Warm device if cold (below 50\xb0F / 10\xb0C)","Connect ANY charge source immediately"],jH=()=>({battery:{percentage:72,voltage:12.4,current:-.85,temperature:28,health:"good",cycleCount:156},charging:{isCharging:!1,sources:{solar:{connected:!0,watts:8.2,status:"active"},ac:{connected:!1,watts:0,status:"disconnected"},vehicle:{connected:!1,watts:0,status:"disconnected"},usb:{connected:!0,watts:2.5,status:"active"}}},consumption:{total:11.5,breakdown:{cpu:4.2,display:3.5,radios:2.8,other:1}},estimates:{runtimeMinutes:245,timeToFullMinutes:null,netFlowWatts:-.8},alerts:[{type:"warning",message:"Battery below 75%",timestamp:new Date(Date.now()-6e5)}]}),wH=e=>{let{name:t,icon:n,data:r,color:a}=e;const s="active"===r.status;return(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3 border-2 transition-all ".concat(s?"border-".concat(a,"/40 bg-").concat(a,"/10"):"border-transparent opacity-60"),"data-testid":"source-".concat(t.toLowerCase()),children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)(n,{className:"w-5 h-5 ".concat(s?"text-".concat(a):"text-muted-foreground")}),s&&(0,Tt.jsx)("span",{className:"text-xs font-bold px-2 py-0.5 rounded-full bg-".concat(a,"/20 text-").concat(a),children:"ACTIVE"})]}),(0,Tt.jsx)("div",{className:"text-sm font-semibold",children:t}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:s?"".concat(r.watts.toFixed(1),"W"):"Not connected"})]})},NH=e=>{let{breakdown:t,total:n}=e;const r=[{key:"cpu",label:"CPU",color:"bg-primary",value:t.cpu},{key:"display",label:"Display",color:"bg-warning",value:t.display},{key:"radios",label:"Radios",color:"bg-success",value:t.radios},{key:"other",label:"Other",color:"bg-muted-foreground",value:t.other}];return(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Tt.jsx)("span",{className:"font-semibold",children:"Power Consumption"}),(0,Tt.jsxs)("span",{className:"text-muted-foreground",children:[n.toFixed(1),"W total"]})]}),(0,Tt.jsx)("div",{className:"h-3 rounded-full bg-secondary overflow-hidden flex",children:r.map(e=>(0,Tt.jsx)("div",{className:"".concat(e.color," h-full"),style:{width:"".concat(e.value/n*100,"%")},title:"".concat(e.label,": ").concat(e.value.toFixed(1),"W")},e.key))}),(0,Tt.jsx)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:r.map(e=>(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.color)}),(0,Tt.jsx)("span",{children:e.label})]},e.key))})]})},kH=e=>{if(!e)return"N/A";if(e<60)return"".concat(e,"m");const t=Math.floor(e/60),n=e%60;return"".concat(t,"h ").concat(n,"m")};function AH(){var e,n;const[r,a]=(0,t.useState)(null),[s,i]=(0,t.useState)(!0),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=()=>{a(jH()),d(new Date),i(!1)};e();const t=setInterval(e,5e3);return()=>clearInterval(t)},[]);const u=()=>{i(!0),setTimeout(()=>{a(jH()),d(new Date),i(!1)},500)};if(l)return(0,Tt.jsxs)(Iz,{className:"glass-strong border-border-strong","data-testid":"power-tile",children:[(0,Tt.jsx)(Rz,{className:"pb-3",children:(0,Tt.jsxs)(Lz,{className:"flex items-center justify-between text-base",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(pr,{className:"w-5 h-5 text-primary"}),"Power Help"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>o(!1),children:"\u2190 Back"})]})}),(0,Tt.jsx)(zz,{children:(0,Tt.jsx)(CW,{helpContent:xH,troubleshootingContent:gH,legendItems:vH})})]});if(s||!r)return(0,Tt.jsxs)(Iz,{className:"glass-strong border-border-strong","data-testid":"power-tile",children:[(0,Tt.jsx)(Rz,{className:"pb-3",children:(0,Tt.jsxs)(Lz,{className:"flex items-center gap-2 text-base",children:[(0,Tt.jsx)(pr,{className:"w-5 h-5 text-primary"}),"Power"]})}),(0,Tt.jsx)(zz,{children:(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsx)("div",{className:"skeleton h-24 rounded-lg"}),(0,Tt.jsx)("div",{className:"skeleton h-16 rounded-lg"}),(0,Tt.jsx)("div",{className:"skeleton h-12 rounded-lg"})]})})]});const{battery:m,charging:h,consumption:p,estimates:f,alerts:x}=r,g=f.netFlowWatts>0,v=(e=>{let{percentage:t,isCharging:n}=e;return n?oH:t>=90?cH:t>=50?dH:t>=20?uH:mH})({percentage:m.percentage,isCharging:g}),b=()=>g||m.percentage>=75?"text-success":m.percentage>=25?"text-warning":"text-destructive",y=()=>[{name:"Solar",watts:h.sources.solar.watts,status:h.sources.solar.status},{name:"AC",watts:h.sources.ac.watts,status:h.sources.ac.status},{name:"Vehicle",watts:h.sources.vehicle.watts,status:h.sources.vehicle.status},{name:"USB-C",watts:h.sources.usb.watts,status:h.sources.usb.status}].filter(e=>"active"===e.status).sort((e,t)=>t.watts-e.watts)[0]||null,j=!g&&f.runtimeMinutes<60;return(0,Tt.jsxs)(Iz,{className:"glass-strong border-border-strong","data-testid":"power-tile",children:[(0,Tt.jsx)(Rz,{className:"pb-3",children:(0,Tt.jsxs)(Lz,{className:"flex items-center justify-between text-base",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(pr,{className:"w-5 h-5 text-primary"}),"Power"]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:u,className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground",title:"Refresh",children:(0,Tt.jsx)(Zt.A,{className:"w-4 h-4"})}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground",title:"Help & Troubleshooting","data-testid":"power-help-btn",children:(0,Tt.jsx)(an.A,{className:"w-4 h-4"})})]})]})}),(0,Tt.jsxs)(zz,{className:"space-y-4",children:[(0,Tt.jsx)(SW,{tips:bH}),(0,Tt.jsx)("div",{className:"glass-strong rounded-xl p-3 border-2 border-primary/30","data-testid":"field-summary",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)(pr,{className:"w-4 h-4 ".concat(b())}),(0,Tt.jsxs)("span",{className:"font-bold ".concat(b()),children:[m.percentage,"%"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)(en.A,{className:"w-4 h-4 text-muted-foreground"}),(0,Tt.jsx)("span",{className:"font-semibold",children:kH(f.runtimeMinutes)})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[g?(0,Tt.jsx)(Xr,{className:"w-4 h-4 text-success"}):(0,Tt.jsx)(ea,{className:"w-4 h-4 text-warning"}),(0,Tt.jsxs)("span",{className:"font-semibold ".concat(g?"text-success":"text-warning"),children:[f.netFlowWatts>0?"+":"",f.netFlowWatts.toFixed(1),"W"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)(cr,{className:"w-4 h-4 text-muted-foreground"}),(0,Tt.jsxs)("span",{className:"font-semibold",children:[p.total.toFixed(1),"W"]})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1.5 text-xs",children:[(0,Tt.jsx)("span",{className:"text-muted-foreground",children:"Top:"}),(0,Tt.jsx)("span",{className:"font-bold ".concat((null===(e=y())||void 0===e?void 0:e.watts)>0?"text-success":"text-muted-foreground"),children:(null===(n=y())||void 0===n?void 0:n.name)||"None"})]})]})}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4","data-testid":"battery-main",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-14 h-14 rounded-2xl glass flex items-center justify-center ".concat(g?"bg-success/20":""),children:(0,Tt.jsx)(v,{className:"w-8 h-8 ".concat(b())})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"text-3xl font-bold ".concat(b()),children:[m.percentage,"%"]}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:g?"Charging":"Discharging"})]})]}),(0,Tt.jsxs)("div",{className:"text-right",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1 text-sm font-semibold",children:[(0,Tt.jsx)(en.A,{className:"w-4 h-4 text-muted-foreground"}),kH(g?f.timeToFullMinutes:f.runtimeMinutes)]}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:g?"to full":"runtime"})]})]}),(0,Tt.jsx)("div",{className:"h-4 rounded-full bg-secondary overflow-hidden mb-2",children:(0,Tt.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(g?"bg-success":m.percentage<25?"bg-destructive":"bg-warning"),style:{width:"".concat(m.percentage,"%")}})}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,Tt.jsxs)("span",{children:[m.voltage.toFixed(1),"V"]}),(0,Tt.jsxs)("span",{children:[Math.abs(m.current).toFixed(2),"A ",m.current<0?"draw":"charge"]}),(0,Tt.jsxs)("span",{children:[Math.round(9*m.temperature/5+32),"\xb0F"]}),(0,Tt.jsx)("span",{className:"font-medium ".concat("good"===m.health?"text-success":"text-warning"),children:m.health.toUpperCase()})]})]}),(0,Tt.jsxs)("div",{className:"glass rounded-xl p-3 border-2 ".concat(g?"border-success/30 bg-success/10":"border-warning/30 bg-warning/10"),"data-testid":"net-flow",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[g?(0,Tt.jsx)(Xr,{className:"w-5 h-5 text-success"}):(0,Tt.jsx)(ea,{className:"w-5 h-5 text-warning"}),(0,Tt.jsx)("span",{className:"text-sm font-semibold",children:"Net Power Flow"})]}),(0,Tt.jsxs)("span",{className:"text-lg font-bold ".concat(g?"text-success":"text-warning"),children:[f.netFlowWatts>0?"+":"",f.netFlowWatts.toFixed(1),"W"]})]}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:g?"Gaining power faster than consuming":"Consuming more power than input sources provide"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"CHARGE SOURCES"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsx)(wH,{name:"Solar",icon:Ht,data:h.sources.solar,color:"warning"}),(0,Tt.jsx)(wH,{name:"AC Power",icon:hH,data:h.sources.ac,color:"primary"}),(0,Tt.jsx)(wH,{name:"Vehicle 12V",icon:pH,data:h.sources.vehicle,color:"success"}),(0,Tt.jsx)(wH,{name:"USB-C",icon:fH,data:h.sources.usb,color:"cyan"})]})]}),(0,Tt.jsx)(NH,{breakdown:p.breakdown,total:p.total}),j&&(0,Tt.jsxs)("div",{className:"glass rounded-xl p-4 border-2 border-destructive/50 bg-destructive/10 animate-pulse-slow","data-testid":"runtime-critical",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Tt.jsx)(wr,{className:"w-5 h-5 text-destructive"}),(0,Tt.jsx)("span",{className:"text-sm font-bold text-destructive",children:"\u26a0\ufe0f Runtime Critical - Act Now!"})]}),(0,Tt.jsx)("div",{className:"space-y-1.5 text-xs",children:yH.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Tt.jsx)("span",{className:"w-5 h-5 rounded-full bg-destructive/20 text-destructive flex items-center justify-center font-bold flex-shrink-0 text-xs",children:t+1}),(0,Tt.jsx)("span",{className:"text-foreground",children:e})]},t))})]}),x.length>0&&(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground",children:"ALERTS"}),x.map((e,t)=>(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3 flex items-start gap-2 ".concat("critical"===e.type?"bg-destructive/10 border border-destructive/30":"bg-warning/10 border border-warning/30"),"data-testid":"power-alert-".concat(t),children:[(0,Tt.jsx)(Gt.A,{className:"w-4 h-4 flex-shrink-0 mt-0.5 ".concat("critical"===e.type?"text-destructive":"text-warning")}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium",children:e.message}),(0,Tt.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleTimeString()})]})]},t))]}),(0,Tt.jsx)($n,{title:"Power System Details",helpText:"Raw data and calculation info",children:(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"glass rounded-lg p-3",children:[(0,Tt.jsx)("h5",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Battery Metrics"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsx)(Qn,{label:"Voltage",value:m.voltage.toFixed(2),unit:"V",trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Current",value:Math.abs(m.current).toFixed(2),unit:"A",trustType:"VERIFIED"}),(0,Tt.jsx)(Qn,{label:"Temperature",value:m.temperature,unit:"\xb0C",trustType:"VERIFIED",helpTerm:"TEMP"}),(0,Tt.jsx)(Qn,{label:"Cycle Count",value:m.cycleCount,trustType:"DERIVED"}),(0,Tt.jsx)(Qn,{label:"Health Status",value:m.health.toUpperCase(),trustType:"ESTIMATED"}),(0,Tt.jsx)(Qn,{label:"Net Flow",value:f.netFlowWatts.toFixed(2),unit:"W",trustType:"DERIVED"})]})]}),(0,Tt.jsx)(Zn,{notes:["Net Flow = Total Input (Solar + AC + USB) - Total Consumption","Runtime estimate based on current draw rate and battery capacity","Battery health derived from voltage curve and cycle count","Power readings averaged over 10-second window"]}),(0,Tt.jsx)(Yn,{data:r,title:"Power System JSON"})]})}),(0,Tt.jsx)(Gn,{source:"OMEGA Power Management",endpoint:"/api/cgi-bin/power",lastUpdated:null===c||void 0===c?void 0:c.getTime(),trustType:"VERIFIED",status:"SIMULATED",refreshInterval:"5 seconds",onRefresh:u})]})]})}const _H=(0,It.A)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),CH=(0,It.A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),SH=(0,It.A)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),EH={whatItDoes:"Stay connected with your network through an offline-first social feed. Share updates, create polls, and react to posts. Works without internet - syncs when connections are available.",quickStart:["View posts from your network in the feed","Tap reactions (\ud83d\udc4d\u2764\ufe0f\ud83d\ude2e) to respond to posts","Expand comments to see discussions","Create a new post or poll with the + button","Filter posts by type (All, Alerts, Polls)"],controls:[{name:"Post Types",description:"Regular posts, alerts (urgent), polls"},{name:"Reactions",description:"Quick emoji responses without typing"},{name:"Comments",description:"Expand post to view/add comments"},{name:"Sync Status",description:"Shows if posts are synced or pending"}],bestPractices:["Use alerts sparingly - only for urgent/emergency messages","Keep posts brief for faster mesh sync","Polls auto-close after 24 hours by default","Old posts are archived to save storage"]},OH={issues:[{symptom:"Posts not showing from other nodes",causes:["No network connection","Nodes out of range","Sync in progress"],fixes:["Check Communications panel status","Move closer to other nodes","Wait for sync to complete"],fallback:"Your posts are saved locally and will sync when connection is restored"},{symptom:"My post didn't send",causes:["Post pending sync","Post too large","Network congestion"],fixes:["Check sync status indicator","Keep posts under 280 characters","Wait and retry"]},{symptom:"Poll votes not updating",causes:["Votes from offline nodes pending","Poll already closed","Sync delay"],fixes:["Pull to refresh feed","Check poll expiry time","Wait for mesh sync"]},{symptom:"Reactions not saving",causes:["Local storage full","Sync error","Post was deleted"],fixes:["Clear old posts in settings","Refresh feed","Post may no longer exist"]}],safetyNotes:["All posts are stored locally first","Posts sync via mesh when nodes are in range","Alert posts have higher sync priority","No posts leave your local network"]},MH=[{color:"bg-destructive",label:"Alert",meaning:"Urgent message",action:"Read immediately"},{color:"bg-primary",label:"Post",meaning:"Regular update"},{color:"bg-warning",label:"Poll",meaning:"Vote to respond"},{color:"bg-success",label:"Synced",meaning:"Delivered to network"},{color:"bg-muted-foreground",label:"Pending",meaning:"Awaiting sync"}],PH=e=>{const t=["bg-gradient-to-br from-blue-500 to-blue-600","bg-gradient-to-br from-purple-500 to-purple-600","bg-gradient-to-br from-green-500 to-green-600","bg-gradient-to-br from-orange-500 to-orange-600","bg-gradient-to-br from-pink-500 to-pink-600"];return t[e.split("").reduce((e,t)=>e+t.charCodeAt(0),0)%t.length]},TH=e=>{const t=Math.floor((new Date-new Date(e))/1e3);if(t<60)return"now";if(t<3600)return"".concat(Math.floor(t/60),"m");if(t<86400)return"".concat(Math.floor(t/3600),"h");return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})},DH=e=>{let{post:n,onReact:r,onVote:a,onComment:s}=e;const[i,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)("\u2764\ufe0f"===n.myReaction),[m,h]=(0,t.useState)(Object.values(n.reactions).reduce((e,t)=>e+t,0)),[p,f]=(0,t.useState)(!1),[x,g]=(0,t.useState)(Math.floor(50*Math.random())+1),[v,b]=(0,t.useState)(!1),[y]=(0,t.useState)(Math.floor(1e3*Math.random())+100),j="alert"===n.type,w="poll"===n.type,N=e=>"@".concat(e.replace("-","_")),k=()=>{o.trim()&&(s(n.id,o),c(""))};return(0,Tt.jsx)("article",{className:"border-b border-[#2f3336] hover:bg-white/[0.03] transition-colors cursor-pointer ".concat(j?"border-l-2 border-l-destructive bg-destructive/5":""),"data-testid":"post-".concat(n.id),children:(0,Tt.jsxs)("div",{className:"px-4 py-3 flex gap-3",children:[(0,Tt.jsx)("div",{className:"flex-shrink-0",children:(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(PH(n.author.node_id)," flex items-center justify-center text-white font-bold text-sm cursor-pointer hover:opacity-90 transition-opacity"),children:n.author.name.charAt(0)})}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1 min-w-0 flex-wrap",children:[(0,Tt.jsx)("span",{className:"font-bold text-[15px] text-[#e7e9ea] hover:underline cursor-pointer truncate",children:n.author.name}),j&&(0,Tt.jsx)("span",{className:"px-1.5 py-0.5 text-[10px] font-bold rounded bg-destructive text-white ml-1",children:"ALERT"}),(0,Tt.jsx)("span",{className:"text-[#71767b] text-[15px] truncate",children:N(n.author.node_id)}),(0,Tt.jsx)("span",{className:"text-[#71767b] text-[15px]",children:"\xb7"}),(0,Tt.jsx)("span",{className:"text-[#71767b] text-[15px] hover:underline cursor-pointer",children:TH(n.timestamp)}),!n.synced&&(0,Tt.jsx)("span",{className:"text-xs text-warning ml-1",children:"\u2022 pending"})]}),(0,Tt.jsx)("button",{className:"p-2 -m-2 rounded-full hover:bg-[#1d9bf0]/10 text-[#71767b] hover:text-[#1d9bf0] transition-colors group",children:(0,Tt.jsx)(Ut,{className:"w-[18px] h-[18px]"})})]}),(0,Tt.jsx)("div",{className:"mt-0.5",children:(0,Tt.jsx)("p",{className:"text-[15px] leading-[20px] text-[#e7e9ea] whitespace-pre-wrap break-words",children:n.content})}),w&&n.poll&&(0,Tt.jsxs)("div",{className:"mt-3 space-y-2","data-testid":"poll-".concat(n.id),children:[n.poll.options.map(e=>{const t=n.poll.totalVotes>0?Math.round(e.votes/n.poll.totalVotes*100):0,r=n.poll.myVote===e.id,s=t===Math.max(...n.poll.options.map(e=>n.poll.totalVotes>0?Math.round(e.votes/n.poll.totalVotes*100):0));return(0,Tt.jsxs)("button",{onClick:()=>a(n.id,e.id),className:"w-full text-left relative overflow-hidden rounded-lg border border-[#536471] hover:border-[#1d9bf0] transition-colors","data-testid":"poll-option-".concat(e.id),children:[(0,Tt.jsx)("div",{className:"absolute inset-y-0 left-0 transition-all ".concat(r?"bg-[#1d9bf0]/30":s?"bg-[#71767b]/30":"bg-[#71767b]/20"),style:{width:"".concat(t,"%")}}),(0,Tt.jsxs)("div",{className:"relative px-3 py-2.5 flex items-center justify-between",children:[(0,Tt.jsxs)("span",{className:"text-[15px] ".concat(r?"font-bold text-[#e7e9ea]":"text-[#e7e9ea]"),children:[r&&(0,Tt.jsx)(WL,{className:"w-4 h-4 inline mr-1.5 text-[#1d9bf0]"}),e.text]}),(0,Tt.jsxs)("span",{className:"text-[15px] ".concat(s?"font-bold text-[#e7e9ea]":"text-[#71767b]"),children:[t,"%"]})]})]},e.id)}),(0,Tt.jsxs)("div",{className:"text-[13px] text-[#71767b] pt-1",children:[n.poll.totalVotes," votes \xb7 ",n.poll.expiresAt>new Date?"Poll active":"Final results"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between mt-3 max-w-[425px] -ml-2",children:[(0,Tt.jsxs)("button",{onClick:e=>{e.stopPropagation(),l(!i)},className:"flex items-center gap-1 group","data-testid":"reply-btn-".concat(n.id),children:[(0,Tt.jsx)("div",{className:"p-2 rounded-full group-hover:bg-[#1d9bf0]/10 transition-colors",children:(0,Tt.jsx)(_H,{className:"w-[18px] h-[18px] text-[#71767b] group-hover:text-[#1d9bf0]"})}),n.comments.length>0&&(0,Tt.jsx)("span",{className:"text-[13px] text-[#71767b] group-hover:text-[#1d9bf0] -ml-1",children:n.comments.length})]}),(0,Tt.jsxs)("button",{onClick:e=>{e.stopPropagation(),f(!p),g(e=>p?e-1:e+1)},className:"flex items-center gap-1 group","data-testid":"retweet-btn-".concat(n.id),children:[(0,Tt.jsx)("div",{className:"p-2 rounded-full transition-colors ".concat(p?"text-[#00ba7c]":"group-hover:bg-[#00ba7c]/10"),children:(0,Tt.jsx)(Zt.A,{className:"w-[18px] h-[18px] ".concat(p?"text-[#00ba7c]":"text-[#71767b] group-hover:text-[#00ba7c]")})}),(0,Tt.jsx)("span",{className:"text-[13px] -ml-1 ".concat(p?"text-[#00ba7c]":"text-[#71767b] group-hover:text-[#00ba7c]"),children:x})]}),(0,Tt.jsxs)("button",{onClick:e=>{e.stopPropagation(),d?(h(e=>e-1),r(n.id,null)):(h(e=>e+1),r(n.id,"\u2764\ufe0f")),u(!d)},className:"flex items-center gap-1 group","data-testid":"like-btn-".concat(n.id),children:[(0,Tt.jsx)("div",{className:"p-2 rounded-full transition-colors ".concat(d?"":"group-hover:bg-[#f91880]/10"),children:(0,Tt.jsx)(wn,{className:"w-[18px] h-[18px] transition-colors ".concat(d?"fill-[#f91880] text-[#f91880]":"text-[#71767b] group-hover:text-[#f91880]")})}),m>0&&(0,Tt.jsx)("span",{className:"text-[13px] -ml-1 ".concat(d?"text-[#f91880]":"text-[#71767b] group-hover:text-[#f91880]"),children:m})]}),(0,Tt.jsxs)("button",{className:"flex items-center gap-1 group","data-testid":"views-btn-".concat(n.id),children:[(0,Tt.jsx)("div",{className:"p-2 rounded-full group-hover:bg-[#1d9bf0]/10 transition-colors",children:(0,Tt.jsx)(Rt,{className:"w-[18px] h-[18px] text-[#71767b] group-hover:text-[#1d9bf0]"})}),(0,Tt.jsx)("span",{className:"text-[13px] text-[#71767b] group-hover:text-[#1d9bf0] -ml-1",children:(A=y,A>=1e3?"".concat((A/1e3).toFixed(1),"K"):A.toString())})]}),(0,Tt.jsxs)("div",{className:"flex items-center",children:[(0,Tt.jsx)("button",{onClick:e=>{e.stopPropagation(),b(!v)},className:"p-2 rounded-full hover:bg-[#1d9bf0]/10 transition-colors group","data-testid":"bookmark-btn-".concat(n.id),children:(0,Tt.jsx)("svg",{viewBox:"0 0 24 24",className:"w-[18px] h-[18px] ".concat(v?"fill-[#1d9bf0] text-[#1d9bf0]":"text-[#71767b] group-hover:text-[#1d9bf0]"),children:(0,Tt.jsx)("path",{fill:"currentColor",d:v?"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.12 20 4.5v18.44l-8-5.71-8 5.71V4.5z":"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.12 20 4.5v18.44l-8-5.71-8 5.71V4.5zM6.5 4c-.276 0-.5.22-.5.5v14.56l6-4.29 6 4.29V4.5c0-.28-.224-.5-.5-.5h-11z"})})}),(0,Tt.jsx)("button",{className:"p-2 rounded-full hover:bg-[#1d9bf0]/10 transition-colors group","data-testid":"share-btn-".concat(n.id),children:(0,Tt.jsx)(CH,{className:"w-[18px] h-[18px] text-[#71767b] group-hover:text-[#1d9bf0]"})})]})]}),i&&(0,Tt.jsxs)("div",{className:"mt-3 border-t border-[#2f3336] pt-3 space-y-3","data-testid":"comments-".concat(n.id),children:[n.comments.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex gap-3",children:[(0,Tt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full ".concat(PH(e.author.node_id)," flex items-center justify-center text-white text-xs font-bold flex-shrink-0"),children:e.author.name.charAt(0)}),t<n.comments.length-1&&(0,Tt.jsx)("div",{className:"w-0.5 flex-1 bg-[#2f3336] mt-1"})]}),(0,Tt.jsxs)("div",{className:"flex-1 pb-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)("span",{className:"font-bold text-[15px] text-[#e7e9ea] hover:underline cursor-pointer",children:e.author.name}),(0,Tt.jsx)("span",{className:"text-[#71767b] text-[15px]",children:N(e.author.node_id)}),(0,Tt.jsx)("span",{className:"text-[#71767b] text-[15px]",children:"\xb7"}),(0,Tt.jsx)("span",{className:"text-[#71767b] text-[15px]",children:TH(e.timestamp)})]}),(0,Tt.jsx)("p",{className:"text-[15px] text-[#e7e9ea] mt-0.5",children:e.content})]})]},e.id)),(0,Tt.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full bg-[#1d9bf0]/20 flex items-center justify-center text-[#1d9bf0] text-xs font-bold flex-shrink-0",children:"Y"}),(0,Tt.jsxs)("div",{className:"flex-1 flex gap-2 items-center",children:[(0,Tt.jsx)("input",{value:o,onChange:e=>c(e.target.value),placeholder:"Post your reply",className:"flex-1 bg-transparent border-none outline-none text-[15px] text-[#e7e9ea] placeholder:text-[#71767b]",onKeyDown:e=>"Enter"===e.key&&k(),onClick:e=>e.stopPropagation()}),(0,Tt.jsx)(gn.$,{size:"sm",className:"rounded-full px-4 h-8 font-bold bg-[#1d9bf0] hover:bg-[#1a8cd8] text-white",onClick:e=>{e.stopPropagation(),k()},disabled:!o.trim(),children:"Reply"})]})]})]})]})]})});var A},IH=e=>{let{onPost:n,onClose:r}=e;const[a,i]=(0,t.useState)(""),[l,o]=(0,t.useState)("post"),[c,d]=(0,t.useState)(["",""]),[u,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1);return(0,Tt.jsxs)("div",{className:"glass-strong rounded-xl p-4 space-y-4 animate-fade-in","data-testid":"new-post-composer",children:[(0,Tt.jsx)("div",{className:"flex gap-2",children:[{id:"post",label:"Post",icon:_H},{id:"alert",label:"Alert",icon:aa},{id:"poll",label:"Poll",icon:Rt}].map(e=>{let{id:t,label:n,icon:r}=e;return(0,Tt.jsxs)("button",{onClick:()=>o(t),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-all ".concat(l===t?"alert"===t?"bg-destructive text-destructive-foreground":"poll"===t?"bg-warning text-warning-foreground":"bg-primary text-primary-foreground":"glass hover:bg-muted"),children:[(0,Tt.jsx)(r,{className:"w-4 h-4"}),n]},t)})}),(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:()=>{const e={battery:{percentage:72,runtime:"4h 5m"},gps:{fix:"3D",accuracy:"\xb110 ft"},comms:{available:2,degraded:1,unavailable:2,selected:"LAN / Wi-Fi"}},t=(new Date).toLocaleString(),n="\ud83d\udcca #StatusReport\n\n\ud83d\udd0b Battery: ".concat(e.battery.percentage,"% | Runtime: ").concat(e.battery.runtime,"\n\ud83d\udccd GPS: ").concat(e.gps.fix," Fix | Accuracy: ").concat(e.gps.accuracy,"\n\ud83d\udce1 Comms: ").concat(e.comms.available," UP / ").concat(e.comms.degraded," WEAK / ").concat(e.comms.unavailable," DOWN\n\ud83d\udd0c Using: ").concat(e.comms.selected,"\n\n\u23f0 ").concat(t);i(n),o(h?"alert":"post")},className:"w-full flex items-center justify-center gap-2 border-primary/30 hover:bg-primary/10","data-testid":"status-report-btn",children:[(0,Tt.jsx)(nn.A,{className:"w-4 h-4 text-primary"}),(0,Tt.jsx)("span",{className:"font-medium",children:"Post Status Report"}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:"(Auto-fill from device)"})]}),a.includes("#StatusReport")&&(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,Tt.jsx)("input",{type:"checkbox",id:"alert-toggle",checked:h,onChange:e=>{p(e.target.checked),o(e.target.checked?"alert":"post")},className:"w-4 h-4 rounded border-destructive accent-destructive"}),(0,Tt.jsxs)("label",{htmlFor:"alert-toggle",className:"flex items-center gap-1.5 cursor-pointer",children:[(0,Tt.jsx)(aa,{className:"w-4 h-4 text-destructive"}),(0,Tt.jsx)("span",{className:"text-destructive font-medium",children:"Share as Alert"})]})]}),(0,Tt.jsx)("textarea",{value:a,onChange:e=>i(e.target.value),placeholder:"alert"===l?"What's the urgent update?":"poll"===l?"What's your question?":"What's on your mind?",className:"w-full h-24 p-3 rounded-lg glass border-0 resize-none text-sm focus:outline-none focus:ring-2 focus:ring-primary"}),"poll"===l&&(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,Tt.jsx)("input",{type:"checkbox",id:"image-poll",checked:u,onChange:e=>m(e.target.checked),className:"w-4 h-4 rounded"}),(0,Tt.jsxs)("label",{htmlFor:"image-poll",className:"flex items-center gap-1.5 cursor-pointer text-muted-foreground",children:[(0,Tt.jsx)(YR,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{children:"Add images to options"}),(0,Tt.jsx)("span",{className:"text-xs",children:"(coming soon)"})]})]}),c.map((e,t)=>(0,Tt.jsxs)("div",{className:"flex gap-2",children:[u&&(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-lg glass border-2 border-dashed border-muted-foreground/30 flex items-center justify-center flex-shrink-0",children:(0,Tt.jsx)(YR,{className:"w-5 h-5 text-muted-foreground/50"})}),(0,Tt.jsx)(yn,{value:e,onChange:e=>{const n=[...c];n[t]=e.target.value,d(n)},placeholder:"Option ".concat(t+1),className:"flex-1"}),c.length>2&&(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 text-destructive",onClick:()=>(e=>{c.length>2&&d(c.filter((t,n)=>n!==e))})(t),children:(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"})})]},t)),c.length<4&&(0,Tt.jsxs)(gn.$,{variant:"ghost",size:"sm",onClick:()=>{c.length<4&&d([...c,""])},className:"w-full",children:[(0,Tt.jsx)(hT,{className:"w-4 h-4 mr-1"}),"Add Option"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",className:"h-8",title:"Add image (coming soon)",children:(0,Tt.jsx)(YR,{className:"w-4 h-4"})}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",className:"h-8",children:(0,Tt.jsx)(SH,{className:"w-4 h-4"})})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:r,children:"Cancel"}),(0,Tt.jsx)(gn.$,{size:"sm",onClick:()=>{if(!a.trim())return;const e=(0,s.A)({type:l,content:a},"poll"===l&&{poll:{options:c.filter(e=>e.trim()).map((e,t)=>({id:"new-opt-".concat(t),text:e,image:u?"placeholder-image-".concat(t):null,votes:0})),expiresAt:new Date(Date.now()+864e5),hasImages:u}});n(e),r()},disabled:!a.trim(),className:"alert"===l?"bg-destructive hover:bg-destructive/90":"",children:"Post"})]})]})]})};function RH(){const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!1),[i,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)("all"),[d,u]=(0,t.useState)(!0);(0,t.useEffect)(()=>{setTimeout(()=>{n([{id:"post-001",type:"alert",author:{node_id:"omega-03",name:"Kids' OMEGA",avatar:null},content:"\u26a0\ufe0f Battery critical on Kids device! Need charger ASAP!",timestamp:new Date(Date.now()-3e5),reactions:{"\ud83d\udc4d":2,"\u2764\ufe0f":1,"\ud83d\ude2e":1},myReaction:"\ud83d\ude2e",comments:[{id:"c1",author:{node_id:"omega-01",name:"Dad's OMEGA"},content:"On my way with the backup battery!",timestamp:new Date(Date.now()-24e4)},{id:"c2",author:{node_id:"omega-02",name:"Mom's OMEGA"},content:"There's a solar charger in the blue bag",timestamp:new Date(Date.now()-18e4)}],synced:!0},{id:"post-002",type:"poll",author:{node_id:"omega-01",name:"Dad's OMEGA",avatar:null},content:"Where should we set up camp tonight?",timestamp:new Date(Date.now()-36e5),poll:{options:[{id:"opt1",text:"North Ridge - better signal",votes:2},{id:"opt2",text:"Valley - more shelter",votes:1},{id:"opt3",text:"Stay at current location",votes:0}],myVote:"opt1",totalVotes:3,expiresAt:new Date(Date.now()+72e6)},reactions:{"\ud83d\udc4d":3},myReaction:null,comments:[],synced:!0},{id:"post-003",type:"post",author:{node_id:"omega-02",name:"Mom's OMEGA",avatar:null},content:"Found fresh water source about 500 feet east of here. Water test kit shows safe to drink after boiling. \ud83c\udf0a",timestamp:new Date(Date.now()-72e5),reactions:{"\ud83d\udc4d":3,"\u2764\ufe0f":2},myReaction:"\ud83d\udc4d",comments:[{id:"c3",author:{node_id:"omega-01",name:"Dad's OMEGA"},content:"Great find! Marking on the map.",timestamp:new Date(Date.now()-7e6)}],synced:!0},{id:"post-004",type:"post",author:{node_id:"omega-01",name:"Dad's OMEGA",avatar:null},content:"Weather forecast from radio: Clear skies next 48hrs, then possible rain. Plan accordingly. \u26c5",timestamp:new Date(Date.now()-144e5),reactions:{"\ud83d\udc4d":4},myReaction:null,comments:[],synced:!0},{id:"post-005",type:"post",author:{node_id:"omega-04",name:"Backup OMEGA",avatar:null},content:"Note: This device will be offline for the next 2 hours while I hike to the overlook for better signal.",timestamp:new Date(Date.now()-18e6),reactions:{"\ud83d\udc4d":2},myReaction:null,comments:[],synced:!1}]),u(!1)},500)},[]);const m=(t,r)=>{n(e.map(e=>{if(e.id!==t)return e;const n=(0,s.A)({},e.reactions);return e.myReaction&&n[e.myReaction]>0&&(n[e.myReaction]--,0===n[e.myReaction]&&delete n[e.myReaction]),e.myReaction!==r?(n[r]=(n[r]||0)+1,(0,s.A)((0,s.A)({},e),{},{reactions:n,myReaction:r})):(0,s.A)((0,s.A)({},e),{},{reactions:n,myReaction:null})}))},h=(t,r)=>{n(e.map(e=>{if(e.id!==t||!e.poll)return e;const n=e.poll.options.map(t=>t.id===e.poll.myVote?(0,s.A)((0,s.A)({},t),{},{votes:t.votes-1}):t.id===r?(0,s.A)((0,s.A)({},t),{},{votes:t.votes+1}):t);return(0,s.A)((0,s.A)({},e),{},{poll:(0,s.A)((0,s.A)({},e.poll),{},{options:n,myVote:r})})}))},p=(t,r)=>{n(e.map(e=>e.id!==t?e:(0,s.A)((0,s.A)({},e),{},{comments:[...e.comments,{id:"c-new-".concat(Date.now()),author:{node_id:"omega-self",name:"You"},content:r,timestamp:new Date}]})))},f="all"===o?e:e.filter(e=>e.type===o);return r?(0,Tt.jsxs)(Iz,{className:"glass-strong border-border-strong","data-testid":"community-tile",children:[(0,Tt.jsx)(Rz,{className:"pb-3",children:(0,Tt.jsxs)(Lz,{className:"flex items-center justify-between text-base",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Lt.A,{className:"w-5 h-5 text-primary"}),"Community Help"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>a(!1),children:"\u2190 Back"})]})}),(0,Tt.jsx)(zz,{children:(0,Tt.jsx)(CW,{helpContent:EH,troubleshootingContent:OH,legendItems:MH})})]}):(0,Tt.jsxs)("div",{className:"glass-strong border border-border-strong rounded-2xl overflow-hidden","data-testid":"community-tile",children:[(0,Tt.jsxs)("div",{className:"sticky top-0 z-10 backdrop-blur-xl bg-black/80 border-b border-[#2f3336]",children:[(0,Tt.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between",children:[(0,Tt.jsx)("h2",{className:"text-xl font-bold text-[#e7e9ea]",children:"Community"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)("button",{onClick:()=>l(!i),className:"p-2 rounded-full hover:bg-[#1d9bf0]/10 text-[#1d9bf0] transition-colors",title:"New Post","data-testid":"new-post-btn",children:(0,Tt.jsx)(hT,{className:"w-5 h-5"})}),(0,Tt.jsx)("button",{className:"p-2 rounded-full hover:bg-white/10 text-[#e7e9ea] transition-colors",title:"Settings","data-testid":"community-settings-btn",children:(0,Tt.jsx)(Ft,{className:"w-5 h-5"})}),(0,Tt.jsx)("button",{onClick:()=>a(!0),className:"p-2 rounded-full hover:bg-white/10 text-[#71767b] transition-colors",title:"Help","data-testid":"community-help-btn",children:(0,Tt.jsx)(an.A,{className:"w-5 h-5"})})]})]}),(0,Tt.jsx)("div",{className:"flex",children:[{id:"all",label:"For you"},{id:"alert",label:"Alerts"},{id:"poll",label:"Polls"}].map(e=>{let{id:t,label:n}=e;return(0,Tt.jsxs)("button",{onClick:()=>c(t),className:"flex-1 py-4 text-[15px] font-medium transition-colors relative hover:bg-white/5 ".concat(o===t?"text-[#e7e9ea]":"text-[#71767b]"),"data-testid":"filter-".concat(t),children:[n,o===t&&(0,Tt.jsx)("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-14 h-1 bg-[#1d9bf0] rounded-full"})]},t)})})]}),i&&(0,Tt.jsx)("div",{className:"border-b border-[#2f3336] p-4",children:(0,Tt.jsx)(IH,{onPost:t=>{const r=(0,s.A)((0,s.A)({id:"post-new-".concat(Date.now())},t),{},{author:{node_id:"omega-self",name:"You",avatar:null},timestamp:new Date,reactions:{},myReaction:null,comments:[],synced:!1,poll:t.poll?(0,s.A)((0,s.A)({},t.poll),{},{myVote:null,totalVotes:0}):void 0});n([r,...e])},onClose:()=>l(!1)})}),d?(0,Tt.jsx)("div",{className:"divide-y divide-[#2f3336]",children:[1,2,3].map(e=>(0,Tt.jsxs)("div",{className:"p-4 flex gap-3",children:[(0,Tt.jsx)("div",{className:"skeleton w-10 h-10 rounded-full bg-[#2f3336]"}),(0,Tt.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,Tt.jsx)("div",{className:"skeleton h-4 w-32 bg-[#2f3336] rounded"}),(0,Tt.jsx)("div",{className:"skeleton h-4 w-full bg-[#2f3336] rounded"}),(0,Tt.jsx)("div",{className:"skeleton h-4 w-3/4 bg-[#2f3336] rounded"})]})]},e))}):(0,Tt.jsx)("div",{className:"divide-y-0","data-testid":"community-feed",children:0===f.length?(0,Tt.jsxs)("div",{className:"text-center py-16 text-[#71767b]",children:[(0,Tt.jsx)(_H,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),(0,Tt.jsxs)("p",{className:"text-xl font-bold text-[#e7e9ea]",children:["No ","all"===o?"posts":o+"s"," yet"]}),(0,Tt.jsx)("p",{className:"text-[15px] mt-1",children:"When there are posts, they'll show up here."})]}):f.map(e=>(0,Tt.jsx)(DH,{post:e,onReact:m,onVote:h,onComment:p},e.id))})]})}var LH=__webpack_require__(8027);const zH=(0,It.A)("tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]),FH=(0,It.A)("gamepad-2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),BH=(0,It.A)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),UH=(0,It.A)("skip-back",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),WH=(0,It.A)("skip-forward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),HH=(0,It.A)("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),qH=(0,It.A)("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),KH=(0,It.A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),VH=(0,It.A)("list-music",[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]]),GH=[{id:"all",label:"All",icon:Ft,color:"from-pink-500 to-violet-500"},{id:"movies",label:"Movies",icon:dn,color:"from-red-500 to-orange-500"},{id:"shows",label:"Shows",icon:zH,color:"from-violet-500 to-purple-500"},{id:"games",label:"Games",icon:FH,color:"from-green-500 to-emerald-500"},{id:"music",label:"Music",icon:BH,color:"from-cyan-500 to-blue-500"}],$H=[{id:"m1",title:"Apocalypse Dawn",type:"movie",year:"2024",rating:8.4,duration:"2h 18m",genre:"Action",gradient:"from-red-500 to-orange-500",downloaded:!0},{id:"m2",title:"Silent Earth",type:"movie",year:"2023",rating:7.9,duration:"1h 52m",genre:"Sci-Fi",gradient:"from-blue-500 to-cyan-500",downloaded:!0},{id:"m3",title:"Grid Down",type:"movie",year:"2023",rating:7.5,duration:"1h 48m",genre:"Drama",gradient:"from-amber-500 to-red-500",downloaded:!1},{id:"m4",title:"Bunker Protocol",type:"movie",year:"2024",rating:8.7,duration:"2h 22m",genre:"Action",gradient:"from-slate-600 to-gray-800",downloaded:!0},{id:"s1",title:"Survival Protocol",type:"show",year:"2024",rating:8.9,seasons:2,genre:"Drama",gradient:"from-emerald-500 to-teal-500",progress:65},{id:"s2",title:"The Compound",type:"show",year:"2023",rating:8.2,seasons:3,genre:"Thriller",gradient:"from-violet-500 to-purple-500",progress:100},{id:"s3",title:"Off Grid",type:"show",year:"2024",rating:7.8,seasons:1,genre:"Documentary",gradient:"from-amber-500 to-orange-500",progress:25},{id:"s4",title:"Dark Winter",type:"show",year:"2023",rating:8.8,seasons:1,genre:"Horror",gradient:"from-slate-700 to-gray-900",progress:80},{id:"g1",title:"Tactical Ops",type:"game",genre:"Strategy",players:"1-4",playTime:"12h",gradient:"from-red-500 to-orange-500",offline:!0},{id:"g2",title:"Wilderness Survival",type:"game",genre:"Simulation",players:"1",playTime:"45h",gradient:"from-green-500 to-emerald-500",offline:!0},{id:"g3",title:"Chess Master",type:"game",genre:"Board",players:"1-2",playTime:"8h",gradient:"from-amber-500 to-yellow-500",offline:!0},{id:"g4",title:"Card Battles",type:"game",genre:"Card",players:"2-4",playTime:"15h",gradient:"from-indigo-500 to-violet-500",offline:!0},{id:"a1",title:"Road Warriors",type:"album",artist:"Dust Storm",tracks:12,gradient:"from-pink-500 to-rose-500"},{id:"a2",title:"Silent Frequencies",type:"album",artist:"Radio Ghost",tracks:10,gradient:"from-cyan-500 to-blue-500"},{id:"a3",title:"Campfire Sessions",type:"album",artist:"Acoustic Drift",tracks:8,gradient:"from-orange-500 to-amber-500"},{id:"a4",title:"Digital Decay",type:"album",artist:"Neon Collapse",tracks:14,gradient:"from-purple-500 to-pink-500"}],YH=[{id:"t1",title:"Horizon Line",artist:"Dust Storm",album:"Road Warriors",duration:"4:23",favorite:!0,gradient:"from-pink-500 to-rose-500"},{id:"t2",title:"Desert Highway",artist:"Dust Storm",album:"Road Warriors",duration:"3:45",favorite:!1,gradient:"from-pink-500 to-rose-500"},{id:"t3",title:"Static Dreams",artist:"Radio Ghost",album:"Silent Frequencies",duration:"5:12",favorite:!0,gradient:"from-cyan-500 to-blue-500"},{id:"t4",title:"Lost Signal",artist:"Radio Ghost",album:"Silent Frequencies",duration:"4:01",favorite:!1,gradient:"from-cyan-500 to-blue-500"},{id:"t5",title:"Embers",artist:"Acoustic Drift",album:"Campfire Sessions",duration:"3:28",favorite:!0,gradient:"from-orange-500 to-amber-500"},{id:"t6",title:"Starlight Lullaby",artist:"Acoustic Drift",album:"Campfire Sessions",duration:"4:55",favorite:!1,gradient:"from-orange-500 to-amber-500"},{id:"t7",title:"Neon Nights",artist:"Neon Collapse",album:"Digital Decay",duration:"3:33",favorite:!1,gradient:"from-purple-500 to-pink-500"},{id:"t8",title:"System Failure",artist:"Neon Collapse",album:"Digital Decay",duration:"4:47",favorite:!0,gradient:"from-purple-500 to-pink-500"}],ZH=[{id:"p1",name:"Road Trip Vibes",trackCount:24,gradient:"from-amber-500 to-orange-500"},{id:"p2",name:"Night Watch",trackCount:18,gradient:"from-indigo-500 to-purple-500"},{id:"p3",name:"Calm & Focus",trackCount:12,gradient:"from-emerald-500 to-teal-500"}],QH=e=>{let{item:t,size:n="normal"}=e;const r="game"===t.type,a="album"===t.type,s="show"===t.type,i=r?FH:a?BH:s?zH:dn;return(0,Tt.jsxs)("div",{className:"group cursor-pointer",children:[(0,Tt.jsxs)("div",{className:"".concat("small"===n?"aspect-square":s?"aspect-video":"aspect-[2/3]"," rounded-xl bg-gradient-to-br ").concat(t.gradient," relative overflow-hidden shadow-lg group-hover:shadow-xl transition-all group-hover:scale-[1.02]"),children:[(0,Tt.jsx)(i,{className:"absolute inset-0 m-auto w-8 h-8 text-white/20"}),(0,Tt.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all flex items-center justify-center",children:(0,Tt.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity transform scale-90 group-hover:scale-100",children:(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-full bg-white/90 dark:bg-white flex items-center justify-center shadow-xl",children:(0,Tt.jsx)(gr.A,{className:"w-5 h-5 text-gray-900 ml-0.5"})})})}),s&&t.progress>0&&t.progress<100&&(0,Tt.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/30",children:(0,Tt.jsx)("div",{className:"h-full bg-white",style:{width:"".concat(t.progress,"%")}})}),t.downloaded&&(0,Tt.jsx)("div",{className:"absolute top-2 right-2 bg-white/90 dark:bg-black/70 rounded-full p-1.5 shadow-md",children:(0,Tt.jsx)(Xt,{className:"w-3 h-3 text-emerald-500"})}),(0,Tt.jsx)("div",{className:"absolute top-2 left-2 bg-white/90 dark:bg-black/70 rounded-full px-2 py-0.5 text-[10px] font-bold uppercase tracking-wide shadow-md",children:t.type})]}),(0,Tt.jsxs)("div",{className:"mt-2",children:[(0,Tt.jsx)("p",{className:"font-semibold text-sm truncate",children:t.title}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[t.year&&(0,Tt.jsx)("span",{children:t.year}),t.artist&&(0,Tt.jsx)("span",{children:t.artist}),t.genre&&(0,Tt.jsx)("span",{children:t.genre}),t.rating&&(0,Tt.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,Tt.jsx)(ZR,{className:"w-3 h-3 text-amber-400 fill-amber-400"}),(0,Tt.jsx)("span",{className:"text-amber-500 dark:text-amber-400 font-medium",children:t.rating})]})]})]})]})},JH=e=>{let{currentTrack:n,isPlaying:r,onPlayPause:a,onNext:s,onPrev:i,onToggleFavorite:l,tracks:o,onSelectTrack:c}=e;const[d,u]=(0,t.useState)(75),[m,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),[x,g]=(0,t.useState)(!1),[v,b]=(0,t.useState)(35),[y,j]=(0,t.useState)(!1),[w,N]=(0,t.useState)(!1);return(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-4 space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Tt.jsxs)("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-xl bg-gradient-to-br ".concat(n.gradient," flex-shrink-0 shadow-lg relative overflow-hidden"),children:[(0,Tt.jsx)(BH,{className:"absolute inset-0 m-auto w-10 h-10 text-white/30"}),r&&(0,Tt.jsx)("div",{className:"absolute bottom-2 left-2 right-2 flex items-end justify-center gap-0.5",children:[1,2,3,4,5].map(e=>(0,Tt.jsx)("div",{className:"w-1 bg-white rounded-full animate-pulse",style:{height:"".concat(8+12*Math.random(),"px"),animationDelay:"".concat(.1*e,"s")}},e))})]}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"font-bold text-lg truncate",children:n.title}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:n.artist}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:n.album})]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>l(n.id),className:"h-9 w-9 p-0 ".concat(n.favorite?"text-pink-500":"text-muted-foreground"),children:(0,Tt.jsx)(wn,{className:"w-5 h-5 ".concat(n.favorite?"fill-current":"")})})]}),(0,Tt.jsxs)("div",{className:"mt-4 space-y-1",children:[(0,Tt.jsx)("div",{className:"h-2 bg-secondary rounded-full overflow-hidden cursor-pointer group",onClick:e=>{const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*100;b(Math.max(0,Math.min(100,n)))},children:(0,Tt.jsx)("div",{className:"h-full bg-gradient-to-r ".concat(n.gradient," rounded-full transition-all relative"),style:{width:"".concat(v,"%")},children:(0,Tt.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full shadow opacity-0 group-hover:opacity-100 transition-opacity"})})}),(0,Tt.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,Tt.jsx)("span",{children:(e=>{const t=Math.floor(e/100*263),n=Math.floor(t/60),r=t%60;return"".concat(n,":").concat(r.toString().padStart(2,"0"))})(v)}),(0,Tt.jsx)("span",{children:n.duration})]})]})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-center gap-2 sm:gap-4",children:[(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>N(!w),className:"h-9 w-9 p-0 ".concat(w?"text-primary":"text-muted-foreground"),children:(0,Tt.jsx)(sn,{className:"w-4 h-4"})}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:i,className:"h-10 w-10 p-0",children:(0,Tt.jsx)(UH,{className:"w-5 h-5"})}),(0,Tt.jsx)(gn.$,{onClick:a,className:"h-14 w-14 rounded-full bg-gradient-to-r ".concat(n.gradient," hover:opacity-90 shadow-lg"),children:r?(0,Tt.jsx)(na,{className:"w-6 h-6 text-white"}):(0,Tt.jsx)(gr.A,{className:"w-6 h-6 text-white ml-0.5"})}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:s,className:"h-10 w-10 p-0",children:(0,Tt.jsx)(WH,{className:"w-5 h-5"})}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>j(!y),className:"h-9 w-9 p-0 ".concat(y?"text-primary":"text-muted-foreground"),children:(0,Tt.jsx)(HH,{className:"w-4 h-4"})})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 px-4",children:[(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>h(!m),className:"h-8 w-8 p-0 text-muted-foreground",children:m?(0,Tt.jsx)(qH,{className:"w-4 h-4"}):(0,Tt.jsx)(KH,{className:"w-4 h-4"})}),(0,Tt.jsx)("div",{className:"flex-1 h-1.5 bg-secondary rounded-full overflow-hidden cursor-pointer",onClick:e=>{const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*100;u(Math.max(0,Math.min(100,n))),h(!1)},children:(0,Tt.jsx)("div",{className:"h-full bg-primary rounded-full",style:{width:m?0:"".concat(d,"%")}})}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground w-8",children:[m?0:d,"%"]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:()=>f(!p),className:"gap-2 ".concat(p?"bg-primary/10 border-primary text-primary":""),children:[(0,Tt.jsx)(nn.A,{className:"w-4 h-4"}),p?"Hide Lyrics":"Show Lyrics"]}),(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",onClick:()=>g(!x),className:"gap-2 ".concat(x?"bg-primary/10 border-primary text-primary":""),children:[(0,Tt.jsx)(VH,{className:"w-4 h-4"}),x?"Hide Playlists":"Add to Playlist"]})]})]}),p&&(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-4 space-y-3 animate-fade-in",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(nn.A,{className:"w-4 h-4 text-primary"}),"Lyrics"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>f(!1),className:"h-7 w-7 p-0",children:(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"})})]}),(0,Tt.jsx)("div",{className:"max-h-64 overflow-y-auto scrollbar-thin",children:(0,Tt.jsx)("pre",{className:"text-sm text-muted-foreground whitespace-pre-wrap font-sans leading-relaxed",children:"[Verse 1]\nStanding on the edge of time\nWatching as the world unwinds\nEvery signal starts to fade\nBut we're not afraid\n\n[Chorus]\nOn the horizon line\nWe'll find our way back home\nThrough the static and the noise\nWe're never alone\n\n[Verse 2]\nMiles of empty road ahead\nFollowing where the stars have led\nThe radio plays our song\nAs we carry on\n\n[Chorus]\nOn the horizon line\nWe'll find our way back home\nThrough the static and the noise\nWe're never alone\n\n[Bridge]\nWhen the lights go out\nAnd the power's down\nWe'll still be standing strong\nTogether we belong"})})]}),x&&(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-4 space-y-3 animate-fade-in",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,Tt.jsx)(VH,{className:"w-4 h-4 text-primary"}),"Your Playlists"]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"h-7 w-7 p-0",children:(0,Tt.jsx)(Bt.A,{className:"w-4 h-4"})})]}),(0,Tt.jsxs)(gn.$,{variant:"outline",className:"w-full gap-2 border-dashed",children:[(0,Tt.jsx)(hT,{className:"w-4 h-4"}),"Create New Playlist"]}),(0,Tt.jsx)("div",{className:"space-y-2",children:ZH.map(e=>(0,Tt.jsxs)("div",{className:"flex items-center gap-3 p-3 glass rounded-xl hover:bg-white/5 cursor-pointer transition-colors group",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br ".concat(e.gradient," flex items-center justify-center shadow"),children:(0,Tt.jsx)(VH,{className:"w-5 h-5 text-white/80"})}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("p",{className:"font-medium text-sm truncate",children:e.name}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.trackCount," tracks"]})]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8 p-0",children:(0,Tt.jsx)(hT,{className:"w-4 h-4"})})]},e.id))})]}),(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-4 space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h4",{className:"font-semibold",children:"All Tracks"}),(0,Tt.jsxs)("span",{className:"text-xs text-muted-foreground",children:[o.length," songs"]})]}),(0,Tt.jsx)("div",{className:"space-y-1 max-h-80 overflow-y-auto scrollbar-thin",children:o.map((e,t)=>(0,Tt.jsxs)("div",{onClick:()=>c(e),className:"flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors ".concat(e.id===n.id?"bg-primary/10":"hover:bg-white/5"),children:[(0,Tt.jsx)("span",{className:"w-6 text-center text-xs text-muted-foreground",children:e.id===n.id&&r?(0,Tt.jsx)("div",{className:"flex items-center justify-center gap-0.5",children:[1,2,3].map(e=>(0,Tt.jsx)("div",{className:"w-0.5 bg-primary rounded-full animate-pulse",style:{height:"".concat(6+6*Math.random(),"px"),animationDelay:"".concat(.15*e,"s")}},e))}):t+1}),(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br ".concat(e.gradient," flex items-center justify-center flex-shrink-0"),children:(0,Tt.jsx)(BH,{className:"w-4 h-4 text-white/50"})}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsx)("p",{className:"text-sm truncate ".concat(e.id===n.id?"font-semibold text-primary":""),children:e.title}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.artist})]}),(0,Tt.jsx)("span",{className:"text-xs text-muted-foreground",children:e.duration}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),l(e.id)},className:"h-8 w-8 p-0 ".concat(e.favorite?"text-pink-500":"text-muted-foreground opacity-0 group-hover:opacity-100"),children:(0,Tt.jsx)(wn,{className:"w-4 h-4 ".concat(e.favorite?"fill-current":"")})})]},e.id))})]})]})};function XH(){var e;const n=be(),[r,a]=(0,t.useState)("all"),[i,l]=(0,t.useState)(""),[o,c]=(0,t.useState)(YH[0]),[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(YH),p=$H.filter(e=>"all"===r||("movies"===r?"movie"===e.type:"shows"===r?"show"===e.type:"games"===r?"game"===e.type:"music"!==r||"album"===e.type)).filter(e=>""===i||e.title.toLowerCase().includes(i.toLowerCase()));return(0,Tt.jsxs)(Iz,{className:"overflow-hidden border-0 shadow-2xl bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-900 dark:via-slate-900 dark:to-slate-800","data-testid":"entertainment-tile",children:[(0,Tt.jsxs)("div",{className:"relative overflow-hidden",children:[(0,Tt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500 via-purple-500 via-blue-500 via-cyan-500 to-emerald-500 opacity-90"}),(0,Tt.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yIDItNCAyLTRzLTItMi00LTJjLTItMi00LTItNC0yczItMiAyLTRjMC0yLTItNC0yLTRzMi0yIDQtMmMyLTIgNC0yIDQtMnMtMiAyLTIgNGMwIDIgMiA0IDIgNHMtMiAyLTQgMmMtMiAyLTQgMi00IDJzMi0yIDItNHoiLz48L2c+PC9nPjwvc3ZnPg==')] opacity-30"}),(0,Tt.jsxs)("div",{className:"relative z-10 p-4 sm:p-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4 gap-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,Tt.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center shadow-lg flex-shrink-0",children:(0,Tt.jsx)(Ft,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-lg sm:text-2xl font-bold text-white tracking-tight",children:"Entertainment"}),(0,Tt.jsx)("p",{className:"text-white/80 text-xs sm:text-sm hidden sm:block",children:"Movies \u2022 Shows \u2022 Games \u2022 Music"})]})]}),(0,Tt.jsxs)(gn.$,{variant:"secondary",size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border-0 backdrop-blur-sm gap-1 sm:gap-2 text-xs sm:text-sm flex-shrink-0",children:[(0,Tt.jsx)(sn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Tt.jsx)("span",{className:"hidden xs:inline",children:"Surprise"})]})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-4 gap-1.5 sm:gap-3",children:[{icon:dn,label:"Movies",count:24,color:"bg-red-500/30"},{icon:zH,label:"Shows",count:12,color:"bg-violet-500/30"},{icon:FH,label:"Games",count:6,color:"bg-green-500/30"},{icon:BH,label:"Albums",count:18,color:"bg-cyan-500/30"}].map((e,t)=>(0,Tt.jsxs)("div",{className:"".concat(e.color," backdrop-blur-sm rounded-lg sm:rounded-xl p-2 sm:p-3 text-center"),children:[(0,Tt.jsx)(e.icon,{className:"w-4 h-4 sm:w-5 sm:h-5 mx-auto mb-0.5 sm:mb-1 text-white"}),(0,Tt.jsx)("p",{className:"text-sm sm:text-lg font-bold text-white",children:e.count}),(0,Tt.jsx)("p",{className:"text-[8px] sm:text-[10px] text-white/70 uppercase tracking-wide",children:e.label})]},t))})]})]}),(0,Tt.jsxs)(zz,{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,Tt.jsx)("div",{className:"flex flex-col sm:flex-row gap-3",children:(0,Tt.jsxs)("div",{className:"relative flex-1",children:[(0,Tt.jsx)(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,Tt.jsx)(yn,{placeholder:"Search entertainment...",value:i,onChange:e=>l(e.target.value),className:"pl-10 h-10 sm:h-11 bg-slate-100 dark:bg-slate-800/50 border-0 rounded-xl text-sm"})]})}),(0,Tt.jsx)("div",{className:"flex gap-1.5 sm:gap-2 overflow-x-auto pb-2 -mx-1 px-1 scrollbar-thin",children:GH.map(e=>{const t=e.icon,n=r===e.id;return(0,Tt.jsxs)("button",{onClick:()=>a(e.id),className:"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-full text-xs sm:text-sm font-semibold whitespace-nowrap transition-all flex-shrink-0 ".concat(n?"bg-gradient-to-r ".concat(e.color," text-white shadow-lg scale-105"):"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"),children:[(0,Tt.jsx)(t,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.label]},e.id)})}),"music"===r?(0,Tt.jsx)(JH,{currentTrack:o,isPlaying:d,onPlayPause:()=>u(!d),onNext:()=>{const e=(m.findIndex(e=>e.id===o.id)+1)%m.length;c(m[e])},onPrev:()=>{const e=m.findIndex(e=>e.id===o.id),t=0===e?m.length-1:e-1;c(m[t])},onToggleFavorite:e=>{h(t=>t.map(t=>t.id===e?(0,s.A)((0,s.A)({},t),{},{favorite:!t.favorite}):t)),o.id===e&&c(e=>(0,s.A)((0,s.A)({},e),{},{favorite:!e.favorite}))},tracks:m,onSelectTrack:e=>{c(e),u(!0)}}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",children:p.slice(0,8).map(e=>(0,Tt.jsx)(QH,{item:e},e.id))}),(0,Tt.jsx)("div",{className:"flex justify-center",children:(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",className:"rounded-full px-4 sm:px-6 gap-2 border-2 text-xs sm:text-sm",onClick:()=>n("/entertainment"),"data-testid":"entertainment-view-all",children:["View All ","all"===r?"Entertainment":null===(e=GH.find(e=>e.id===r))||void 0===e?void 0:e.label,(0,Tt.jsx)(Pn,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})]})})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)(Xt,{className:"w-3.5 h-3.5 text-emerald-500"}),"45 offline"]}),(0,Tt.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,Tt.jsx)(en.A,{className:"w-3.5 h-3.5 text-blue-500"}),"128h watched"]})]}),(0,Tt.jsx)("span",{children:"Last sync: 30 min ago"})]})]})]})}function eq(e){let{theme:n,onToggleTheme:r}=e;const[a,s]=(0,t.useState)(!1);return(0,Tt.jsxs)("div",{className:"min-h-screen",children:[(0,Tt.jsx)(XL,{theme:n,onToggleTheme:r,onDiagnosticsClick:()=>s(!0)}),(0,Tt.jsxs)("main",{className:"container mx-auto px-4 pb-8 pt-20 max-w-[1600px] space-y-2",children:[(0,Tt.jsx)("section",{className:"animate-fade-in relative z-20",children:(0,Tt.jsxs)("div",{className:"max-w-3xl mx-auto space-y-3",children:[(0,Tt.jsx)("div",{className:"flex justify-center relative z-20",children:(0,Tt.jsx)(LH.A,{})}),(0,Tt.jsx)(Sz,{})]})}),(0,Tt.jsx)("section",{className:"animate-fade-in pt-6",style:{animationDelay:"100ms"},children:(0,Tt.jsx)(zF,{})}),(0,Tt.jsx)("section",{className:"animate-fade-in pt-6",style:{animationDelay:"150ms"},children:(0,Tt.jsx)(RH,{})}),(0,Tt.jsxs)("section",{className:"animate-fade-in pt-6 space-y-4",style:{animationDelay:"200ms"},children:[(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)(JF,{}),(0,Tt.jsx)(rB,{}),(0,Tt.jsx)(fB,{})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,Tt.jsx)(IB,{}),(0,Tt.jsx)(AH,{})]})]}),(0,Tt.jsx)("section",{className:"animate-fade-in pt-6 space-y-4",style:{animationDelay:"300ms"},children:(0,Tt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,Tt.jsx)(BW,{}),(0,Tt.jsx)(lH,{})]})}),(0,Tt.jsxs)("section",{className:"animate-fade-in pt-10",style:{animationDelay:"350ms"},children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,Tt.jsx)("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent"}),(0,Tt.jsxs)("h2",{className:"text-lg font-bold text-muted-foreground flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-2xl",children:"\ud83c\udfac"}),"Entertainment"]}),(0,Tt.jsx)("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent"})]}),(0,Tt.jsx)(XH,{})]})]}),a&&(0,Tt.jsx)(RB,{onClose:()=>s(!1)})]})}const tq=(0,It.A)("folder-lock",[["rect",{width:"8",height:"5",x:"14",y:"17",rx:"1",key:"19aais"}],["path",{d:"M10 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v2.5",key:"1w6v7t"}],["path",{d:"M20 17v-2a2 2 0 1 0-4 0v2",key:"pwaxnr"}]]),nq=(0,It.A)("dice-5",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]]),rq=(0,It.A)("trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),aq=[{id:"overview",label:"Overview",icon:Ft},{id:"movies",label:"Movies & TV",icon:dn},{id:"games",label:"Games",icon:FH},{id:"music",label:"Music",icon:BH},{id:"photos",label:"Photos",icon:YR},{id:"vault",label:"Vault",icon:tq},{id:"share",label:"File Drop",icon:CH}],sq=[{id:"m1",title:"Apocalypse Dawn",year:"2024",rating:8.4,duration:"2h 18m",genre:"Action",gradient:"from-red-500 to-orange-500",downloaded:!0,progress:45},{id:"m2",title:"Silent Earth",year:"2023",rating:7.9,duration:"1h 52m",genre:"Sci-Fi",gradient:"from-blue-500 to-cyan-500",downloaded:!0,progress:0},{id:"m3",title:"Grid Down",year:"2023",rating:7.5,duration:"1h 48m",genre:"Drama",gradient:"from-amber-500 to-red-500",downloaded:!1,progress:100},{id:"m4",title:"Bunker Protocol",year:"2024",rating:8.7,duration:"2h 22m",genre:"Action",gradient:"from-slate-600 to-gray-800",downloaded:!0,progress:0},{id:"m5",title:"Last Signal",year:"2024",rating:8.1,duration:"1h 55m",genre:"Thriller",gradient:"from-violet-500 to-purple-500",downloaded:!0,progress:20},{id:"m6",title:"The Compound",year:"2023",rating:8.2,duration:"2h 05m",genre:"Drama",gradient:"from-emerald-500 to-teal-500",downloaded:!0,progress:0}],iq=[{id:"s1",title:"Survival Protocol",year:"2024",rating:8.9,seasons:2,episodes:16,genre:"Drama",gradient:"from-emerald-500 to-teal-500",progress:65,nextEp:"S2E5"},{id:"s2",title:"Off Grid",year:"2024",rating:7.8,seasons:1,episodes:8,genre:"Documentary",gradient:"from-amber-500 to-orange-500",progress:25,nextEp:"S1E3"},{id:"s3",title:"Dark Winter",year:"2023",rating:8.8,seasons:1,episodes:10,genre:"Horror",gradient:"from-slate-700 to-gray-900",progress:80,nextEp:"S1E9"},{id:"s4",title:"Mesh Network",year:"2024",rating:7.5,seasons:1,episodes:6,genre:"Tech",gradient:"from-cyan-500 to-blue-500",progress:0,nextEp:"S1E1"}],lq=[{id:"g1",title:"Tactical Ops",genre:"Strategy",players:"1-4",playTime:"12h",gradient:"from-red-500 to-orange-500",offline:!0,multiplayer:!0},{id:"g2",title:"Wilderness Survival",genre:"Simulation",players:"1",playTime:"45h",gradient:"from-green-500 to-emerald-500",offline:!0,multiplayer:!1},{id:"g3",title:"Chess Master",genre:"Board",players:"1-2",playTime:"8h",gradient:"from-amber-500 to-yellow-500",offline:!0,multiplayer:!0},{id:"g4",title:"Card Battles",genre:"Card",players:"2-4",playTime:"15h",gradient:"from-indigo-500 to-violet-500",offline:!0,multiplayer:!0},{id:"g5",title:"Trivia Challenge",genre:"Quiz",players:"2-8",playTime:"2h",gradient:"from-pink-500 to-rose-500",offline:!0,multiplayer:!0},{id:"g6",title:"Puzzle Quest",genre:"Puzzle",players:"1",playTime:"20h",gradient:"from-cyan-500 to-blue-500",offline:!0,multiplayer:!1}],oq=[{id:"a1",title:"Road Warriors",artist:"Dust Storm",tracks:12,gradient:"from-pink-500 to-rose-500"},{id:"a2",title:"Silent Frequencies",artist:"Radio Ghost",tracks:10,gradient:"from-cyan-500 to-blue-500"},{id:"a3",title:"Campfire Sessions",artist:"Acoustic Drift",tracks:8,gradient:"from-orange-500 to-amber-500"},{id:"a4",title:"Digital Decay",artist:"Neon Collapse",tracks:14,gradient:"from-purple-500 to-pink-500"}],cq=e=>{let{label:t="Planned",variant:n="default"}=e;return(0,Tt.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ".concat({default:"bg-muted/50 text-muted-foreground border-muted-foreground/20",mock:"bg-amber-500/20 text-amber-600 dark:text-amber-400 border-amber-500/30",planned:"bg-violet-500/20 text-violet-600 dark:text-violet-400 border-violet-500/30",notWired:"bg-slate-500/20 text-slate-600 dark:text-slate-400 border-slate-500/30"}[n]),children:[(0,Tt.jsx)(Rn.A,{className:"w-3 h-3"}),t]})},dq=e=>{let{isOpen:t,onClose:n}=e;if(!t)return null;const r="".concat(Kt.Ay.JELLYFIN_BASE).concat(Kt.Ay.JELLYFIN_WEB_PATH||"/web/");return(0,Tt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:n,children:(0,Tt.jsxs)("div",{className:"w-full max-w-lg bg-card border border-border rounded-2xl overflow-hidden shadow-2xl animate-fade-in",onClick:e=>e.stopPropagation(),children:[(0,Tt.jsx)("div",{className:"p-4 border-b border-border bg-gradient-to-r from-violet-500/20 to-pink-500/20",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center",children:(0,Tt.jsx)(dn,{className:"w-5 h-5 text-white"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-lg font-bold",children:"Movie Night Mode"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Share the big screen experience"})]})]}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",onClick:n,className:"h-8 w-8 p-0",children:(0,Tt.jsx)(Bt.A,{className:"w-5 h-5"})})]})}),(0,Tt.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Tt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:(0,Tt.jsx)("span",{className:"text-sm font-bold text-primary",children:"1"})}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-1 flex items-center gap-2",children:[(0,Tt.jsx)(hn.A,{className:"w-4 h-4 text-primary"}),"Connect to OMEGA Hotspot"]}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Have your guests connect their phones to the OMEGA WiFi network."}),(0,Tt.jsx)("div",{className:"glass rounded-lg p-3",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Network Name"}),(0,Tt.jsx)("p",{className:"font-mono font-bold",children:"OMEGA-Hotspot"})]}),(0,Tt.jsxs)("div",{className:"text-right",children:[(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Password"}),(0,Tt.jsx)("p",{className:"font-mono font-bold",children:"omega2024"})]})]})})]})]}),(0,Tt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:(0,Tt.jsx)("span",{className:"text-sm font-bold text-primary",children:"2"})}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-1 flex items-center gap-2",children:[(0,Tt.jsx)(gB,{className:"w-4 h-4 text-primary"}),"Scan to Open Jellyfin"]}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Guests can scan this QR code to open the movie selection screen."}),(0,Tt.jsx)("div",{className:"flex justify-center p-4 glass rounded-xl",children:(0,Tt.jsx)("div",{className:"w-32 h-32 bg-white rounded-lg flex items-center justify-center",children:(0,Tt.jsx)(gB,{className:"w-24 h-24 text-gray-800"})})}),(0,Tt.jsxs)("p",{className:"text-xs text-center text-muted-foreground mt-2",children:["Opens: ",r]})]})]}),(0,Tt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:(0,Tt.jsx)("span",{className:"text-sm font-bold text-primary",children:"3"})}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("h3",{className:"font-semibold mb-1 flex items-center gap-2",children:[(0,Tt.jsx)(Lt.A,{className:"w-4 h-4 text-primary"}),"Vote on What to Watch"]}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"Everyone can browse and vote for their favorite. Most votes wins!"})]})]}),(0,Tt.jsx)(cq,{label:"Mock Data - Not Wired",variant:"mock"})]}),(0,Tt.jsx)("div",{className:"p-4 border-t border-border bg-secondary/30",children:(0,Tt.jsxs)(gn.$,{className:"w-full gap-2",onClick:n,children:[(0,Tt.jsx)(gr.A,{className:"w-4 h-4"}),"Start Movie Night"]})})]})})},uq=e=>{let{item:t,size:n="normal"}=e;return(0,Tt.jsxs)("div",{className:"group cursor-pointer","data-testid":"movie-card-".concat(t.id),children:[(0,Tt.jsxs)("div",{className:"".concat("large"===n?"aspect-video":"aspect-[2/3]"," rounded-xl bg-gradient-to-br ").concat(t.gradient," relative overflow-hidden shadow-lg group-hover:shadow-xl transition-all group-hover:scale-[1.02]"),children:[(0,Tt.jsx)(dn,{className:"absolute inset-0 m-auto w-10 h-10 text-white/20"}),(0,Tt.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all flex items-center justify-center",children:(0,Tt.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity transform scale-90 group-hover:scale-100",children:(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-full bg-white/90 flex items-center justify-center shadow-xl",children:(0,Tt.jsx)(gr.A,{className:"w-5 h-5 text-gray-900 ml-0.5"})})})}),t.progress>0&&t.progress<100&&(0,Tt.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/30",children:(0,Tt.jsx)("div",{className:"h-full bg-white",style:{width:"".concat(t.progress,"%")}})}),t.downloaded&&(0,Tt.jsx)("div",{className:"absolute top-2 right-2 bg-white/90 dark:bg-black/70 rounded-full p-1.5 shadow-md",children:(0,Tt.jsx)(Xt,{className:"w-3 h-3 text-emerald-500"})})]}),(0,Tt.jsxs)("div",{className:"mt-2",children:[(0,Tt.jsx)("p",{className:"font-semibold text-sm truncate",children:t.title}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,Tt.jsx)("span",{children:t.year}),(0,Tt.jsx)("span",{children:t.duration||"".concat(t.seasons,"S")}),t.rating&&(0,Tt.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,Tt.jsx)(ZR,{className:"w-3 h-3 text-amber-400 fill-amber-400"}),(0,Tt.jsx)("span",{className:"text-amber-500 font-medium",children:t.rating})]})]})]})]})},mq=e=>{let{item:t}=e;return(0,Tt.jsxs)("div",{className:"group cursor-pointer","data-testid":"game-card-".concat(t.id),children:[(0,Tt.jsxs)("div",{className:"aspect-square rounded-xl bg-gradient-to-br ${item.gradient} relative overflow-hidden shadow-lg group-hover:shadow-xl transition-all group-hover:scale-[1.02]",children:[(0,Tt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(t.gradient)}),(0,Tt.jsx)(FH,{className:"absolute inset-0 m-auto w-12 h-12 text-white/30"}),t.multiplayer&&(0,Tt.jsxs)("div",{className:"absolute top-2 left-2 bg-white/90 dark:bg-black/70 rounded-full px-2 py-0.5 text-[10px] font-bold flex items-center gap-1",children:[(0,Tt.jsx)(Lt.A,{className:"w-3 h-3"}),t.players]}),t.offline&&(0,Tt.jsx)("div",{className:"absolute top-2 right-2 bg-emerald-500/90 rounded-full p-1.5 shadow-md",children:(0,Tt.jsx)(Xt,{className:"w-3 h-3 text-white"})}),(0,Tt.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all flex items-center justify-center",children:(0,Tt.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Tt.jsxs)(gn.$,{size:"sm",className:"gap-2",children:[(0,Tt.jsx)(gr.A,{className:"w-4 h-4"}),"Play"]})})})]}),(0,Tt.jsxs)("div",{className:"mt-2",children:[(0,Tt.jsx)("p",{className:"font-semibold text-sm truncate",children:t.title}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t.genre," \u2022 ",t.playTime]})]})]})},hq=e=>{let{onMovieNight:t}=e;return(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,Tt.jsx)(en.A,{className:"w-5 h-5 text-primary"}),"Continue Watching"]}),(0,Tt.jsxs)(gn.$,{variant:"ghost",size:"sm",className:"gap-1 text-xs",children:["See All ",(0,Tt.jsx)(Pn,{className:"w-4 h-4"})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[sq.filter(e=>e.progress>0&&e.progress<100).map(e=>(0,Tt.jsx)(uq,{item:e},e.id)),iq.filter(e=>e.progress>0&&e.progress<100).map(e=>(0,Tt.jsx)(uq,{item:e},e.id))]})]}),(0,Tt.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-violet-600 via-purple-600 to-pink-600 p-6 shadow-xl",children:[(0,Tt.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yIDItNCAyLTRzLTItMi00LTJjLTItMi00LTItNC0yczItMiAyLTRjMC0yLTItNC0yLTRzMi0yIDQtMmMyLTIgNC0yIDQtMnMtMiAyLTIgNGMwIDIgMiA0IDIgNHMtMiAyLTQgMmMtMiAyLTQgMi00IDJzMi0yIDItNHoiLz48L2c+PC9nPjwvc3ZnPg==')] opacity-30"}),(0,Tt.jsxs)("div",{className:"relative z-10 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:"Movie Night Mode"}),(0,Tt.jsx)("p",{className:"text-white/80 text-sm",children:"Share your screen with family. Everyone votes on what to watch!"})]}),(0,Tt.jsxs)(gn.$,{onClick:t,className:"bg-white text-purple-700 hover:bg-white/90 gap-2 shadow-lg",children:[(0,Tt.jsx)(gB,{className:"w-4 h-4"}),"Start Movie Night"]})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,Tt.jsx)(Ft,{className:"w-5 h-5 text-amber-500"}),"Newly Added"]}),(0,Tt.jsx)(cq,{label:"Mock Data",variant:"mock"})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:sq.slice(0,6).map(e=>(0,Tt.jsx)(uq,{item:e},e.id))})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{icon:dn,label:"Movies",count:24,color:"from-red-500 to-orange-500"},{icon:zH,label:"TV Shows",count:12,color:"from-violet-500 to-purple-500"},{icon:FH,label:"Games",count:8,color:"from-green-500 to-emerald-500"},{icon:BH,label:"Albums",count:18,color:"from-cyan-500 to-blue-500"}].map((e,t)=>(0,Tt.jsxs)("div",{className:"bg-gradient-to-br ".concat(e.color," rounded-xl p-4 text-white shadow-lg"),children:[(0,Tt.jsx)(e.icon,{className:"w-6 h-6 mb-2 opacity-80"}),(0,Tt.jsx)("p",{className:"text-2xl font-bold",children:e.count}),(0,Tt.jsx)("p",{className:"text-sm opacity-80",children:e.label})]},t))})]})},pq=()=>(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold",children:"All Movies"}),(0,Tt.jsx)(cq,{label:"Mock Data",variant:"mock"})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:sq.map(e=>(0,Tt.jsx)(uq,{item:e},e.id))})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"TV Shows"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:iq.map(e=>(0,Tt.jsx)(uq,{item:e,size:"large"},e.id))})]})]}),fq=()=>(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-6 space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center shadow-lg",children:(0,Tt.jsx)(FH,{className:"w-6 h-6 text-white"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-xl font-bold",children:"Games Hub"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"Offline arcade, tournaments, and party games"})]})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{icon:nq,label:"Arcade",desc:"Single player",color:"from-amber-500 to-orange-500"},{icon:rq,label:"Tournaments",desc:"Compete",color:"from-yellow-500 to-amber-500"},{icon:Lt.A,label:"Party Mode",desc:"2-8 players",color:"from-pink-500 to-rose-500"},{icon:qz,label:"Trivia",desc:"Team scoring",color:"from-violet-500 to-purple-500"}].map((e,t)=>(0,Tt.jsxs)("button",{className:"p-4 rounded-xl bg-gradient-to-br ".concat(e.color," text-white text-left hover:scale-[1.02] transition-transform shadow-lg"),children:[(0,Tt.jsx)(e.icon,{className:"w-6 h-6 mb-2"}),(0,Tt.jsx)("p",{className:"font-semibold",children:e.label}),(0,Tt.jsx)("p",{className:"text-xs opacity-80",children:e.desc})]},t))}),(0,Tt.jsx)(cq,{label:"Planned - Not Wired",variant:"planned"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Available Games"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:lq.map(e=>(0,Tt.jsx)(mq,{item:e},e.id))})]})]}),xq=()=>(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-6 space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-pink-500 to-rose-500 flex items-center justify-center shadow-lg",children:(0,Tt.jsx)(BH,{className:"w-8 h-8 text-white"})}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("h3",{className:"font-bold text-lg",children:"Now Playing"}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"Horizon Line - Dust Storm"}),(0,Tt.jsx)("div",{className:"mt-2 h-1.5 bg-secondary rounded-full overflow-hidden",children:(0,Tt.jsx)("div",{className:"h-full bg-gradient-to-r from-pink-500 to-rose-500 w-1/3"})})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",children:(0,Tt.jsx)(UH,{className:"w-5 h-5"})}),(0,Tt.jsx)(gn.$,{size:"lg",className:"w-14 h-14 rounded-full bg-gradient-to-r from-pink-500 to-rose-500",children:(0,Tt.jsx)(gr.A,{className:"w-6 h-6 text-white"})}),(0,Tt.jsx)(gn.$,{variant:"ghost",size:"sm",children:(0,Tt.jsx)(WH,{className:"w-5 h-5"})})]}),(0,Tt.jsx)(cq,{label:"Mock - Audio Not Wired",variant:"mock"})]}),(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsxs)("h3",{className:"font-bold flex items-center gap-2",children:[(0,Tt.jsx)(Ft,{className:"w-5 h-5 text-primary"}),"Beat Maker"]}),(0,Tt.jsx)(cq,{label:"Planned",variant:"planned"})]}),(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your own beats with the offline drum machine and sequencer."}),(0,Tt.jsx)("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:16}).map((e,t)=>(0,Tt.jsx)("div",{className:"aspect-square rounded-lg bg-secondary/50 hover:bg-primary/20 cursor-pointer transition-colors"},t))})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Albums"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:oq.map(e=>(0,Tt.jsxs)("div",{className:"group cursor-pointer",children:[(0,Tt.jsx)("div",{className:"aspect-square rounded-xl bg-gradient-to-br ".concat(e.gradient," relative overflow-hidden shadow-lg group-hover:shadow-xl transition-all group-hover:scale-[1.02]"),children:(0,Tt.jsx)(BH,{className:"absolute inset-0 m-auto w-12 h-12 text-white/30"})}),(0,Tt.jsxs)("div",{className:"mt-2",children:[(0,Tt.jsx)("p",{className:"font-semibold text-sm truncate",children:e.title}),(0,Tt.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.artist," \u2022 ",e.tracks," tracks"]})]})]},e.id))})]})]}),gq=()=>(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-6 text-center",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center mx-auto mb-4 shadow-lg",children:(0,Tt.jsx)(YR,{className:"w-8 h-8 text-white"})}),(0,Tt.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Photos Hub"}),(0,Tt.jsx)("p",{className:"text-muted-foreground mb-4",children:"Browse, share, and organize your offline photo library"}),(0,Tt.jsx)(cq,{label:"Planned - Coming Soon",variant:"planned"})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-6 gap-2",children:Array.from({length:12}).map((e,t)=>(0,Tt.jsx)("div",{className:"aspect-square rounded-lg bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-800"},t))})]}),vq=()=>(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-6 text-center max-w-md mx-auto",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-slate-600 to-slate-800 flex items-center justify-center mx-auto mb-4 shadow-lg",children:(0,Tt.jsx)(tq,{className:"w-8 h-8 text-white"})}),(0,Tt.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Personal Documents Vault"}),(0,Tt.jsx)("p",{className:"text-muted-foreground mb-4",children:"Secure storage for important documents with optional PIN lock and admin bypass."}),(0,Tt.jsxs)("div",{className:"space-y-3 text-left mb-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-secondary/50",children:[(0,Tt.jsx)(Nn,{className:"w-5 h-5 text-muted-foreground"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-sm font-medium",children:"PIN Protection"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Optional 4-digit PIN lock"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-secondary/50",children:[(0,Tt.jsx)(Jt,{className:"w-5 h-5 text-muted-foreground"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-sm font-medium",children:"Admin Bypass"}),(0,Tt.jsx)("p",{className:"text-xs text-muted-foreground",children:"Configurable emergency access"})]})]})]}),(0,Tt.jsx)(cq,{label:"Planned - Not Implemented",variant:"planned"})]}),bq=()=>(0,Tt.jsxs)("div",{className:"glass rounded-2xl p-6 text-center max-w-md mx-auto",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center mx-auto mb-4 shadow-lg",children:(0,Tt.jsx)(CH,{className:"w-8 h-8 text-white"})}),(0,Tt.jsx)("h2",{className:"text-xl font-bold mb-2",children:"File Drop / Share"}),(0,Tt.jsx)("p",{className:"text-muted-foreground mb-4",children:"Quick file sharing between devices on the local network."}),(0,Tt.jsx)("div",{className:"border-2 border-dashed border-muted-foreground/30 rounded-xl p-8 mb-4",children:(0,Tt.jsx)("p",{className:"text-sm text-muted-foreground",children:"Drop files here or click to select"})}),(0,Tt.jsx)(cq,{label:"Planned - Not Implemented",variant:"planned"})]});function yq(e){let{theme:n,onToggleTheme:r}=e;const a=be(),[s,i]=(0,t.useState)("overview"),[l,o]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1);return(0,Tt.jsxs)("div",{className:"min-h-screen bg-background","data-testid":"entertainment-page",children:[(0,Tt.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 glass border-b border-border",children:(0,Tt.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsxs)(gn.$,{variant:"ghost",size:"sm",onClick:()=>a("/"),className:"gap-2","data-testid":"back-to-dashboard",children:[(0,Tt.jsx)(rT,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:"Dashboard"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-pink-500 to-violet-500 flex items-center justify-center",children:(0,Tt.jsx)(Ft,{className:"w-4 h-4 text-white"})}),(0,Tt.jsx)("h1",{className:"text-lg font-bold",children:"Entertainment"})]}),(0,Tt.jsx)("div",{className:"flex-1"}),(0,Tt.jsxs)("div",{className:"relative w-64 hidden md:block",children:[(0,Tt.jsx)(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,Tt.jsx)(yn,{placeholder:"Search entertainment...",value:l,onChange:e=>o(e.target.value),className:"pl-10 h-9 bg-secondary/50 border-0 rounded-full text-sm"})]})]})})}),(0,Tt.jsx)("div",{className:"fixed top-[57px] left-0 right-0 z-40 glass border-b border-border",children:(0,Tt.jsx)("div",{className:"container mx-auto px-4",children:(0,Tt.jsx)("div",{className:"flex gap-1 overflow-x-auto py-2 scrollbar-thin",children:aq.map(e=>{const t=e.icon,n=s===e.id;return(0,Tt.jsxs)("button",{onClick:()=>i(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all flex-shrink-0 ".concat(n?"bg-primary text-primary-foreground shadow-lg":"text-muted-foreground hover:bg-secondary"),"data-testid":"nav-".concat(e.id),children:[(0,Tt.jsx)(t,{className:"w-4 h-4"}),e.label]},e.id)})})})}),(0,Tt.jsx)("main",{className:"container mx-auto px-4 pt-32 pb-8 max-w-[1600px]",children:(()=>{switch(s){case"overview":default:return(0,Tt.jsx)(hq,{onMovieNight:()=>d(!0)});case"movies":return(0,Tt.jsx)(pq,{});case"games":return(0,Tt.jsx)(fq,{});case"music":return(0,Tt.jsx)(xq,{});case"photos":return(0,Tt.jsx)(gq,{});case"vault":return(0,Tt.jsx)(vq,{});case"share":return(0,Tt.jsx)(bq,{})}})()}),(0,Tt.jsx)("div",{className:"fixed bottom-4 right-4 z-30",children:(0,Tt.jsxs)(gn.$,{variant:"outline",size:"sm",className:"gap-2 shadow-lg bg-background","data-testid":"new-user-setup",children:[(0,Tt.jsx)(HW,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:"New User Setup"})]})}),(0,Tt.jsx)(dq,{isOpen:c,onClose:()=>d(!1)})]})}var jq=__webpack_require__(3405);function wq(){const[e,n]=(0,t.useState)("dark");(0,t.useEffect)(()=>{const e=localStorage.getItem("omega-theme")||"dark";n(e),document.documentElement.classList.toggle("dark","dark"===e)},[]);const r=()=>{const t="dark"===e?"light":"dark";n(t),localStorage.setItem("omega-theme",t),document.documentElement.classList.toggle("dark","dark"===t)};return(0,Tt.jsx)(bt,{children:(0,Tt.jsx)(jq.AuthProvider,{children:(0,Tt.jsx)(Tr,{children:(0,Tt.jsx)(GL,{children:(0,Tt.jsx)(Sr.Sg,{children:(0,Tt.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,Tt.jsxs)(Be,{children:[(0,Tt.jsx)(ze,{path:"/",element:(0,Tt.jsx)(eq,{theme:e,onToggleTheme:r})}),(0,Tt.jsx)(ze,{path:"/entertainment",element:(0,Tt.jsx)(yq,{theme:e,onToggleTheme:r})}),(0,Tt.jsx)(ze,{path:"/*",element:(0,Tt.jsx)(eq,{theme:e,onToggleTheme:r})})]}),(0,Tt.jsx)(Dt,{})]})})})})})})}r.createRoot(document.getElementById("root")).render((0,Tt.jsx)(t.StrictMode,{children:(0,Tt.jsx)(wq,{})}))})()})();