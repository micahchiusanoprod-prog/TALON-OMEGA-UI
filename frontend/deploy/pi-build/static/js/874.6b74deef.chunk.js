"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[874],{1401(e,t,r){r.r(t),r.d(t,{default:()=>w});var s=r(5043),n=r(9419),o=r(2023),a=r(3986),c=r(7401),i=r(576),l=r(3391);var d=r(228),u=r.n(d);const m=["center","children"],f=(0,c.Lt)(function(e,t){let{center:r,children:s}=e,n=(0,a.A)(e,m);const o=new d.Circle(r,n);return(0,i.Q)(o,(0,l.W4)(t,{overlayContainer:o}))},function(e,t,r){t.center!==r.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==r.radius&&e.setRadius(t.radius)});var h=r(6036),p=(r(8814),r(579));const x="#22c55e",b="#f59e0b",g="#ef4444",v="#6b7280";function w(e){let{lat:t,lon:r,nodeName:a,nodeStatus:c,userStatus:i,accuracy:l,fixStatus:d}=e;const[m,w]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{const e=setTimeout(()=>w(!0),50);return()=>clearTimeout(e)},[]),!m)return(0,p.jsx)("div",{className:"h-40 glass flex items-center justify-center",children:(0,p.jsx)("p",{className:"text-xs text-muted-foreground",children:"Loading map..."})});const N=((e,t)=>"offline"===e?v:"need_help"===t?g:"okay"===t?b:x)(c,i),j=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r='\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 36" width="28" height="42">\n      <path d="M12 0C5.4 0 0 5.4 0 12c0 7.2 12 24 12 24s12-16.8 12-24c0-6.6-5.4-12-12-12z" fill="'.concat(e,'" stroke="#fff" stroke-width="2"/>\n      <circle cx="12" cy="12" r="4" fill="#fff"/>\n      ').concat(t?'<circle cx="12" cy="12" r="6" fill="none" stroke="#fff" stroke-width="1.5" opacity="0.6"><animate attributeName="r" values="6;9;6" dur="1s" repeatCount="indefinite"/><animate attributeName="opacity" values="0.6;0;0.6" dur="1s" repeatCount="indefinite"/></circle>':"","\n    </svg>\n  ");return u().divIcon({className:"custom-mini-map-marker",html:r,iconSize:[28,42],iconAnchor:[14,42],popupAnchor:[0,-42]})}(N,"need_help"===i),k=l?Math.round(3.28084*l):null;return(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsxs)(n.W,{center:[t,r],zoom:15,className:"h-40 w-full z-0",style:{background:"hsl(var(--muted))"},scrollWheelZoom:!1,dragging:!0,zoomControl:!1,attributionControl:!1,"data-testid":"node-mini-map-container",children:[(0,p.jsx)(o.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l&&(0,p.jsx)(f,{center:[t,r],radius:l,pathOptions:{color:N,fillColor:N,fillOpacity:.15,weight:1}}),(0,p.jsx)(h.p,{position:[t,r],icon:j})]}),(0,p.jsx)("div",{className:"absolute top-2 left-2 z-[1000] bg-background/90 backdrop-blur-sm px-2 py-1 rounded-lg shadow-md border border-border",children:(0,p.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,p.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:N}}),(0,p.jsx)("span",{className:"text-xs font-semibold",children:a})]})}),k&&(0,p.jsx)("div",{className:"absolute bottom-2 right-2 z-[1000] bg-background/90 backdrop-blur-sm px-2 py-1 rounded-lg shadow-md border border-border",children:(0,p.jsxs)("span",{className:"text-xs text-muted-foreground",children:["\xb1",k," ft accuracy"]})}),(0,p.jsx)("div",{className:"absolute top-2 right-2 z-[1000] px-2 py-1 rounded-lg shadow-md border ".concat("3D"===d?"bg-success/20 border-success/30 text-success":d?"bg-warning/20 border-warning/30 text-warning":"bg-destructive/20 border-destructive/30 text-destructive"),children:(0,p.jsxs)("span",{className:"text-xs font-bold",children:[d||"No"," Fix"]})})]})}}}]);
//# sourceMappingURL=874.6b74deef.chunk.js.map